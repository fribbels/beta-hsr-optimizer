var or=Object.defineProperty;var cr=(t,a,i)=>a in t?or(t,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[a]=i;var Rn=(t,a,i)=>cr(t,typeof a!="symbol"?a+"":a,i);import{s as n0,i as I,v as i0,t as Nl,a as Ai,P as z,j as n,F as g,T as s0,R as ji,b as sl,I as oi,c as Ze,d as xe,D as Ge,u as et,r as y,e as hi,B as w,f as es,g as ci,h as l0,E as Ul,k as Xa,l as pt,m as pe,n as rr,o as wa,p as dr,q as Oa,w as ll,x as X,y as Qe,S as K,z as ua,C as Ji,A as as,G as ur,H as Xl,M as Ie,J as mr,K as o0,L as br,N as c0,O as Et,Q as ri,U as Ya,V as Wn,W as Yl,X as Te,Y as ns,Z as r0,_ as Ln,$ as d0,a0 as u0,a1 as Kl,a2 as hr,a3 as un,a4 as pr,a5 as Sr,a6 as m0,a7 as ol,a8 as Rr,a9 as vl,aa as fr,ab as wl,ac as Gr,ad as Zr,ae as gr,af as Cr,ag as Oi,ah as Pi,ai as ki,aj as Tr,ak as b0,al as h0,am as p0,an as cl,ao as ai,ap as S0,aq as R0,ar as Os,as as Al,at as f0,au as rl,av as Dr,aw as Ir,ax as dl,ay as Vr,az as Wr,aA as Er,aB as xr,aC as di,aD as yr,aE as Lr,aF as Fr,aG as Mr,aH as Br,aI as Pr,aJ as kr,aK as Hr,aL as Nr,aM as Ur,aN as Xr,aO as Yr}from"./vendor-BIzc8ZQL.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function i(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(s){if(s.ep)return;s.ep=!0;const o=i(s);fetch(s.href,o)}})();const Kr={1001:{id:"1001",name:"March 7th",rarity:4,path:"Preservation",element:"Ice",max_sp:120,stats:{HP:1058.4,ATK:511.56,DEF:573.3,SPD:101,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1002:{id:"1002",name:"Dan Heng",rarity:4,path:"Hunt",element:"Wind",max_sp:100,stats:{HP:882,ATK:546.84,DEF:396.9,SPD:110,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1003:{id:"1003",name:"Himeko",rarity:5,path:"Erudition",element:"Fire",max_sp:120,stats:{HP:1047.816,ATK:756.756,DEF:436.59,SPD:96,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1004:{id:"1004",name:"Welt",rarity:5,path:"Nihility",element:"Imaginary",max_sp:120,stats:{HP:1125.432,ATK:620.928,DEF:509.355,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1005:{id:"1005",name:"Kafka",rarity:5,path:"Nihility",element:"Lightning",max_sp:120,stats:{HP:1086.624,ATK:679.14,DEF:485.1,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1006:{id:"1006",name:"Silver Wolf",rarity:5,path:"Nihility",element:"Quantum",max_sp:110,stats:{HP:1047.816,ATK:640.332,DEF:460.845,SPD:107,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1008:{id:"1008",name:"Arlan",rarity:4,path:"Destruction",element:"Lightning",max_sp:110,stats:{HP:1199.52,ATK:599.76,DEF:330.75,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1009:{id:"1009",name:"Asta",rarity:4,path:"Harmony",element:"Fire",max_sp:120,stats:{HP:1023.12,ATK:511.56,DEF:463.05,SPD:106,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1013:{id:"1013",name:"Herta",rarity:4,path:"Erudition",element:"Ice",max_sp:110,stats:{HP:952.56,ATK:582.12,DEF:396.9,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1101:{id:"1101",name:"Bronya",rarity:5,path:"Harmony",element:"Wind",max_sp:120,stats:{HP:1241.856,ATK:582.12,DEF:533.61,SPD:99,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1102:{id:"1102",name:"Seele",rarity:5,path:"Hunt",element:"Quantum",max_sp:120,stats:{HP:931.392,ATK:640.332,DEF:363.825,SPD:115,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1103:{id:"1103",name:"Serval",rarity:4,path:"Erudition",element:"Lightning",max_sp:100,stats:{HP:917.28,ATK:652.68,DEF:374.85,SPD:104,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1104:{id:"1104",name:"Gepard",rarity:5,path:"Preservation",element:"Ice",max_sp:100,stats:{HP:1397.088,ATK:543.312,DEF:654.885,SPD:92,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1105:{id:"1105",name:"Natasha",rarity:4,path:"Abundance",element:"Physical",max_sp:90,stats:{HP:1164.24,ATK:476.28,DEF:507.15,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1106:{id:"1106",name:"Pela",rarity:4,path:"Nihility",element:"Ice",max_sp:110,stats:{HP:987.84,ATK:546.84,DEF:463.05,SPD:105,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1107:{id:"1107",name:"Clara",rarity:5,path:"Destruction",element:"Physical",max_sp:110,stats:{HP:1241.856,ATK:737.352,DEF:485.1,SPD:90,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1108:{id:"1108",name:"Sampo",rarity:4,path:"Nihility",element:"Wind",max_sp:120,stats:{HP:1023.12,ATK:617.4,DEF:396.9,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1109:{id:"1109",name:"Hook",rarity:4,path:"Destruction",element:"Fire",max_sp:120,stats:{HP:1340.64,ATK:617.4,DEF:352.8,SPD:94,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1110:{id:"1110",name:"Lynx",rarity:4,path:"Abundance",element:"Quantum",max_sp:100,stats:{HP:1058.4,ATK:493.92,DEF:551.25,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1111:{id:"1111",name:"Luka",rarity:4,path:"Nihility",element:"Physical",max_sp:130,stats:{HP:917.28,ATK:582.12,DEF:485.1,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1112:{id:"1112",name:"Topaz & Numby",rarity:5,path:"Hunt",element:"Fire",max_sp:130,stats:{HP:931.392,ATK:620.928,DEF:412.335,SPD:110,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1201:{id:"1201",name:"Qingque",rarity:4,path:"Erudition",element:"Quantum",max_sp:140,stats:{HP:1023.12,ATK:652.68,DEF:441,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1202:{id:"1202",name:"Tingyun",rarity:4,path:"Harmony",element:"Lightning",max_sp:130,stats:{HP:846.72,ATK:529.2,DEF:396.9,SPD:112,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1203:{id:"1203",name:"Luocha",rarity:5,path:"Abundance",element:"Imaginary",max_sp:100,stats:{HP:1280.664,ATK:756.756,DEF:363.825,SPD:101,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1204:{id:"1204",name:"Jing Yuan",rarity:5,path:"Erudition",element:"Lightning",max_sp:130,stats:{HP:1164.24,ATK:698.544,DEF:485.1,SPD:99,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1205:{id:"1205",name:"Blade",rarity:5,path:"Destruction",element:"Wind",max_sp:130,stats:{HP:1358.28,ATK:543.312,DEF:485.1,SPD:97,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1206:{id:"1206",name:"Sushang",rarity:4,path:"Hunt",element:"Physical",max_sp:120,stats:{HP:917.28,ATK:564.48,DEF:418.95,SPD:107,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1207:{id:"1207",name:"Yukong",rarity:4,path:"Harmony",element:"Imaginary",max_sp:130,stats:{HP:917.28,ATK:599.76,DEF:374.85,SPD:107,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1208:{id:"1208",name:"Fu Xuan",rarity:5,path:"Preservation",element:"Quantum",max_sp:135,stats:{HP:1474.704,ATK:465.696,DEF:606.375,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1209:{id:"1209",name:"Yanqing",rarity:5,path:"Hunt",element:"Ice",max_sp:140,stats:{HP:892.584,ATK:679.14,DEF:412.335,SPD:109,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1210:{id:"1210",name:"Guinaifen",rarity:4,path:"Nihility",element:"Fire",max_sp:120,stats:{HP:882,ATK:582.12,DEF:441,SPD:106,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1211:{id:"1211",name:"Bailu",rarity:5,path:"Abundance",element:"Lightning",max_sp:100,stats:{HP:1319.472,ATK:562.716,DEF:485.1,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1212:{id:"1212",name:"Jingliu",rarity:5,path:"Destruction",element:"Ice",max_sp:140,stats:{HP:1435.896,ATK:679.14,DEF:485.1,SPD:96,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1213:{id:"1213",name:"Dan Heng • Imbibitor Lunae",rarity:5,path:"Destruction",element:"Imaginary",max_sp:140,stats:{HP:1241.856,ATK:698.544,DEF:363.825,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1214:{id:"1214",name:"Xueyi",rarity:4,path:"Destruction",element:"Quantum",max_sp:120,stats:{HP:1058.4,ATK:599.76,DEF:396.9,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1215:{id:"1215",name:"Hanya",rarity:4,path:"Harmony",element:"Physical",max_sp:140,stats:{HP:917.28,ATK:564.48,DEF:352.8,SPD:110,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1217:{id:"1217",name:"Huohuo",rarity:5,path:"Abundance",element:"Wind",max_sp:140,stats:{HP:1358.28,ATK:601.524,DEF:509.355,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1218:{id:"1218",name:"Jiaoqiu",rarity:5,path:"Nihility",element:"Fire",max_sp:100,stats:{HP:1358.28,ATK:601.524,DEF:509.355,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1220:{id:"1220",name:"Feixiao",rarity:5,path:"Hunt",element:"Wind",max_sp:12,stats:{HP:1047.816,ATK:601.524,DEF:388.08,SPD:112,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1221:{id:"1221",name:"Yunli",rarity:5,path:"Destruction",element:"Physical",max_sp:240,stats:{HP:1358.28,ATK:679.14,DEF:460.845,SPD:94,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1222:{id:"1222",name:"Lingsha",rarity:5,path:"Abundance",element:"Fire",max_sp:110,stats:{HP:1358.28,ATK:679.14,DEF:436.59,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1223:{id:"1223",name:"Moze",rarity:4,path:"Hunt",element:"Lightning",max_sp:120,stats:{HP:811.44,ATK:599.76,DEF:352.8,SPD:111,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1224:{id:"1224",name:"March 7th",rarity:4,path:"Hunt",element:"Imaginary",max_sp:110,stats:{HP:1058.4,ATK:564.48,DEF:441,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1301:{id:"1301",name:"Gallagher",rarity:4,path:"Abundance",element:"Fire",max_sp:110,stats:{HP:1305.36,ATK:529.2,DEF:441,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1302:{id:"1302",name:"Argenti",rarity:5,path:"Erudition",element:"Physical",max_sp:180,stats:{HP:1047.816,ATK:737.352,DEF:363.825,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1303:{id:"1303",name:"Ruan Mei",rarity:5,path:"Harmony",element:"Ice",max_sp:130,stats:{HP:1086.624,ATK:659.736,DEF:485.1,SPD:104,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1304:{id:"1304",name:"Aventurine",rarity:5,path:"Preservation",element:"Imaginary",max_sp:110,stats:{HP:1203.048,ATK:446.292,DEF:654.885,SPD:106,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1305:{id:"1305",name:"Dr. Ratio",rarity:5,path:"Hunt",element:"Imaginary",max_sp:140,stats:{HP:1047.816,ATK:776.16,DEF:460.845,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1306:{id:"1306",name:"Sparkle",rarity:5,path:"Harmony",element:"Quantum",max_sp:110,stats:{HP:1397.088,ATK:523.908,DEF:485.1,SPD:101,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1307:{id:"1307",name:"Black Swan",rarity:5,path:"Nihility",element:"Wind",max_sp:120,stats:{HP:1086.624,ATK:659.736,DEF:485.1,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1308:{id:"1308",name:"Acheron",rarity:5,path:"Nihility",element:"Lightning",max_sp:9,stats:{HP:1125.432,ATK:698.544,DEF:436.59,SPD:101,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1309:{id:"1309",name:"Robin",rarity:5,path:"Harmony",element:"Physical",max_sp:160,stats:{HP:1280.664,ATK:640.332,DEF:485.1,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1310:{id:"1310",name:"Firefly",rarity:5,path:"Destruction",element:"Fire",max_sp:240,stats:{HP:814.968,ATK:523.908,DEF:776.16,SPD:104,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1312:{id:"1312",name:"Misha",rarity:4,path:"Destruction",element:"Ice",max_sp:100,stats:{HP:1270.08,ATK:599.76,DEF:396.9,SPD:96,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1314:{id:"1314",name:"Jade",rarity:5,path:"Erudition",element:"Quantum",max_sp:140,stats:{HP:1086.624,ATK:659.736,DEF:509.355,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1315:{id:"1315",name:"Boothill",rarity:5,path:"Hunt",element:"Physical",max_sp:115,stats:{HP:1203.048,ATK:620.928,DEF:436.59,SPD:107,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1317:{id:"1317",name:"Rappa",rarity:5,path:"Erudition",element:"Imaginary",max_sp:140,stats:{HP:1086.624,ATK:717.948,DEF:460.845,SPD:96,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!0},8001:{id:"8001",name:"Trailblazer",rarity:5,path:"Destruction",element:"Physical",max_sp:120,stats:{HP:1203.048,ATK:620.928,DEF:460.845,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8002:{id:"8002",name:"Trailblazer",rarity:5,path:"Destruction",element:"Physical",max_sp:120,stats:{HP:1203.048,ATK:620.928,DEF:460.845,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8003:{id:"8003",name:"Trailblazer",rarity:5,path:"Preservation",element:"Fire",max_sp:120,stats:{HP:1241.856,ATK:601.524,DEF:606.375,SPD:95,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8004:{id:"8004",name:"Trailblazer",rarity:5,path:"Preservation",element:"Fire",max_sp:120,stats:{HP:1241.856,ATK:601.524,DEF:606.375,SPD:95,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8005:{id:"8005",name:"Trailblazer",rarity:5,path:"Harmony",element:"Imaginary",max_sp:140,stats:{HP:1086.624,ATK:446.292,DEF:679.14,SPD:105,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8006:{id:"8006",name:"Trailblazer",rarity:5,path:"Harmony",element:"Imaginary",max_sp:140,stats:{HP:1086.624,ATK:446.292,DEF:679.14,SPD:105,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1}},vr={2e4:{id:"20000",name:"Arrows",rarity:3,path:"Hunt",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20001:{id:"20001",name:"Cornucopia",rarity:3,path:"Abundance",stats:{HP:952.56,ATK:264.6,DEF:264.6},unreleased:!1},20002:{id:"20002",name:"Collapsing Sky",rarity:3,path:"Destruction",stats:{HP:846.72,ATK:370.44,DEF:198.45},unreleased:!1},20003:{id:"20003",name:"Amber",rarity:3,path:"Preservation",stats:{HP:846.72,ATK:264.6,DEF:330.75},unreleased:!1},20004:{id:"20004",name:"Void",rarity:3,path:"Nihility",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20005:{id:"20005",name:"Chorus",rarity:3,path:"Harmony",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20006:{id:"20006",name:"Data Bank",rarity:3,path:"Erudition",stats:{HP:740.88,ATK:370.44,DEF:264.6},unreleased:!1},20007:{id:"20007",name:"Darting Arrow",rarity:3,path:"Hunt",stats:{HP:740.88,ATK:370.44,DEF:264.6},unreleased:!1},20008:{id:"20008",name:"Fine Fruit",rarity:3,path:"Abundance",stats:{HP:952.56,ATK:317.52,DEF:198.45},unreleased:!1},20009:{id:"20009",name:"Shattered Home",rarity:3,path:"Destruction",stats:{HP:846.72,ATK:370.44,DEF:198.45},unreleased:!1},20010:{id:"20010",name:"Defense",rarity:3,path:"Preservation",stats:{HP:952.56,ATK:264.6,DEF:264.6},unreleased:!1},20011:{id:"20011",name:"Loop",rarity:3,path:"Nihility",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20012:{id:"20012",name:"Meshing Cogs",rarity:3,path:"Harmony",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20013:{id:"20013",name:"Passkey",rarity:3,path:"Erudition",stats:{HP:740.88,ATK:370.44,DEF:264.6},unreleased:!1},20014:{id:"20014",name:"Adversarial",rarity:3,path:"Hunt",stats:{HP:740.88,ATK:370.44,DEF:264.6},unreleased:!1},20015:{id:"20015",name:"Multiplication",rarity:3,path:"Abundance",stats:{HP:952.56,ATK:317.52,DEF:198.45},unreleased:!1},20016:{id:"20016",name:"Mutual Demise",rarity:3,path:"Destruction",stats:{HP:846.72,ATK:370.44,DEF:198.45},unreleased:!1},20017:{id:"20017",name:"Pioneering",rarity:3,path:"Preservation",stats:{HP:952.56,ATK:264.6,DEF:264.6},unreleased:!1},20018:{id:"20018",name:"Hidden Shadow",rarity:3,path:"Nihility",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20019:{id:"20019",name:"Mediation",rarity:3,path:"Harmony",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20020:{id:"20020",name:"Sagacity",rarity:3,path:"Erudition",stats:{HP:740.88,ATK:370.44,DEF:264.6},unreleased:!1},21e3:{id:"21000",name:"Post-Op Conversation",rarity:4,path:"Abundance",stats:{HP:1058.4,ATK:423.36,DEF:330.75},unreleased:!1},21001:{id:"21001",name:"Good Night and Sleep Well",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21002:{id:"21002",name:"Day One of My New Life",rarity:4,path:"Preservation",stats:{HP:952.56,ATK:370.44,DEF:463.05},unreleased:!1},21003:{id:"21003",name:"Only Silence Remains",rarity:4,path:"Hunt",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21004:{id:"21004",name:"Memories of the Past",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21005:{id:"21005",name:"The Moles Welcome You",rarity:4,path:"Destruction",stats:{HP:1058.4,ATK:476.28,DEF:264.6},unreleased:!1},21006:{id:"21006",name:"The Birth of the Self",rarity:4,path:"Erudition",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21007:{id:"21007",name:"Shared Feeling",rarity:4,path:"Abundance",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21008:{id:"21008",name:"Eyes of the Prey",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21009:{id:"21009",name:"Landau's Choice",rarity:4,path:"Preservation",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21010:{id:"21010",name:"Swordplay",rarity:4,path:"Hunt",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21011:{id:"21011",name:"Planetary Rendezvous",rarity:4,path:"Harmony",stats:{HP:1058.4,ATK:423.36,DEF:330.75},unreleased:!1},21012:{id:"21012",name:"A Secret Vow",rarity:4,path:"Destruction",stats:{HP:1058.4,ATK:476.28,DEF:264.6},unreleased:!1},21013:{id:"21013",name:"Make the World Clamor",rarity:4,path:"Erudition",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21014:{id:"21014",name:"Perfect Timing",rarity:4,path:"Abundance",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21015:{id:"21015",name:"Resolution Shines As Pearls of Sweat",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21016:{id:"21016",name:"Trend of the Universal Market",rarity:4,path:"Preservation",stats:{HP:1058.4,ATK:370.44,DEF:396.9},unreleased:!1},21017:{id:"21017",name:"Subscribe for More!",rarity:4,path:"Hunt",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21018:{id:"21018",name:"Dance! Dance! Dance!",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21019:{id:"21019",name:"Under the Blue Sky",rarity:4,path:"Destruction",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21020:{id:"21020",name:"Geniuses' Repose",rarity:4,path:"Erudition",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21021:{id:"21021",name:"Quid Pro Quo",rarity:4,path:"Abundance",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21022:{id:"21022",name:"Fermata",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21023:{id:"21023",name:"We Are Wildfire",rarity:4,path:"Preservation",stats:{HP:740.88,ATK:476.28,DEF:463.05},unreleased:!1},21024:{id:"21024",name:"River Flows in Spring",rarity:4,path:"Hunt",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21025:{id:"21025",name:"Past and Future",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21026:{id:"21026",name:"Woof! Walk Time!",rarity:4,path:"Destruction",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21027:{id:"21027",name:"The Seriousness of Breakfast",rarity:4,path:"Erudition",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21028:{id:"21028",name:"Warmth Shortens Cold Nights",rarity:4,path:"Abundance",stats:{HP:1058.4,ATK:370.44,DEF:396.9},unreleased:!1},21029:{id:"21029",name:"We Will Meet Again",rarity:4,path:"Nihility",stats:{HP:846.72,ATK:529.2,DEF:330.75},unreleased:!1},21030:{id:"21030",name:"This Is Me!",rarity:4,path:"Preservation",stats:{HP:846.72,ATK:370.44,DEF:529.2},unreleased:!1},21031:{id:"21031",name:"Return to Darkness",rarity:4,path:"Hunt",stats:{HP:846.72,ATK:529.2,DEF:330.75},unreleased:!1},21032:{id:"21032",name:"Carve the Moon, Weave the Clouds",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21033:{id:"21033",name:"Nowhere to Run",rarity:4,path:"Destruction",stats:{HP:952.56,ATK:529.2,DEF:264.6},unreleased:!1},21034:{id:"21034",name:"Today Is Another Peaceful Day",rarity:4,path:"Erudition",stats:{HP:846.72,ATK:529.2,DEF:330.75},unreleased:!1},21035:{id:"21035",name:"What Is Real?",rarity:4,path:"Abundance",stats:{HP:1058.4,ATK:423.36,DEF:330.75},unreleased:!1},21036:{id:"21036",name:"Dreamville Adventure",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21037:{id:"21037",name:"Final Victor",rarity:4,path:"Hunt",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21038:{id:"21038",name:"Flames Afar",rarity:4,path:"Destruction",stats:{HP:1058.4,ATK:476.28,DEF:264.6},unreleased:!1},21039:{id:"21039",name:"Destiny's Threads Forewoven",rarity:4,path:"Preservation",stats:{HP:952.56,ATK:370.44,DEF:463.05},unreleased:!1},21040:{id:"21040",name:"The Day The Cosmos Fell",rarity:4,path:"Erudition",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21041:{id:"21041",name:"It's Showtime",rarity:4,path:"Nihility",stats:{HP:1058.4,ATK:476.28,DEF:264.6},unreleased:!1},21042:{id:"21042",name:"Indelible Promise",rarity:4,path:"Destruction",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21043:{id:"21043",name:"Concert for Two",rarity:4,path:"Preservation",stats:{HP:952.56,ATK:370.44,DEF:463.05},unreleased:!1},21044:{id:"21044",name:"Boundless Choreo",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21045:{id:"21045",name:"After the Charmony Fall",rarity:4,path:"Erudition",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21046:{id:"21046",name:"Poised to Bloom",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21047:{id:"21047",name:"Shadowed by Night",rarity:4,path:"Hunt",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21048:{id:"21048",name:"Dream's Montage",rarity:4,path:"Abundance",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!0},22e3:{id:"22000",name:"Before the Tutorial Mission Starts",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},22001:{id:"22001",name:"Hey, Over Here",rarity:4,path:"Abundance",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},22002:{id:"22002",name:"For Tomorrow's Journey",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},22003:{id:"22003",name:"Ninja Record: Sound Hunt",rarity:4,path:"Destruction",stats:{HP:1058.4,ATK:476.28,DEF:264.6},unreleased:!0},23e3:{id:"23000",name:"Night on the Milky Way",rarity:5,path:"Erudition",stats:{HP:1164.24,ATK:582.12,DEF:396.9},unreleased:!1},23001:{id:"23001",name:"In the Night",rarity:5,path:"Hunt",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23002:{id:"23002",name:"Something Irreplaceable",rarity:5,path:"Destruction",stats:{HP:1164.24,ATK:582.12,DEF:396.9},unreleased:!1},23003:{id:"23003",name:"But the Battle Isn't Over",rarity:5,path:"Harmony",stats:{HP:1164.24,ATK:529.2,DEF:463.05},unreleased:!1},23004:{id:"23004",name:"In the Name of the World",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23005:{id:"23005",name:"Moment of Victory",rarity:5,path:"Preservation",stats:{HP:1058.4,ATK:476.28,DEF:595.35},unreleased:!1},23006:{id:"23006",name:"Patience Is All You Need",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23007:{id:"23007",name:"Incessant Rain",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23008:{id:"23008",name:"Echoes of the Coffin",rarity:5,path:"Abundance",stats:{HP:1164.24,ATK:582.12,DEF:396.9},unreleased:!1},23009:{id:"23009",name:"The Unreachable Side",rarity:5,path:"Destruction",stats:{HP:1270.08,ATK:582.12,DEF:330.75},unreleased:!1},23010:{id:"23010",name:"Before Dawn",rarity:5,path:"Erudition",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23011:{id:"23011",name:"She Already Shut Her Eyes",rarity:5,path:"Preservation",stats:{HP:1270.08,ATK:423.36,DEF:529.2},unreleased:!1},23012:{id:"23012",name:"Sleep Like the Dead",rarity:5,path:"Hunt",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23013:{id:"23013",name:"Time Waits for No One",rarity:5,path:"Abundance",stats:{HP:1270.08,ATK:476.28,DEF:463.05},unreleased:!1},23014:{id:"23014",name:"I Shall Be My Own Sword",rarity:5,path:"Destruction",stats:{HP:1164.24,ATK:582.12,DEF:396.9},unreleased:!1},23015:{id:"23015",name:"Brighter Than the Sun",rarity:5,path:"Destruction",stats:{HP:1058.4,ATK:635.04,DEF:396.9},unreleased:!1},23016:{id:"23016",name:"Worrisome, Blissful",rarity:5,path:"Hunt",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23017:{id:"23017",name:"Night of Fright",rarity:5,path:"Abundance",stats:{HP:1164.24,ATK:476.28,DEF:529.2},unreleased:!1},23018:{id:"23018",name:"An Instant Before A Gaze",rarity:5,path:"Erudition",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23019:{id:"23019",name:"Past Self in Mirror",rarity:5,path:"Harmony",stats:{HP:1058.4,ATK:529.2,DEF:529.2},unreleased:!1},23020:{id:"23020",name:"Baptism of Pure Thought",rarity:5,path:"Hunt",stats:{HP:952.56,ATK:582.12,DEF:529.2},unreleased:!1},23021:{id:"23021",name:"Earthly Escapade",rarity:5,path:"Harmony",stats:{HP:1164.24,ATK:529.2,DEF:463.05},unreleased:!1},23022:{id:"23022",name:"Reforged Remembrance",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23023:{id:"23023",name:"Inherently Unjust Destiny",rarity:5,path:"Preservation",stats:{HP:1058.4,ATK:423.36,DEF:661.5},unreleased:!1},23024:{id:"23024",name:"Along the Passing Shore",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:635.04,DEF:396.9},unreleased:!1},23025:{id:"23025",name:"Whereabouts Should Dreams Rest",rarity:5,path:"Destruction",stats:{HP:1164.24,ATK:476.28,DEF:529.2},unreleased:!1},23026:{id:"23026",name:"Flowing Nightglow",rarity:5,path:"Harmony",stats:{HP:952.56,ATK:635.04,DEF:463.05},unreleased:!1},23027:{id:"23027",name:"Sailing Towards a Second Life",rarity:5,path:"Hunt",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23028:{id:"23028",name:"Yet Hope Is Priceless",rarity:5,path:"Erudition",stats:{HP:952.56,ATK:582.12,DEF:529.2},unreleased:!1},23029:{id:"23029",name:"Those Many Springs",rarity:5,path:"Nihility",stats:{HP:952.56,ATK:582.12,DEF:529.2},unreleased:!1},23030:{id:"23030",name:"Dance at Sunset",rarity:5,path:"Destruction",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23031:{id:"23031",name:"I Venture Forth to Hunt",rarity:5,path:"Hunt",stats:{HP:952.56,ATK:635.04,DEF:463.05},unreleased:!1},23032:{id:"23032",name:"Scent Alone Stays True",rarity:5,path:"Abundance",stats:{HP:1058.4,ATK:529.2,DEF:529.2},unreleased:!1},23033:{id:"23033",name:"Ninjutsu Inscription: Dazzling Evilbreaker",rarity:5,path:"Erudition",stats:{HP:952.56,ATK:582.12,DEF:529.2},unreleased:!0},24e3:{id:"24000",name:"On the Fall of an Aeon",rarity:5,path:"Destruction",stats:{HP:1058.4,ATK:529.2,DEF:396.9},unreleased:!1},24001:{id:"24001",name:"Cruising in the Stellar Sea",rarity:5,path:"Hunt",stats:{HP:952.56,ATK:529.2,DEF:463.05},unreleased:!1},24002:{id:"24002",name:"Texture of Memories",rarity:5,path:"Preservation",stats:{HP:1058.4,ATK:423.36,DEF:529.2},unreleased:!1},24003:{id:"24003",name:"Solitary Healing",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:529.2,DEF:396.9},unreleased:!1},24004:{id:"24004",name:"Eternal Calculus",rarity:5,path:"Erudition",stats:{HP:1058.4,ATK:529.2,DEF:396.9},unreleased:!1}},wr=[{id:"318",name:"The Wondrous BananAmusement Park",skills:"Increases the wearer's CRIT DMG by <b>16.0%</b>. When a target summoned by the wearer is on the field, CRIT DMG additionally increases by <b>32.0%</b>."},{id:"317",name:"Lushaka, the Sunken Seas",skills:"Increases the wearer's Energy Regeneration Rate by <b>5.0%</b>. If the wearer is not the first character in the team lineup, then increases the ATK of the first character in the team lineup by <b>12.0%</b>."},{id:"316",name:"Forge of the Kalpagni Lantern",skills:"Increases the wearer's SPD by <b>6.0%</b>. When the wearer hits an enemy target that has Fire Weakness, the wearer's Break Effect increases by <b>40.0%</b>, lasting for <b>1.0</b> turn(s)."},{id:"315",name:"Duran, Dynasty of Running Wolves",skills:"When an ally uses a follow-up attack, the wearer gains 1 stack of Merit, stacking up to <b>5.0</b> time(s). Each stack of Merit increases the DMG dealt by the wearer's follow-up attacks by <b>5.0%</b>. When there are <b>5.0</b> stacks, additionally increases the wearer's CRIT DMG by <b>25.0%</b>."},{id:"314",name:"Izumo Gensei and Takama Divine Realm",skills:"Increases the wearer's ATK by <b>12.0%</b>. When entering battle, if at least one other ally follows the same Path as the wearer, then the wearer's CRIT Rate increases by <b>12.0%</b>."},{id:"313",name:"Sigonia, the Unclaimed Desolation",skills:"Increases the wearer's CRIT Rate by <b>4.0%</b>. When an enemy target gets defeated, the wearer's CRIT DMG increases by <b>4.0%</b>, stacking up to <b>10.0</b> time(s)."},{id:"312",name:"Penacony, Land of the Dreams",skills:"Increases wearer's Energy Regeneration Rate by <b>5.0%</b>. Increases DMG by <b>10.0%</b> for all other allies that are of the same Type as the wearer."},{id:"311",name:"Firmament Frontline: Glamoth",skills:"Increases the wearer's ATK by <b>12.0%</b>. When the wearer's SPD is equal to or higher than <b>135.0</b>/<b>160.0</b>, the wearer deals <b>12.0%</b>/<b>18.0%</b> more DMG."},{id:"310",name:"Broken Keel",skills:"Increases the wearer's Effect RES by <b>10.0%</b>. When the wearer's Effect RES is at <b>30.0%</b> or higher, all allies' CRIT DMG increases by <b>10.0%</b>."},{id:"309",name:"Rutilant Arena",skills:"Increases the wearer's CRIT Rate by <b>8.0%</b>. When the wearer's current CRIT Rate reaches <b>70.0%</b> or higher, DMG dealt by Basic ATK and Skill increases by <b>20.0%</b>."},{id:"308",name:"Sprightly Vonwacq",skills:"Increases the wearer's Energy Regeneration Rate by <b>5.0%</b>. When the wearer's SPD reaches <b>120.0</b> or higher, the wearer's action is Advanced Forward by <b>40.0%</b> immediately upon entering battle."},{id:"307",name:"Talia: Kingdom of Banditry",skills:"Increases the wearer's Break Effect by <b>16.0%</b>. When the wearer's SPD reaches <b>145.0</b> or higher, the wearer's Break Effect increases by an extra <b>20.0%</b>."},{id:"306",name:"Inert Salsotto",skills:"Increases the wearer's CRIT Rate by <b>8.0%</b>. When the wearer's current CRIT Rate reaches <b>50.0%</b> or higher, the DMG dealt by the wearer's Ultimate and follow-up attack increases by <b>15.0%</b>."},{id:"305",name:"Celestial Differentiator",skills:"Increases the wearer's CRIT DMG by <b>16.0%</b>. When the wearer's current CRIT DMG reaches <b>120.0%</b> or higher, after entering battle, the wearer's CRIT Rate increases by <b>60.0%</b> until the end of their first attack."},{id:"304",name:"Belobog of the Architects",skills:"Increases the wearer's DEF by <b>15.0%</b>. When the wearer's Effect Hit Rate is <b>50.0%</b> or higher, the wearer gains an extra <b>15.0%</b> DEF."},{id:"303",name:"Pan-Cosmic Commercial Enterprise",skills:"Increases the wearer's Effect Hit Rate by <b>10.0%</b>. Meanwhile, the wearer's ATK increases by an amount that is equal to <b>25.0%</b> of the current Effect Hit Rate, up to a maximum of <b>25.0%</b>."},{id:"302",name:"Fleet of the Ageless",skills:"Increases the wearer's Max HP by <b>12.0%</b>. When the wearer's SPD reaches <b>120.0</b> or higher, all allies' ATK increases by <b>8.0%</b>."},{id:"301",name:"Space Sealing Station",skills:"Increases the wearer's ATK by <b>12.0%</b>. When the wearer's SPD reaches <b>120.0</b> or higher, the wearer's ATK increases by an extra <b>12.0%</b>."},{id:"122",name:"Scholar Lost in Erudition",skills:"Increases CRIT Rate by <b>8.0%</b>.,Increases DMG dealt by Ultimate and Skill by <b>20.0%</b>. After using Ultimate, additionally increases the DMG dealt by the next Skill by <b>25.0%</b>."},{id:"121",name:"Sacerdos' Relived Ordeal",skills:"Increases SPD by <b>6.0%</b>.,When using Skill or Ultimate on one ally target, increases the ability-using target's CRIT DMG by <b>18.0%</b>, lasting for <b>2.0</b> turn(s). This effect can stack up to <b>2.0</b> time(s)."},{id:"120",name:"The Wind-Soaring Valorous",skills:"Increases ATK by <b>12.0%</b>.,Increases the wearer's CRIT Rate by <b>6.0%</b>. After the wearer uses a follow-up attack, increases DMG dealt by Ultimate by <b>36.0%</b>, lasting for <b>1.0</b> turn(s)."},{id:"119",name:"Iron Cavalry Against the Scourge",skills:"Increases Break Effect by <b>16.0%</b>.,If the wearer's Break Effect is <b>150.0%</b> or higher, the Break DMG dealt to the enemy target ignores <b>10.0%</b> of their DEF. If the wearer's Break Effect is <b>250.0%</b> or higher, the Super Break DMG dealt to the enemy target additionally ignores <b>15.0%</b> of their DEF."},{id:"118",name:"Watchmaker, Master of Dream Machinations",skills:"Increases Break Effect by <b>16.0%</b>.,When the wearer uses their Ultimate on an ally, all allies' Break Effect increases by <b>30.0%</b> for <b>2.0</b> turn(s). This effect cannot be stacked."},{id:"117",name:"Pioneer Diver of Dead Waters",skills:"Increases DMG dealt to enemies with debuffs by <b>12.0%</b>.,Increases CRIT Rate by <b>4.0%</b>. The wearer deals <b>8.0%</b>/<b>12.0%</b> increased CRIT DMG to enemies with at least <b>2.0</b>/<b>3.0</b> debuffs. After the wearer inflicts a debuff on enemy targets, the aforementioned effects increase by <b>100%</b>, lasting for <b>1.0</b> turn(s)."},{id:"116",name:"Prisoner in Deep Confinement",skills:"Increases ATK by <b>12.0%</b>.,For every DoT the enemy target is afflicted with, the wearer will ignore <b>6.0%</b> of its DEF when dealing DMG to it. This effect is valid for a max of <b>3.0</b> DoTs."},{id:"115",name:"The Ashblazing Grand Duke",skills:"Increases the DMG dealt by follow-up attack by <b>20.0%</b>.,When the wearer uses a follow-up attack, increases the wearer's ATK by <b>6.0%</b> for every time the follow-up attack deals DMG. This effect can stack up to <b>8.0</b> time(s) and lasts for <b>3.0</b> turn(s). This effect is removed the next time the wearer uses a follow-up attack."},{id:"114",name:"Messenger Traversing Hackerspace",skills:"Increases SPD by <b>6.0%</b>.,When the wearer uses their Ultimate on an ally, SPD for all allies increases by <b>12.0%</b> for <b>1.0</b> turn(s). This effect cannot be stacked."},{id:"113",name:"Longevous Disciple",skills:"Increases Max HP by <b>12.0%</b>.,When the wearer is hit or has their HP consumed by an ally or themselves, their CRIT Rate increases by <b>8.0%</b> for <b>2.0</b> turn(s) and up to <b>2.0</b> stacks."},{id:"112",name:"Wastelander of Banditry Desert",skills:"Increases Imaginary DMG by <b>10.0%</b>.,When attacking debuffed enemies, the wearer's CRIT Rate increases by <b>10.0%</b>, and their CRIT DMG increases by <b>20.0%</b> against Imprisoned enemies."},{id:"111",name:"Thief of Shooting Meteor",skills:"Increases Break Effect by <b>16.0%</b>.,Increases the wearer's Break Effect by <b>16.0%</b>. After the wearer inflicts Weakness Break on an enemy, regenerates <b>3.0</b> Energy."},{id:"110",name:"Eagle of Twilight Line",skills:"Increases Wind DMG by <b>10.0%</b>.,After the wearer uses their Ultimate, their action is Advanced Forward by <b>25.0%</b>."},{id:"109",name:"Band of Sizzling Thunder",skills:"Increases Lightning DMG by <b>10.0%</b>.,When the wearer uses their Skill, increases the wearer's ATK by <b>20.0%</b> for <b>1.0</b> turn(s)."},{id:"108",name:"Genius of Brilliant Stars",skills:"Increases Quantum DMG by <b>10.0%</b>.,When the wearer deals DMG to the target enemy, ignores <b>10.0%</b> DEF. If the target enemy has Quantum Weakness, the wearer additionally ignores <b>10.0%</b> DEF."},{id:"107",name:"Firesmith of Lava-Forging",skills:"Increases Fire DMG by <b>10.0%</b>.,Increases DMG by the wearer's Skill by <b>12.0%</b>. After unleashing Ultimate, increases the wearer's Fire DMG by <b>12.0%</b> for the next attack."},{id:"106",name:"Guard of Wuthering Snow",skills:"Reduces DMG taken by <b>8.0%</b>.,At the beginning of the turn, if the wearer's HP percentage is equal to or less than <b>50.0%</b>, restores HP equal to <b>8.0%</b> of their Max HP and regenerates <b>5.0</b> Energy."},{id:"105",name:"Champion of Streetwise Boxing",skills:"Increases Physical DMG by <b>10.0%</b>.,After the wearer attacks or is hit, their ATK increases by <b>5.0%</b> for the rest of the battle. This effect can stack up to <b>5.0</b> time(s)."},{id:"104",name:"Hunter of Glacial Forest",skills:"Increases Ice DMG by <b>10.0%</b>.,After the wearer uses their Ultimate, their CRIT DMG increases by <b>25.0%</b> for <b>2.0</b> turn(s)."},{id:"103",name:"Knight of Purity Palace",skills:"Increases DEF by <b>15.0%</b>.,Increases the max DMG that can be absorbed by the Shield created by the wearer by <b>20.0%</b>."},{id:"102",name:"Musketeer of Wild Wheat",skills:"Increases ATK by <b>12.0%</b>.,The wearer's SPD increases by <b>6.0%</b> and DMG dealt by Basic ATK increases by <b>10.0%</b>."},{id:"101",name:"Passerby of Wandering Cloud",skills:"Increases Outgoing Healing by <b>10.0%</b>.,At the start of the battle, immediately regenerates 1 Skill Point."}],Kn={characters:Kr,lightCones:vr,relics:wr},Qi="v2.6.3",Je="2.6v4",e={ATK_P:"ATK%",ATK:"ATK",BE:"Break Effect",CD:"CRIT DMG",CR:"CRIT Rate",DEF_P:"DEF%",DEF:"DEF",EHR:"Effect Hit Rate",ERR:"Energy Regeneration Rate",Fire_DMG:"Fire DMG Boost",HP_P:"HP%",HP:"HP",Ice_DMG:"Ice DMG Boost",Imaginary_DMG:"Imaginary DMG Boost",Lightning_DMG:"Lightning DMG Boost",OHB:"Outgoing Healing Boost",Physical_DMG:"Physical DMG Boost",Quantum_DMG:"Quantum DMG Boost",RES:"Effect RES",SPD_P:"SPD%",SPD:"SPD",Wind_DMG:"Wind DMG Boost"},Ar=[e.HP_P,e.ATK_P,e.DEF_P,e.HP,e.ATK,e.SPD,e.CR,e.CD,e.EHR,e.BE,e.OHB,e.ERR,e.Physical_DMG,e.Fire_DMG,e.Ice_DMG,e.Lightning_DMG,e.Wind_DMG,e.Quantum_DMG,e.Imaginary_DMG],Qs={[e.HP_P]:{5:{base:6.912,increment:2.4192},4:{base:5.5296,increment:1.9354},3:{base:4.1472,increment:1.4515},2:{base:2.7648,increment:.9677}},[e.ATK_P]:{5:{base:6.912,increment:2.4192},4:{base:5.5296,increment:1.9354},3:{base:4.1472,increment:1.4515},2:{base:2.7648,increment:.9677}},[e.DEF_P]:{5:{base:8.64,increment:3.024},4:{base:6.912,increment:2.4192},3:{base:5.184,increment:1.8144},2:{base:3.456,increment:1.2096}},[e.HP]:{5:{base:112.896,increment:39.5136},4:{base:90.3168,increment:31.61088},3:{base:67.7376,increment:23.70816},2:{base:45.1584,increment:15.80544}},[e.ATK]:{5:{base:56.448,increment:19.7568},4:{base:45.1584,increment:15.80544},3:{base:33.8688,increment:11.85408},2:{base:22.5792,increment:7.90272}},[e.SPD]:{5:{base:4.032,increment:1.4},4:{base:3.226,increment:1.1},3:{base:2.419,increment:1},2:{base:1.613,increment:1}},[e.CR]:{5:{base:5.184,increment:1.8144},4:{base:4.1472,increment:1.4515},3:{base:3.1104,increment:1.0886},2:{base:2.0736,increment:.7258}},[e.CD]:{5:{base:10.368,increment:3.6288},4:{base:8.2944,increment:2.903},3:{base:6.2208,increment:2.1773},2:{base:4.1472,increment:1.4515}},[e.EHR]:{5:{base:6.912,increment:2.4192},4:{base:5.5296,increment:1.9354},3:{base:4.1472,increment:1.4515},2:{base:2.7648,increment:.9677}},[e.BE]:{5:{base:10.368,increment:3.6288},4:{base:8.2944,increment:2.903},3:{base:6.2208,increment:2.1773},2:{base:4.1472,increment:1.4515}},[e.ERR]:{5:{base:3.1104,increment:1.0886},4:{base:2.4883,increment:.8709},3:{base:1.8662,increment:.6532},2:{base:1.2442,increment:.4355}},[e.OHB]:{5:{base:5.5296,increment:1.9354},4:{base:4.4237,increment:1.5483},3:{base:3.3178,increment:1.1612},2:{base:2.2118,increment:.7741}},[e.Physical_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[e.Fire_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[e.Ice_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[e.Lightning_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[e.Wind_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[e.Quantum_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[e.Imaginary_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}}},Ye=[e.HP_P,e.ATK_P,e.DEF_P,e.HP,e.ATK,e.DEF,e.SPD,e.CR,e.CD,e.EHR,e.RES,e.BE],St={[e.SPD]:{5:{high:2.6,mid:2.3,low:2},4:{high:2,mid:1.8,low:1.6},3:{high:1.4,mid:1.3,low:1.2},2:{high:1.2,mid:1.1,low:1}},[e.HP]:{5:{high:42.33751,mid:38.103755,low:33.87},4:{high:33.87,mid:30.483,low:27.096},3:{high:25.402506,mid:22.862253,low:20.322},2:{high:16.935,mid:15.2415,low:13.548}},[e.ATK]:{5:{high:21.168754,mid:19.051877,low:16.935},4:{high:16.935,mid:15.2415,low:13.548},3:{high:10.161,mid:11.431126,low:12.701252},2:{high:8.4675,mid:7.62075,low:6.774}},[e.DEF]:{5:{high:21.168754,mid:19.051877,low:16.935},4:{high:16.935,mid:15.2415,low:13.548},3:{high:10.161,mid:11.431126,low:12.701252},2:{high:8.4675,mid:7.62075,low:6.774}},[e.HP_P]:{5:{high:4.32,mid:3.888,low:3.456},4:{high:3.456,mid:3.1104,low:2.7648},3:{high:2.592,mid:2.3328,low:2.0736},2:{high:1.728,mid:1.5552,low:1.3824}},[e.ATK_P]:{5:{high:4.32,mid:3.888,low:3.456},4:{high:3.456,mid:3.1104,low:2.7648},3:{high:2.592,mid:2.3328,low:2.0736},2:{high:1.728,mid:1.5552,low:1.3824}},[e.DEF_P]:{5:{high:5.4,mid:4.86,low:4.32},4:{high:4.32,mid:3.888,low:3.456},3:{high:2.592,mid:2.916,low:3.24},2:{high:2.16,mid:1.944,low:1.728}},[e.BE]:{5:{high:6.48,mid:5.832,low:5.184},4:{high:5.184,mid:4.6656,low:4.1472},3:{high:3.888,mid:3.4992,low:3.1104},2:{high:2.592,mid:2.3328,low:2.0736}},[e.EHR]:{5:{high:4.32,mid:3.888,low:3.456},4:{high:3.456,mid:3.1104,low:2.7648},3:{high:2.592,mid:2.3328,low:2.0736},2:{high:1.728,mid:1.5552,low:1.3824}},[e.RES]:{5:{high:4.32,mid:3.888,low:3.456},4:{high:3.456,mid:3.1104,low:2.7648},3:{high:2.592,mid:2.3328,low:2.0736},2:{high:1.728,mid:1.5552,low:1.3824}},[e.CR]:{5:{high:3.24,mid:2.916,low:2.592},4:{high:2.592,mid:2.3328,low:2.0736},3:{high:1.5552,mid:1.7496,low:1.944},2:{high:1.296,mid:1.1664,low:1.0368}},[e.CD]:{5:{high:6.48,mid:5.832,low:5.184},4:{high:5.184,mid:4.6656,low:4.1472},3:{high:3.888,mid:3.4992,low:3.1104},2:{high:2.592,mid:2.3328,low:2.0736}}},jr={[e.HP_P]:"HP %",[e.ATK_P]:"ATK %",[e.DEF_P]:"DEF %",[e.SPD_P]:"SPD %",[e.HP]:"HP",[e.ATK]:"ATK",[e.DEF]:"DEF",[e.SPD]:"SPD",[e.CR]:"CRIT Rate",[e.CD]:"CRIT DMG",[e.EHR]:"Effect HIT",[e.RES]:"Effect RES",[e.BE]:"Break Effect",[e.ERR]:"Energy Regen",[e.OHB]:"Healing Boost",[e.Physical_DMG]:"Physical DMG",[e.Fire_DMG]:"Fire DMG",[e.Ice_DMG]:"Ice DMG",[e.Lightning_DMG]:"Lightning DMG",[e.Wind_DMG]:"Wind DMG",[e.Quantum_DMG]:"Quantum DMG",[e.Imaginary_DMG]:"Imaginary DMG"};e.HP_P+"",e.ATK_P+"",e.DEF_P+"",e.SPD_P+"",e.HP+"",e.ATK+"",e.DEF+"",e.SPD+"",e.CR+"",e.CD+"",e.EHR+"",e.RES+"",e.BE+"",e.ERR+"",e.OHB+"",e.Physical_DMG+"",e.Fire_DMG+"",e.Ice_DMG+"",e.Lightning_DMG+"",e.Wind_DMG+"",e.Quantum_DMG+"",e.Imaginary_DMG+"";e.HP_P+"",e.ATK_P+"",e.DEF_P+"",e.SPD_P+"",e.HP+"",e.ATK+"",e.DEF+"",e.SPD+"",e.CR+"",e.CD+"",e.EHR+"",e.RES+"",e.BE+"",e.ERR+"",e.OHB+"",e.Physical_DMG+"",e.Fire_DMG+"",e.Ice_DMG+"",e.Lightning_DMG+"",e.Wind_DMG+"",e.Quantum_DMG+"",e.Imaginary_DMG+"";e.HP_P+"",e.ATK_P+"",e.DEF_P+"",e.SPD_P+"",e.HP+"",e.ATK+"",e.DEF+"",e.SPD+"",e.CR+"",e.CD+"",e.EHR+"",e.RES+"",e.BE+"",e.ERR+"",e.OHB+"",e.Physical_DMG+"",e.Fire_DMG+"",e.Ice_DMG+"",e.Lightning_DMG+"",e.Wind_DMG+"",e.Quantum_DMG+"",e.Imaginary_DMG+"";const T={Head:"Head",Hands:"Hands",Body:"Body",Feet:"Feet",PlanarSphere:"PlanarSphere",LinkRope:"LinkRope"},Jr={[T.Head]:"Head",[T.Hands]:"Hands",[T.Body]:"Body",[T.Feet]:"Feet",[T.PlanarSphere]:"Sphere",[T.LinkRope]:"Rope"},ni={[T.Head]:[e.HP],[T.Hands]:[e.ATK],[T.Body]:[e.HP_P,e.ATK_P,e.DEF_P,e.CR,e.CD,e.OHB,e.EHR],[T.Feet]:[e.HP_P,e.ATK_P,e.DEF_P,e.SPD],[T.PlanarSphere]:[e.HP_P,e.ATK_P,e.DEF_P,e.Physical_DMG,e.Fire_DMG,e.Ice_DMG,e.Lightning_DMG,e.Wind_DMG,e.Quantum_DMG,e.Imaginary_DMG],[T.LinkRope]:[e.HP_P,e.ATK_P,e.DEF_P,e.BE,e.ERR]},Aa={PasserbyOfWanderingCloud:"Passerby of Wandering Cloud",MusketeerOfWildWheat:"Musketeer of Wild Wheat",KnightOfPurityPalace:"Knight of Purity Palace",HunterOfGlacialForest:"Hunter of Glacial Forest",ChampionOfStreetwiseBoxing:"Champion of Streetwise Boxing",GuardOfWutheringSnow:"Guard of Wuthering Snow",FiresmithOfLavaForging:"Firesmith of Lava-Forging",GeniusOfBrilliantStars:"Genius of Brilliant Stars",BandOfSizzlingThunder:"Band of Sizzling Thunder",EagleOfTwilightLine:"Eagle of Twilight Line",ThiefOfShootingMeteor:"Thief of Shooting Meteor",WastelanderOfBanditryDesert:"Wastelander of Banditry Desert",LongevousDisciple:"Longevous Disciple",MessengerTraversingHackerspace:"Messenger Traversing Hackerspace",TheAshblazingGrandDuke:"The Ashblazing Grand Duke",PrisonerInDeepConfinement:"Prisoner in Deep Confinement",PioneerDiverOfDeadWaters:"Pioneer Diver of Dead Waters",WatchmakerMasterOfDreamMachinations:"Watchmaker, Master of Dream Machinations",IronCavalryAgainstTheScourge:"Iron Cavalry Against the Scourge",TheWindSoaringValorous:"The Wind-Soaring Valorous",SacerdosRelivedOrdeal:"Sacerdos' Relived Ordeal",ScholarLostInErudition:"Scholar Lost in Erudition"},pi={SpaceSealingStation:"Space Sealing Station",FleetOfTheAgeless:"Fleet of the Ageless",PanCosmicCommercialEnterprise:"Pan-Cosmic Commercial Enterprise",BelobogOfTheArchitects:"Belobog of the Architects",CelestialDifferentiator:"Celestial Differentiator",InertSalsotto:"Inert Salsotto",TaliaKingdomOfBanditry:"Talia: Kingdom of Banditry",SprightlyVonwacq:"Sprightly Vonwacq",RutilantArena:"Rutilant Arena",BrokenKeel:"Broken Keel",FirmamentFrontlineGlamoth:"Firmament Frontline: Glamoth",PenaconyLandOfTheDreams:"Penacony, Land of the Dreams",SigoniaTheUnclaimedDesolation:"Sigonia, the Unclaimed Desolation",IzumoGenseiAndTakamaDivineRealm:"Izumo Gensei and Takama Divine Realm",DuranDynastyOfRunningWolves:"Duran, Dynasty of Running Wolves",ForgeOfTheKalpagniLantern:"Forge of the Kalpagni Lantern",LushakaTheSunkenSeas:"Lushaka, the Sunken Seas",TheWondrousBananAmusementPark:"The Wondrous BananAmusement Park"},ja={},F={...Aa,...pi},Fn=Object.values(Aa),Mn=Object.values(pi),mn={};for(let t=0;t<Mn.length;t++)mn[Mn[t]]=t;const aa={};for(let t=0;t<Fn.length;t++)aa[Fn[t]]=t;const fn=Object.values(Aa).length,Or=Object.values(pi).length,Qr={Abundance:"Abundance",Destruction:"Destruction",Erudition:"Erudition",Harmony:"Harmony",Hunt:"Hunt",Nihility:"Nihility",Preservation:"Preservation"},vn={Physical:e.Physical_DMG,Fire:e.Fire_DMG,Ice:e.Ice_DMG,Lightning:e.Lightning_DMG,Wind:e.Wind_DMG,Quantum:e.Quantum_DMG,Imaginary:e.Imaginary_DMG},_r={Physical:"PHYSICAL_RES_PEN",Fire:"FIRE_RES_PEN",Ice:"ICE_RES_PEN",Lightning:"LIGHTNING_RES_PEN",Wind:"WIND_RES_PEN",Quantum:"QUANTUM_RES_PEN",Imaginary:"IMAGINARY_RES_PEN"},d={Sets:F,Parts:T,Stats:e,MainStats:Ar,MainStatsValues:Qs,SubStats:Ye,SetsOrnaments:pi,SetsRelics:Aa,SetsRelicsNames:Fn,SetsOrnamentsNames:Mn,StatsToReadable:jr,PartsToReadable:Jr,PartsMainStats:ni,RelicSetToIndex:aa,OrnamentSetToIndex:mn,MAX_INT:2147483647,THREAD_BUFFER_LENGTH:15e4},De={relic4Piece:"4 Piece",relic2Plus2Piece:"2 + 2 Piece",relic2PlusAny:"2 + Any"},ii="combat",zr=2e6;e.HP_P,e.ATK_P,e.DEF_P,e.CR,e.CD,e.EHR,e.OHB;e.HP_P,e.ATK_P,e.DEF_P,e.SPD;e.HP_P,e.ATK_P,e.DEF_P,e.BE,e.ERR;e.HP_P,e.ATK_P,e.DEF_P,e.Physical_DMG,e.Fire_DMG,e.Ice_DMG,e.Lightning_DMG,e.Wind_DMG,e.Quantum_DMG,e.Imaginary_DMG;const _i={ATK:{title:"ATK",key:"ATK",percent:!1},ATK_P:{title:"ATK %",key:"ATK_P",percent:!0},HP:{title:"HP",key:"HP",percent:!1},HP_P:{title:"HP %",key:"HP_P",percent:!0},DEF:{title:"DEF",key:"DEF",percent:!1},DEF_P:{title:"DEF %",key:"DEF_P",percent:!0},CR:{title:"Crit Rate %",key:"CR",percent:!0},CD:{title:"Crit Dmg %",key:"CD",percent:!0},SPD:{title:"SPD",key:"SPD",percent:!1},SPD_P:{title:"SPD %",key:"SPD_P",percent:!0},BE:{title:"BE %",key:"BE",percent:!0},DMG_BOOST:{title:"Dmg Boost %",key:"DMG_BOOST",percent:!0},DEF_PEN:{title:"Def Pen %",key:"DEF_PEN",percent:!0},RES_PEN:{title:"Dmg RES PEN %",key:"RES_PEN",percent:!0},EFFECT_RES_PEN:{title:"Effect RES PEN %",key:"EFFECT_RES_PEN",percent:!0},VULNERABILITY:{title:"Vulnerability %",key:"VULNERABILITY",percent:!0},BREAK_EFFICIENCY:{title:"Break Efficiency %",key:"BREAK_EFFICIENCY",percent:!0}},Be={[d.Sets.PasserbyOfWanderingCloud]:"101",[d.Sets.MusketeerOfWildWheat]:"102",[d.Sets.KnightOfPurityPalace]:"103",[d.Sets.HunterOfGlacialForest]:"104",[d.Sets.ChampionOfStreetwiseBoxing]:"105",[d.Sets.GuardOfWutheringSnow]:"106",[d.Sets.FiresmithOfLavaForging]:"107",[d.Sets.GeniusOfBrilliantStars]:"108",[d.Sets.BandOfSizzlingThunder]:"109",[d.Sets.EagleOfTwilightLine]:"110",[d.Sets.ThiefOfShootingMeteor]:"111",[d.Sets.WastelanderOfBanditryDesert]:"112",[d.Sets.LongevousDisciple]:"113",[d.Sets.MessengerTraversingHackerspace]:"114",[d.Sets.TheAshblazingGrandDuke]:"115",[d.Sets.PrisonerInDeepConfinement]:"116",[d.Sets.PioneerDiverOfDeadWaters]:"117",[d.Sets.WatchmakerMasterOfDreamMachinations]:"118",[d.Sets.IronCavalryAgainstTheScourge]:"119",[d.Sets.TheWindSoaringValorous]:"120",[d.Sets.SacerdosRelivedOrdeal]:"121",[d.Sets.ScholarLostInErudition]:"122",[d.Sets.SpaceSealingStation]:"301",[d.Sets.FleetOfTheAgeless]:"302",[d.Sets.PanCosmicCommercialEnterprise]:"303",[d.Sets.BelobogOfTheArchitects]:"304",[d.Sets.CelestialDifferentiator]:"305",[d.Sets.InertSalsotto]:"306",[d.Sets.TaliaKingdomOfBanditry]:"307",[d.Sets.SprightlyVonwacq]:"308",[d.Sets.RutilantArena]:"309",[d.Sets.BrokenKeel]:"310",[d.Sets.FirmamentFrontlineGlamoth]:"311",[d.Sets.PenaconyLandOfTheDreams]:"312",[d.Sets.SigoniaTheUnclaimedDesolation]:"313",[d.Sets.IzumoGenseiAndTakamaDivineRealm]:"314",[d.Sets.DuranDynastyOfRunningWolves]:"315",[d.Sets.ForgeOfTheKalpagniLantern]:"316",[d.Sets.LushakaTheSunkenSeas]:"317",[d.Sets.TheWondrousBananAmusementPark]:"318"},Rs=["BASIC","SKILL","ULT","FUA","DOT","BREAK"],Jn="Default",nn="Custom",jl="Settings",Hi="Combat Simulation Score",fs="Character Score",_s="Damage Upgrades",Gs="Combat Stats",ta="CPU",ui="GPU Stable",Ja="GPU Experimental",ul="Sacerdos' Relived Ordeal 1x",ml="Sacerdos' Relived Ordeal 2x";console.debug=(...t)=>{let a="%c%s ";t.forEach(i=>{switch(typeof i){case"bigint":case"number":case"boolean":a+="%d ";break;case"string":a+="%s ";break;case"object":case"undefined":default:a+="%o "}}),console.log(a,"color: orange","[DEBUG]",...t)};const x={objectHash:t=>n0(t),arrayOfZeroes:t=>new Array(t).fill(0),arrayOfValue:(t,a)=>new Array(t).fill(a),nullUndefinedToZero:t=>t??0,mergeDefinedValues:(t,a)=>{for(const i of Object.keys(t))a[i]!=null&&(t[i]=a[i]);return t},mergeUndefinedValues:(t,a)=>{for(const i of Object.keys(a))t[i]==null&&(t[i]=a[i]);return t},sleep:t=>new Promise(a=>setTimeout(a,t)),relicsToSetArrays:t=>{const a=x.arrayOfValue(Object.values(d.SetsRelics).length,0),i=x.arrayOfValue(Object.values(d.SetsOrnaments).length,0);for(const l of t)if(l)if(l.part==d.Parts.PlanarSphere||l.part==d.Parts.LinkRope){const s=d.OrnamentSetToIndex[l.set];i[s]++}else{const s=d.RelicSetToIndex[l.set];a[s]++}return{relicSets:a,ornamentSets:i}},isFlat:t=>t==d.Stats.HP||t==d.Stats.ATK||t==d.Stats.DEF||t==d.Stats.SPD,randomElement:t=>t[Math.floor(Math.random()*t.length)],isMobile:()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),screenshotElementById:async(t,a,i)=>{const l=x.isMobile(),s=async()=>{const r=l?9:3;let u=0,f;for(;u<r&&(u++,f=await Nl(document.getElementById(t),{pixelRatio:1.5,skipFonts:!0}),!(f.size>12e5)););return l&&(f=await Nl(document.getElementById(t),{pixelRatio:1.5,skipFonts:!0})),f};function o(c){const r=i||"Hsr-optimizer",u=new Date().toLocaleDateString(I.resolvedLanguage).replace(/[^apm\d]+/gi,"-"),f=new Date().toLocaleTimeString(I.resolvedLanguage).replace(/[^apm\d]+/gi,"-"),p=`${r}_${u}_${f}.png`;if(a=="clipboard")if(l){const G=new File([c],p,{type:"image/png"});navigator.canShare&&navigator.canShare({files:[G]})?navigator.share({files:[G],title:"",text:""}):Message.error("Unable to save screenshot to clipboard, try the download button to the right")}else try{const G=[new window.ClipboardItem({[c.type]:c})];navigator.clipboard.write(G).then(()=>{Message.success(I.t("charactersTab:ScreenshotMessages.ScreenshotSuccess"))})}catch(G){console.error(G),Message.error(I.t("charactersTab:ScreenshotMessages.ScreenshotFailed"))}if(a=="download"){const G=window.URL.createObjectURL(c),h=document.createElement("a");h.href=G,h.download=p,h.style.display="none",document.body.appendChild(h),h.click(),h.remove(),window.URL.revokeObjectURL(G),Message.success(I.t("charactersTab:ScreenshotMessages.DownloadSuccess"))}}return new Promise(c=>{s().then(r=>{o(r),c()})})},collectById:t=>{const a={};for(const i of t)a[i.id]=i;return a},truncate10ths:t=>Math.floor(t*10)/10,truncate100ths:t=>Math.floor(t*100)/100,truncate1000ths:t=>Math.floor(t*1e3)/1e3,truncate10000ths:t=>Math.floor(t*1e4)/1e4,precisionRound(t,a=5){const i=Math.pow(10,a);return Math.round(t*i)/i},flipMapping:t=>Object.fromEntries(Object.entries(t).map(a=>a.reverse())),clone:t=>t?JSON.parse(JSON.stringify(t)):null,labelFilterOption:(t,a)=>((a==null?void 0:a.label)??"").toLowerCase().includes(t.toLowerCase()),nameFilterOption:(t,a)=>((a==null?void 0:a.name)??"").toLowerCase().includes(t.toLowerCase()),titleFilterOption:(t,a)=>((a==null?void 0:a.title)??"").toLowerCase().includes(t.toLowerCase()),hasMainStat:t=>t==d.Parts.Body||t==d.Parts.Feet||t==d.Parts.LinkRope||t==d.Parts.PlanarSphere,generateCharacterOptions:()=>{const t=JSON.parse(JSON.stringify(L.getMetadata().characters));for(const a of Object.values(t))a.value=a.id,a.label=I.t(`gameData:Characters.${a.id}.Name`);return Object.values(t).sort((a,i)=>a.displayName.localeCompare(i.displayName))},generateLightConeOptions:t=>{const a=JSON.parse(JSON.stringify(L.getMetadata().lightCones));let i=null;t&&(i=L.getMetadata().characters[t].path);for(const l of Object.values(a))l.value=l.id,l.label=I.t(`gameData:Lightcones.${l.id}.Name`);return Object.values(a).filter(l=>!i||l.path===i).sort((l,s)=>l.label.localeCompare(s.label,window.locale))},recursiveToCamel:t=>Array.isArray(t)?t.map(a=>x.recursiveToCamel(a)):typeof t=="function"||t!==Object(t)?t:Object.fromEntries(Object.entries(t).map(([a,i])=>[a.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,"")),x.recursiveToCamel(i)])),randomId:()=>i0(),getCharacterNameById:t=>{var a;return(a=L.getMetadata().characters[t])==null?void 0:a.displayName},stripTrailingSlashes:t=>t.replace(/\/+$/,""),sortRarityDesc:(t,a)=>a.rarity-t.rarity,sumArray:t=>t.reduce((a,i)=>a+i,0),arrayToMap:(t,a)=>t.reduce((i,l)=>(i[l[a]]=l,i),{}),stringArrayToMap:t=>t.reduce((a,i)=>(a[i]=!0,a),{}),msToReadable:t=>{const a=Math.floor(t/1e3%60),i=Math.floor(t/(1e3*60)%60),l=Math.floor(t/(1e3*60*60)),s=l>0?`${l}:`:"",o=i<10?`0${i}`:`${i}`,c=a<10?`0${a}`:`${a}`;return`${s}${o}:${c}`},filterUnique:t=>t.filter((a,i,l)=>l.indexOf(a)===i)},G0={1:d.Parts.Head,2:d.Parts.Hands,3:d.Parts.Body,4:d.Parts.Feet,5:d.Parts.PlanarSphere,6:d.Parts.LinkRope},Z0={6:5,5:4,4:3,3:2},zs={HPAddedRatio:d.Stats.HP_P,AttackAddedRatio:d.Stats.ATK_P,DefenceAddedRatio:d.Stats.DEF_P,HPDelta:d.Stats.HP,AttackDelta:d.Stats.ATK,DefenceDelta:d.Stats.DEF,SpeedDelta:d.Stats.SPD,CriticalDamageBase:d.Stats.CD,CriticalChanceBase:d.Stats.CR,StatusProbabilityBase:d.Stats.EHR,StatusResistanceBase:d.Stats.RES,BreakDamageAddedRatioBase:d.Stats.BE,SPRatioBase:d.Stats.ERR,HealRatioBase:d.Stats.OHB,PhysicalAddedRatio:d.Stats.Physical_DMG,FireAddedRatio:d.Stats.Fire_DMG,IceAddedRatio:d.Stats.Ice_DMG,ThunderAddedRatio:d.Stats.Lightning_DMG,WindAddedRatio:d.Stats.Wind_DMG,QuantumAddedRatio:d.Stats.Quantum_DMG,ImaginaryAddedRatio:d.Stats.Imaginary_DMG},bl={convert:t=>{const a=t.relicList||[],i=t.equipment,l=t.rank||0,s=""+t.avatarId,o=i?""+i.tid:void 0,c=i?i.level:0,r=i?i.rank:0,u=a.map(p=>qr(p)).filter(p=>!!p),f={};for(const p of u)p.verified=!0,p.equippedBy=s,f[p.part]=p;return{id:s,key:x.randomId(),form:{characterLevel:80,characterId:s,characterEidolon:l,lightCone:o,lightConeLevel:c,lightConeSuperimposition:r},equipped:f}},getConstantConversions:()=>({statConversion:zs,partConversion:G0,gradeConversion:Z0})},Gn={55001:{set:"101",part:"3",main:"436"},55002:{set:"101",part:"4",main:"441"},55003:{set:"102",part:"3",main:"434"},55004:{set:"103",part:"3",main:"433"},55005:{set:"103",part:"4",main:"443"},55006:{set:"105",part:"3",main:"434"}};function qr(t){try{const a=L.getMetadata().relics,i=""+t.tid,l=t.level||0;let s=i.substring(1,4);Gn[i]&&(s=Gn[i].set);const o=a.relicSets[s].name;let c=i.substring(4,5);Gn[i]&&(c=Gn[i].part);const r=G0[c],u=i.substring(0,1),f=Z0[u];let p=t.mainAffixId;p||(p=Object.values(a.relicMainAffixes[`${f}${c}`].affixes).find(D=>D.property==t.main_affix.type).affix_id);let G=a.relicMainAffixes[`${f}${c}`].affixes[p];Gn[i]&&(G=a.relicMainAffixes[Gn[i].main].affixes[p]);const h=zs[G.property],m=G.base,b=G.step,R=m+b*l,S={stat:h,value:x.precisionRound(R*(x.isFlat(h)?1:100),5)},Z=[];for(const D of t.subAffixList){let V=D.affixId;V||(V=Object.values(a.relicSubAffixes[`${f}`].affixes).find(st=>st.property==D.type).affix_id);const M=D.cnt??D.count,E=D.step||0,P=a.relicSubAffixes[f].affixes[V],H=zs[P.property],k=P.base,B=P.step,J=k*M+B*E;Z.push({stat:H,value:x.precisionRound(J*(x.isFlat(H)?1:100),5)})}const C={part:r,set:o,enhance:l,grade:f,main:S,substats:Z};return bn.augment(C)}catch(a){return console.error(a),null}}let Jl,Zs,Ol,gs=!1;const Bn={fixMainStatvalue:t=>{gs||Bn.initialize();const a=t.enhance,i=t.main.stat,l=Ol[t.part],o=`${t.grade}${l}`,c=L.getMetadata().relics.relicMainAffixes[o].affixes,r=Object.values(c).find(h=>h.property==Zs[i]);if(!r)return 0;const u=r.step,p=r.base+u*a,G=x.isFlat(i)?p:p*100;return x.precisionRound(G,5)},fixSubStatValue:(t,a,i)=>{if(gs||Bn.initialize(),t==d.Stats.SPD)return a;const l=$r[i];if(!l)return a;const s=Jl[t];if(!s||!l[s])return a;let c=l[s][a];if(!c)return a;c.length&&(c=c[0]);const r=L.getMetadata().relics.relicSubAffixes[i].affixes,u=Object.values(r).find(b=>b.property==Zs[t]);if(!u)return a;const f=u.base,p=u.step,h=(f+p*2)*c,m=x.isFlat(t)?h:h*100;return x.precisionRound(m,5)},initialize:()=>{gs=!0;const t=bl.getConstantConversions();Zs=x.flipMapping(t.statConversion),Ol=x.flipMapping(t.partConversion),Jl=x.flipMapping({ATK:d.Stats.ATK,HP:d.Stats.HP,DEF:d.Stats.DEF,ATK_:d.Stats.ATK_P,HP_:d.Stats.HP_P,DEF_:d.Stats.DEF_P,SPD:d.Stats.SPD,"CRIT Rate_":d.Stats.CR,"CRIT DMG_":d.Stats.CD,"Effect Hit Rate_":d.Stats.EHR,"Effect RES_":d.Stats.RES,"Break Effect_":d.Stats.BE})}},$r={2:{HP:{13:.8,15:.9,16:1},ATK:{6:.8,7:.9,8:1},DEF:{6:.8,7:.9,8:1},HP_:{1.3:.8,1.5:.9,1.7:1},ATK_:{1.3:.8,1.5:.9,1.7:1},DEF_:{1.7:.8,1.9:.9,2.1:1},SPD:{1:[.8,.9,1]},"CRIT Rate_":{1:.8,1.1:.9,1.2:1},"CRIT DMG_":{2:.8,2.3:.9,2.5:1},"Effect Hit Rate_":{1.3:.8,1.5:.9,1.7:1},"Effect RES_":{1.3:.8,1.5:.9,1.7:1},"Break Effect_":{2:.8,2.3:.9,2.5:1}},3:{HP:{20:.8,22:.9,25:1,40:1.6,43:1.7,45:1.8,48:1.9,50:2},ATK:{10:.8,11:.9,12:1,20:1.6,21:1.7,22:1.8,24:1.9,25:2},DEF:{10:.8,11:.9,12:1,20:1.6,21:1.7,22:1.8,24:1.9,25:2},HP_:{2:.8,2.3:.9,2.5:1,4.1:1.6,4.4:1.7,4.6:1.8,4.9:1.9,5.1:2},ATK_:{2:.8,2.3:.9,2.5:1,4.1:1.6,4.4:1.7,4.6:1.8,4.9:1.9,5.1:2},DEF_:{2.5:.8,2.9:.9,3.2:1,5.1:1.6,5.5:1.7,5.8:1.8,6.1:1.9,6.4:2},SPD:{1:[.8,.9,1],2:[1.6,1.7,1.8,1.9,2]},"CRIT Rate_":{1.5:.8,1.7:.9,1.9:1,3.1:1.6,3.3:1.7,3.4:1.8,3.6:1.9,3.8:2},"CRIT DMG_":{3.1:.8,3.4:.9,3.8:1,6.2:1.6,6.6:1.7,6.9:1.8,7.3:1.9,7.7:2},"Effect Hit Rate_":{2:.8,2.3:.9,2.5:1,4.1:1.6,4.4:1.7,4.6:1.8,4.9:1.9,5.1:2},"Effect RES_":{2:.8,2.3:.9,2.5:1,4.1:1.6,4.4:1.7,4.6:1.8,4.9:1.9,5.1:2},"Break Effect_":{3.1:.8,3.4:.9,3.8:1,6.2:1.6,6.6:1.7,6.9:1.8,7.3:1.9,7.7:2}},4:{HP:{27:.8,30:.9,33:1,54:1.6,57:1.7,60:1.8,64:1.9,67:2,81:2.4,84:2.5,88:2.6,91:2.7,94:2.8,98:2.9,101:3,108:3.2,111:3.3,115:3.4,118:3.5,121:3.6,125:3.7,128:3.8,132:3.9,135:4},ATK:{13:.8,15:.9,16:1,27:1.6,28:1.7,30:1.8,32:1.9,33:2,40:2.4,42:2.5,44:2.6,45:2.7,47:2.8,49:2.9,50:3,54:3.2,55:3.3,57:3.4,59:3.5,60:3.6,62:3.7,64:3.8,66:3.9,67:4},DEF:{13:.8,15:.9,16:1,27:1.6,28:1.7,30:1.8,32:1.9,33:2,40:2.4,42:2.5,44:2.6,45:2.7,47:2.8,49:2.9,50:3,54:3.2,55:3.3,57:3.4,59:3.5,60:3.6,62:3.7,64:3.8,66:3.9,67:4},HP_:{2.7:.8,3.1:.9,3.4:1,5.5:1.6,5.8:1.7,6.2:1.8,6.5:1.9,6.9:2,8.2:2.4,8.6:2.5,8.9:2.6,9.3:2.7,9.6:2.8,10:2.9,10.3:3,11:3.2,11.4:3.3,11.7:3.4,12:3.5,12.4:3.6,12.7:3.7,13.1:3.8,13.4:3.9,13.8:4},ATK_:{2.7:.8,3.1:.9,3.4:1,5.5:1.6,5.8:1.7,6.2:1.8,6.5:1.9,6.9:2,8.2:2.4,8.6:2.5,8.9:2.6,9.3:2.7,9.6:2.8,10:2.9,10.3:3,11:3.2,11.4:3.3,11.7:3.4,12:3.5,12.4:3.6,12.7:3.7,13.1:3.8,13.4:3.9,13.8:4},DEF_:{3.4:.8,3.8:.9,4.3:1,6.9:1.6,7.3:1.7,7.7:1.8,8.2:1.9,8.6:2,10.3:2.4,10.8:2.5,11.2:2.6,11.6:2.7,12:2.8,12.5:2.9,12.9:3,13.8:3.2,14.2:3.3,14.6:3.4,15.1:3.5,15.5:3.6,15.9:3.7,16.4:3.8,16.8:3.9,17.2:4},SPD:{1:[.8,.9],2:1,3:[1.6,1.7,1.8,1.9],4:[2,2.4],5:[2.5,2.6,2.7,2.8,2.9],6:[3,3.2,3.3,3.4],7:[3.5,3.6,3.7,3.8,3.9],8:4},"CRIT Rate_":{2:.8,2.3:.9,2.5:1,4.1:1.6,4.4:1.7,4.6:1.8,4.9:1.9,5.1:2,6.2:2.4,6.4:2.5,6.7:2.6,6.9:2.7,7.2:2.8,7.5:2.9,7.7:3,8.2:3.2,8.5:3.3,8.8:3.4,9:3.5,9.3:3.6,9.5:3.7,9.8:3.8,10.1:3.9,10.3:4},"CRIT DMG_":{4.1:.8,4.6:.9,5.1:1,8.2:1.6,8.8:1.7,9.3:1.8,9.8:1.9,10.3:2,12.4:2.4,12.9:2.5,13.4:2.6,13.9:2.7,14.5:2.8,15:2.9,15.5:3,16.5:3.2,17.1:3.3,17.6:3.4,18.1:3.5,18.6:3.6,19.1:3.7,19.6:3.8,20.2:3.9,20.7:4},"Effect Hit Rate_":{2.7:.8,3.1:.9,3.4:1,5.5:1.6,5.8:1.7,6.2:1.8,6.5:1.9,6.9:2,8.2:2.4,8.6:2.5,8.9:2.6,9.3:2.7,9.6:2.8,10:2.9,10.3:3,11:3.2,11.4:3.3,11.7:3.4,12:3.5,12.4:3.6,12.7:3.7,13.1:3.8,13.4:3.9,13.8:4},"Effect RES_":{2.7:.8,3.1:.9,3.4:1,5.5:1.6,5.8:1.7,6.2:1.8,6.5:1.9,6.9:2,8.2:2.4,8.6:2.5,8.9:2.6,9.3:2.7,9.6:2.8,10:2.9,10.3:3,11:3.2,11.4:3.3,11.7:3.4,12:3.5,12.4:3.6,12.7:3.7,13.1:3.8,13.4:3.9,13.8:4},"Break Effect_":{4.1:.8,4.6:.9,5.1:1,8.2:1.6,8.8:1.7,9.3:1.8,9.8:1.9,10.3:2,12.4:2.4,12.9:2.5,13.4:2.6,13.9:2.7,14.5:2.8,15:2.9,15.5:3,16.5:3.2,17.1:3.3,17.6:3.4,18.1:3.5,18.6:3.6,19.1:3.7,19.6:3.8,20.2:3.9,20.7:4}},5:{HP:{33:.8,38:.9,42:1,67:1.6,71:1.7,76:1.8,80:1.9,84:2,101:2.4,105:2.5,110:2.6,114:2.7,118:2.8,122:2.9,127:3,135:3.2,139:3.3,143:3.4,148:3.5,152:3.6,156:3.7,160:3.8,165:3.9,169:4,173:4.1,177:4.2,182:4.3,186:4.4,190:4.5,194:4.6,198:4.7,203:4.8,207:4.9,211:5,215:5.1,220:5.2,224:5.3,228:5.4,232:5.5,237:5.6,241:5.7,245:5.8,249:5.9,254:6},ATK:{16:.8,19:.9,21:1,33:1.6,35:1.7,38:1.8,40:1.9,42:2,50:2.4,52:2.5,55:2.6,57:2.7,59:2.8,61:2.9,63:3,67:3.2,69:3.3,71:3.4,74:3.5,76:3.6,78:3.7,80:3.8,82:3.9,84:4,86:4.1,88:4.2,91:4.3,93:4.4,95:4.5,97:4.6,99:4.7,101:4.8,103:4.9,105:5,107:5.1,110:5.2,112:5.3,114:5.4,116:5.5,118:5.6,120:5.7,122:5.8,124:5.9,127:6},DEF:{16:.8,19:.9,21:1,33:1.6,35:1.7,38:1.8,40:1.9,42:2,50:2.4,52:2.5,55:2.6,57:2.7,59:2.8,61:2.9,63:3,67:3.2,69:3.3,71:3.4,74:3.5,76:3.6,78:3.7,80:3.8,82:3.9,84:4,86:4.1,88:4.2,91:4.3,93:4.4,95:4.5,97:4.6,99:4.7,101:4.8,103:4.9,105:5,107:5.1,110:5.2,112:5.3,114:5.4,116:5.5,118:5.6,120:5.7,122:5.8,124:5.9,127:6},HP_:{3.4:.8,3.8:.9,4.3:1,6.9:1.6,7.3:1.7,7.7:1.8,8.2:1.9,8.6:2,10.3:2.4,10.8:2.5,11.2:2.6,11.6:2.7,12:2.8,12.5:2.9,12.9:3,13.8:3.2,14.2:3.3,14.6:3.4,15.1:3.5,15.5:3.6,15.9:3.7,16.4:3.8,16.8:3.9,17.2:4,17.7:4.1,18.1:4.2,18.5:4.3,19:4.4,19.4:4.5,19.8:4.6,20.3:4.7,20.7:4.8,21.1:4.9,21.6:5,22:5.1,22.4:5.2,22.8:5.3,23.3:5.4,23.7:5.5,24.1:5.6,24.6:5.7,25:5.8,25.4:5.9,25.9:6},ATK_:{3.4:.8,3.8:.9,4.3:1,6.9:1.6,7.3:1.7,7.7:1.8,8.2:1.9,8.6:2,10.3:2.4,10.8:2.5,11.2:2.6,11.6:2.7,12:2.8,12.5:2.9,12.9:3,13.8:3.2,14.2:3.3,14.6:3.4,15.1:3.5,15.5:3.6,15.9:3.7,16.4:3.8,16.8:3.9,17.2:4,17.7:4.1,18.1:4.2,18.5:4.3,19:4.4,19.4:4.5,19.8:4.6,20.3:4.7,20.7:4.8,21.1:4.9,21.6:5,22:5.1,22.4:5.2,22.8:5.3,23.3:5.4,23.7:5.5,24.1:5.6,24.6:5.7,25:5.8,25.4:5.9,25.9:6},DEF_:{4.3:.8,4.8:.9,5.4:1,8.6:1.6,9.1:1.7,9.7:1.8,10.2:1.9,10.8:2,12.9:2.4,13.5:2.5,14:2.6,14.5:2.7,15.1:2.8,15.6:2.9,16.2:3,17.2:3.2,17.8:3.3,18.3:3.4,18.9:3.5,19.4:3.6,19.9:3.7,20.5:3.8,21:3.9,21.6:4,22.1:4.1,22.6:4.2,23.2:4.3,23.7:4.4,24.3:4.5,24.8:4.6,25.3:4.7,25.9:4.8,26.4:4.9,27:5,27.5:5.1,28:5.2,28.6:5.3,29.1:5.4,29.7:5.5,30.2:5.6,30.7:5.7,31.3:5.8,31.8:5.9,32.4:6},SPD:{2:[.8,.9,1],4:[1.6,1.7,1.8,1.9],5:2,6:[2.4,2.5,2.6],7:[2.7,2.8,2.9,3],8:[3.2,3.3,3.4],9:[3.5,3.6,3.7,3.8],10:[3.9,4,4.1,4.2],11:[4.3,4.4,4.5,4.6],12:[4.7,4.8,4.9],13:[5,5.1,5.2,5.3],14:[5.4,5.5,5.6,5.7],15:[5.8,5.9,6]},"CRIT Rate_":{2.5:.8,2.9:.9,3.2:1,5.1:1.6,5.5:1.7,5.8:1.8,6.1:1.9,6.4:2,7.7:2.4,8.1:2.5,8.4:2.6,8.7:2.7,9:2.8,9.3:2.9,9.7:3,10.3:3.2,10.6:3.3,11:3.4,11.3:3.5,11.6:3.6,11.9:3.7,12.3:3.8,12.6:3.9,12.9:4,13.2:4.1,13.6:4.2,13.9:4.3,14.2:4.4,14.5:4.5,14.9:4.6,15.2:4.7,15.5:4.8,15.8:4.9,16.2:5,16.5:5.1,16.8:5.2,17.1:5.3,17.4:5.4,17.8:5.5,18.1:5.6,18.4:5.7,18.7:5.8,19.1:5.9,19.4:6},"CRIT DMG_":{5.1:.8,5.8:.9,6.4:1,10.3:1.6,11:1.7,11.6:1.8,12.3:1.9,12.9:2,15.5:2.4,16.2:2.5,16.8:2.6,17.4:2.7,18.1:2.8,18.7:2.9,19.4:3,20.7:3.2,21.3:3.3,22:3.4,22.6:3.5,23.3:3.6,23.9:3.7,24.6:3.8,25.2:3.9,25.9:4,26.5:4.1,27.2:4.2,27.8:4.3,28.5:4.4,29.1:4.5,29.8:4.6,30.4:4.7,31.1:4.8,31.7:4.9,32.4:5,33:5.1,33.6:5.2,34.3:5.3,34.9:5.4,35.6:5.5,36.2:5.6,36.9:5.7,37.5:5.8,38.2:5.9,38.8:6},"Effect Hit Rate_":{3.4:.8,3.8:.9,4.3:1,6.9:1.6,7.3:1.7,7.7:1.8,8.2:1.9,8.6:2,10.3:2.4,10.8:2.5,11.2:2.6,11.6:2.7,12:2.8,12.5:2.9,12.9:3,13.8:3.2,14.2:3.3,14.6:3.4,15.1:3.5,15.5:3.6,15.9:3.7,16.4:3.8,16.8:3.9,17.2:4,17.7:4.1,18.1:4.2,18.5:4.3,19:4.4,19.4:4.5,19.8:4.6,20.3:4.7,20.7:4.8,21.1:4.9,21.6:5,22:5.1,22.4:5.2,22.8:5.3,23.3:5.4,23.7:5.5,24.1:5.6,24.6:5.7,25:5.8,25.4:5.9,25.9:6},"Effect RES_":{3.4:.8,3.8:.9,4.3:1,6.9:1.6,7.3:1.7,7.7:1.8,8.2:1.9,8.6:2,10.3:2.4,10.8:2.5,11.2:2.6,11.6:2.7,12:2.8,12.5:2.9,12.9:3,13.8:3.2,14.2:3.3,14.6:3.4,15.1:3.5,15.5:3.6,15.9:3.7,16.4:3.8,16.8:3.9,17.2:4,17.7:4.1,18.1:4.2,18.5:4.3,19:4.4,19.4:4.5,19.8:4.6,20.3:4.7,20.7:4.8,21.1:4.9,21.6:5,22:5.1,22.4:5.2,22.8:5.3,23.3:5.4,23.7:5.5,24.1:5.6,24.6:5.7,25:5.8,25.4:5.9,25.9:6},"Break Effect_":{5.1:.8,5.8:.9,6.4:1,10.3:1.6,11:1.7,11.6:1.8,12.3:1.9,12.9:2,15.5:2.4,16.2:2.5,16.8:2.6,17.4:2.7,18.1:2.8,18.7:2.9,19.4:3,20.7:3.2,21.3:3.3,22:3.4,22.6:3.5,23.3:3.6,23.9:3.7,24.6:3.8,25.2:3.9,25.9:4,26.5:4.1,27.2:4.2,27.8:4.3,28.5:4.4,29.1:4.5,29.8:4.6,30.4:4.7,31.1:4.8,31.7:4.9,32.4:5,33:5.1,33.6:5.2,34.3:5.3,34.9:5.4,35.6:5.5,36.2:5.6,36.9:5.7,37.5:5.8,38.2:5.9,38.8:6}}},td={calculateIncrementCounts(t,a){let i=1/0,l=null;function s(o,c,r){if(r===Object.keys(a).length){Math.abs(o-t)<Math.abs(i-t)&&(i=o,l={...c});return}const u=Object.keys(a)[r];for(let f=0;o+f*a[u]<=t+.01;f++)c[u]=f,s(o+f*a[u],c,r+1)}return s(0,{high:0,mid:0,low:0},0),l},calculateRelicSubstatRolls(t){if(t.grade<5){t.substats.map(i=>{i.addedRolls=0});return}let a=0;if(t.substats.forEach(i=>{const l=St[i.stat][t.grade],s=this.calculateIncrementCounts(i.value,l);s&&(i.addedRolls=Math.min(5,Math.max(0,s.high+s.mid+s.low-1)),a+=i.addedRolls)}),a>Math.floor(t.enhance/3)){const i=t.substats.reduce((l,s)=>l.addedRolls>s.addedRolls?l:s);i.addedRolls-=1}},calculateStatSum(t){return t?parseFloat(((t.high*100+t.mid*90+t.low*80)/(t.high+t.mid+t.low)).toFixed(2)):0}},bn={augment:function(t){const a={};if(t.grade&&!t.main)return null;const i=t.main.stat;t.main.value=Bn.fixMainStatvalue(t);const l=t.main.value;a.mainStat=i,a.mainValue=l,ed(t);for(const s of t.substats){const o=s.stat;s.value=x.precisionRound(s.value),s.value=Bn.fixSubStatValue(o,s.value,t.grade),a[o]=s.value}return t.enhance>12&&t.grade!=5&&(t.grade=5),t.id||(t.id=i0()),t.augmentedStats=a,ad([t]),td.calculateRelicSubstatRolls(t),t}},Ql={[d.Stats.HP]:0,[d.Stats.ATK]:1,[d.Stats.DEF]:2,[d.Stats.HP_P]:3,[d.Stats.ATK_P]:4,[d.Stats.DEF_P]:5,[d.Stats.SPD]:6,[d.Stats.CR]:7,[d.Stats.CD]:8,[d.Stats.EHR]:9,[d.Stats.RES]:10,[d.Stats.BE]:11};function ed(t){t.substats=t.substats.sort((a,i)=>Ql[a.stat]-Ql[i.stat])}function ad(t){return t.map(a=>{for(const i of Object.values(d.Stats))a.augmentedStats[i]=a.augmentedStats[i]||0,x.isFlat(i)||(a.augmentedStats.mainStat==i&&(a.augmentedStats.mainValue=a.augmentedStats.mainValue/100),a.augmentedStats[i]=a.augmentedStats[i]/100);return a})}var ne=(t=>(t.optimizerCharacterId="optimizerCharacterId",t.relicScorerSidebarOpen="relicScorerSidebarOpen",t.scoringType="scoringType",t.combatScoreDetails="combatScoreDetails",t.computeEngine="computeEngine",t))(ne||{});const nd=Ai([{color:"#5A1A06",pos:0},{color:"#343127",pos:.35},{color:"#38821F",pos:1}]);let Cs=Ai("#343127","#38821F"),Ts;const yt={getColor:(t,a)=>a.rgbAt(t).toHexString(),getOptimizerColumnGradient:t=>{const a=tt.getAggs();try{const i=t.column.colId;if(t.data&&a&&tt.getColumnsToAggregate(!0)[i]){const l=a.minAgg[i],s=a.maxAgg[i];let c=(t.value-l)/(s-l);return s==l&&(c=.5),{backgroundColor:yt.getColor(Math.min(Math.max(c,0),1),nd)}}}catch(i){console.error(i)}},setTheme(t){Cs=Ai(t.colorBgBase,t.colorPrimary)},setToken(t){Cs=Ai(t.colorBgElevated,t.colorPrimaryHover)},getRelicGradient(t){const a=t.column.colId,i=t.value;if(Ts||(Ts={[`augmentedStats.${d.Stats.HP}`]:169.35,[`augmentedStats.${d.Stats.ATK}`]:84.675,[`augmentedStats.${d.Stats.DEF}`]:84.675,[`augmentedStats.${d.Stats.SPD}`]:10,[`augmentedStats.${d.Stats.ATK_P}`]:.1728,[`augmentedStats.${d.Stats.HP_P}`]:.1728,[`augmentedStats.${d.Stats.DEF_P}`]:.216,[`augmentedStats.${d.Stats.CR}`]:.1296,[`augmentedStats.${d.Stats.CD}`]:.2592,[`augmentedStats.${d.Stats.EHR}`]:.1728,[`augmentedStats.${d.Stats.RES}`]:.1728,[`augmentedStats.${d.Stats.BE}`]:.2592,cv:.4,"weights.current":64.8,"weights.potentialSelected.averagePct":100,"weights.potentialSelected.bestPct":100,"weights.potentialAllAll":100}),isNaN(i)||i==0)return{};let l;return a.startsWith("weights.potential")?l=i/100:a.startsWith("weights.")?l=i/(6.48*9):l=i/Ts[a],{backgroundColor:yt.getColor(Math.min(Math.max(l,0),1),Cs)}}};function Pt(t){return new URL(Ua+"/assets"+t,import.meta.url).href}let Zi;const N={getStatIcon:(t,a)=>(Zi||(Zi={[d.Stats.HP]:"IconMaxHP.webp",[d.Stats.ATK]:"IconAttack.webp",[d.Stats.DEF]:"IconDefence.webp",[d.Stats.HP_P]:"IconMaxHP.webp",[d.Stats.ATK_P]:"IconAttack.webp",[d.Stats.DEF_P]:"IconDefence.webp",[d.Stats.SPD]:"IconSpeed.webp",[d.Stats.SPD_P]:"IconSpeed.webp",[d.Stats.CR]:"IconCriticalChance.webp",[d.Stats.CD]:"IconCriticalDamage.webp",[d.Stats.EHR]:"IconStatusProbability.webp",[d.Stats.RES]:"IconStatusResistance.webp",[d.Stats.BE]:"IconBreakUp.webp",[d.Stats.ERR]:"IconEnergyRecovery.webp",[d.Stats.OHB]:"IconHealRatio.webp",[d.Stats.Physical_DMG]:"IconPhysicalAddedRatio.webp",[d.Stats.Fire_DMG]:"IconFireAddedRatio.webp",[d.Stats.Ice_DMG]:"IconIceAddedRatio.webp",[d.Stats.Lightning_DMG]:"IconThunderAddedRatio.webp",[d.Stats.Wind_DMG]:"IconWindAddedRatio.webp",[d.Stats.Quantum_DMG]:"IconQuantumAddedRatio.webp",[d.Stats.Imaginary_DMG]:"IconImaginaryAddedRatio.webp"}),t=="CV"?Pt("/misc/cv.webp"):t=="simScore"?Pt("/misc/battle.webp"):t==d.Stats.HP_P&&a?Pt("/misc/IconMaxHPPercent.webp"):t==d.Stats.ATK_P&&a?Pt("/misc/IconAttackPercent.webp"):t==d.Stats.DEF_P&&a?Pt("/misc/IconDefencePercent.webp"):!t||!Zi[t]?N.getBlank():Pt(`/icon/property/${Zi[t]}`)),getCharacterPortraitById:t=>t?Pt(`/image/character_portrait/${t}.webp`):(console.warn("No id found"),N.getBlank()),getCharacterAvatarById:t=>t?Pt(`/icon/avatar/${t}.webp`):N.getBlank(),getCharacterPreviewById:t=>t?Pt(`/image/character_preview/${t}.webp`):N.getBlank(),getLightConePortrait:t=>t?Pt(`/image/light_cone_portrait/${t.id}.webp`):N.getBlank(),getLightConePortraitById:t=>t?Pt(`/image/light_cone_portrait/${t}.webp`):N.getBlank(),getLightConeIconById:t=>t?Pt(`/icon/light_cone/${t}.webp`):N.getBlank(),getPath:t=>t?Pt(`/icon/path/${t}.webp`):N.getBlank(),getPathFromClass:t=>t?Pt(`/icon/path/${t}.webp`):N.getBlank(),getElement:t=>t?Pt(`/icon/element/${t}.webp`):N.getBlank(),getBlank:()=>Pt("/misc/blank.webp"),getQuestion:()=>Pt("/misc/tooltip.webp"),getLogo:()=>Pt("/misc/logo.webp"),getDiscord:()=>Pt("/misc/badgediscord.webp"),getGithub:()=>Pt("/misc/badgegithub.webp"),getKofi:()=>Pt("/misc/badgekofi.webp"),getStar:()=>Pt("/misc/StarBig.webp"),getGuideImage:t=>Pt(`/misc/guide/${t}.webp`),getLocaleGuideImage:(t,a)=>a?Pt(`/misc/guide/${a}/${t}.webp`):N.getBlank(),getStarBw:()=>Pt("/misc/QuestMainIcon.webp"),getFlag:t=>Pt(`/misc/flags/${t}.webp`),getPart:t=>{const a={[d.Parts.Head]:"partHead",[d.Parts.Hands]:"partHands",[d.Parts.Body]:"partBody",[d.Parts.Feet]:"partFeet",[d.Parts.PlanarSphere]:"partPlanarSphere",[d.Parts.LinkRope]:"partLinkRope"};return Pt(`/misc/${a[t]}.webp`)},getChangelog:t=>Pt(`/misc/changelog/${t}`),getSetImage:(t,a,i=!1)=>{if(t==-1)return N.getBlank();a||(a=d.Parts.PlanarSphere);const l={base:"",[d.Parts.Head]:"_0",[d.Parts.Hands]:"_1",[d.Parts.Body]:"_2",[d.Parts.Feet]:"_3",[d.Parts.PlanarSphere]:"_0",[d.Parts.LinkRope]:"_1"};return i?Pt(`/icon/relic/${Be[t]}.webp`):t==ul||t==ml?Pt(`/icon/relic/${Be[d.Sets.SacerdosRelivedOrdeal]}${l[a]}.webp`):Pt(`/icon/relic/${Be[t]}${l[a]}.webp`)}},Q={floor:t=>t==null||t.value==null?"":Math.floor(t.value),x100Tenths:t=>t==null||t.value==null?"":(Math.floor(x.precisionRound(t.value*100)*10)/10).toFixed(1),tenths:t=>t==null||t.value==null?"":(Math.floor(x.precisionRound(t.value)*10)/10).toFixed(1),relicSet:t=>{if(t==null||t.value==null||isNaN(t.value))return"";const a=t.value,i=Object.values(d.SetsRelics).length,l=[],s=a%i,o=(a-s)/i%i,c=(a-o*i-s)/(i*i)%i,r=(a-c*i*i-o*i-s)/(i*i*i)%i,u=[s,o,c,r];for(;u.length>0;){const f=u[0];if(u.lastIndexOf(f)){const p=Object.entries(d.RelicSetToIndex).find(m=>m[1]==f)[0],G=N.getSetImage(p,d.Parts.Head);l.push(G);const h=u.lastIndexOf(f);u.splice(h,1)}u.splice(0,1)}return l.sort(),n.jsxs(g,{justify:"center",style:{marginTop:-1},children:[n.jsx(sn,{asset:l[0]}),n.jsx(sn,{asset:l[1]})]})},ornamentSet:t=>{if(t==null||t.value==null)return"";const a=t.value,i=Object.values(d.SetsOrnaments).length;let l;const s=a%i,o=(a-s)/i%i;if(s==o){const c=Object.entries(d.OrnamentSetToIndex).find(r=>r[1]==s)[0];return l=N.getSetImage(c,d.Parts.PlanarSphere),n.jsx(g,{justify:"center",style:{marginTop:-1},children:n.jsx(sn,{asset:l})})}else return""},anySet:t=>{if(t==null||t.value==null)return"";const a=t.data.part,i=N.getSetImage(t.data.set,a);return n.jsx(g,{justify:"center",title:t.data.set,style:{marginTop:-1},children:n.jsx(sn,{asset:i})})},characterIcon:t=>{if(t==null||t.value==null)return"";const a=t.data.equippedBy;if(!a)return"";const i=N.getCharacterAvatarById(a);return n.jsx(g,{justify:"center",style:{marginTop:-1},children:n.jsx(sn,{asset:i})})},readableStat:t=>t==null||t.value==null?"":I.t(`common:ShortReadableStats.${t.value}`),readablePart:t=>t==null||t.value==null?"":I.t(`common:ReadableParts.${t.value}`),partIcon:t=>t==null||t.value==null?"":n.jsx(g,{justify:"center",style:{marginTop:-1,width:20,marginBottom:3},children:n.jsx(sn,{asset:N.getPart(t.value)})}),hideZeroes:t=>t.value==0?"":t.value,hideZeroesFloor:t=>t.value==0?"":Math.floor(t.value),hideZeroes10thsRelicTabSpd:t=>{if(t.value==0)return"";const a=x.precisionRound(Math.floor(t.value*10)/10);return t.data.verified?a.toFixed(1):a},mainValueRenderer:t=>{const a=t.data.part;return a==d.Parts.Hands||a==d.Parts.Head?t.value==0?"":Math.floor(t.value):t.value==0?"":x.truncate10ths(t.value)},hideZeroesX100Tenths:t=>t.value==0?"":Q.x100Tenths(t),scoreRenderer:t=>Math.round(t.value),hideNaNAndFloor:t=>isNaN(t.value)?0:Math.floor(t.value),hideNaNAndFloorPercent:t=>(isNaN(t.value)?0:Math.floor(t.value))+"%",renderSubstatNumber:(t,a)=>t.stat==d.Stats.SPD?a.verified?x.truncate10ths(t.value).toFixed(1):Math.floor(t.value):x.isFlat(t.stat)?Math.floor(t.value):x.truncate10ths(t.value).toFixed(1),renderMainStatNumber:t=>x.isFlat(t.stat)?Math.floor(t.value):x.truncate10ths(t.value).toFixed(1),renderGradeCell:t=>{const a=t.data;return Q.renderGrade(a)},renderGrade:(t,a=!1)=>{const i=id[t.grade]||"";return(a?t.verified=="true":t.verified)?n.jsx(s0,{mouseEnterDelay:.4,title:I.t("common:VerifiedRelicHoverText"),children:n.jsx(ji,{style:{fontSize:"14px",color:i}})}):n.jsx("div",{style:{width:14,height:14,borderRadius:"50%",background:i}})},renderEquippedBy:({equippedBy:t})=>t=="true"?n.jsx(ji,{style:{fontSize:"14px",color:"#6de362"}}):n.jsx(sl,{style:{fontSize:"14px",color:"#de5555"}})},id={5:"#efb679",4:"#cc52f1",3:"#58beed",2:"#63e0ac",[-1]:"#bdbdbd"};function sn(t){return t.asset?n.jsx(oi,{src:t.asset,width:32,preview:!1}):""}sn.propTypes={asset:z.string};const En=46,$t=50,g0=52,ra=56,C0=62,de=5,Xe=211,T0=11;function sd(t){return[{field:"relicSetIndex",cellRenderer:Q.relicSet,width:72,headerName:t("Grid.Headers.Basic.Set")},{field:"ornamentSetIndex",cellRenderer:Q.ornamentSet,width:42,headerName:t("Grid.Headers.Basic.ATK")},{field:d.Stats.ATK,valueFormatter:Q.floor,width:$t,headerName:t("Grid.Headers.Basic.ATK"),cellStyle:yt.getOptimizerColumnGradient},{field:d.Stats.DEF,valueFormatter:Q.floor,width:$t,headerName:t("Grid.Headers.Basic.DEF"),cellStyle:yt.getOptimizerColumnGradient},{field:d.Stats.HP,valueFormatter:Q.floor,width:$t,headerName:t("Grid.Headers.Basic.HP"),cellStyle:yt.getOptimizerColumnGradient},{field:d.Stats.SPD,valueFormatter:Q.tenths,width:$t,headerName:t("Grid.Headers.Basic.SPD"),cellStyle:yt.getOptimizerColumnGradient},{field:d.Stats.CR,valueFormatter:Q.x100Tenths,width:$t,headerName:t("Grid.Headers.Basic.CR"),cellStyle:yt.getOptimizerColumnGradient},{field:d.Stats.CD,valueFormatter:Q.x100Tenths,width:$t,headerName:t("Grid.Headers.Basic.CD"),cellStyle:yt.getOptimizerColumnGradient},{field:d.Stats.EHR,valueFormatter:Q.x100Tenths,width:$t,headerName:t("Grid.Headers.Basic.EHR"),cellStyle:yt.getOptimizerColumnGradient},{field:d.Stats.RES,valueFormatter:Q.x100Tenths,width:En,headerName:t("Grid.Headers.Basic.RES"),cellStyle:yt.getOptimizerColumnGradient},{field:d.Stats.BE,valueFormatter:Q.x100Tenths,width:$t,headerName:t("Grid.Headers.Basic.BE"),cellStyle:yt.getOptimizerColumnGradient},{field:d.Stats.OHB,valueFormatter:Q.x100Tenths,width:En,headerName:t("Grid.Headers.Basic.OHB")},{field:d.Stats.ERR,valueFormatter:Q.x100Tenths,width:En,headerName:t("Grid.Headers.Basic.ERR")},{field:"ED",valueFormatter:Q.x100Tenths,width:$t,headerName:t("Grid.Headers.Basic.DMG")},{field:"EHP",valueFormatter:Q.floor,width:$t,headerName:t("Grid.Headers.Basic.EHP")},{field:"WEIGHT",valueFormatter:Q.floor,width:g0,headerName:t("Grid.Headers.Basic.WEIGHT")},{field:"BASIC",valueFormatter:Q.floor,width:ra,headerName:t("Grid.Headers.Basic.BASIC")},{field:"SKILL",valueFormatter:Q.floor,width:ra,headerName:t("Grid.Headers.Basic.SKILL")},{field:"ULT",valueFormatter:Q.floor,width:ra,headerName:t("Grid.Headers.Basic.CR")},{field:"FUA",valueFormatter:Q.floor,width:ra,headerName:t("Grid.Headers.Basic.FUA")},{field:"DOT",valueFormatter:Q.floor,width:ra,headerName:t("Grid.Headers.Basic.DOT")},{field:"BREAK",valueFormatter:Q.floor,width:$t,headerName:t("Grid.Headers.Basic.BREAK")},{field:"COMBO",valueFormatter:Q.floor,width:C0,headerName:t("Grid.Headers.Basic.COMBO")}]}function ld(t){return[{field:"relicSetIndex",cellRenderer:Q.relicSet,width:72,headerName:t("Grid.Headers.Combat.Set")},{field:"ornamentSetIndex",cellRenderer:Q.ornamentSet,width:42,headerName:t("Grid.Headers.Combat.Set")},{field:"xATK",valueFormatter:Q.floor,width:$t,cellStyle:yt.getOptimizerColumnGradient,headerName:t("Grid.Headers.Combat.ATK")},{field:"xDEF",valueFormatter:Q.floor,width:$t,cellStyle:yt.getOptimizerColumnGradient,headerName:t("Grid.Headers.Combat.DEF")},{field:"xHP",valueFormatter:Q.floor,width:$t,cellStyle:yt.getOptimizerColumnGradient,headerName:t("Grid.Headers.Combat.HP")},{field:"xSPD",valueFormatter:Q.tenths,width:$t,cellStyle:yt.getOptimizerColumnGradient,headerName:t("Grid.Headers.Combat.SPD")},{field:"xCR",valueFormatter:Q.x100Tenths,width:$t,cellStyle:yt.getOptimizerColumnGradient,headerName:t("Grid.Headers.Combat.CR")},{field:"xCD",valueFormatter:Q.x100Tenths,width:$t,cellStyle:yt.getOptimizerColumnGradient,headerName:t("Grid.Headers.Combat.CD")},{field:"xEHR",valueFormatter:Q.x100Tenths,width:$t,cellStyle:yt.getOptimizerColumnGradient,headerName:t("Grid.Headers.Combat.EHR")},{field:"xRES",valueFormatter:Q.x100Tenths,width:En,cellStyle:yt.getOptimizerColumnGradient,headerName:t("Grid.Headers.Combat.RES")},{field:"xBE",valueFormatter:Q.x100Tenths,width:$t,cellStyle:yt.getOptimizerColumnGradient,headerName:t("Grid.Headers.Combat.BE")},{field:"xOHB",valueFormatter:Q.x100Tenths,width:En,headerName:t("Grid.Headers.Combat.OHB")},{field:"xERR",valueFormatter:Q.x100Tenths,width:En,headerName:t("Grid.Headers.Combat.ERR")},{field:"xELEMENTAL_DMG",valueFormatter:Q.x100Tenths,width:$t,headerName:t("Grid.Headers.Combat.DMG")},{field:"EHP",valueFormatter:Q.floor,width:$t,headerName:t("Grid.Headers.Combat.EHP")},{field:"WEIGHT",valueFormatter:Q.floor,width:g0,headerName:t("Grid.Headers.Combat.WEIGHT")},{field:"BASIC",valueFormatter:Q.floor,width:ra,headerName:t("Grid.Headers.Combat.BASIC")},{field:"SKILL",valueFormatter:Q.floor,width:ra,headerName:t("Grid.Headers.Combat.SKILL")},{field:"ULT",valueFormatter:Q.floor,width:ra,headerName:t("Grid.Headers.Combat.ULT")},{field:"FUA",valueFormatter:Q.floor,width:ra,headerName:t("Grid.Headers.Combat.FUA")},{field:"DOT",valueFormatter:Q.floor,width:ra,headerName:t("Grid.Headers.Combat.DOT")},{field:"BREAK",valueFormatter:Q.floor,width:$t,headerName:t("Grid.Headers.Combat.BREAK")},{field:"COMBO",valueFormatter:Q.floor,width:C0,headerName:t("Grid.Headers.Combat.COMBO")}]}const _l={rowHeight:33,pagination:!0,rowSelection:"single",rowModelType:"infinite",datasource:null,paginationPageSize:500,paginationPageSizeSelector:[100,500,1e3],cacheBlockSize:500,maxBlocksInCache:1,suppressDragLeaveHidesColumns:!0,suppressScrollOnNewData:!0,suppressMultiSort:!0,getRowId:t=>String(t.data.id||x.randomId())},od={cellStyle:yt.getOptimizerColumnGradient,sortable:!0,sortingOrder:["desc","asc"],wrapHeaderText:!0,autoHeaderHeight:!0},{useToken:cd}=Ze,rd="rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.15) 0px 0px 0px 1px inset",dd=5,ud=Xe,md=373,bd=1183,hd={small:ud,medium:md,large:bd};function Ne(t){var s;const{token:a}=cd(),i=t.size??"small",l=hd[i];return n.jsx(g,{style:{borderRadius:5,backgroundColor:a.colorBgContainer,height:t.height??350,padding:T0,boxShadow:rd,overflow:(s=t.style)==null?void 0:s.overflow},children:n.jsx(g,{style:{width:l},justify:t.justify??void 0,children:n.jsx(g,{vertical:!0,style:{width:l-.5},gap:dd,justify:t.justify??void 0,children:t.children})})})}function dn(t){const a=t.width??10;return n.jsx(g,{vertical:!0,children:n.jsx(Ge,{type:"vertical",style:{flexGrow:1,margin:`10px ${a}px`}})})}const D0=xe(Ge)`
    margin: 5px 0px;
`;function wt(t){return t>>2}function $(t){return Math.min(1,t>>1)}function Za(){const t={mainStat:d.Stats.HP,mainValue:0};for(const a of Object.values(d.Stats))t[a]=0;return{set:-1,augmentedStats:t,substats:[]}}function pd(){return{[e.HP]:0,[e.ATK]:0,[e.DEF]:0}}const zl={[d.Stats.SPD]:[7.613,11.419,16.426,25.032],[d.Stats.HP]:[139.991,281.111,469.647,705.6],[d.Stats.ATK]:[69.996,140.556,234.824,352.8],[d.Stats.HP_P]:[8.571,17.211,28.754,43.2],[d.Stats.ATK_P]:[8.571,17.211,28.754,43.2],[d.Stats.DEF_P]:[10.714,21.514,35.942,54],[d.Stats.CR]:[6.428,12.908,21.565,32.4],[d.Stats.CD]:[12.856,25.817,43.13,64.8],[d.Stats.OHB]:[6.856,13.769,23.003,34.561],[d.Stats.EHR]:[8.571,17.211,28.754,43.2],[d.Stats.BE]:[12.856,25.817,43.13,64.8],[d.Stats.ERR]:[3.857,7.745,12.939,19.439],[d.Stats.Physical_DMG]:[7.714,15.49,25.878,38.88],[d.Stats.Fire_DMG]:[7.714,15.49,25.878,38.88],[d.Stats.Ice_DMG]:[7.714,15.49,25.878,38.88],[d.Stats.Lightning_DMG]:[7.714,15.49,25.878,38.88],[d.Stats.Wind_DMG]:[7.714,15.49,25.878,38.88],[d.Stats.Quantum_DMG]:[7.714,15.49,25.878,38.88],[d.Stats.Imaginary_DMG]:[7.714,15.49,25.878,38.88]},Oe={getMaxedSubstatValue:(t,a=1)=>a==.8?x.precisionRound(St[t][5].low):a==.9?x.precisionRound(St[t][5].mid):x.precisionRound(St[t][5].high),getMaxedStatValue:t=>{if(t==="NONE")return 0;const a=x.isFlat(t)?1:100;return x.precisionRound(zl[t][3]/a)},getMaxedMainStat:t=>zl[t.main.stat][t.grade-2],calculateCv:t=>{let a=0;for(const i of t)if(!(!i||!i.condensedStats))for(const l of i.condensedStats)l[0]==d.Stats.CD&&(a+=l[1]),l[0]==d.Stats.CR&&(a+=l[1]*2);return x.precisionRound(a*100)}},W={clone(t){return t&&JSON.parse(JSON.stringify(t))},objectHash(t){return n0(t)},sumArray:t=>t.reduce((a,i)=>a+i,0),precisionRound:(t,a=5)=>{const i=Math.pow(10,a);return Math.round(t*i)/i},calculateRelicMainStatValue:(t,a,i)=>d.MainStatsValues[t][a].base+d.MainStatsValues[t][a].increment*i},ee={calculateWeightScore:(t,a)=>{const i=t.weights||{},l=L.getMetadata().characters[t.characterId].stats,s={[d.Stats.HP_P]:64.8/43.2,[d.Stats.ATK_P]:64.8/43.2,[d.Stats.DEF_P]:64.8/54,[d.Stats.HP]:1/(l[d.Stats.HP]*2*.01)*(64.8/43.2),[d.Stats.ATK]:1/(l[d.Stats.ATK]*2*.01)*(64.8/43.2),[d.Stats.DEF]:1/(l[d.Stats.DEF]*2*.01)*(64.8/54),[d.Stats.CR]:64.8/32.4,[d.Stats.CD]:64.8/64.8,[d.Stats.OHB]:64.8/34.5,[d.Stats.EHR]:64.8/43.2,[d.Stats.RES]:64.8/43.2,[d.Stats.SPD]:64.8/25,[d.Stats.BE]:64.8/64.8};i[d.Stats.ATK]=i[d.Stats.ATK_P],i[d.Stats.DEF]=i[d.Stats.DEF_P],i[d.Stats.HP]=i[d.Stats.HP_P];for(const o of Object.keys(i))i[o]==null&&(i[o]=0);for(const o of a){let c=0;for(const r of o.substats){const u=i[r.stat]||0,f=s[r.stat]||0,p=r.value||0;c+=p*u*f}o.weightScore=c}return a},applyTopFilter:(t,a,i)=>{const l=t.weights||{},s={[T.Head]:l.headHands||0,[T.Hands]:l.headHands||0,[T.Body]:l.bodyFeet||0,[T.Feet]:l.bodyFeet||0,[T.PlanarSphere]:l.sphereRope||0,[T.LinkRope]:l.sphereRope||0};for(const o of Object.values(d.Parts)){const c=a[o];a[o]=c.filter(r=>r.weightScore>=s[o]*6.48*.8)}return a},applyRankFilter:(t,a)=>{if(!t.rankFilter)return a;const i=L.getCharacters(),l=t.characterId,s={};for(let o=0;o<i.length;o++){const c=i[o];if(c.id!=l){if(o>=t.rank)break;Object.values(c.equipped).filter(r=>r!=null).map(r=>s[r]=!0)}}return a.filter(o=>!s[o.id])},applyExcludeFilter:(t,a)=>{if(!t.exclude)return a;const i=L.getCharacters(),l=[];for(const s of i)t.exclude.includes(s.id)&&s.id!=t.characterId&&Object.values(s.equipped).filter(o=>o!=null).map(o=>l[o]=!0);return a.filter(s=>!l[s.id])},applyMainFilter:(t,a)=>{const i=[];return i.push(...a.filter(l=>l.part==d.Parts.Head)),i.push(...a.filter(l=>l.part==d.Parts.Hands)),i.push(...a.filter(l=>l.part==d.Parts.Body).filter(l=>t.mainBody.length==0||t.mainBody.includes(l.main.stat))),i.push(...a.filter(l=>l.part==d.Parts.Feet).filter(l=>t.mainFeet.length==0||t.mainFeet.includes(l.main.stat))),i.push(...a.filter(l=>l.part==d.Parts.PlanarSphere).filter(l=>t.mainPlanarSphere.length==0||t.mainPlanarSphere.includes(l.main.stat))),i.push(...a.filter(l=>l.part==d.Parts.LinkRope).filter(l=>t.mainLinkRope.length==0||t.mainLinkRope.includes(l.main.stat))),i},applyEnhanceFilter:(t,a)=>a.filter(i=>i.enhance>=t.enhance),applyEquippedFilter:(t,a)=>{if(t.includeEquippedRelics)return a;const i=t.characterId||"99999999";let l=[];return window.store.getState().characters.forEach(o=>{o.id!=i&&(l=l.concat(Object.values(o.equipped)))}),a.filter(o=>!l.includes(o.id))},applyGradeFilter:(t,a)=>a.filter(i=>i.grade?i.grade>=t.grade:!0),applySetFilter:(t,a)=>{function i(s,o){if(!s.relicSets||s.relicSets.length==0)return o;let c=x.arrayOfZeroes(Object.values(d.SetsRelics).length);for(const r of s.relicSets){if(r[0]==De.relic4Piece&&(r.length==1&&(c=x.arrayOfValue(Object.values(d.SetsRelics).length,1)),r.length==2)){const u=d.RelicSetToIndex[r[1]];c[u]=1}if(r[0]==De.relic2PlusAny&&(c=x.arrayOfValue(Object.values(d.SetsRelics).length,1)),(r[0]=="2 Piece"||r[0]==De.relic2Plus2Piece)&&(r.length==1&&(c=x.arrayOfValue(Object.values(d.SetsRelics).length,1)),r.length==2&&(c=x.arrayOfValue(Object.values(d.SetsRelics).length,1)),r.length==3)){r[2]=="Any"&&(c=x.arrayOfValue(Object.values(d.SetsRelics).length,1));const u=d.RelicSetToIndex[r[1]];c[u]=1;const f=d.RelicSetToIndex[r[2]];c[f]=1}}return o.filter(r=>r.part==d.Parts.Head||r.part==d.Parts.Hands||r.part==d.Parts.Body||r.part==d.Parts.Feet?c[d.RelicSetToIndex[r.set]]==1:!0)}function l(s,o){if(!s.ornamentSets||s.ornamentSets.length==0)return o;const c=x.arrayOfZeroes(Object.values(d.SetsOrnaments).length);for(const r of s.ornamentSets){const u=d.OrnamentSetToIndex[r];c[u]=1}return o.filter(r=>r.part==d.Parts.PlanarSphere||r.part==d.Parts.LinkRope?c[d.OrnamentSetToIndex[r.set]]==1:!0)}return l(t,i(t,a))},applyCurrentFilter:(t,a)=>{if(!t.keepCurrentRelics)return a;const i=L.getCharacterById(t.characterId);if(!i)return a;function l(s){if(!i.equipped[s])return a[s];const o=a[s].find(c=>c.id==i.equipped[s]);return o?[o]:[]}return{Head:l(d.Parts.Head),Hands:l(d.Parts.Hands),Body:l(d.Parts.Body),Feet:l(d.Parts.Feet),PlanarSphere:l(d.Parts.PlanarSphere),LinkRope:l(d.Parts.LinkRope)}},splitRelicsByPart:t=>({Head:t.filter(a=>a.part==d.Parts.Head),Hands:t.filter(a=>a.part==d.Parts.Hands),Body:t.filter(a=>a.part==d.Parts.Body),Feet:t.filter(a=>a.part==d.Parts.Feet),PlanarSphere:t.filter(a=>a.part==d.Parts.PlanarSphere),LinkRope:t.filter(a=>a.part==d.Parts.LinkRope)}),applyMainStatsFilter:({mainStatUpscaleLevel:t},a)=>(t&&a.map(i=>{const{grade:l,enhance:s,main:{stat:o}}=i,c=l*3;if(s<c&&s<t){const r=c<t?c:t,u=W.calculateRelicMainStatValue(o,l,r)/(x.isFlat(i.main.stat)?1:100);return i.augmentedStats.mainValue=u}}),a),condenseRelicSubstatsForOptimizerSingle:t=>{for(const a of t){a.condensedStats=[];for(const i of a.substats){const l=i.stat,s=ql(l,i.value);a.condensedStats.push([l,s])}a.condensedStats.push([a.augmentedStats.mainStat,a.augmentedStats.mainValue]),delete a.augmentedStats,delete a.weights}},condenseRelicSubstatsForOptimizer:t=>{for(const a of Object.keys(d.Parts)){const i=t[a];for(const l of i){l.condensedStats=[];for(const s of l.substats){const o=s.stat,c=ql(o,s.value);l.condensedStats.push([o,c])}l.condensedStats.push([l.augmentedStats.mainStat,l.augmentedStats.mainValue]),delete l.augmentedStats,delete l.weights}}return t}};function ql(t,a){return x.precisionRound(x.isFlat(t)?a:a/100)}const xn={getZeroes:function(){return{[d.Stats.ATK]:0,[d.Stats.DEF]:0,[d.Stats.HP]:0,[d.Stats.ATK_P]:0,[d.Stats.DEF_P]:0,[d.Stats.HP_P]:0,[d.Stats.SPD]:0,[d.Stats.SPD_P]:0,[d.Stats.CR]:0,[d.Stats.CD]:0,[d.Stats.EHR]:0,[d.Stats.RES]:0,[d.Stats.BE]:0,[d.Stats.ERR]:0,[d.Stats.OHB]:0,[d.Stats.Physical_DMG]:0,[d.Stats.Fire_DMG]:0,[d.Stats.Ice_DMG]:0,[d.Stats.Lightning_DMG]:0,[d.Stats.Wind_DMG]:0,[d.Stats.Quantum_DMG]:0,[d.Stats.Imaginary_DMG]:0}}},rt=.06,ue=1,Qt=2,Ft=4,It=8,Va=16,wn=32,I0=64,Sd={BASIC_DMG_TYPE:ue,SKILL_DMG_TYPE:Qt,ULT_DMG_TYPE:Ft,FUA_DMG_TYPE:It,DOT_DMG_TYPE:Va,BREAK_DMG_TYPE:wn,SUPER_BREAK_DMG_TYPE:I0,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:1e-4,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0,ELEMENTAL_DMG:0,BASIC_SCALING:0,SKILL_SCALING:0,ULT_SCALING:0,FUA_SCALING:0,DOT_SCALING:0,BASIC_CR_BOOST:0,SKILL_CR_BOOST:0,ULT_CR_BOOST:0,FUA_CR_BOOST:0,BASIC_CD_BOOST:0,SKILL_CD_BOOST:0,ULT_CD_BOOST:0,FUA_CD_BOOST:0,BASIC_BOOST:0,SKILL_BOOST:0,ULT_BOOST:0,FUA_BOOST:0,DOT_BOOST:0,VULNERABILITY:0,BASIC_VULNERABILITY:0,SKILL_VULNERABILITY:0,ULT_VULNERABILITY:0,FUA_VULNERABILITY:0,DOT_VULNERABILITY:0,BREAK_VULNERABILITY:0,DEF_PEN:0,BASIC_DEF_PEN:0,SKILL_DEF_PEN:0,ULT_DEF_PEN:0,FUA_DEF_PEN:0,DOT_DEF_PEN:0,BREAK_DEF_PEN:0,SUPER_BREAK_DEF_PEN:0,RES_PEN:0,PHYSICAL_RES_PEN:0,FIRE_RES_PEN:0,ICE_RES_PEN:0,LIGHTNING_RES_PEN:0,WIND_RES_PEN:0,QUANTUM_RES_PEN:0,IMAGINARY_RES_PEN:0,BASIC_RES_PEN:0,SKILL_RES_PEN:0,ULT_RES_PEN:0,FUA_RES_PEN:0,DOT_RES_PEN:0,BASIC_DMG:0,SKILL_DMG:0,ULT_DMG:0,FUA_DMG:0,DOT_DMG:0,BREAK_DMG:0,COMBO_DMG:0,DMG_RED_MULTI:1,EHP:0,DOT_CHANCE:0,EFFECT_RES_PEN:0,DOT_SPLIT:0,DOT_STACKS:0,ENEMY_WEAKNESS_BROKEN:0,SUPER_BREAK_MODIFIER:0,BASIC_SUPER_BREAK_MODIFIER:0,SUPER_BREAK_HMC_MODIFIER:0,BASIC_TOUGHNESS_DMG:0,SKILL_TOUGHNESS_DMG:0,ULT_TOUGHNESS_DMG:0,FUA_TOUGHNESS_DMG:0,BASIC_ORIGINAL_DMG_BOOST:0,SKILL_ORIGINAL_DMG_BOOST:0,ULT_ORIGINAL_DMG_BOOST:0,BASIC_BREAK_DMG_MODIFIER:0,ULT_CD_OVERRIDE:0,ULT_BOOSTS_MULTI:1,RATIO_BASED_HP_BUFF:0,RATIO_BASED_HP_P_BUFF:0,RATIO_BASED_ATK_BUFF:0,RATIO_BASED_ATK_P_BUFF:0,RATIO_BASED_DEF_BUFF:0,RATIO_BASED_DEF_P_BUFF:0,RATIO_BASED_SPD_BUFF:0,RATIO_BASED_CD_BUFF:0,BREAK_EFFICIENCY_BOOST:0,BASIC_BREAK_EFFICIENCY_BOOST:0,ULT_BREAK_EFFICIENCY_BOOST:0,sets:{},WEIGHT:0},Tn=(t,a=8)=>{const i=Math.pow(10,a);return Math.round(t*i)/i},hn=(t,a,i)=>{const l=Rd(t.sets.TheAshblazingGrandDuke),o=.06*a.setConditionals[d.Sets.TheAshblazingGrandDuke][1]*l*a.baseAtk;return i*l*a.baseAtk-o},O=(t,a)=>t.find(i=>i.id==a),Rd=t=>t>>2,se=t=>(a,i,l)=>a>=t?l:i,it={SKILL_TALENT_3_ULT_BASIC_5:{basic:se(5),skill:se(3),ult:se(5),talent:se(3)},SKILL_BASIC_3_ULT_TALENT_5:{basic:se(3),skill:se(3),ult:se(5),talent:se(5)},ULT_TALENT_3_SKILL_BASIC_5:{basic:se(5),skill:se(5),ult:se(3),talent:se(3)},ULT_BASIC_3_SKILL_TALENT_5:{basic:se(3),skill:se(5),ult:se(3),talent:se(5)},SKILL_ULT_3_BASIC_TALENT_5:{basic:se(5),skill:se(3),ult:se(3),talent:se(5)}};function Ut(t){t.BASIC_DMG+=t.BASIC_SCALING*t[e.ATK],t.SKILL_DMG+=t.SKILL_SCALING*t[e.ATK],t.ULT_DMG+=t.ULT_SCALING*t[e.ATK],t.FUA_DMG+=t.FUA_SCALING*t[e.ATK],t.DOT_DMG+=t.DOT_SCALING*t[e.ATK]}function Xt(){return`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * x.ATK;
x.FUA_DMG += x.FUA_SCALING * x.ATK;
x.DOT_DMG += x.DOT_SCALING * x.ATK;
    `}function V0(t){t.BASIC_DMG+=t.BASIC_SCALING*t[e.HP],t.SKILL_DMG+=t.SKILL_SCALING*t[e.HP],t.ULT_DMG+=t.ULT_SCALING*t[e.HP],t.FUA_DMG+=t.FUA_SCALING*t[e.HP],t.DOT_DMG+=t.DOT_SCALING*t[e.HP]}function W0(){return`
x.BASIC_DMG += x.BASIC_SCALING * x.HP;
x.SKILL_DMG += x.SKILL_SCALING * x.HP;
x.ULT_DMG += x.ULT_SCALING * x.HP;
x.FUA_DMG += x.FUA_SCALING * x.HP;
x.DOT_DMG += x.DOT_SCALING * x.HP;
    `}function ye(t,a,i){t.BASIC_DMG+=t.BASIC_SCALING*t[e.ATK],t.SKILL_DMG+=t.SKILL_SCALING*t[e.ATK],t.ULT_DMG+=t.ULT_SCALING*t[e.ATK],t.FUA_DMG+=t.FUA_SCALING*(t[e.ATK]+hn(t,a,i)),t.DOT_DMG+=t.DOT_SCALING*t[e.ATK]}function Le(t){return`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * x.ATK;
x.FUA_DMG += x.FUA_SCALING * (x.ATK + calculateAshblazingSet(p_x, p_state, ${t}));
x.DOT_DMG += x.DOT_SCALING * x.ATK;
    `}function ot(t,a,i,l){l!==!1&&(a&t.BASIC_DMG_TYPE&&(t.BASIC_BOOST+=i),a&t.SKILL_DMG_TYPE&&(t.SKILL_BOOST+=i),a&t.ULT_DMG_TYPE&&(t.ULT_BOOST+=i),a&t.FUA_DMG_TYPE&&(t.FUA_BOOST+=i),a&t.DOT_DMG_TYPE&&(t.DOT_BOOST+=i))}function na(t,a,i,l){l!==!1&&(a&t.BASIC_DMG_TYPE&&(t.BASIC_VULNERABILITY+=i),a&t.SKILL_DMG_TYPE&&(t.SKILL_VULNERABILITY+=i),a&t.ULT_DMG_TYPE&&(t.ULT_VULNERABILITY+=i),a&t.FUA_DMG_TYPE&&(t.FUA_VULNERABILITY+=i),a&t.DOT_DMG_TYPE&&(t.DOT_VULNERABILITY+=i),a&t.BREAK_DMG_TYPE&&(t.BREAK_VULNERABILITY+=i))}function Pn(t,a,i,l){l!==!1&&(a&t.BASIC_DMG_TYPE&&(t.BASIC_RES_PEN+=i),a&t.SKILL_DMG_TYPE&&(t.SKILL_RES_PEN+=i),a&t.ULT_DMG_TYPE&&(t.ULT_RES_PEN+=i),a&t.FUA_DMG_TYPE&&(t.FUA_RES_PEN+=i),a&t.DOT_DMG_TYPE&&(t.DOT_RES_PEN+=i))}function ba(t,a,i,l){l!==!1&&(a&t.BASIC_DMG_TYPE&&(t.BASIC_DEF_PEN+=i),a&t.SKILL_DMG_TYPE&&(t.SKILL_DEF_PEN+=i),a&t.ULT_DMG_TYPE&&(t.ULT_DEF_PEN+=i),a&t.FUA_DMG_TYPE&&(t.FUA_DEF_PEN+=i),a&t.DOT_DMG_TYPE&&(t.DOT_DEF_PEN+=i),a&t.BREAK_DMG_TYPE&&(t.BREAK_DEF_PEN+=i),a&t.SUPER_BREAK_DMG_TYPE&&(t.SUPER_BREAK_DEF_PEN+=i))}function hl(t,a,i,l){l!==!1&&(a&t.BASIC_DMG_TYPE&&(t.BASIC_CR_BOOST+=i),a&t.SKILL_DMG_TYPE&&(t.SKILL_CR_BOOST+=i),a&t.ULT_DMG_TYPE&&(t.ULT_CR_BOOST+=i),a&t.FUA_DMG_TYPE&&(t.FUA_CR_BOOST+=i))}function Da(t,a,i,l){l!==!1&&(a&t.BASIC_DMG_TYPE&&(t.BASIC_CD_BOOST+=i),a&t.SKILL_DMG_TYPE&&(t.SKILL_CD_BOOST+=i),a&t.ULT_DMG_TYPE&&(t.ULT_CD_BOOST+=i),a&t.FUA_DMG_TYPE&&(t.FUA_CD_BOOST+=i))}const fd=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_TALENT_3_ULT_BASIC_5,c=t>=4?12:10,r=i(t,1,1.1),u=l(t,1.2,1.32),f=s(t,1.6,1.728),p=s(t,2.8,3.024),G=s(t,.95,1.026),h=o(t,.025,.028),m=(()=>{if(a)return[];const b=I.getFixedT(null,"conditionals","Characters.Argenti.Content");return[{formItem:"switch",id:"ultEnhanced",name:"ultEnhanced",text:b("ultEnhanced.text"),title:b("ultEnhanced.title"),content:b("ultEnhanced.content",{ultEnhancedExtraHitScaling:W.precisionRound(100*G),ultEnhancedScaling:W.precisionRound(100*p)})},{formItem:"switch",id:"enemyHp50",name:"enemyHp50",text:b("enemyHp50.text"),title:b("enemyHp50.title"),content:b("enemyHp50.content")},{formItem:"slider",id:"talentStacks",name:"talentStacks",text:b("talentStacks.text"),title:b("talentStacks.title"),content:b("talentStacks.content",{talentMaxStacks:W.precisionRound(100*c),talentCrStackValue:W.precisionRound(100*h)}),min:0,max:c},{formItem:"slider",id:"ultEnhancedExtraHits",name:"ultEnhancedExtraHits",text:b("ultEnhancedExtraHits.text"),title:b("ultEnhancedExtraHits.title"),content:b("ultEnhancedExtraHits.content",{ultEnhancedExtraHitScaling:W.precisionRound(100*G)}),min:0,max:6},{formItem:"switch",id:"e2UltAtkBuff",name:"e2UltAtkBuff",text:b("e2UltAtkBuff.text"),title:b("e2UltAtkBuff.title"),content:b("e2UltAtkBuff.content"),disabled:t<2}]})();return{content:()=>m,teammateContent:()=>[],defaults:()=>({ultEnhanced:!0,talentStacks:c,ultEnhancedExtraHits:6,e2UltAtkBuff:!0,enemyHp50:!0}),teammateDefaults:()=>({}),precomputeEffects:(b,R)=>{const S=R.characterConditionals;return b[e.CR]+=S.talentStacks*h,b[e.CD]+=t>=1?S.talentStacks*.04:0,b[e.ATK_P]+=t>=2&&S.e2UltAtkBuff?.4:0,b.BASIC_SCALING+=r,b.SKILL_SCALING+=u,b.ULT_SCALING+=S.ultEnhanced?p:f,b.ULT_SCALING+=S.ultEnhancedExtraHits*G,b.ELEMENTAL_DMG+=S.enemyHp50?.15:0,ba(b,Ft,.3,t>=6),b.BASIC_TOUGHNESS_DMG+=30,b.SKILL_TOUGHNESS_DMG+=30,b.ULT_TOUGHNESS_DMG+=S.ultEnhanced?60+15*S.ultEnhancedExtraHits:60,b},precomputeMutualEffects:(b,R)=>{},finalizeCalculations:b=>Ut(b),gpuFinalizeCalculations:()=>Xt()}},Gd=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=i(t,1,1.1),r=l(t,2.4,2.64),u=s(t,3.2,3.456),f=o(t,.72,.792),p=(()=>{if(a)return[];const G=I.getFixedT(null,"conditionals","Characters.Arlan.Content");return[{formItem:"slider",id:"selfCurrentHpPercent",name:"selfCurrentHpPercent",text:G("selfCurrentHpPercent.text"),title:G("selfCurrentHpPercent.title"),content:G("selfCurrentHpPercent.content",{talentMissingHpDmgBoostMax:W.precisionRound(100*f)}),min:.01,max:1,percent:!0}]})();return{content:()=>p,teammateContent:()=>[],defaults:()=>({selfCurrentHpPercent:1}),teammateDefaults:()=>({}),precomputeEffects:(G,h)=>{const m=h.characterConditionals;return G.ELEMENTAL_DMG+=Math.min(f,1-m.selfCurrentHpPercent),G.BASIC_SCALING+=c,G.SKILL_SCALING+=r,G.ULT_SCALING+=u,ot(G,Qt,.1,t>=1&&m.selfCurrentHpPercent<=.5),ot(G,Ft,.2,t>=6&&m.selfCurrentHpPercent<=.5),G.BASIC_TOUGHNESS_DMG+=30,G.SKILL_TOUGHNESS_DMG+=60,G.ULT_TOUGHNESS_DMG+=60,G},precomputeMutualEffects:(G,h)=>{},finalizeCalculations:G=>Ut(G),gpuFinalizeCalculations:()=>Xt()}},Zd=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_TALENT_3_ULT_BASIC_5,c=s(t,50,52.8),r=o(t,.14,.154),u=.06,f=t>=1?5:4,p=i(t,1,1.1),G=l(t,.5,.55),h=s(t,0,0),m=i(t,.5,.55),b=(()=>{if(a)return[];const S=I.getFixedT(null,"conditionals","Characters.Asta.Content");return[{formItem:"slider",id:"skillExtraDmgHits",name:"skillExtraDmgHits",text:S("skillExtraDmgHits.text"),title:S("skillExtraDmgHits.title"),content:S("skillExtraDmgHits.content",{skillExtraDmgHitsMax:f}),min:0,max:f},{formItem:"slider",id:"talentBuffStacks",name:"talentBuffStacks",text:S("talentBuffStacks.text"),title:S("talentBuffStacks.title"),content:S("talentBuffStacks.content",{talentStacksAtkBuff:W.precisionRound(100*r)}),min:0,max:5},{formItem:"switch",id:"ultSpdBuff",name:"ultSpdBuff",text:S("ultSpdBuff.text"),title:S("ultSpdBuff.title"),content:S("ultSpdBuff.content",{ultSpdBuffValue:c})},{formItem:"switch",id:"fireDmgBoost",name:"fireDmgBoost",text:S("fireDmgBoost.text"),title:S("fireDmgBoost.title"),content:S("fireDmgBoost.content")}]})(),R=a?[]:[O(b,"talentBuffStacks"),O(b,"ultSpdBuff"),O(b,"fireDmgBoost")];return{content:()=>b,teammateContent:()=>R,defaults:()=>({talentBuffStacks:5,skillExtraDmgHits:f,ultSpdBuff:!0,fireDmgBoost:!0}),teammateDefaults:()=>({talentBuffStacks:5,ultSpdBuff:!0,fireDmgBoost:!0}),precomputeEffects:(S,Z)=>{const C=Z.characterConditionals;return S[e.DEF_P]+=C.talentBuffStacks*u,S[e.ERR]+=t>=4&&C.talentBuffStacks>=2?.15:0,S.BASIC_SCALING+=p,S.SKILL_SCALING+=G+C.skillExtraDmgHits*G,S.ULT_SCALING+=h,S.DOT_SCALING+=m,S.BASIC_TOUGHNESS_DMG+=30,S.SKILL_TOUGHNESS_DMG+=30+15*C.skillExtraDmgHits,S.DOT_CHANCE=.8,S},precomputeMutualEffects:(S,Z)=>{const C=Z.characterConditionals;S[e.SPD]+=C.ultSpdBuff?c:0,S[e.ATK_P]+=C.talentBuffStacks*r,S[e.Fire_DMG]+=C.fireDmgBoost?.18:0},finalizeCalculations:S=>Ut(S),gpuFinalizeCalculations:()=>Xt()}},gd=(t,a)=>{const{basic:i,skill:l,ult:s}=it.SKILL_TALENT_3_ULT_BASIC_5,o=i(t,1,1.1),c=l(t,0,0),r=s(t,0,0),u=(()=>{if(a)return[];const p=I.getFixedT(null,"conditionals","Characters.Bailu.Content");return[{formItem:"switch",id:"healingMaxHpBuff",name:"healingMaxHpBuff",text:p("healingMaxHpBuff.text"),title:p("healingMaxHpBuff.title"),content:p("healingMaxHpBuff.content")},{formItem:"switch",id:"talentDmgReductionBuff",name:"talentDmgReductionBuff",text:p("talentDmgReductionBuff.text"),title:p("talentDmgReductionBuff.title"),content:p("talentDmgReductionBuff.content")},{formItem:"switch",id:"e2UltHealingBuff",name:"e2UltHealingBuff",text:p("e2UltHealingBuff.text"),title:p("e2UltHealingBuff.title"),content:p("e2UltHealingBuff.content"),disabled:t<2},{formItem:"slider",id:"e4SkillHealingDmgBuffStacks",name:"e4SkillHealingDmgBuffStacks",text:p("e4SkillHealingDmgBuffStacks.text"),title:p("e4SkillHealingDmgBuffStacks.title"),content:p("e4SkillHealingDmgBuffStacks.content"),min:0,max:3,disabled:t<4}]})(),f=a?[]:[O(u,"healingMaxHpBuff"),O(u,"talentDmgReductionBuff"),O(u,"e4SkillHealingDmgBuffStacks")];return{content:()=>u,teammateContent:()=>f,defaults:()=>({healingMaxHpBuff:!0,talentDmgReductionBuff:!0,e2UltHealingBuff:!0,e4SkillHealingDmgBuffStacks:0}),teammateDefaults:()=>({healingMaxHpBuff:!0,talentDmgReductionBuff:!0,e4SkillHealingDmgBuffStacks:3}),precomputeEffects:(p,G)=>{const h=G.characterConditionals;return p[e.OHB]+=t>=2&&h.e2UltHealingBuff?.15:0,p.BASIC_SCALING+=o,p.SKILL_SCALING+=c,p.ULT_SCALING+=r,p.BASIC_TOUGHNESS_DMG+=30,p},precomputeMutualEffects:(p,G)=>{const h=G.characterConditionals;p[e.HP_P]+=h.healingMaxHpBuff?.1:0,p.ELEMENTAL_DMG+=t>=4?h.e4SkillHealingDmgBuffStacks*.1:0,p.DMG_RED_MULTI*=h.talentDmgReductionBuff?1-.1:1},finalizeCalculations:p=>Ut(p),gpuFinalizeCalculations:()=>Xt()}},Mt={SET:0,ABILITY:1},Lt={SINGLE:0,CONTINUOUS:1},E0={id:"RutilantArenaConditional",type:Mt.SET,activation:Lt.SINGLE,dependsOn:[e.CR],condition:function(t,a,i){return $(t.sets.RutilantArena)&&t[e.CR]>=.7},effect:t=>{ot(t,ue|Qt,.2)},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.RutilantArena) >= 1 &&
  (*p_state).RutilantArenaConditional == 0.0 &&
  (*p_x).CR >= 0.70
) {
  (*p_state).RutilantArenaConditional = 1.0;

  buffAbilityDmg(p_x, BASIC_TYPE | SKILL_TYPE, 0.20, 1);
}
    `)}},x0={id:"InertSalsottoConditional",type:Mt.SET,activation:Lt.SINGLE,dependsOn:[e.CR],condition:function(t,a,i){return $(t.sets.InertSalsotto)&&t[e.CR]>=.5},effect:t=>{ot(t,Ft|It,.15)},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.InertSalsotto) >= 1 &&
  (*p_state).InertSalsottoConditional == 0.0 &&
  (*p_x).CR >= 0.50
) {
  (*p_state).InertSalsottoConditional = 1.0;

  buffAbilityDmg(p_x, ULT_TYPE | FUA_TYPE, 0.15, 1);
}
    `)}},y0={id:"SpaceSealingStationConditional",type:Mt.SET,activation:Lt.SINGLE,dependsOn:[e.SPD],condition:function(t,a,i){return $(t.sets.SpaceSealingStation)&&t[e.SPD]>=120},effect:(t,a,i)=>{jt(t,a,i,e.ATK,.12*i.baseATK)},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.SpaceSealingStation) >= 1 &&
  (*p_state).SpaceSealingStationConditional == 0.0 &&
  (*p_x).SPD >= 120
) {
  (*p_state).SpaceSealingStationConditional = 1.0;
  buffNonDynamicATK_P(0.12, p_x, p_state);
}
    `)}},L0={id:"FleetOfTheAgelessConditional",type:Mt.SET,activation:Lt.SINGLE,dependsOn:[e.SPD],condition:function(t,a,i){return $(t.sets.FleetOfTheAgeless)&&t[e.SPD]>=120},effect:(t,a,i)=>{jt(t,a,i,e.ATK,.08*i.baseATK)},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.FleetOfTheAgeless) >= 1 &&
  (*p_state).FleetOfTheAgelessConditional == 0.0 &&
  (*p_x).SPD >= 120
) {
  (*p_state).FleetOfTheAgelessConditional = 1.0;
  buffNonDynamicATK_P(0.08, p_x, p_state);
}
    `)}},F0={id:"BelobogOfTheArchitectsConditional",type:Mt.SET,activation:Lt.SINGLE,dependsOn:[e.EHR],condition:function(t,a,i){return $(t.sets.BelobogOfTheArchitects)&&t[e.EHR]>=.5},effect:(t,a,i)=>{jt(t,a,i,e.DEF,.15*i.baseDEF)},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.BelobogOfTheArchitects) >= 1 &&
  (*p_state).BelobogOfTheArchitectsConditional == 0.0 &&
  (*p_x).EHR >= 0.50
) {
  (*p_state).BelobogOfTheArchitectsConditional = 1.0;
  buffNonDynamicDEF_P(0.15, p_x, p_state);
}
    `)}},M0={id:"IronCavalryAgainstTheScourge150Conditional",type:Mt.SET,activation:Lt.SINGLE,dependsOn:[e.BE],condition:function(t,a,i){return wt(t.sets.IronCavalryAgainstTheScourge)&&t[e.BE]>=1.5},effect:t=>{ba(t,wn,.1)},gpu:function(){return Bt(this,`
if (
  p4((*p_x).sets.IronCavalryAgainstTheScourge) >= 1 &&
  (*p_state).IronCavalryAgainstTheScourge150Conditional == 0.0 &&
  (*p_x).BE >= 1.50
) {
  (*p_state).IronCavalryAgainstTheScourge150Conditional = 1.0;
  buffAbilityDefShred(p_x, BREAK_TYPE, 0.10, 1);
}
    `)}},B0={id:"IronCavalryAgainstTheScourge250Conditional",type:Mt.SET,activation:Lt.SINGLE,dependsOn:[e.BE],condition:function(t,a,i){return wt(t.sets.IronCavalryAgainstTheScourge)&&t[e.BE]>=2.5},effect:t=>{ba(t,I0,.15)},gpu:function(){return Bt(this,`
if (
  p4((*p_x).sets.IronCavalryAgainstTheScourge) >= 1 &&
  (*p_state).IronCavalryAgainstTheScourge250Conditional == 0.0 &&
  (*p_x).BE >= 2.50
) {
  (*p_state).IronCavalryAgainstTheScourge250Conditional = 1.0;
  buffAbilityDefShred(p_x, SUPER_BREAK_TYPE, 0.15, 1);
}
    `)}},P0={id:"PanCosmicCommercialEnterpriseConditional",type:Mt.SET,activation:Lt.CONTINUOUS,dependsOn:[e.EHR],condition:function(t,a,i){return $(t.sets.PanCosmicCommercialEnterprise)},effect:function(t,a,i){const l=i.conditionalState[this.id]||0,s=Math.min(.25,.25*t[e.EHR])*i.baseATK;return i.conditionalState[this.id]=s,jt(t,a,i,e.ATK,s-l),s},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.PanCosmicCommercialEnterprise) >= 1
) {
  let stateValue: f32 = (*p_state).PanCosmicCommercialEnterpriseConditional;
  let buffValue: f32 = min(0.25, 0.25 * (*p_x).EHR) * baseATK;

  (*p_state).PanCosmicCommercialEnterpriseConditional = buffValue;
  buffNonDynamicATK(buffValue - stateValue, p_x, p_state);
}
    `)}},k0={id:"BrokenKeelConditional",type:Mt.SET,activation:Lt.SINGLE,dependsOn:[e.RES],condition:function(t,a,i){return $(t.sets.BrokenKeel)&&t[e.RES]>=.3},effect:function(t,a,i){jt(t,a,i,e.CD,.1)},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.BrokenKeel) >= 1 &&
  (*p_state).BrokenKeelConditional == 0.0 &&
  (*p_x).RES >= 0.30
) {
  (*p_state).BrokenKeelConditional = 1.0;
  buffNonDynamicCD(0.10, p_x, p_state);
}
    `)}},H0={id:"CelestialDifferentiatorConditional",type:Mt.SET,activation:Lt.SINGLE,dependsOn:[e.CD],condition:function(t,a,i){return $(t.sets.CelestialDifferentiator)&&i.enabledCelestialDifferentiator&&t[e.CD]>=1.2},effect:function(t,a,i){jt(t,a,i,e.CR,.6)},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.CelestialDifferentiator) >= 1 &&
  enabledCelestialDifferentiator >= 1 &&
  (*p_state).CelestialDifferentiatorConditional == 0.0 &&
  (*p_x).CD >= 1.20
) {
  (*p_state).CelestialDifferentiatorConditional = 1.0;
  buffNonDynamicCR(0.60, p_x, p_state);
}
    `)}},N0={id:"TaliaKingdomOfBanditryConditional",type:Mt.SET,activation:Lt.SINGLE,dependsOn:[e.SPD],condition:function(t,a,i){return $(t.sets.TaliaKingdomOfBanditry)&&t[e.SPD]>=145},effect:function(t,a,i){jt(t,a,i,e.BE,.2)},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.TaliaKingdomOfBanditry) >= 1 &&
  (*p_state).TaliaKingdomOfBanditryConditional == 0.0 &&
  (*p_x).SPD >= 145
) {
  (*p_state).TaliaKingdomOfBanditryConditional = 1.0;
  buffNonDynamicBE(0.20, p_x, p_state);
}
    `)}},U0={id:"FirmamentFrontlineGlamoth135Conditional",type:Mt.SET,activation:Lt.SINGLE,dependsOn:[e.SPD],condition:function(t,a,i){return $(t.sets.FirmamentFrontlineGlamoth)&&t[e.SPD]>=135},effect:function(t){t.ELEMENTAL_DMG+=.12},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.FirmamentFrontlineGlamoth) >= 1 &&
  (*p_state).FirmamentFrontlineGlamoth135Conditional == 0.0 &&
  (*p_x).SPD >= 135
) {
  (*p_state).FirmamentFrontlineGlamoth135Conditional = 1.0;
  (*p_x).ELEMENTAL_DMG += 0.12;
}
    `)}},X0={id:"FirmamentFrontlineGlamoth160Conditional",type:Mt.SET,activation:Lt.SINGLE,dependsOn:[e.SPD],condition:function(t,a,i){return $(t.sets.FirmamentFrontlineGlamoth)&&t[e.SPD]>=160},effect:function(t){t.ELEMENTAL_DMG+=.06},gpu:function(){return Bt(this,`
if (
  p2((*p_x).sets.FirmamentFrontlineGlamoth) >= 1 &&
  (*p_state).FirmamentFrontlineGlamoth160Conditional == 0.0 &&
  (*p_x).SPD >= 160
) {
  (*p_state).FirmamentFrontlineGlamoth160Conditional = 1.0;
  (*p_x).ELEMENTAL_DMG += 0.06;
}
    `)}},Cd=[y0,E0,x0,L0,F0,M0,B0,P0,k0,H0,N0,U0,X0];function _e(t,a){const i=" ".repeat(a*2);return t.split(`
`).map(l=>i+l).join(`
`)}function Se(t){return t?"true":"false"}function Ke(t){return t?"false":"true"}function Ce(t,a,i,l){t.activation==Lt.SINGLE?!l.conditionalState[t.id]&&t.condition(a,i,l)&&(l.conditionalState[t.id]=1,t.effect(a,i,l)):t.activation==Lt.CONTINUOUS&&t.condition(a,i,l)&&t.effect(a,i,l)}function Bt(t,a){return`
fn evaluate${t.id}(p_x: ptr<function, ComputedStats>, p_state: ptr<function, ConditionalState>) {
  let x = *p_x;
${_e(a.trim(),1)}
}
  `}function jt(t,a,i,l,s){if(!(s<1e-4)){t[l]+=s;for(const o of i.conditionalRegistry[l]||[])Ce(o,t,a,i)}}const Td={id:"AventurineConversionConditional",type:Mt.ABILITY,activation:Lt.CONTINUOUS,dependsOn:[e.DEF],condition:function(t,a,i){return a.characterConditionals.defToCrBoost&&t[e.DEF]>1600},effect:function(t,a,i){const l=i.conditionalState[this.id]||0,s=Math.min(.48,.02*Math.floor((t[e.DEF]-1600)/100));return i.conditionalState[this.id]=s,jt(t,a,i,e.CR,s-l),s},gpu:function(t,a){const i=t.characterConditionals;return Bt(this,`
if (${Ke(i.defToCrBoost)}) {
  return;
}
let def = (*p_x).DEF;
let stateValue: f32 = (*p_state).AventurineConversionConditional;

if (def > 1600) {
  let buffValue: f32 = min(0.48, 0.02 * floor((def - 1600) / 100));

  (*p_state).AventurineConversionConditional = buffValue;
  buffDynamicCR(buffValue - stateValue, p_x, p_state);
}
    `)}},Dd={id:"XueyiConversionConditional",type:Mt.ABILITY,activation:Lt.CONTINUOUS,dependsOn:[e.BE],condition:function(t,a,i){return a.characterConditionals.beToDmgBoost},effect:function(t,a,i){const l=i.conditionalState[this.id]||0,s=Math.min(2.4,t[e.BE]);i.conditionalState[this.id]=s,t.ELEMENTAL_DMG+=s-l},gpu:function(t,a){const i=t.characterConditionals;return Bt(this,`
if (${Ke(i.beToDmgBoost)}) {
  return;
}
let be = (*p_x).BE;
let stateValue: f32 = (*p_state).XueyiConversionConditional;
let buffValue: f32 = min(2.40, be);

(*p_state).XueyiConversionConditional = buffValue;
(*p_x).ELEMENTAL_DMG += buffValue - stateValue;
    `)}},Id={id:"FireflyConversionConditional",type:Mt.ABILITY,activation:Lt.CONTINUOUS,dependsOn:[e.ATK],condition:function(t){return t[e.ATK]>1800},effect:function(t,a,i){const l=i.conditionalState[this.id]||0,s=t[e.ATK]-t.RATIO_BASED_ATK_BUFF-t.RATIO_BASED_ATK_P_BUFF*i.baseATK,o=.008*Math.floor((s-1800)/10);return i.conditionalState[this.id]=o,jt(t,a,i,e.BE,o-l),o},gpu:function(t,a){const i=t.characterConditionals;return Bt(this,`
if (${Ke(i.atkToBeConversion)}) {
  return;
}
let atk = (*p_x).ATK;
let stateValue = (*p_state).FireflyConversionConditional;
let trueAtk = atk - (*p_x).RATIO_BASED_ATK_BUFF - (*p_x).RATIO_BASED_ATK_P_BUFF * baseATK;

if (trueAtk > 1800) {
  let buffValue: f32 = 0.008 * floor((trueAtk - 1800) / 10);

  (*p_state).FireflyConversionConditional = buffValue;
  buffDynamicBE(buffValue - stateValue, p_x, p_state);
}
    `)}},Vd={id:"BoothillConversionConditional",type:Mt.ABILITY,activation:Lt.CONTINUOUS,dependsOn:[e.BE],condition:function(t,a,i){return a.characterConditionals.beToCritBoost},effect:function(t,a,i){const l=i.conditionalState[this.id]||0,s=Math.min(.3,.1*l),o=Math.min(1.5,.5*l),c=Math.min(.3,.1*t[e.BE]),r=Math.min(1.5,.5*t[e.BE]);i.conditionalState[this.id]=t[e.BE],jt(t,a,i,e.CR,c-s),jt(t,a,i,e.CD,r-o)},gpu:function(t,a){const i=t.characterConditionals;return Bt(this,`
if (${Ke(i.beToCritBoost)}) {
  return;
}

let be = (*p_x).BE;
let stateValue = (*p_state).BoothillConversionConditional;

let stateCrBuffValue = min(0.30, 0.10 * stateValue);
let stateCdBuffValue = min(1.50, 0.50 * stateValue);

let crBuffValue = min(0.30, 0.10 * be);
let cdBuffValue = min(1.50, 0.50 * be);

(*p_state).BoothillConversionConditional = be;

buffDynamicCR(crBuffValue - stateCrBuffValue, p_x, p_state);
buffDynamicCD(cdBuffValue - stateCdBuffValue, p_x, p_state);
    `)}},Wd={id:"GepardConversionConditional",type:Mt.ABILITY,activation:Lt.CONTINUOUS,dependsOn:[e.DEF],condition:function(){return!0},effect:function(t,a,i){const l=i.conditionalState[this.id]||0,s=.35*t[e.DEF];i.conditionalState[this.id]=s,jt(t,a,i,e.ATK,s-l)},gpu:function(){return Bt(this,`
let def = (*p_x).DEF;
let stateValue: f32 = (*p_state).GepardConversionConditional;
let buffValue: f32 = 0.35 * def;

(*p_state).GepardConversionConditional = buffValue;
buffDynamicATK(buffValue - stateValue, p_x, p_state);
    `)}},Ed={id:"BlackSwanConversionConditional",type:Mt.ABILITY,activation:Lt.CONTINUOUS,dependsOn:[e.EHR],condition:function(t,a,i){return!0},effect:function(t,a,i){if(!a.characterConditionals.ehrToDmgBoost)return;const s=i.conditionalState[this.id]||0,o=Math.min(.72,.6*t[e.EHR]);i.conditionalState[this.id]=o,t.ELEMENTAL_DMG+=o-s},gpu:function(t,a){const i=t.characterConditionals;return Bt(this,`
if (${Ke(i.ehrToDmgBoost)}) {
  return;
}
let ehr = (*p_x).EHR;
let stateValue: f32 = (*p_state).BlackSwanConversionConditional;
let buffValue: f32 = min(0.72, 0.60 * ehr);

(*p_state).BlackSwanConversionConditional = buffValue;
(*p_x).ELEMENTAL_DMG += buffValue - stateValue;
    `)}},xd={id:"RappaConversionConditional",type:Mt.ABILITY,activation:Lt.CONTINUOUS,dependsOn:[e.ATK],condition:function(t,a,i){return!0},effect:function(t,a,i){if(!a.characterConditionals.atkToBreakVulnerability)return;const s=i.conditionalState[this.id]||0,o=Math.floor(Tn((t[e.ATK]-2400)/100)),c=Math.min(.08,Math.max(0,o)*.01)+.02;i.conditionalState[this.id]=c,t.BREAK_VULNERABILITY+=c-s},gpu:function(t,a){const i=t.characterConditionals;return Bt(this,`
if (${Ke(i.atkToBreakVulnerability)}) {
  return;
}
let atk = (*p_x).ATK;
let stateValue: f32 = (*p_state).RappaConversionConditional;
let atkOverStacks: f32 = floor((x.ATK - 2400) / 100);
let buffValue: f32 = min(0.08, max(0, atkOverStacks) * 0.01) + 0.02;

(*p_state).RappaConversionConditional = buffValue;
(*p_x).BREAK_VULNERABILITY += buffValue - stateValue;
    `)}},yd={id:"GallagherConversionConditional",type:Mt.ABILITY,activation:Lt.CONTINUOUS,dependsOn:[e.BE],condition:function(t,a,i){return!0},effect:function(t,a,i){a.characterConditionals;const l=i.conditionalState[this.id]||0,s=Math.min(.75,.5*t[e.BE]);i.conditionalState[this.id]=s,jt(t,a,i,e.OHB,s-l)},gpu:function(t,a){return t.characterConditionals,Bt(this,`
let be = (*p_x).BE;
let stateValue: f32 = (*p_state).GallagherConversionConditional;
let buffValue: f32 = min(0.75, 0.50 * (*p_x).BE);

(*p_state).GallagherConversionConditional = buffValue;
buffDynamicOHB(buffValue - stateValue, p_x, p_state);
    `)}},Ld={id:"RuanMeiConversionConditional",type:Mt.ABILITY,activation:Lt.CONTINUOUS,dependsOn:[e.BE],condition:function(t,a,i){return!0},effect:function(t,a,i){a.characterConditionals;const l=i.conditionalState[this.id]||0,s=Math.floor(Tn((t[e.BE]*100-120)/10)),o=Math.min(.36,Math.max(0,s)*.06);i.conditionalState[this.id]=o,t.ELEMENTAL_DMG+=o-l},gpu:function(t,a){return t.characterConditionals,Bt(this,`
let be = (*p_x).BE;
let stateValue: f32 = (*p_state).RuanMeiConversionConditional;
let beOver = ((*p_x).BE * 100 - 120) / 10;
let buffValue: f32 = floor(max(0, beOver)) * 0.06;

(*p_state).RuanMeiConversionConditional = buffValue;
(*p_x).ELEMENTAL_DMG += buffValue - stateValue;
    `)}},Fd={id:"JiaoqiuConversionConditional",type:Mt.ABILITY,activation:Lt.CONTINUOUS,dependsOn:[e.EHR],condition:function(t,a,i){return!0},effect:function(t,a,i){if(!a.characterConditionals.ehrToAtkBoost||t[e.EHR]<=.8)return;const s=i.conditionalState[this.id]||0,o=Math.min(2.4,.6*Math.floor((t[e.EHR]-.8)/.15))*a.baseAtk;i.conditionalState[this.id]=o,jt(t,a,i,e.ATK,o-s)},gpu:function(t,a){return t.characterConditionals,Bt(this,`
let ehr = (*p_x).EHR;
let stateValue: f32 = (*p_state).JiaoqiuConversionConditional;
let buffValue: f32 = min(2.40, 0.60 * floor(((*p_x).EHR - 0.80) / 0.15));

(*p_state).JiaoqiuConversionConditional = buffValue;
buffDynamicATK_P(buffValue - stateValue, p_x, p_state);
    `)}},Md={id:"LingshaConversionConditional",type:Mt.ABILITY,activation:Lt.CONTINUOUS,dependsOn:[e.BE],condition:function(t,a,i){return!0},effect:function(t,a,i){if(!a.characterConditionals.beConversion)return;const s=i.conditionalState[this.id]||0,o=Math.min(.5,.25*t[e.BE])*a.baseAtk,c=Math.min(.2,.1*t[e.BE]),r=Math.min(.5,.25*s)*a.baseAtk,u=Math.min(.2,.1*s);i.conditionalState[this.id]=t[e.BE];const f=o-(s?r:0),p=c-(s?u:0);jt(t,a,i,e.ATK,f),jt(t,a,i,e.OHB,p)},gpu:function(t,a){const i=t.characterConditionals;return Bt(this,`
if (${Ke(i.beConversion)}) {
  return;
}

let stateValue: f32 = (*p_state).LingshaConversionConditional;

let buffValueAtk = min(0.50, 0.25 * x.BE) * baseATK;
let buffValueOhb = min(0.20, 0.10 * x.BE);

let stateBuffValueAtk = min(0.50, 0.25 * stateValue) * baseATK;
let stateBuffValueOhb = min(0.20, 0.10 * stateValue);

(*p_state).LingshaConversionConditional = (*p_x).BE;

let finalBuffAtk = buffValueAtk - select(0, stateBuffValueAtk, stateValue > 0);
let finalBuffOhb = buffValueOhb - select(0, stateBuffValueOhb, stateValue > 0);

buffDynamicATK(finalBuffAtk, p_x, p_state);
buffDynamicOHB(finalBuffOhb, p_x, p_state);
    `)}},Bd=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_TALENT_3_ULT_BASIC_5,c=o(t,.12,.132),r=s(t,.25,.27),u=l(t,.208,.22),f=i(t,.6,.66),p=l(t,.9,.99),G=s(t,1.2,1.3),h=o(t,2.4,2.64),m=o(t,.65,.68),b=(()=>{if(a)return[];const S=I.getFixedT(null,"conditionals","Characters.BlackSwan.Content");return[{formItem:"switch",id:"ehrToDmgBoost",name:"ehrToDmgBoost",text:S("ehrToDmgBoost.text"),title:S("ehrToDmgBoost.title"),content:S("ehrToDmgBoost.content")},{formItem:"switch",id:"epiphanyDebuff",name:"epiphanyDebuff",text:S("epiphanyDebuff.text"),title:S("epiphanyDebuff.title"),content:S("epiphanyDebuff.content",{epiphanyDmgTakenBoost:W.precisionRound(100*r)})},{formItem:"switch",id:"defDecreaseDebuff",name:"defDecreaseDebuff",text:S("defDecreaseDebuff.text"),title:S("defDecreaseDebuff.title"),content:S("defDecreaseDebuff.content",{defShredValue:W.precisionRound(100*u)})},{formItem:"slider",id:"arcanaStacks",name:"arcanaStacks",text:S("arcanaStacks.text"),title:S("arcanaStacks.title"),content:S("arcanaStacks.content",{dotScaling:W.precisionRound(100*h),arcanaStackMultiplier:W.precisionRound(100*c)}),min:1,max:50},{formItem:"switch",id:"e1ResReduction",name:"e1ResReduction",text:S("e1ResReduction.text"),title:S("e1ResReduction.title"),content:S("e1ResReduction.content"),disabled:t<1}]})(),R=a?[]:[O(b,"epiphanyDebuff"),O(b,"defDecreaseDebuff"),O(b,"e1ResReduction")];return{content:()=>b,teammateContent:()=>R,defaults:()=>({ehrToDmgBoost:!0,epiphanyDebuff:!0,defDecreaseDebuff:!0,arcanaStacks:7,e1ResReduction:!0}),teammateDefaults:()=>({epiphanyDebuff:!0,defDecreaseDebuff:!0,e1ResReduction:!0}),precomputeEffects:(S,Z)=>{const C=Z.characterConditionals;return S.BASIC_SCALING+=f,S.SKILL_SCALING+=p,S.ULT_SCALING+=G,S.DOT_SCALING+=h+c*C.arcanaStacks,ba(S,Va,.2,C.arcanaStacks>=7),S.BASIC_TOUGHNESS_DMG+=30,S.SKILL_TOUGHNESS_DMG+=60,S.ULT_TOUGHNESS_DMG+=60,S.DOT_CHANCE=m,S.DOT_SPLIT=.05,S.DOT_STACKS=C.arcanaStacks,S},precomputeMutualEffects:(S,Z)=>{const C=Z.characterConditionals;na(S,Va,r,C.epiphanyDebuff),S.DEF_PEN+=C.defDecreaseDebuff?u:0,S.WIND_RES_PEN+=t>=1&&C.e1ResReduction?.25:0,S.FIRE_RES_PEN+=t>=1&&C.e1ResReduction?.25:0,S.PHYSICAL_RES_PEN+=t>=1&&C.e1ResReduction?.25:0,S.LIGHTNING_RES_PEN+=t>=1&&C.e1ResReduction?.25:0},finalizeCalculations:S=>Ut(S),gpuFinalizeCalculations:()=>Xt(),dynamicConditionals:[Ed]}},Pd=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.ULT_TALENT_3_SKILL_BASIC_5,c=l(t,.4,.456),r=.9,u=i(t,1,1.1),f=l(t,.4,.44),p=l(t,1,1.1),G=s(t,.4,.432),h=s(t,1,1.08),m=s(t,1,1.08),b=o(t,.44,.484),R=o(t,1.1,1.21),S={1:rt*(1*.33+2*.33+3*.34),3:rt*(2*.33+5*.33+8*.34),5:rt*(3*.33+8*.33+8*.34)},Z=(()=>{if(a)return[];const C=I.getFixedT(null,"conditionals","Characters.Blade.Content");return[{formItem:"switch",id:"enhancedStateActive",name:"enhancedStateActive",text:C("enhancedStateActive.text"),title:C("enhancedStateActive.title"),content:C("enhancedStateActive.content",{enhancedStateDmgBoost:W.precisionRound(100*c)})},{formItem:"slider",id:"hpPercentLostTotal",name:"hpPercentLostTotal",text:C("hpPercentLostTotal.text"),title:C("hpPercentLostTotal.title"),content:C("hpPercentLostTotal.content",{hpPercentLostTotalMax:W.precisionRound(100*r)}),min:0,max:r,percent:!0},{formItem:"slider",id:"e4MaxHpIncreaseStacks",name:"e4MaxHpIncreaseStacks",text:C("e4MaxHpIncreaseStacks.text"),title:C("e4MaxHpIncreaseStacks.title"),content:C("e4MaxHpIncreaseStacks.content"),min:0,max:2,disabled:t<4}]})();return{content:()=>Z,teammateContent:()=>[],defaults:()=>({enhancedStateActive:!0,hpPercentLostTotal:r,e4MaxHpIncreaseStacks:2}),teammateDefaults:()=>({}),precomputeEffects:(C,D)=>{const V=D.characterConditionals;return C[e.CR]+=t>=2&&V.enhancedStateActive?.15:0,C[e.HP_P]+=t>=4?V.e4MaxHpIncreaseStacks*.2:0,C.BASIC_SCALING+=u,C.ELEMENTAL_DMG+=V.enhancedStateActive?c:0,ot(C,It,.2),C.BASIC_TOUGHNESS_DMG+=V.enhancedStateActive?60:30,C.ULT_TOUGHNESS_DMG+=60,C.FUA_TOUGHNESS_DMG+=30,C},precomputeMutualEffects:(C,D)=>{},finalizeCalculations:(C,D)=>{const V=D.characterConditionals;V.enhancedStateActive?(C.BASIC_DMG+=f*C[e.ATK],C.BASIC_DMG+=p*C[e.HP]):C.BASIC_DMG+=C.BASIC_SCALING*C[e.ATK],C.ULT_DMG+=G*C[e.ATK],C.ULT_DMG+=h*C[e.HP],C.ULT_DMG+=m*V.hpPercentLostTotal*C[e.HP],C.ULT_DMG+=t>=1&&D.enemyCount==1?1.5*V.hpPercentLostTotal*C[e.HP]:0;const M=S[D.enemyCount],E=hn(C,D,M);C.FUA_DMG+=b*(C[e.ATK]+E),C.FUA_DMG+=R*C[e.HP],C.FUA_DMG+=t>=6?.5*C[e.HP]:0},gpuFinalizeCalculations:C=>{const D=C.characterConditionals;return`
if (${Se(D.enhancedStateActive)}) {
  x.BASIC_DMG += ${f} * x.ATK;
  x.BASIC_DMG += ${p} * x.HP;
} else {
  x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
}

x.ULT_DMG += ${G} * x.ATK;
x.ULT_DMG += ${h} * x.HP;
x.ULT_DMG += ${m*D.hpPercentLostTotal} * x.HP;

if (${Se(t>=1&&C.enemyCount==1)}) {
  x.ULT_DMG += 1.50 * ${D.hpPercentLostTotal} * x.HP;
}

x.FUA_DMG += ${b} * (x.ATK + calculateAshblazingSet(p_x, p_state, ${S[C.enemyCount]}));
x.FUA_DMG += ${R} * x.HP;

if (e >= 6) {
  x.FUA_DMG += 0.50 * x.HP;
}
    `}}},kd=(t,a)=>{const{basic:i,skill:l,ult:s}=it.ULT_TALENT_3_SKILL_BASIC_5,o=l(t,.66,.726),c=s(t,.55,.594),r=s(t,.16,.168),u=s(t,.2,.216),f=i(t,1,1.1),p=f*.8,G=rt*(1*1/1),h=(()=>{if(a)return[];const R=I.getFixedT(null,"conditionals","Characters.Bronya.Content");return[{formItem:"switch",id:"teamDmgBuff",name:"teamDmgBuff",text:R("teamDmgBuff.text"),title:R("teamDmgBuff.title"),content:R("teamDmgBuff.content")},{formItem:"switch",id:"skillBuff",name:"skillBuff",text:R("skillBuff.text"),title:R("skillBuff.title"),content:R("skillBuff.content",{skillDmgBoostValue:W.precisionRound(100*o)})},{formItem:"switch",id:"ultBuff",name:"ultBuff",text:R("ultBuff.text"),title:R("ultBuff.title"),content:R("ultBuff.content",{ultAtkBoostValue:W.precisionRound(100*c),ultCdBoostValue:W.precisionRound(100*r),ultCdBoostBaseValue:W.precisionRound(100*u)})},{formItem:"switch",id:"battleStartDefBuff",name:"battleStartDefBuff",text:R("battleStartDefBuff.text"),title:R("battleStartDefBuff.title"),content:R("battleStartDefBuff.content")},{formItem:"switch",id:"techniqueBuff",name:"techniqueBuff",text:R("techniqueBuff.text"),title:R("techniqueBuff.title"),content:R("techniqueBuff.content")},{formItem:"switch",id:"e2SkillSpdBuff",name:"e2SkillSpdBuff",text:R("e2SkillSpdBuff.text"),title:R("e2SkillSpdBuff.title"),content:R("e2SkillSpdBuff.content"),disabled:t<2}]})(),m=(()=>{if(a)return[];const R=I.getFixedT(null,"conditionals","Characters.Bronya.TeammateContent");return[O(h,"teamDmgBuff"),O(h,"skillBuff"),O(h,"ultBuff"),O(h,"battleStartDefBuff"),O(h,"techniqueBuff"),{formItem:"slider",id:"teammateCDValue",name:"teammateCDValue",text:R("teammateCDValue.text"),title:R("teammateCDValue.title"),content:R("teammateCDValue.content",{ultAtkBoostValue:W.precisionRound(100*c),ultCdBoostValue:W.precisionRound(100*r),ultCdBoostBaseValue:W.precisionRound(100*u)}),min:0,max:3,percent:!0},O(h,"e2SkillSpdBuff")]})(),b={teamDmgBuff:!0,skillBuff:!0,ultBuff:!0,battleStartDefBuff:!1,techniqueBuff:!1,e2SkillSpdBuff:!1};return{content:()=>h,teammateContent:()=>m,defaults:()=>b,teammateDefaults:()=>({...b,teammateCDValue:2.5}),precomputeEffects:(R,S)=>{hl(R,ue,1),R.BASIC_SCALING+=f,R.FUA_SCALING+=t>=4?p:0,R.BASIC_TOUGHNESS_DMG+=30,R.FUA_TOUGHNESS_DMG+=t>=4?30:0},precomputeMutualEffects:(R,S)=>{const Z=S.characterConditionals;R[e.DEF_P]+=Z.battleStartDefBuff?.2:0,R[e.SPD_P]+=Z.e2SkillSpdBuff?.3:0,R[e.ATK_P]+=Z.techniqueBuff?.15:0,R[e.ATK_P]+=Z.ultBuff?c:0,R.ELEMENTAL_DMG+=Z.teamDmgBuff?.1:0,R.ELEMENTAL_DMG+=Z.skillBuff?o:0},precomputeTeammateEffects:(R,S)=>{const Z=S.characterConditionals;R[e.CD]+=Z.ultBuff?r*Z.teammateCDValue:0,R[e.CD]+=Z.ultBuff?u:0},finalizeCalculations:(R,S)=>{ye(R,S,G)},gpuFinalizeCalculations:R=>Le(G),dynamicConditionals:[{id:"BronyaCdConditional",type:Mt.ABILITY,activation:Lt.CONTINUOUS,dependsOn:[e.CD],ratioConversion:!0,condition:function(){return!0},effect:function(R,S,Z){if(!S.characterConditionals.ultBuff)return;const D=Z.conditionalState[this.id]||0,V=R[e.CD]-R.RATIO_BASED_CD_BUFF,M=r*V+u,E=r*D+u;Z.conditionalState[this.id]=R[e.CD];const P=M-(D?E:0);R.RATIO_BASED_CD_BUFF+=P,jt(R,S,Z,e.CD,P)},gpu:function(R,S){const Z=R.characterConditionals;return Bt(this,`
if (${Ke(Z.ultBuff)}) {
  return;
}

let stateValue: f32 = (*p_state).BronyaCdConditional;
let convertibleCdValue: f32 = (*p_x).CD - (*p_x).RATIO_BASED_CD_BUFF;

var buffCD: f32 = ${r} * convertibleCdValue + ${u};
var stateBuffCD: f32 = ${r} * stateValue + ${u};

(*p_state).BronyaCdConditional = (*p_x).CD;

let finalBuffCd = buffCD - select(0, stateBuffCD, stateValue > 0);
(*p_x).RATIO_BASED_CD_BUFF += finalBuffCd;

buffNonRatioDynamicCD(finalBuffCd, p_x, p_state);
    `)}}]}},Hd=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=s(t,.25,.27),r=s(t,1.6,1.728),u=i(t,1,1.1),f=l(t,1.2,1.32),p=o(t,1.6,1.76),G={1:rt*(1*1/1),3:rt*(2*1/1),5:rt*(2*1/1)},h=rt*(1*1/1),m=(()=>{if(a)return[];const b=I.getFixedT(null,"conditionals","Characters.Clara.Content");return[{formItem:"switch",id:"ultBuff",name:"ultBuff",text:b("ultBuff.text"),title:b("ultBuff.title"),content:b("ultBuff.content",{ultFuaExtraScaling:W.precisionRound(100*r)})},{formItem:"switch",id:"talentEnemyMarked",name:"talentEnemyMarked",text:b("talentEnemyMarked.text"),title:b("talentEnemyMarked.title"),content:b("talentEnemyMarked.content",{skillScaling:W.precisionRound(100*f)})},{formItem:"switch",id:"e2UltAtkBuff",name:"e2UltAtkBuff",text:b("e2UltAtkBuff.text"),title:b("e2UltAtkBuff.title"),content:b("e2UltAtkBuff.content"),disabled:t<2},{formItem:"switch",id:"e4DmgReductionBuff",name:"e4DmgReductionBuff",text:b("e4DmgReductionBuff.text"),title:b("e4DmgReductionBuff.title"),content:b("e4DmgReductionBuff.content"),disabled:t<4}]})();return{content:()=>m,teammateContent:()=>[],defaults:()=>({ultBuff:!0,talentEnemyMarked:!0,e2UltAtkBuff:!0,e4DmgReductionBuff:!0}),teammateDefaults:()=>({}),precomputeEffects:(b,R)=>{const S=R.characterConditionals;return b[e.ATK_P]+=t>=2&&S.e2UltAtkBuff?.3:0,b.BASIC_SCALING+=u,b.SKILL_SCALING+=f,b.SKILL_SCALING+=S.talentEnemyMarked?f:0,b.FUA_SCALING+=p,b.FUA_SCALING+=S.ultBuff?r:0,b.DMG_RED_MULTI*=1-.1,b.DMG_RED_MULTI*=S.ultBuff?1-c:1,b.DMG_RED_MULTI*=t>=4&&S.e4DmgReductionBuff?1-.3:1,ot(b,It,.3),b.BASIC_TOUGHNESS_DMG+=30,b.SKILL_TOUGHNESS_DMG+=30,b.FUA_TOUGHNESS_DMG+=30,b},precomputeMutualEffects:(b,R)=>{},finalizeCalculations:(b,R)=>{const Z=R.characterConditionals.ultBuff?G[R.enemyCount]:h;ye(b,R,Z)},gpuFinalizeCalculations:b=>{const S=b.characterConditionals.ultBuff?G[b.enemyCount]:h;return Le(S)}}},Nd=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=o(t,.36,.396),r=i(t,1,1.1),u=l(t,2.6,2.86),f=s(t,4,4.32),p=s(t,1.2,1.296),G=(()=>{if(a)return[];const h=I.getFixedT(null,"conditionals","Characters.DanHeng.Content");return[{formItem:"switch",id:"talentPenBuff",name:"talentPenBuff",text:h("talentPenBuff.text"),title:h("talentPenBuff.title"),content:h("talentPenBuff.content",{extraPenValue:W.precisionRound(100*c)})},{formItem:"switch",id:"enemySlowed",name:"enemySlowed",text:h("enemySlowed.text"),title:h("enemySlowed.title"),content:h("enemySlowed.content")},{formItem:"switch",id:"e1EnemyHp50",name:"e1EnemyHp50",text:h("e1EnemyHp50.text"),title:h("e1EnemyHp50.title"),content:h("e1EnemyHp50.content"),disabled:t<1}]})();return{content:()=>G,teammateContent:()=>[],defaults:()=>({talentPenBuff:!0,enemySlowed:!0,e1EnemyHp50:!0}),teammateDefaults:()=>({}),precomputeEffects:(h,m)=>{const b=m.characterConditionals;return h[e.CR]+=t>=1&&b.e1EnemyHp50?.12:0,h.BASIC_SCALING+=r,h.SKILL_SCALING+=u,h.ULT_SCALING+=f,h.ULT_SCALING+=b.enemySlowed?p:0,h.RES_PEN+=b.talentPenBuff?c:0,ot(h,ue,.4,b.enemySlowed),h.BASIC_TOUGHNESS_DMG+=30,h.SKILL_TOUGHNESS_DMG+=60,h.ULT_TOUGHNESS_DMG+=90,h},finalizeCalculations:h=>Ut(h),gpuFinalizeCalculations:()=>Xt()}},Ud=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.ULT_BASIC_3_SKILL_TALENT_5,c=5,r=t>=1?10:6,u=i(t,1,1.1),f=l(t,1.5,1.65),p=s(t,2.4,2.592),G=o(t,2.7,2.97);function h(Z,C=!0){return C?G/(G+.2*Z):.2/(G+.2*Z)}const m=rt*(1*1/1),b={0:rt*(1*1/1),1:rt*(1*h(1,!0)+2*h(1,!1)),2:rt*(1*h(2,!0)+5*h(2,!1)),3:rt*(1*h(3,!0)+9*h(3,!1)),4:rt*(1*h(4,!0)+14*h(4,!1))};function R(Z){const C=Z.characterConditionals;return t>=2?b[Math.min(4,C.enemyDebuffStacks)]:m}const S=(()=>{if(a)return[];const Z=I.getFixedT(null,"conditionals","Characters.DrRatio.Content");return[{id:"summationStacks",name:"summationStacks",formItem:"slider",text:Z("summationStacks.text"),title:Z("summationStacks.title"),content:Z("summationStacks.content",{summationStacksMax:r}),min:0,max:r},{id:"enemyDebuffStacks",name:"enemyDebuffStacks",formItem:"slider",text:Z("enemyDebuffStacks.text"),title:Z("enemyDebuffStacks.title"),content:Z("enemyDebuffStacks.content",{FuaScaling:W.precisionRound(100*G)}),min:0,max:c}]})();return{content:()=>S,teammateContent:()=>[],defaults:()=>({enemyDebuffStacks:c,summationStacks:r}),teammateDefaults:()=>({}),precomputeEffects:(Z,C)=>{const D=C.characterConditionals;return Z[e.CR]+=D.summationStacks*.025,Z[e.CD]+=D.summationStacks*.05,Z.BASIC_SCALING+=u,Z.SKILL_SCALING+=f,Z.ULT_SCALING+=p,Z.FUA_SCALING+=G,Z.ELEMENTAL_DMG+=D.enemyDebuffStacks>=3?Math.min(.5,D.enemyDebuffStacks*.1):0,ot(Z,It,.5,t>=6),Z.BASIC_TOUGHNESS_DMG+=30,Z.SKILL_TOUGHNESS_DMG+=60,Z.ULT_TOUGHNESS_DMG+=90,Z.FUA_TOUGHNESS_DMG+=30,Z},precomputeMutualEffects:(Z,C)=>{},finalizeCalculations:(Z,C)=>{ye(Z,C,R(C))},gpuFinalizeCalculations:Z=>Le(R(Z))}},Xd=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_TALENT_3_ULT_BASIC_5,c=l(t,.12,.132),r=l(t,.06,.066),u=o(t,.18,.196),f=i(t,.5,.55),p=l(t,0,0),G=s(t,1,1.08),h=(()=>{if(a)return[];const b=I.getFixedT(null,"conditionals","Characters.FuXuan.Content");return[{formItem:"switch",id:"talentActive",name:"talentActive",text:b("talentActive.text"),title:b("talentActive.title"),content:b("talentActive.content",{talentDmgReductionValue:W.precisionRound(100*u)})},{formItem:"switch",id:"skillActive",name:"skillActive",text:b("skillActive.text"),title:b("skillActive.title"),content:b("skillActive.content",{skillHpBuffValue:W.precisionRound(100*r),skillCrBuffValue:W.precisionRound(100*c)})},{formItem:"slider",id:"e6TeamHpLostPercent",name:"e6TeamHpLostPercent",text:b("e6TeamHpLostPercent.text"),title:b("e6TeamHpLostPercent.title"),content:b("e6TeamHpLostPercent.content"),min:0,max:1.2,percent:!0,disabled:t<6}]})(),m=(()=>{if(a)return[];const b=I.getFixedT(null,"conditionals","Characters.FuXuan.TeammateContent");return[O(h,"talentActive"),O(h,"skillActive"),{formItem:"slider",id:"teammateHPValue",name:"teammateHPValue",text:b("teammateHPValue.text"),title:b("teammateHPValue.title"),content:b("teammateHPValue.content",{skillHpBuffValue:W.precisionRound(100*r)}),min:0,max:1e4}]})();return{content:()=>h,teammateContent:()=>m,defaults:()=>({skillActive:!0,talentActive:!0,e6TeamHpLostPercent:1.2}),teammateDefaults:()=>({skillActive:!0,talentActive:!0,teammateHPValue:8e3}),precomputeEffects:(b,R)=>{const S=R.characterConditionals;return b.BASIC_SCALING+=f,b.SKILL_SCALING+=p,b.ULT_SCALING+=G+(t>=6?2*S.e6TeamHpLostPercent:0),b.BASIC_TOUGHNESS_DMG+=30,b.ULT_TOUGHNESS_DMG+=60,b},precomputeMutualEffects:(b,R)=>{const S=R.characterConditionals;b[e.CR]+=S.skillActive?c:0,b[e.CD]+=t>=1&&S.skillActive?.3:0,b.DMG_RED_MULTI*=S.talentActive?1-u:1},precomputeTeammateEffects:(b,R)=>{const S=R.characterConditionals;b[e.HP]+=S.skillActive?r*S.teammateHPValue:0,b.DMG_RED_MULTI*=S.skillActive?1-.65:1},finalizeCalculations:(b,R)=>{V0(b)},gpuFinalizeCalculations:()=>W0(),dynamicConditionals:[{id:"FuXuanHpConditional",type:Mt.ABILITY,activation:Lt.CONTINUOUS,dependsOn:[e.HP],ratioConversion:!0,condition:function(){return!0},effect:function(b,R,S){if(!R.characterConditionals.skillActive)return;const C=S.conditionalState[this.id]||0,D=b[e.HP]-b.RATIO_BASED_HP_BUFF,V=r*D,M=r*C;S.conditionalState[this.id]=b[e.HP];const E=V-(C?M:0);b.RATIO_BASED_HP_BUFF+=E,jt(b,R,S,e.HP,E)},gpu:function(b,R){const S=b.characterConditionals;return Bt(this,`
if (${Ke(S.skillActive)}) {
  return;
}

let stateValue: f32 = (*p_state).FuXuanHpConditional;
let convertibleHpValue: f32 = (*p_x).HP - (*p_x).RATIO_BASED_HP_BUFF;

var buffHP: f32 = ${r} * convertibleHpValue;
var stateBuffHP: f32 = ${r} * stateValue;

(*p_state).FuXuanHpConditional = (*p_x).HP;

let finalBuffHp = buffHP - select(0, stateBuffHP, stateValue > 0);
(*p_x).RATIO_BASED_HP_BUFF += finalBuffHp;

buffNonRatioDynamicHP(finalBuffHp, p_x, p_state);
    `)}}]}},Yd=(t,a)=>{const{basic:i,skill:l}=it.ULT_TALENT_3_SKILL_BASIC_5,s=i(t,1,1.1),o=l(t,2,2.2),c=(()=>{if(a)return[];const r=I.getFixedT(null,"conditionals","Characters.Gepard.Content");return[{formItem:"switch",id:"e4TeamResBuff",name:"e4TeamResBuff",text:r("e4TeamResBuff.text"),title:r("e4TeamResBuff.title"),content:r("e4TeamResBuff.content"),disabled:t<4}]})();return{content:()=>c,teammateContent:()=>c,defaults:()=>({e4TeamResBuff:!0}),teammateDefaults:()=>({e4TeamResBuff:!0}),precomputeEffects:(r,u)=>(r.BASIC_SCALING+=s,r.SKILL_SCALING+=o,r.BASIC_TOUGHNESS_DMG+=30,r.SKILL_TOUGHNESS_DMG+=60,r),precomputeMutualEffects:(r,u)=>{const f=u.characterConditionals;r[e.RES]+=t>=4&&f.e4TeamResBuff?.2:0},finalizeCalculations:r=>Ut(r),gpuFinalizeCalculations:()=>Xt(),dynamicConditionals:[Wd]}},Kd=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=o(t,.07,.076),r=t>=6?4:3,u=i(t,1,1.1),f=l(t,1.2,1.32),p=s(t,1.2,1.296),G=l(t,2.182,2.4),h=(()=>{if(a)return[];const b=I.getFixedT(null,"conditionals","Characters.Guinaifen.Content");return[{formItem:"slider",id:"talentDebuffStacks",name:"talentDebuffStacks",text:b("talentDebuffStacks.text"),title:b("talentDebuffStacks.title"),content:b("talentDebuffStacks.content",{talentDebuffDmgIncreaseValue:W.precisionRound(c),talentDebuffMax:r}),min:0,max:r},{formItem:"switch",id:"enemyBurned",name:"enemyBurned",text:b("enemyBurned.text"),title:b("enemyBurned.title"),content:b("enemyBurned.content")},{formItem:"switch",id:"skillDot",name:"skillDot",text:b("skillDot.text"),title:b("skillDot.title"),content:b("skillDot.content")},{formItem:"switch",id:"e1EffectResShred",name:"e1EffectResShred",text:b("e1EffectResShred.text"),title:b("e1EffectResShred.title"),content:b("e1EffectResShred.content"),disabled:t<1},{formItem:"switch",id:"e2BurnMultiBoost",name:"e2BurnMultiBoost",text:b("e2BurnMultiBoost.text"),title:b("e2BurnMultiBoost.title"),content:b("e2BurnMultiBoost.content"),disabled:t<2}]})(),m=a?[]:[O(h,"talentDebuffStacks"),O(h,"e1EffectResShred")];return{content:()=>h,teammateContent:()=>m,defaults:()=>({talentDebuffStacks:r,enemyBurned:!0,skillDot:!0,e1EffectResShred:!0,e2BurnMultiBoost:!0}),teammateDefaults:()=>({talentDebuffStacks:r,e1EffectResShred:!0}),precomputeEffects:(b,R)=>{const S=R.characterConditionals;return b.BASIC_SCALING+=u,b.SKILL_SCALING+=f,b.ULT_SCALING+=p,b.DOT_SCALING+=G,b.DOT_SCALING+=t>=2&&S.e2BurnMultiBoost?.4:0,b.ELEMENTAL_DMG+=S.enemyBurned?.2:0,b.BASIC_TOUGHNESS_DMG+=30,b.SKILL_TOUGHNESS_DMG+=60,b.ULT_TOUGHNESS_DMG+=60,b.DOT_CHANCE=S.skillDot?1:.8,b},precomputeMutualEffects:(b,R)=>{const S=R.characterConditionals;b.VULNERABILITY+=S.talentDebuffStacks*c,b.EFFECT_RES_PEN+=S.e1EffectResShred?.1:0},finalizeCalculations:b=>Ut(b),gpuFinalizeCalculations:()=>Xt()}},vd=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=s(t,.2,.21),r=s(t,.6,.648);let u=o(t,.3,.33);u+=t>=6?.1:0;const f=i(t,1,1.1),p=l(t,2.4,2.64),G=s(t,0,0),h=(()=>{if(a)return[];const b=I.getFixedT(null,"conditionals","Characters.Hanya.Content");return[{formItem:"switch",id:"ultBuff",name:"ultBuff",text:b("ultBuff.text"),title:b("ultBuff.title"),content:b("ultBuff.content",{ultSpdBuffValue:W.precisionRound(100*c),ultAtkBuffValue:W.precisionRound(100*r)})},{formItem:"switch",id:"targetBurdenActive",name:"targetBurdenActive",text:b("targetBurdenActive.text"),title:b("targetBurdenActive.title"),content:b("targetBurdenActive.content",{talentDmgBoostValue:W.precisionRound(100*u)})},{formItem:"switch",id:"burdenAtkBuff",name:"burdenAtkBuff",text:b("burdenAtkBuff.text"),title:b("burdenAtkBuff.title"),content:b("burdenAtkBuff.content")},{formItem:"switch",id:"e2SkillSpdBuff",name:"e2SkillSpdBuff",text:b("e2SkillSpdBuff.text"),title:b("e2SkillSpdBuff.title"),content:b("e2SkillSpdBuff.content"),disabled:t<2}]})(),m=(()=>{if(a)return[];const b=I.getFixedT(null,"conditionals","Characters.Hanya.TeammateContent");return[O(h,"ultBuff"),{formItem:"slider",id:"teammateSPDValue",name:"teammateSPDValue",text:b("teammateSPDValue.text"),title:b("teammateSPDValue.title"),content:b("teammateSPDValue.content",{ultSpdBuffValue:W.precisionRound(100*c),ultAtkBuffValue:W.precisionRound(100*r)}),min:0,max:200},O(h,"targetBurdenActive"),O(h,"burdenAtkBuff")]})();return{content:()=>h,teammateContent:()=>m,defaults:()=>({ultBuff:!0,targetBurdenActive:!0,burdenAtkBuff:!0,e2SkillSpdBuff:!1}),teammateDefaults:()=>({ultBuff:!0,targetBurdenActive:!0,burdenAtkBuff:!0,teammateSPDValue:160}),precomputeEffects:(b,R)=>{const S=R.characterConditionals;return b.BASIC_SCALING+=f,b.SKILL_SCALING+=p,b.ULT_SCALING+=G,b[e.SPD_P]+=t>=2&&S.e2SkillSpdBuff?.2:0,b.BASIC_TOUGHNESS_DMG+=30,b.SKILL_TOUGHNESS_DMG+=60,b},precomputeMutualEffects:(b,R)=>{const S=R.characterConditionals;b[e.ATK_P]+=S.ultBuff?r:0,b[e.ATK_P]+=S.burdenAtkBuff?.1:0,b.ELEMENTAL_DMG+=S.targetBurdenActive?u:0},precomputeTeammateEffects:(b,R)=>{const S=R.characterConditionals;b[e.SPD]+=S.ultBuff?c*S.teammateSPDValue:0},finalizeCalculations:b=>Ut(b),gpuFinalizeCalculations:()=>Xt(),dynamicConditionals:[{id:"HanyaSpdConditional",type:Mt.ABILITY,activation:Lt.CONTINUOUS,dependsOn:[e.SPD],ratioConversion:!0,condition:function(){return!0},effect:function(b,R,S){if(!R.characterConditionals.ultBuff)return;const C=S.conditionalState[this.id]||0,D=b[e.SPD]-b.RATIO_BASED_SPD_BUFF,V=c*D,M=c*C;S.conditionalState[this.id]=b[e.SPD];const E=V-(C?M:0);b.RATIO_BASED_SPD_BUFF+=E,jt(b,R,S,e.SPD,E)},gpu:function(b,R){const S=b.characterConditionals;return Bt(this,`
if (${Ke(S.ultBuff)}) {
  return;
}

let stateValue: f32 = (*p_state).HanyaSpdConditional;
let convertibleSpdValue: f32 = (*p_x).SPD - (*p_x).RATIO_BASED_SPD_BUFF;

var buffSPD: f32 = ${c} * convertibleSpdValue;
var stateBuffSPD: f32 = ${c} * stateValue;

(*p_state).HanyaSpdConditional = (*p_x).SPD;

let finalBuffSpd = buffSPD - select(0, stateBuffSPD, stateValue > 0);
(*p_x).RATIO_BASED_SPD_BUFF += finalBuffSpd;

buffNonRatioDynamicSPD(finalBuffSpd, p_x, p_state);
    `)}}]}},wd=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=i(t,1,1.1),r=l(t,1,1.1),u=s(t,2,2.16),f=o(t,.4,.43);function p(m,b){const R=1/m;if(b.enemyCount==1){let S=1,Z=0;for(let C=0;C<m;C++)Z+=R*S,S=Math.min(8,S+1);return Z}if(b.enemyCount==3){let S=2,Z=0;for(let C=0;C<m;C++)Z+=R*S,S=Math.min(8,S+3);return Z}if(b.enemyCount==5){let S=3,Z=0;for(let C=0;C<m;C++)Z+=R*S,S=Math.min(8,S+5);return Z}return 1}function G(m){const b=m.characterConditionals,R=p(b.fuaStacks,m);return{1:rt*R,3:rt*R,5:rt*R}[m.enemyCount]}const h=(()=>{if(a)return[];const m=I.getFixedT(null,"conditionals","Characters.Herta.Content");return[{formItem:"slider",id:"fuaStacks",name:"fuaStacks",text:m("fuaStacks.text"),title:m("fuaStacks.title"),content:m("fuaStacks.content"),min:1,max:5},{formItem:"switch",id:"targetFrozen",name:"targetFrozen",text:m("targetFrozen.text"),title:m("targetFrozen.title"),content:m("targetFrozen.content")},{formItem:"switch",id:"enemyHpGte50",name:"enemyHpGte50",text:m("enemyHpGte50.text"),title:m("enemyHpGte50.title"),content:m("enemyHpGte50.content")},{formItem:"switch",id:"techniqueBuff",name:"techniqueBuff",text:m("techniqueBuff.text"),title:m("techniqueBuff.title"),content:m("techniqueBuff.content")},{formItem:"switch",id:"enemyHpLte50",name:"enemyHpLte50",text:m("enemyHpLte50.text"),title:m("enemyHpLte50.title"),content:m("enemyHpLte50.content"),disabled:t<1},{formItem:"slider",id:"e2TalentCritStacks",name:"e2TalentCritStacks",text:m("e2TalentCritStacks.text"),title:m("e2TalentCritStacks.title"),content:m("e2TalentCritStacks.content"),min:0,max:5,disabled:t<2},{formItem:"switch",id:"e6UltAtkBuff",name:"e6UltAtkBuff",text:m("e6UltAtkBuff.text"),title:m("e6UltAtkBuff.title"),content:m("e6UltAtkBuff.content"),disabled:t<6}]})();return{content:()=>h,teammateContent:()=>[],defaults:()=>({fuaStacks:5,techniqueBuff:!1,targetFrozen:!0,e2TalentCritStacks:5,e6UltAtkBuff:!0,enemyHpGte50:!0,enemyHpLte50:!1}),teammateDefaults:()=>({}),precomputeEffects:(m,b)=>{const R=b.characterConditionals;return m[e.ATK_P]+=R.techniqueBuff?.4:0,m[e.CR]+=t>=2?R.e2TalentCritStacks*.03:0,m[e.ATK_P]+=t>=6&&R.e6UltAtkBuff?.25:0,m.BASIC_SCALING+=c,m.BASIC_SCALING+=t>=1&&R.enemyHpLte50?.4:0,m.SKILL_SCALING+=r,m.ULT_SCALING+=u,m.FUA_SCALING+=f*R.fuaStacks,ot(m,Qt,.2,R.enemyHpGte50),ot(m,Ft,.2,R.targetFrozen),ot(m,It,.1,t>=4),m.BASIC_TOUGHNESS_DMG+=30,m.SKILL_TOUGHNESS_DMG+=30,m.ULT_TOUGHNESS_DMG+=60,m.FUA_TOUGHNESS_DMG+=15,m},precomputeMutualEffects:(m,b)=>{},finalizeCalculations:(m,b)=>{ye(m,b,G(b))},gpuFinalizeCalculations:m=>Le(G(m))}},Ad=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=i(t,1,1.1),r=l(t,2,2.2),u=s(t,2.3,2.484),f=o(t,1.4,1.54),p=.3,G={1:rt*(1*.2+2*.2+3*.2+4*.4),3:rt*(2*.2+5*.2+8*.2+8*.4),5:rt*(3*.2+8*.2+8*.2+8*.4)},h=(()=>{if(a)return[];const m=I.getFixedT(null,"conditionals","Characters.Himeko.Content");return[{formItem:"switch",id:"targetBurned",name:"targetBurned",text:m("targetBurned.text"),title:m("targetBurned.title"),content:m("targetBurned.content")},{formItem:"switch",id:"selfCurrentHp80Percent",name:"selfCurrentHp80Percent",text:m("selfCurrentHp80Percent.text"),title:m("selfCurrentHp80Percent.title"),content:m("selfCurrentHp80Percent.content")},{formItem:"switch",id:"e1TalentSpdBuff",name:"e1TalentSpdBuff",text:m("e1TalentSpdBuff.text"),title:m("e1TalentSpdBuff.title"),content:m("e1TalentSpdBuff.content"),disabled:t<1},{formItem:"switch",id:"e2EnemyHp50DmgBoost",name:"e2EnemyHp50DmgBoost",text:m("e2EnemyHp50DmgBoost.text"),title:m("e2EnemyHp50DmgBoost.title"),content:m("e2EnemyHp50DmgBoost.content"),disabled:t<2},{formItem:"slider",id:"e6UltExtraHits",name:"e6UltExtraHits",text:m("e6UltExtraHits.text"),title:m("e6UltExtraHits.title"),content:m("e6UltExtraHits.content"),min:0,max:2,disabled:t<6}]})();return{content:()=>h,teammateContent:()=>[],defaults:()=>({targetBurned:!0,selfCurrentHp80Percent:!0,e1TalentSpdBuff:!1,e6UltExtraHits:2}),teammateDefaults:()=>({}),precomputeEffects:(m,b)=>{const R=b.characterConditionals;return m[e.CR]+=R.selfCurrentHp80Percent?.15:0,m[e.SPD_P]+=t>=1&&R.e1TalentSpdBuff?.2:0,m.BASIC_SCALING+=c,m.SKILL_SCALING+=r,m.ULT_SCALING+=u,m.ULT_SCALING+=t>=6?R.e6UltExtraHits*u*.4:0,m.FUA_SCALING+=f,m.DOT_SCALING+=p,ot(m,Qt,.2,R.targetBurned),m.ELEMENTAL_DMG+=t>=2&&R.e2EnemyHp50DmgBoost?.15:0,m.BASIC_TOUGHNESS_DMG+=30,m.SKILL_TOUGHNESS_DMG+=60,m.ULT_TOUGHNESS_DMG+=60,m.FUA_TOUGHNESS_DMG+=30,m.DOT_CHANCE=.5,m},precomputeMutualEffects:(m,b)=>{},finalizeCalculations:(m,b)=>{ye(m,b,G[b.enemyCount])},gpuFinalizeCalculations:m=>Le(G[m.enemyCount])}},jd=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=o(t,1,1.1),r=i(t,1,1.1),u=l(t,2.4,2.64),f=l(t,2.8,3.08),p=s(t,4,4.32),G=l(t,.65,.715),h=(()=>{if(a)return[];const m=I.getFixedT(null,"conditionals","Characters.Hook.Content");return[{formItem:"switch",id:"enhancedSkill",name:"enhancedSkill",text:m("enhancedSkill.text"),title:m("enhancedSkill.title"),content:m("enhancedSkill.content",{skillEnhancedScaling:W.precisionRound(100*f)})},{formItem:"switch",id:"targetBurned",name:"targetBurned",text:m("targetBurned.text"),title:m("targetBurned.title"),content:m("targetBurned.content",{targetBurnedExtraScaling:W.precisionRound(100*c)})}]})();return{content:()=>h,teammateContent:()=>[],defaults:()=>({enhancedSkill:!0,targetBurned:!0}),teammateDefaults:()=>({}),precomputeEffects:(m,b)=>{const R=b.characterConditionals;return m.BASIC_SCALING+=r,m.SKILL_SCALING+=R.enhancedSkill?f:u,m.ULT_SCALING+=p,m.BASIC_SCALING+=R.targetBurned?c:0,m.SKILL_SCALING+=R.targetBurned?c:0,m.ULT_SCALING+=R.targetBurned?c:0,m.DOT_SCALING+=G,ot(m,Qt,.2,t>=1&&R.enhancedSkill),m.ELEMENTAL_DMG+=t>=6&&R.targetBurned?.2:0,m.BASIC_TOUGHNESS_DMG+=30,m.SKILL_TOUGHNESS_DMG+=60,m.ULT_TOUGHNESS_DMG+=90,m.DOT_CHANCE=1,m},finalizeCalculations:m=>Ut(m),gpuFinalizeCalculations:()=>Xt()}},Jd=(t,a)=>{const{basic:i,ult:l}=it.ULT_TALENT_3_SKILL_BASIC_5,s=l(t,.4,.432),o=i(t,.5,.55),c=(()=>{if(a)return[];const u=I.getFixedT(null,"conditionals","Characters.Huohuo.Content");return[{formItem:"switch",id:"ultBuff",name:"ultBuff",text:u("ultBuff.text"),title:u("ultBuff.title"),content:u("ultBuff.content",{ultBuffValue:W.precisionRound(100*s)})},{formItem:"switch",id:"skillBuff",name:"skillBuff",text:u("skillBuff.text"),title:u("skillBuff.title"),content:u("skillBuff.content"),disabled:t<1},{formItem:"switch",id:"e6DmgBuff",name:"e6DmgBuff",text:u("e6DmgBuff.text"),title:u("e6DmgBuff.title"),content:u("e6DmgBuff.content"),disabled:t<6}]})(),r=a?[]:[O(c,"ultBuff"),O(c,"skillBuff"),O(c,"e6DmgBuff")];return{content:()=>c,teammateContent:()=>r,defaults:()=>({ultBuff:!0,skillBuff:!0,e6DmgBuff:!0}),teammateDefaults:()=>({ultBuff:!0,skillBuff:!0,e6DmgBuff:!0}),precomputeEffects:(u,f)=>(u.BASIC_SCALING+=o,u.BASIC_TOUGHNESS_DMG+=30,u),precomputeMutualEffects:(u,f)=>{const p=f.characterConditionals;u[e.ATK_P]+=p.ultBuff?s:0,u[e.SPD_P]+=t>=1&&p.skillBuff?.12:0,u.ELEMENTAL_DMG+=t>=6&&p.e6DmgBuff?.5:0},finalizeCalculations:(u,f)=>{V0(u)},gpuFinalizeCalculations:()=>W0()}},Od=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=t>=1?10:6,r=l(t,.12,.132),u=o(t,.1,.11),f=i(t,1,1.1),p=i(t,2.6,2.86),G=i(t,3.8,4.18),h=i(t,5,5.5),m=l(t,0,0),b=s(t,3,3.24),R=(()=>{if(a)return[];const S=I.getFixedT(null,"conditionals","Characters.ImbibitorLunae.Content");return[{formItem:"slider",id:"basicEnhanced",name:"basicEnhanced",text:S("basicEnhanced.text"),title:S("basicEnhanced.title"),content:S("basicEnhanced.content",{basicScaling:W.precisionRound(100*f),basicEnhanced1Scaling:W.precisionRound(100*p),basicEnhanced2Scaling:W.precisionRound(100*G),basicEnhanced3Scaling:W.precisionRound(100*h)}),min:0,max:3},{formItem:"slider",id:"skillOutroarStacks",name:"skillOutroarStacks",text:S("skillOutroarStacks.text"),title:S("skillOutroarStacks.title"),content:S("skillOutroarStacks.content",{outroarStackCdValue:W.precisionRound(100*r)}),min:0,max:4},{formItem:"slider",id:"talentRighteousHeartStacks",name:"talentRighteousHeartStacks",text:S("talentRighteousHeartStacks.text"),title:S("talentRighteousHeartStacks.title"),content:S("talentRighteousHeartStacks.content",{righteousHeartDmgValue:W.precisionRound(100*u)}),min:0,max:c},{formItem:"slider",id:"e6ResPenStacks",name:"e6ResPenStacks",text:S("e6ResPenStacks.text"),title:S("e6ResPenStacks.title"),content:S("e6ResPenStacks.content"),min:0,max:3,disabled:t<6}]})();return{content:()=>R,teammateContent:()=>[],defaults:()=>({basicEnhanced:3,skillOutroarStacks:4,talentRighteousHeartStacks:c,e6ResPenStacks:3}),teammateDefaults:()=>({}),precomputeEffects:(S,Z)=>{const C=Z.characterConditionals;return S[e.CD]+=Z.enemyElementalWeak?.24:0,S[e.CD]+=C.skillOutroarStacks*r,S.BASIC_SCALING+={0:f,1:p,2:G,3:h}[C.basicEnhanced]??0,S.SKILL_SCALING+=m,S.ULT_SCALING+=b,S.ELEMENTAL_DMG+=C.talentRighteousHeartStacks*u,Pn(S,ue,.2*C.e6ResPenStacks,t>=6&&C.basicEnhanced==3),S.BASIC_TOUGHNESS_DMG+=30+30*C.basicEnhanced,S.ULT_TOUGHNESS_DMG+=60,S},precomputeMutualEffects:(S,Z)=>{},finalizeCalculations:S=>Ut(S),gpuFinalizeCalculations:()=>Xt()}},Qd=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.ULT_TALENT_3_SKILL_BASIC_5,c=o(t,.5,.52);let r=o(t,1.8,1.98);r+=t>=4?.3:0;const u=i(t,1,1.1),f=l(t,2,2.2),p=l(t,2.5,2.75),G=s(t,3,3.24),h=(()=>{if(a)return[];const m=I.getFixedT(null,"conditionals","Characters.Jingliu.Content");return[{name:"talentEnhancedState",id:"talentEnhancedState",formItem:"switch",text:m("talentEnhancedState.text"),title:m("talentEnhancedState.title"),content:m("talentEnhancedState.content",{talentCrBuff:W.precisionRound(100*c)})},{name:"talentHpDrainAtkBuff",id:"talentHpDrainAtkBuff",formItem:"slider",text:m("talentHpDrainAtkBuff.text"),title:m("talentHpDrainAtkBuff.title"),content:m("talentHpDrainAtkBuff.content",{talentHpDrainAtkBuffMax:W.precisionRound(100*r)}),min:0,max:r,percent:!0},{id:"e1CdBuff",name:"e1CdBuff",formItem:"switch",text:m("e1CdBuff.text"),title:m("e1CdBuff.title"),content:m("e1CdBuff.content"),disabled:t<1},{id:"e2SkillDmgBuff",name:"e2SkillDmgBuff",formItem:"switch",text:m("e2SkillDmgBuff.text"),title:m("e2SkillDmgBuff.title"),content:m("e2SkillDmgBuff.content"),disabled:t<2}]})();return{content:()=>h,teammateContent:()=>[],defaults:()=>({talentEnhancedState:!0,talentHpDrainAtkBuff:r,e1CdBuff:!0,e2SkillDmgBuff:!0}),teammateDefaults:()=>({}),precomputeEffects:(m,b)=>{const R=b.characterConditionals;return m[e.CR]+=R.talentEnhancedState?c:0,m[e.ATK_P]+=R.talentEnhancedState?R.talentHpDrainAtkBuff:0,m[e.RES]+=R.talentEnhancedState?.35:0,ot(m,Ft,.2,R.talentEnhancedState),m[e.CD]+=t>=1&&R.e1CdBuff?.24:0,m[e.CD]+=t>=6&&R.talentEnhancedState?.5:0,m.BASIC_SCALING+=u,m.SKILL_SCALING+=R.talentEnhancedState?p:f,m.SKILL_SCALING+=t>=1&&R.talentEnhancedState&&b.enemyCount==1?1:0,m.ULT_SCALING+=G,m.ULT_SCALING+=t>=1&&b.enemyCount==1?1:0,m.FUA_SCALING+=0,ot(m,Qt,.8,t>=2&&R.talentEnhancedState&&R.e2SkillDmgBuff),m.BASIC_TOUGHNESS_DMG+=30,m.SKILL_TOUGHNESS_DMG+=60,m.ULT_TOUGHNESS_DMG+=60,m},precomputeMutualEffects:(m,b)=>{},finalizeCalculations:m=>Ut(m),gpuFinalizeCalculations:()=>Xt()}},_d=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.ULT_BASIC_3_SKILL_TALENT_5,c=i(t,1,1.1),r=l(t,1,1.1),u=s(t,2,2.16),f=o(t,.66,.726);function p(h){const m=h.characterConditionals;let b=0;const R=m.talentHitsPerAction,S=m.talentAttacks,Z=h.enemyCount>=3?2:0,C=h.enemyCount>=3?3:1,D=h.enemyCount>=3?2:1;let V=Z*(R-S);V+=D;let M=0;for(let E=0;E<S;E++)M+=Math.min(8,V)*(1/S),V+=C;return b=M*rt,b}const G=(()=>{if(a)return[];const h=I.getFixedT(null,"conditionals","Characters.JingYuan.Content");return[{formItem:"switch",id:"skillCritBuff",name:"skillCritBuff",text:h("skillCritBuff.text"),title:h("skillCritBuff.title"),content:h("skillCritBuff.content")},{formItem:"slider",id:"talentHitsPerAction",name:"talentHitsPerAction",text:h("talentHitsPerAction.text"),title:h("talentHitsPerAction.title"),content:h("talentHitsPerAction.content"),min:3,max:10},{formItem:"slider",id:"talentAttacks",name:"talentAttacks",text:h("talentAttacks.text"),title:h("talentAttacks.title"),content:h("talentAttacks.content"),min:0,max:10},{formItem:"switch",id:"e2DmgBuff",name:"e2DmgBuff",text:h("e2DmgBuff.text"),title:h("e2DmgBuff.title"),content:h("e2DmgBuff.content"),disabled:t<2},{formItem:"slider",id:"e6FuaVulnerabilityStacks",name:"e6FuaVulnerabilityStacks",text:h("e6FuaVulnerabilityStacks.text"),title:h("e6FuaVulnerabilityStacks.title"),content:h("e6FuaVulnerabilityStacks.content"),min:0,max:3,disabled:t<6}]})();return{content:()=>G,teammateContent:()=>[],defaults:()=>({skillCritBuff:!0,talentHitsPerAction:10,talentAttacks:10,e2DmgBuff:!0,e6FuaVulnerabilityStacks:3}),teammateDefaults:()=>({}),precomputeEffects:(h,m)=>{const b=m.characterConditionals;b.talentHitsPerAction=Math.max(b.talentHitsPerAction,b.talentAttacks),h[e.CR]+=b.skillCritBuff?.1:0,h.BASIC_SCALING+=c,h.SKILL_SCALING+=r,h.ULT_SCALING+=u,h.FUA_SCALING+=f*b.talentAttacks,Da(h,It,.25,b.talentHitsPerAction>=6),ot(h,ue|Qt|Ft,.2,t>=2&&b.e2DmgBuff),na(h,It,b.e6FuaVulnerabilityStacks*.12,t>=6);const R=b.talentAttacks;return h.BASIC_TOUGHNESS_DMG+=30,h.SKILL_TOUGHNESS_DMG+=30,h.ULT_TOUGHNESS_DMG+=60,h.FUA_TOUGHNESS_DMG+=15*R,h},precomputeMutualEffects:(h,m)=>{},finalizeCalculations:(h,m)=>{ye(h,m,p(m))},gpuFinalizeCalculations:h=>Le(p(h))}},zd=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=i(t,1,1.1),r=l(t,1.6,1.76),u=s(t,.8,.864),f=o(t,1.4,1.596),p=s(t,2.9,3.183),G=rt*(1*.15+2*.15+3*.15+4*.15+5*.15+6*.25),h=(()=>{if(a)return[];const b=I.getFixedT(null,"conditionals","Characters.Kafka.Content");return[{formItem:"switch",id:"e1DotDmgReceivedDebuff",name:"e1DotDmgReceivedDebuff",text:b("e1DotDmgReceivedDebuff.text"),title:b("e1DotDmgReceivedDebuff.title"),content:b("e1DotDmgReceivedDebuff.content"),disabled:t<1},{formItem:"switch",id:"e2TeamDotBoost",name:"e2TeamDotBoost",text:b("e2TeamDotBoost.text"),title:b("e2TeamDotBoost.title"),content:b("e2TeamDotBoost.content"),disabled:t<2}]})(),m=a?[]:[O(h,"e1DotDmgReceivedDebuff"),O(h,"e2TeamDotBoost")];return{content:()=>h,teammateContent:()=>m,defaults:()=>({e1DotDmgReceivedDebuff:!0,e2TeamDotBoost:!0}),teammateDefaults:()=>({e1DotDmgReceivedDebuff:!0,e2TeamDotBoost:!0}),precomputeEffects:(b,R)=>(b.BASIC_SCALING+=c,b.SKILL_SCALING+=r,b.ULT_SCALING+=u,b.FUA_SCALING+=f,b.DOT_SCALING+=p,b.DOT_SCALING+=t>=6?1.56:0,b.BASIC_TOUGHNESS_DMG+=30,b.SKILL_TOUGHNESS_DMG+=60,b.ULT_TOUGHNESS_DMG+=60,b.FUA_TOUGHNESS_DMG+=30,b.DOT_CHANCE=1.3,b),precomputeMutualEffects:(b,R)=>{const S=R.characterConditionals;na(b,Va,.3,t>=1&&S.e1DotDmgReceivedDebuff),ot(b,Va,.25,t>=2&&S.e2TeamDotBoost)},finalizeCalculations:(b,R)=>{ye(b,R,G)},gpuFinalizeCalculations:b=>Le(G)}},qd=(t,a)=>{const{basic:i,skill:l,ult:s}=it.SKILL_TALENT_3_ULT_BASIC_5,o=i(t,.2,.22),c=s(t,.2,.216),r=i(t,1,1.1),u=i(t,.2*3+.8,.22*3+.88),f=l(t,1.2,1.32),p=s(t,3.3,3.564),G=l(t,3.38,3.718),h=(()=>{if(a)return[];const b=I.getFixedT(null,"conditionals","Characters.Luka.Content");return[{formItem:"switch",id:"basicEnhanced",name:"basicEnhanced",text:b("basicEnhanced.text"),title:b("basicEnhanced.title"),content:b("basicEnhanced.content")},{formItem:"switch",id:"targetUltDebuffed",name:"targetUltDebuffed",text:b("targetUltDebuffed.text"),title:b("targetUltDebuffed.title"),content:b("targetUltDebuffed.content",{targetUltDebuffDmgTakenValue:W.precisionRound(100*c)})},{formItem:"slider",id:"basicEnhancedExtraHits",name:"basicEnhancedExtraHits",text:b("basicEnhancedExtraHits.text"),title:b("basicEnhancedExtraHits.title"),content:b("basicEnhancedExtraHits.content"),min:0,max:3},{formItem:"switch",id:"e1TargetBleeding",name:"e1TargetBleeding",text:b("e1TargetBleeding.text"),title:b("e1TargetBleeding.title"),content:b("e1TargetBleeding.content"),disabled:t<1},{formItem:"slider",id:"e4TalentStacks",name:"e4TalentStacks",text:b("e4TalentStacks.text"),title:b("e4TalentStacks.title"),content:b("e4TalentStacks.content"),min:0,max:4,disabled:t<4}]})(),m=a?[]:[O(h,"targetUltDebuffed")];return{content:()=>h,teammateContent:()=>m,defaults:()=>({basicEnhanced:!0,targetUltDebuffed:!0,e1TargetBleeding:!0,basicEnhancedExtraHits:3,e4TalentStacks:4}),teammateDefaults:()=>({targetUltDebuffed:!0}),precomputeEffects:(b,R)=>{const S=R.characterConditionals;return b[e.ATK_P]+=t>=4?S.e4TalentStacks*.05:0,b.BASIC_SCALING+=S.basicEnhanced?u:r,b.BASIC_SCALING+=(S.basicEnhanced&&S.basicEnhancedExtraHits)*o,b.SKILL_SCALING+=f,b.ULT_SCALING+=p,b.DOT_SCALING+=G,b.ELEMENTAL_DMG+=t>=1&&S.e1TargetBleeding?.15:0,b.BASIC_TOUGHNESS_DMG+=S.basicEnhanced?60:30,b.SKILL_TOUGHNESS_DMG+=60,b.ULT_TOUGHNESS_DMG+=90,b.DOT_CHANCE=1,b},precomputeMutualEffects:(b,R)=>{const S=R.characterConditionals;b.VULNERABILITY+=S.targetUltDebuffed?c:0},finalizeCalculations:b=>Ut(b),gpuFinalizeCalculations:()=>Xt()}},$d=(t,a)=>{const{basic:i,skill:l,ult:s}=it.SKILL_BASIC_3_ULT_TALENT_5,o=i(t,1,1.1),c=l(t,0,0),r=s(t,2,2.16),u=(()=>{if(a)return[];const p=I.getFixedT(null,"conditionals","Characters.Luocha.Content");return[{formItem:"switch",id:"fieldActive",name:"fieldActive",text:p("fieldActive.text"),title:p("fieldActive.title"),content:p("fieldActive.content")},{formItem:"switch",id:"e6ResReduction",name:"e6ResReduction",text:p("e6ResReduction.text"),title:p("e6ResReduction.title"),content:p("e6ResReduction.content"),disabled:t<6}]})(),f=a?[]:[O(u,"fieldActive"),O(u,"e6ResReduction")];return{content:()=>u,teammateContent:()=>f,defaults:()=>({fieldActive:!0,e6ResReduction:!0}),teammateDefaults:()=>({fieldActive:!0,e6ResReduction:!0}),precomputeEffects:(p,G)=>(p.BASIC_SCALING+=o,p.SKILL_SCALING+=c,p.ULT_SCALING+=r,p.BASIC_TOUGHNESS_DMG+=30,p.ULT_TOUGHNESS_DMG+=60,p),precomputeMutualEffects:(p,G)=>{const h=G.characterConditionals;p[e.ATK_P]+=t>=1&&h.fieldActive?.2:0,p.RES_PEN+=t>=6&&h.e6ResReduction?.2:0},finalizeCalculations:p=>Ut(p),gpuFinalizeCalculations:()=>Xt()}},tu=(t,a)=>{const{basic:i,skill:l,ult:s}=it.SKILL_BASIC_3_ULT_TALENT_5,o=l(t,.075,.08),c=l(t,200,223),r=i(t,.5,.55),u=l(t,0,0),f=s(t,0,0),p=(()=>{if(a)return[];const h=I.getFixedT(null,"conditionals","Characters.Lynx.Content");return[{formItem:"switch",id:"skillBuff",name:"skillBuff",text:h("skillBuff.text"),title:h("skillBuff.title"),content:h("skillBuff.content",{skillHpPercentBuff:W.precisionRound(100*o),skillHpFlatBuff:c})}]})(),G=(()=>{if(a)return[];const h=I.getFixedT(null,"conditionals","Characters.Lynx.TeammateContent");return[O(p,"skillBuff"),{formItem:"slider",id:"teammateHPValue",name:"teammateHPValue",text:h("teammateHPValue.text"),title:h("teammateHPValue.title"),content:h("teammateHPValue.content",{skillHpPercentBuff:W.precisionRound(100*o),skillHpFlatBuff:c}),min:0,max:1e4}]})();return{content:()=>p,teammateContent:()=>G,defaults:()=>({skillBuff:!0}),teammateDefaults:()=>({skillBuff:!0,teammateHPValue:6e3}),precomputeEffects:(h,m)=>(h.BASIC_SCALING+=r,h.SKILL_SCALING+=u,h.ULT_SCALING+=f,h.BASIC_TOUGHNESS_DMG+=30,h),precomputeMutualEffects:(h,m)=>{const b=m.characterConditionals;h[e.RES]+=t>=6&&b.skillBuff?.3:0},precomputeTeammateEffects:(h,m)=>{const b=m.characterConditionals;h[e.HP]+=b.skillBuff?o*b.teammateHPValue:0,h[e.HP]+=t>=6&&b.skillBuff?.06*b.teammateHPValue:0,h[e.HP]+=b.skillBuff?c:0;const R=t>=4&&b.skillBuff?.03*b.teammateHPValue:0;h[e.ATK]+=R},finalizeCalculations:(h,m)=>{h.BASIC_DMG+=h.BASIC_SCALING*h[e.HP]},gpuFinalizeCalculations:(h,m)=>(h.characterConditionals,`
x.BASIC_DMG += x.BASIC_SCALING * x.HP;
      `),dynamicConditionals:[{id:"LynxConversionConditional",type:Mt.ABILITY,activation:Lt.CONTINUOUS,dependsOn:[e.HP],ratioConversion:!0,condition:function(){return!0},effect:function(h,m,b){if(!m.characterConditionals.skillBuff)return;const S=b.conditionalState[this.id]||0;let Z=0,C=0,D=0,V=0;const M=h[e.HP]-h.RATIO_BASED_HP_BUFF;Z+=o*M+c,D+=o*S+c,t>=4&&(C+=.03*M,V+=.03*S),t>=6&&(Z+=.06*M,D+=.06*S),b.conditionalState[this.id]=h[e.HP];const E=Z-(S?D:0),P=C-(S?V:0);h.RATIO_BASED_HP_BUFF+=E,jt(h,m,b,e.HP,E),jt(h,m,b,e.ATK,P)},gpu:function(h,m){const b=h.characterConditionals;return Bt(this,`
if (${Ke(b.skillBuff)}) {
  return;
}

let stateValue: f32 = (*p_state).LynxConversionConditional;
let convertibleHpValue: f32 = (*p_x).HP - (*p_x).RATIO_BASED_HP_BUFF;

var buffATK: f32 = 0;
var stateBuffATK: f32 = 0;

var buffHP: f32 = ${o} * convertibleHpValue + ${c};
var stateBuffHP: f32 = ${o} * stateValue + ${c};

if (${Se(t>=4)}) {
  buffATK += 0.03 * convertibleHpValue;
  stateBuffATK += 0.03 * stateValue;
}

if (${Se(t>=6)}) {
  buffHP += 0.06 * convertibleHpValue;
  stateBuffHP += 0.06 * stateValue;
}

(*p_state).LynxConversionConditional = (*p_x).HP;

let finalBuffHp = buffHP - select(0, stateBuffHP, stateValue > 0);
let finalBuffAtk = buffATK - select(0, stateBuffATK, stateValue > 0);
(*p_x).RATIO_BASED_HP_BUFF += finalBuffHp;

buffNonRatioDynamicHP(finalBuffHp, p_x, p_state);
buffDynamicATK(finalBuffAtk, p_x, p_state);
    `)}}]}},eu=t=>{const{basic:a,skill:i,ult:l,talent:s}=it.ULT_BASIC_3_SKILL_TALENT_5,o=a(t,1,1.1),c=i(t,0,0),r=l(t,1.5,1.62),u=s(t,1,1.1),f=rt*(1*1/1);return{content:()=>[],teammateContent:()=>[],defaults:()=>({}),teammateDefaults:()=>({}),precomputeEffects:(p,G)=>(p.BASIC_SCALING+=o,p.SKILL_SCALING+=c,p.ULT_SCALING+=r,p.FUA_SCALING+=u,p.BASIC_TOUGHNESS_DMG+=30,p.ULT_TOUGHNESS_DMG+=60,p.FUA_TOUGHNESS_DMG+=30,p),precomputeMutualEffects:(p,G)=>{},finalizeCalculations:(p,G)=>{const h=hn(p,G,f);p.BASIC_DMG+=p.BASIC_SCALING*p[e.ATK],p.SKILL_DMG+=p.SKILL_SCALING*p[e.ATK],p.ULT_DMG+=p.ULT_SCALING*p[e.ATK],p.FUA_DMG+=p.FUA_SCALING*(p[e.ATK]+h),p.FUA_DMG+=t>=4?.3*p[e.DEF]:0},gpuFinalizeCalculations:()=>`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * x.ATK;
x.FUA_DMG += x.FUA_SCALING * (x.ATK + calculateAshblazingSet(p_x, p_state, ${f}));
if (${Se(t>=4)}) {
  x.FUA_DMG += 0.30 * x.DEF;
}
    `}},au=(t,a)=>{const{basic:i,skill:l,ult:s}=it.ULT_BASIC_3_SKILL_TALENT_5,o=i(t,1,1.1),c=l(t,2,2.2);let r=s(t,.6,.65);r+=t>=4?.06:0;const u=(()=>{if(a)return[];const p=I.getFixedT(null,"conditionals","Characters.Misha.Content");return[{formItem:"slider",id:"ultHitsOnTarget",name:"ultHitsOnTarget",text:p("ultHitsOnTarget.text"),title:p("ultHitsOnTarget.title"),content:p("ultHitsOnTarget.content",{ultStackScaling:W.precisionRound(100*r)}),min:1,max:10},{formItem:"switch",id:"enemyFrozen",name:"enemyFrozen",text:p("enemyFrozen.text"),title:p("enemyFrozen.title"),content:p("enemyFrozen.content")},{formItem:"switch",id:"e2DefReduction",name:"e2DefReduction",text:p("e2DefReduction.text"),title:p("e2DefReduction.title"),content:p("e2DefReduction.content"),disabled:t<2},{formItem:"switch",id:"e6UltDmgBoost",name:"e6UltDmgBoost",text:p("e6UltDmgBoost.text"),title:p("e6UltDmgBoost.title"),content:p("e6UltDmgBoost.content"),disabled:t<6}]})(),f=a?[]:[O(u,"e2DefReduction")];return{content:()=>u,teammateContent:()=>f,defaults:()=>({ultHitsOnTarget:10,enemyFrozen:!0,e2DefReduction:!0,e6UltDmgBoost:!0}),teammateDefaults:()=>({e2DefReduction:!0}),precomputeEffects:(p,G)=>{const h=G.characterConditionals;return p[e.CD]+=h.enemyFrozen?.3:0,p.ELEMENTAL_DMG+=t>=6&&h.e6UltDmgBoost?.3:0,p.BASIC_SCALING+=o,p.SKILL_SCALING+=c,p.ULT_SCALING+=r*h.ultHitsOnTarget,p.BASIC_TOUGHNESS_DMG+=30,p.SKILL_TOUGHNESS_DMG+=60,p.ULT_TOUGHNESS_DMG+=30+15*(h.ultHitsOnTarget-1),p},precomputeMutualEffects:(p,G)=>{const h=G.characterConditionals;p.DEF_PEN+=t>=2&&h.e2DefReduction?.16:0},finalizeCalculations:p=>Ut(p),gpuFinalizeCalculations:()=>Xt()}},nu=t=>{const{basic:a}=it.SKILL_BASIC_3_ULT_TALENT_5,i=a(t,1,1.1);return{content:()=>[],teammateContent:()=>[],defaults:()=>({}),teammateDefaults:()=>({}),precomputeEffects:(l,s)=>(l.BASIC_SCALING+=i,l.BASIC_TOUGHNESS_DMG+=30,l),precomputeMutualEffects:(l,s)=>{},finalizeCalculations:(l,s)=>{l.BASIC_DMG+=l.BASIC_SCALING*l[e.ATK],l.BASIC_DMG+=t>=6?.4*l[e.HP]:0},gpuFinalizeCalculations:()=>`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
if (${Se(t>=6)}) {
  x.BASIC_DMG += 0.40 * x.HP;
}
    `}},iu=(t,a)=>{const{basic:i,skill:l,ult:s}=it.SKILL_BASIC_3_ULT_TALENT_5,o=s(t,.4,.42),c=i(t,1,1.1),r=l(t,2.1,2.31),u=s(t,1,1.08),f=(()=>{if(a)return[];const G=I.getFixedT(null,"conditionals","Characters.Pela.Content");return[{formItem:"switch",id:"teamEhrBuff",name:"teamEhrBuff",text:G("teamEhrBuff.text"),title:G("teamEhrBuff.title"),content:G("teamEhrBuff.content")},{formItem:"switch",id:"enemyDebuffed",name:"enemyDebuffed",text:G("enemyDebuffed.text"),title:G("enemyDebuffed.title"),content:G("enemyDebuffed.content")},{formItem:"switch",id:"skillRemovedBuff",name:"skillRemovedBuff",text:G("skillRemovedBuff.text"),title:G("skillRemovedBuff.title"),content:G("skillRemovedBuff.content")},{formItem:"switch",id:"ultDefPenDebuff",name:"ultDefPenDebuff",text:G("ultDefPenDebuff.text"),title:G("ultDefPenDebuff.title"),content:G("ultDefPenDebuff.content",{ultDefPenValue:W.precisionRound(100*o)})},{formItem:"switch",id:"e4SkillResShred",name:"e4SkillResShred",text:G("e4SkillResShred.text"),title:G("e4SkillResShred.title"),content:G("e4SkillResShred.content"),disabled:t<4}]})(),p=a?[]:[O(f,"teamEhrBuff"),O(f,"ultDefPenDebuff"),O(f,"e4SkillResShred")];return{content:()=>f,teammateContent:()=>p,defaults:()=>({teamEhrBuff:!0,enemyDebuffed:!0,skillRemovedBuff:!1,ultDefPenDebuff:!0,e4SkillResShred:!0}),teammateDefaults:()=>({teamEhrBuff:!0,ultDefPenDebuff:!0,e4SkillResShred:!0}),precomputeEffects:(G,h)=>{const m=h.characterConditionals;return G[e.SPD_P]+=t>=2&&m.skillRemovedBuff?.1:0,G.BASIC_SCALING+=c,G.SKILL_SCALING+=r,G.ULT_SCALING+=u,ot(G,ue|Qt|Ft,.2,m.skillRemovedBuff),G.ELEMENTAL_DMG+=m.enemyDebuffed?.2:0,G.BASIC_TOUGHNESS_DMG+=30,G.SKILL_TOUGHNESS_DMG+=60,G.ULT_TOUGHNESS_DMG+=60,G},precomputeMutualEffects:(G,h)=>{const m=h.characterConditionals;G[e.EHR]+=m.teamEhrBuff?.1:0,G.DEF_PEN+=m.ultDefPenDebuff?o:0,G.ICE_RES_PEN+=t>=4&&m.e4SkillResShred?.12:0},finalizeCalculations:(G,h)=>{G.BASIC_DMG+=G.BASIC_SCALING*G[e.ATK],G.SKILL_DMG+=G.SKILL_SCALING*G[e.ATK],G.ULT_DMG+=G.ULT_SCALING*G[e.ATK],G.BASIC_DMG+=t>=6?.4*G[e.ATK]:0,G.SKILL_DMG+=t>=6?.4*G[e.ATK]:0,G.ULT_DMG+=t>=6?.4*G[e.ATK]:0},gpuFinalizeCalculations:()=>`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * x.ATK;

if (${Se(t>=6)}) {
  x.BASIC_DMG += 0.40 * x.ATK;
  x.SKILL_DMG += 0.40 * x.ATK;
  x.ULT_DMG += 0.40 * x.ATK;
}
    `}},$l=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_TALENT_3_ULT_BASIC_5,c=o(t,.2,.22),r=i(t,1,1.1),u=l(t,1.25,1.375),f=s(t,4.5,4.8),p=s(t,2.7,2.88),G=s(t,1.62,1.728),h=(()=>{if(a)return[];const m=I.getFixedT(null,"conditionals","Characters.TrailblazerDestruction.Content");return[{formItem:"switch",id:"enhancedUlt",name:"Enhanced Ult",text:m("enhancedUlt.text"),title:m("enhancedUlt.title"),content:m("enhancedUlt.content",{ultScaling:W.precisionRound(100*f),ultEnhancedScaling:W.precisionRound(100*p),ultEnhancedScaling2:W.precisionRound(100*G)})},{formItem:"slider",id:"talentStacks",name:"Talent stacks",text:m("talentStacks.text"),title:m("talentStacks.title"),content:m("talentStacks.content",{talentAtkScalingValue:W.precisionRound(100*c)}),min:0,max:2}]})();return{content:()=>h,teammateContent:()=>[],defaults:()=>({enhancedUlt:!0,talentStacks:2}),teammateDefaults:()=>({}),precomputeEffects:(m,b)=>{const R=b.characterConditionals;return m[e.ATK_P]+=R.talentStacks*c,m[e.DEF_P]+=R.talentStacks*.1,m[e.CR]+=m.ENEMY_WEAKNESS_BROKEN?.25:0,m.BASIC_SCALING+=r,m.SKILL_SCALING+=u,m.ULT_SCALING+=R.enhancedUlt?p:f,ot(m,Qt,.25),ot(m,Ft,.25,R.enhancedUlt),m.BASIC_TOUGHNESS_DMG+=30,m.SKILL_TOUGHNESS_DMG+=60,m.ULT_TOUGHNESS_DMG+=R.enhancedUlt?60:90,m},precomputeMutualEffects:(m,b)=>{},finalizeCalculations:m=>Ut(m),gpuFinalizeCalculations:()=>Xt()}},to=(t,a)=>{const{basic:i,skill:l,ult:s}=it.SKILL_TALENT_3_ULT_BASIC_5,o=i(t,1,1.1),c=l(t,.5,.55),r=s(t,.3,.33),u=t>=6?6:4,f={1:1.6,3:1.4,5:1.2},p=(()=>{if(a)return[];const m=I.getFixedT(null,"conditionals","Characters.TrailblazerHarmony.Content");return[{formItem:"switch",id:"backupDancer",name:"backupDancer",text:m("backupDancer.text"),title:m("backupDancer.title"),content:m("backupDancer.content",{ultBeScaling:W.precisionRound(100*r)})},{formItem:"switch",id:"superBreakDmg",name:"superBreakDmg",text:m("superBreakDmg.text"),title:m("superBreakDmg.title"),content:m("superBreakDmg.content")},{formItem:"slider",id:"skillHitsOnTarget",name:"skillHitsOnTarget",text:m("skillHitsOnTarget.text"),title:m("skillHitsOnTarget.title"),content:m("skillHitsOnTarget.content"),min:0,max:u},{formItem:"switch",id:"e2EnergyRegenBuff",name:"e2EnergyRegenBuff",text:m("e2EnergyRegenBuff.text"),title:m("e2EnergyRegenBuff.title"),content:m("e2EnergyRegenBuff.content"),disabled:t<2}]})(),G=(()=>{if(a)return[];const m=I.getFixedT(null,"conditionals","Characters.TrailblazerHarmony.TeammateContent");return[O(p,"backupDancer"),O(p,"superBreakDmg"),{formItem:"slider",id:"teammateBeValue",name:"teammateBeValue",text:m("teammateBeValue.text"),title:m("teammateBeValue.title"),content:m("teammateBeValue.content"),min:0,max:4,percent:!0,disabled:t<4}]})(),h={skillHitsOnTarget:u,backupDancer:!0,superBreakDmg:!0,e2EnergyRegenBuff:!1};return{content:()=>p,teammateContent:()=>G,defaults:()=>h,teammateDefaults:()=>({backupDancer:!0,superBreakDmg:!0,teammateBeValue:2}),initializeConfigurations:(m,b)=>{b.characterConditionals.superBreakDmg&&(m.ENEMY_WEAKNESS_BROKEN=1)},initializeTeammateConfigurations:(m,b)=>{b.characterConditionals.superBreakDmg&&(m.ENEMY_WEAKNESS_BROKEN=1)},precomputeEffects:(m,b)=>{const R=b.characterConditionals;return m[e.ERR]+=t>=2&&R.e2EnergyRegenBuff?.25:0,m.BASIC_SCALING+=o,m.SKILL_SCALING+=c,m.SKILL_SCALING+=R.skillHitsOnTarget*c,m.BASIC_TOUGHNESS_DMG+=30,m.SKILL_TOUGHNESS_DMG+=30*R.skillHitsOnTarget,m},precomputeMutualEffects:(m,b)=>{const R=b.characterConditionals;m[e.BE]+=R.backupDancer?r:0,m.SUPER_BREAK_HMC_MODIFIER+=R.backupDancer&&R.superBreakDmg?f[b.enemyCount]:0},precomputeTeammateEffects:(m,b)=>{const R=b.characterConditionals;m[e.BE]+=t>=4?.15*R.teammateBeValue:0},finalizeCalculations:m=>Ut(m),gpuFinalizeCalculations:()=>Xt()}},eo=(t,a)=>{const{basic:i,skill:l,ult:s}=it.SKILL_TALENT_3_ULT_BASIC_5,o=l(t,.5,.52),c=i(t,1,1.1),r=t>=1?.25:0,u=i(t,1.35,1.463),f=t>=1?.5:0,p=l(t,0,0),G=s(t,1,1.1),h=s(t,1.5,1.65),m=(()=>{if(a)return[];const R=I.getFixedT(null,"conditionals","Characters.TrailblazerPreservation.Content");return[{formItem:"switch",id:"enhancedBasic",name:"enhancedBasic",text:R("enhancedBasic.text"),title:R("enhancedBasic.title"),content:R("enhancedBasic.content",{basicEnhancedAtkScaling:W.precisionRound(100*u)})},{formItem:"switch",id:"skillActive",name:"skillActive",text:R("skillActive.text"),title:R("skillActive.title"),content:R("skillActive.content",{skillDamageReductionValue:W.precisionRound(100*o)})},{formItem:"switch",id:"shieldActive",name:"shieldActive",text:R("shieldActive.text"),title:R("shieldActive.title"),content:R("shieldActive.content")},{formItem:"slider",id:"e6DefStacks",name:"e6DefStacks",text:R("e6DefStacks.text"),title:R("e6DefStacks.title"),content:R("e6DefStacks.content"),min:0,max:3,disabled:t<6}]})(),b=a?[]:[O(m,"skillActive")];return{content:()=>m,teammateContent:()=>b,defaults:()=>({enhancedBasic:!0,skillActive:!0,shieldActive:!0,e6DefStacks:3}),teammateDefaults:()=>({skillActive:!0}),precomputeEffects:(R,S)=>{const Z=S.characterConditionals;return R[e.DEF_P]+=t>=6?Z.e6DefStacks*.1:0,R[e.ATK_P]+=Z.shieldActive?.15:0,R.SKILL_SCALING+=p,R.DMG_RED_MULTI*=Z.skillActive?1-o:1,R.BASIC_TOUGHNESS_DMG+=Z.basicEnhanced?60:30,R.ULT_TOUGHNESS_DMG+=60,R},precomputeMutualEffects:(R,S)=>{const Z=S.characterConditionals;R.DMG_RED_MULTI*=Z.skillActive?1-.15:1},finalizeCalculations:(R,S)=>{S.characterConditionals.enhancedBasic?(R.BASIC_DMG+=u*R[e.ATK],R.BASIC_DMG+=f*R[e.DEF]):(R.BASIC_DMG+=c*R[e.ATK],R.BASIC_DMG+=r*R[e.DEF]),R.SKILL_DMG+=R.SKILL_SCALING*R[e.ATK],R.ULT_DMG+=G*R[e.ATK],R.ULT_DMG+=h*R[e.DEF]},gpuFinalizeCalculations:R=>{const S=R.characterConditionals;return`
if (${Se(S.enhancedBasic)}) {
  x.BASIC_DMG += ${u} * x.ATK;
  x.BASIC_DMG += ${f} * x.DEF;
} else {
  x.BASIC_DMG += ${c} * x.ATK;
  x.BASIC_DMG += ${r} * x.DEF;
}      

x.SKILL_DMG += x.SKILL_SCALING * x.ATK;

x.ULT_DMG += ${G} * x.ATK;
x.ULT_DMG += ${h} * x.DEF;
    `}}},su=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.ULT_TALENT_3_SKILL_BASIC_5,c=l(t,.38,.408),r=o(t,.72,.792),u=i(t,1,1.1),f=i(t,2.4,2.64),p=l(t,0,0),G=s(t,2,2.16),h={1:rt*(1*1/1),3:rt*(2*1/1),5:rt*(2*1/1)},m=rt*(1*1/1);function b(S){return S.characterConditionals.basicEnhanced?h[S.enemyCount]:m}const R=(()=>{if(a)return[];const S=I.getFixedT(null,"conditionals","Characters.Qingque.Content");return[{formItem:"switch",id:"basicEnhanced",name:"basicEnhanced",text:S("basicEnhanced.text"),title:S("basicEnhanced.title"),content:S("basicEnhanced.content",{talentAtkBuff:W.precisionRound(100*r)})},{formItem:"switch",id:"basicEnhancedSpdBuff",name:"basicEnhancedSpdBuff",text:S("basicEnhancedSpdBuff.text"),title:S("basicEnhancedSpdBuff.title"),content:S("basicEnhancedSpdBuff.content")},{formItem:"slider",id:"skillDmgIncreaseStacks",name:"skillDmgIncreaseStacks",text:S("skillDmgIncreaseStacks.text"),title:S("skillDmgIncreaseStacks.title"),content:S("skillDmgIncreaseStacks.content",{skillStackDmg:W.precisionRound(100*c)}),min:0,max:4}]})();return{content:()=>R,teammateContent:()=>[],defaults:()=>({basicEnhanced:!0,basicEnhancedSpdBuff:!1,skillDmgIncreaseStacks:4}),teammateDefaults:()=>({}),precomputeEffects:(S,Z)=>{const C=Z.characterConditionals;return S[e.ATK_P]+=C.basicEnhanced?r:0,S[e.SPD_P]+=C.basicEnhancedSpdBuff?.1:0,S.BASIC_SCALING+=C.basicEnhanced?f:u,S.SKILL_SCALING+=p,S.ULT_SCALING+=G,S.FUA_SCALING+=t>=4?S.BASIC_SCALING:0,S.ELEMENTAL_DMG+=C.skillDmgIncreaseStacks*c,ot(S,Ft,.1,t>=1),S.BASIC_TOUGHNESS_DMG+=C.basicEnhanced?60:30,S.ULT_TOUGHNESS_DMG+=60,S.FUA_TOUGHNESS_DMG+=C.basicEnhanced?60:30,S},precomputeMutualEffects:(S,Z)=>{},finalizeCalculations:(S,Z)=>{ye(S,Z,b(Z))},gpuFinalizeCalculations:S=>Le(b(S))}},lu=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.ULT_TALENT_3_SKILL_BASIC_5,c=s(t,.25,.27),r=i(t,1,1.1),u=l(t,.32,.352),f=o(t,.1,.104),p=(()=>{if(a)return[];const h=I.getFixedT(null,"conditionals","Characters.RuanMei.Content");return[{formItem:"switch",id:"skillOvertoneBuff",name:"skillOvertoneBuff",text:h("skillOvertoneBuff.text"),title:h("skillOvertoneBuff.title"),content:h("skillOvertoneBuff.content",{skillScaling:W.precisionRound(100*u)})},{formItem:"switch",id:"teamBEBuff",name:"teamBEBuff",text:h("teamBEBuff.text"),title:h("teamBEBuff.title"),content:h("teamBEBuff.content")},{formItem:"switch",id:"ultFieldActive",name:"ultFieldActive",text:h("ultFieldActive.text"),title:h("ultFieldActive.title"),content:h("ultFieldActive.content",{fieldResPenValue:W.precisionRound(100*c)})},{formItem:"switch",id:"e2AtkBoost",name:"e2AtkBoost",text:h("e2AtkBoost.text"),title:h("e2AtkBoost.title"),content:h("e2AtkBoost.content"),disabled:t<2},{formItem:"switch",id:"e4BeBuff",name:"e4BeBuff",text:h("e4BeBuff.text"),title:h("e4BeBuff.title"),content:h("e4BeBuff.content"),disabled:t<4}]})(),G=(()=>{if(a)return[];const h=I.getFixedT(null,"conditionals","Characters.RuanMei.TeammateContent");return[O(p,"skillOvertoneBuff"),{formItem:"switch",id:"teamSpdBuff",name:"teamSpdBuff",text:h("teamSpdBuff.text"),title:h("teamSpdBuff.title"),content:h("teamSpdBuff.content",{talentSpdScaling:W.precisionRound(100*f)})},O(p,"teamBEBuff"),{formItem:"slider",id:"teamDmgBuff",name:"teamDmgBuff",text:h("teamDmgBuff.text"),title:h("teamDmgBuff.title"),content:h("teamDmgBuff.content"),min:0,max:.36,percent:!0},O(p,"ultFieldActive"),O(p,"e2AtkBoost")]})();return{content:()=>p,teammateContent:()=>G,defaults:()=>({skillOvertoneBuff:!0,teamBEBuff:!0,ultFieldActive:!0,e2AtkBoost:!1,e4BeBuff:!1}),teammateDefaults:()=>({skillOvertoneBuff:!0,teamSpdBuff:!0,teamBEBuff:!0,ultFieldActive:!0,e2AtkBoost:!1,teamDmgBuff:.36}),precomputeEffects:(h,m)=>{const b=m.characterConditionals;return h[e.ATK_P]+=t>=2&&b.e2AtkBoost?.4:0,h[e.BE]+=t>=4&&b.e4BeBuff?1:0,h.BASIC_SCALING+=r,h.BASIC_TOUGHNESS_DMG+=30,h},precomputeMutualEffects:(h,m)=>{const b=m.characterConditionals;h[e.BE]+=b.teamBEBuff?.2:0,h.ELEMENTAL_DMG+=b.skillOvertoneBuff?u:0,h.BREAK_EFFICIENCY_BOOST+=b.skillOvertoneBuff?.5:0,h.RES_PEN+=b.ultFieldActive?c:0,h.DEF_PEN+=t>=1&&b.ultFieldActive?.2:0},precomputeTeammateEffects:(h,m)=>{const b=m.characterConditionals;h[e.SPD_P]+=b.teamSpdBuff?f:0,h.ELEMENTAL_DMG+=b.teamDmgBuff,h[e.ATK_P]+=t>=2&&b.e2AtkBoost?.4:0,h.RATIO_BASED_ATK_P_BUFF+=t>=2&&b.e2AtkBoost?.4:0},finalizeCalculations:h=>Ut(h),gpuFinalizeCalculations:()=>Xt(),dynamicConditionals:[Ld]}},ou=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=s(t,.3,.32),r=i(t,1,1.1),u=l(t,.56,.616),f=s(t,1.6,1.728),p=o(t,.52,.572),G=t<1?4:5,h=(()=>{if(a)return[];const b=I.getFixedT(null,"conditionals","Characters.Sampo.Content");return[{formItem:"switch",id:"targetDotTakenDebuff",name:"targetDotTakenDebuff",text:b("targetDotTakenDebuff.text"),title:b("targetDotTakenDebuff.title"),content:b("targetDotTakenDebuff.content",{dotVulnerabilityValue:W.precisionRound(100*c)})},{formItem:"slider",id:"skillExtraHits",name:"skillExtraHits",text:b("skillExtraHits.text"),title:b("skillExtraHits.title"),content:b("skillExtraHits.content"),min:1,max:G},{formItem:"switch",id:"targetWindShear",name:"targetWindShear",text:b("targetWindShear.text"),title:b("targetWindShear.title"),content:b("targetWindShear.content")}]})(),m=a?[]:[O(h,"targetDotTakenDebuff")];return{content:()=>h,teammateContent:()=>m,defaults:()=>({targetDotTakenDebuff:!0,skillExtraHits:G,targetWindShear:!0}),teammateDefaults:()=>({targetDotTakenDebuff:!0}),precomputeEffects:(b,R)=>{const S=R.characterConditionals;return b.BASIC_SCALING+=r,b.SKILL_SCALING+=u,b.SKILL_SCALING+=S.skillExtraHits*u,b.ULT_SCALING+=f,b.DOT_SCALING+=p,b.DOT_SCALING+=t>=6?.15:0,b.DMG_RED_MULTI*=S.targetWindShear?1-.15:1,b.BASIC_TOUGHNESS_DMG+=30,b.SKILL_TOUGHNESS_DMG+=30+15*S.skillExtraHits,b.ULT_TOUGHNESS_DMG+=60,b.DOT_CHANCE=.65,b},precomputeMutualEffects:(b,R)=>{const S=R.characterConditionals;na(b,Va,c,S.targetDotTakenDebuff)},finalizeCalculations:b=>Ut(b),gpuFinalizeCalculations:()=>Xt()}},cu=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_TALENT_3_ULT_BASIC_5,c=o(t,.8,.88),r=t>=2?2:1,u=i(t,1,1.1),f=l(t,2.2,2.42),p=s(t,4.25,4.59),G=(()=>{if(a)return[];const h=I.getFixedT(null,"conditionals","Characters.Seele.Content");return[{formItem:"switch",id:"buffedState",name:"buffedState",text:h("buffedState.text"),title:h("buffedState.title"),content:h("buffedState.content",{buffedStateDmgBuff:W.precisionRound(100*c)})},{formItem:"slider",id:"speedBoostStacks",name:"speedBoostStacks",text:h("speedBoostStacks.text"),title:h("speedBoostStacks.title"),content:h("speedBoostStacks.content",{speedBoostStacksMax:r}),min:0,max:r},{formItem:"switch",id:"e1EnemyHp80CrBoost",name:"e1EnemyHp80CrBoost",text:h("e1EnemyHp80CrBoost.text"),title:h("e1EnemyHp80CrBoost.title"),content:h("e1EnemyHp80CrBoost.content"),disabled:t<1},{formItem:"switch",id:"e6UltTargetDebuff",name:"e6UltTargetDebuff",text:h("e6UltTargetDebuff.text"),title:h("e6UltTargetDebuff.title"),content:h("e6UltTargetDebuff.content"),disabled:t<6}]})();return{content:()=>G,teammateContent:()=>[],defaults:()=>({buffedState:!0,speedBoostStacks:r,e1EnemyHp80CrBoost:!1,e6UltTargetDebuff:!0}),teammateDefaults:()=>({}),precomputeEffects:(h,m)=>{const b=m.characterConditionals;return h[e.CR]+=t>=1&&b.e1EnemyHp80CrBoost?.15:0,h[e.SPD_P]+=.25*b.speedBoostStacks,h.BASIC_SCALING+=u,h.SKILL_SCALING+=f,h.ULT_SCALING+=p,h.ELEMENTAL_DMG+=b.buffedState?c:0,h.RES_PEN+=b.buffedState?.2:0,h.BASIC_TOUGHNESS_DMG+=30,h.SKILL_TOUGHNESS_DMG+=60,h.ULT_TOUGHNESS_DMG+=90,h},precomputeMutualEffects:(h,m)=>{},finalizeCalculations:(h,m)=>{const b=m.characterConditionals;h.BASIC_DMG+=h.BASIC_SCALING*h[e.ATK],h.SKILL_DMG+=h.SKILL_SCALING*h[e.ATK],h.ULT_DMG+=h.ULT_SCALING*h[e.ATK],h.BASIC_DMG+=t>=6&&b.e6UltTargetDebuff?.15*h.ULT_DMG:0,h.SKILL_DMG+=t>=6&&b.e6UltTargetDebuff?.15*h.ULT_DMG:0,h.ULT_DMG+=t>=6&&b.e6UltTargetDebuff?.15*h.ULT_DMG:0},gpuFinalizeCalculations:h=>{const m=h.characterConditionals;return`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * x.ATK;

if (${Se(t>=6&&m.e6UltTargetDebuff)}) {
  x.BASIC_DMG += 0.15 * x.ULT_DMG;
  x.SKILL_DMG += 0.15 * x.ULT_DMG;
  x.ULT_DMG += 0.15 * x.ULT_DMG;
}
    `}}},ru=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=o(t,.72,.792),r=i(t,1,1.1),u=l(t,1.4,1.54),f=s(t,1.8,1.944),p=l(t,1.04,1.144),G=(()=>{if(a)return[];const h=I.getFixedT(null,"conditionals","Characters.Serval.Content");return[{formItem:"switch",id:"targetShocked",name:"targetShocked",text:h("targetShocked.text"),title:h("targetShocked.title"),content:h("targetShocked.content",{talentExtraDmgScaling:W.precisionRound(100*c)})},{formItem:"switch",id:"enemyDefeatedBuff",name:"enemyDefeatedBuff",text:h("enemyDefeatedBuff.text"),title:h("enemyDefeatedBuff.title"),content:h("enemyDefeatedBuff.content")}]})();return{content:()=>G,teammateContent:()=>[],defaults:()=>({targetShocked:!0,enemyDefeatedBuff:!0}),teammateDefaults:()=>({}),precomputeEffects:(h,m)=>{const b=m.characterConditionals;return h[e.ATK_P]+=b.enemyDefeatedBuff?.2:0,h.BASIC_SCALING+=r,h.SKILL_SCALING+=u,h.ULT_SCALING+=f,h.DOT_SCALING+=p,h.BASIC_SCALING+=b.targetShocked?c:0,h.SKILL_SCALING+=b.targetShocked?c:0,h.ULT_SCALING+=b.targetShocked?c:0,h.ELEMENTAL_DMG+=t>=6&&b.targetShocked?.3:0,h.BASIC_TOUGHNESS_DMG+=30,h.SKILL_TOUGHNESS_DMG+=60,h.ULT_TOUGHNESS_DMG+=60,h.DOT_CHANCE=.65,h},precomputeMutualEffects:(h,m)=>{},finalizeCalculations:h=>Ut(h),gpuFinalizeCalculations:()=>Xt()}},du=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_TALENT_3_ULT_BASIC_5,c=l(t,.1,.105),r=o(t,.08,.088),u=s(t,.45,.468),f=i(t,1,1.1),p=l(t,1.96,2.156),G=s(t,3.8,4.104),h=(()=>{if(a)return[];const b=I.getFixedT(null,"conditionals","Characters.SilverWolf.Content");return[{formItem:"switch",id:"skillResShredDebuff",name:"skillResShredDebuff",text:b("skillResShredDebuff.text"),title:b("skillResShredDebuff.title"),content:b("skillResShredDebuff.content",{skillResShredValue:W.precisionRound(100*c)})},{formItem:"switch",id:"skillWeaknessResShredDebuff",name:"skillWeaknessResShredDebuff",text:b("skillWeaknessResShredDebuff.text"),title:b("skillWeaknessResShredDebuff.title"),content:b("skillWeaknessResShredDebuff.content")},{formItem:"switch",id:"talentDefShredDebuff",name:"talentDefShredDebuff",text:b("talentDefShredDebuff.text"),title:b("talentDefShredDebuff.title"),content:b("talentDefShredDebuff.content",{talentDefShredDebuffValue:W.precisionRound(100*r)})},{formItem:"switch",id:"ultDefShredDebuff",name:"ultDefShredDebuff",text:b("ultDefShredDebuff.text"),title:b("ultDefShredDebuff.title"),content:b("ultDefShredDebuff.content",{ultDefShredValue:W.precisionRound(100*u)})},{formItem:"slider",id:"targetDebuffs",name:"targetDebuffs",text:b("targetDebuffs.text"),title:b("targetDebuffs.title"),content:b("targetDebuffs.content"),min:0,max:5}]})(),m=a?[]:[O(h,"skillResShredDebuff"),O(h,"skillWeaknessResShredDebuff"),O(h,"talentDefShredDebuff"),O(h,"ultDefShredDebuff"),O(h,"targetDebuffs")];return{content:()=>h,teammateContent:()=>m,defaults:()=>({skillWeaknessResShredDebuff:!1,skillResShredDebuff:!0,talentDefShredDebuff:!0,ultDefShredDebuff:!0,targetDebuffs:5}),teammateDefaults:()=>({skillWeaknessResShredDebuff:!1,skillResShredDebuff:!0,talentDefShredDebuff:!0,ultDefShredDebuff:!0,targetDebuffs:5}),precomputeEffects:(b,R)=>{const S=R.characterConditionals;return b.BASIC_SCALING+=f,b.SKILL_SCALING+=p,b.ULT_SCALING+=G,b.ULT_SCALING+=t>=4?S.targetDebuffs*.2:0,b.ELEMENTAL_DMG+=t>=6?S.targetDebuffs*.2:0,b.BASIC_TOUGHNESS_DMG+=30,b.SKILL_TOUGHNESS_DMG+=60,b.ULT_TOUGHNESS_DMG+=90,b},precomputeMutualEffects:(b,R)=>{const S=R.characterConditionals;b.RES_PEN+=S.skillWeaknessResShredDebuff?.2:0,b.RES_PEN+=S.skillResShredDebuff?c:0,b.RES_PEN+=S.skillResShredDebuff&&S.targetDebuffs>=3?.03:0,b.DEF_PEN+=S.ultDefShredDebuff?u:0,b.DEF_PEN+=S.talentDefShredDebuff?r:0},finalizeCalculations:b=>Ut(b),gpuFinalizeCalculations:()=>Xt()}},uu=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=l(t,.24,.264),r=l(t,.45,.486),u=s(t,.1,.108),f=o(t,.06,.066),p=i(t,1,1.1),G=l(t,0,0),h=s(t,0,0),m={0:0,1:.05,2:.15,3:.3},b=(()=>{if(a)return[];const Z=I.getFixedT(null,"conditionals","Characters.Sparkle.Content");return[{formItem:"switch",id:"skillCdBuff",name:"skillCdBuff",text:Z("skillCdBuff.text"),title:Z("skillCdBuff.title"),content:Z("skillCdBuff.content",{skillCdBuffScaling:W.precisionRound(100*c),skillCdBuffBase:W.precisionRound(100*r)})},{formItem:"switch",id:"cipherBuff",name:"cipherBuff",text:Z("cipherBuff.text"),title:Z("cipherBuff.title"),content:Z("cipherBuff.content",{cipherTalentStackBoost:W.precisionRound(100*u)})},{formItem:"slider",id:"talentStacks",name:"talentStacks",text:Z("talentStacks.text"),title:Z("talentStacks.title"),content:Z("talentStacks.content",{talentBaseStackBoost:W.precisionRound(100*f)}),min:0,max:3},{formItem:"slider",id:"quantumAllies",name:"quantumAllies",text:Z("quantumAllies.text"),title:Z("quantumAllies.title"),content:Z("quantumAllies.content"),min:0,max:3}]})(),R=(()=>{if(a)return[];const Z=I.getFixedT(null,"conditionals","Characters.Sparkle.TeammateContent");return[O(b,"skillCdBuff"),{formItem:"slider",id:"teammateCDValue",name:"teammateCDValue",text:Z("teammateCDValue.text"),title:Z("teammateCDValue.title"),content:Z("teammateCDValue.content",{skillCdBuffScaling:W.precisionRound(100*c),skillCdBuffBase:W.precisionRound(100*r)}),min:0,max:3.5,percent:!0},O(b,"cipherBuff"),O(b,"talentStacks"),O(b,"quantumAllies")]})(),S={skillCdBuff:!1,cipherBuff:!0,talentStacks:3,quantumAllies:3};return{content:()=>b,teammateContent:()=>R,defaults:()=>S,teammateDefaults:()=>({...S,skillCdBuff:!0,teammateCDValue:2.5}),precomputeEffects:(Z,C)=>(Z.BASIC_SCALING+=p,Z.SKILL_SCALING+=G,Z.ULT_SCALING+=h,Z.BASIC_TOUGHNESS_DMG+=30,Z),precomputeMutualEffects:(Z,C)=>{const D=C.characterConditionals;Z[e.ATK_P]+=.15+(C.PRIMARY_ELEMENTAL_DMG_TYPE==e.Quantum_DMG&&m[D.quantumAllies]||0),Z[e.ATK_P]+=t>=1&&D.cipherBuff?.4:0,Z.ELEMENTAL_DMG+=D.cipherBuff?D.talentStacks*(f+u):D.talentStacks*f,Z.DEF_PEN+=t>=2?.08*D.talentStacks:0},precomputeTeammateEffects:(Z,C)=>{const D=C.characterConditionals;Z[e.CD]+=D.skillCdBuff?r+(c+(t>=6?.3:0))*D.teammateCDValue:0},finalizeCalculations:Z=>Ut(Z),gpuFinalizeCalculations:()=>Xt(),dynamicConditionals:[{id:"SparkleCdConditional",type:Mt.ABILITY,activation:Lt.CONTINUOUS,dependsOn:[e.CD],ratioConversion:!0,condition:function(){return!0},effect:function(Z,C,D){if(!C.characterConditionals.skillCdBuff)return;const M=c+(t>=6?.3:0),E=D.conditionalState[this.id]||0,P=Z[e.CD]-Z.RATIO_BASED_CD_BUFF,H=M*P+r,k=M*E+r;D.conditionalState[this.id]=Z[e.CD];const B=H-(E?k:0);Z.RATIO_BASED_CD_BUFF+=B,jt(Z,C,D,e.CD,B)},gpu:function(Z,C){const D=Z.characterConditionals,V=c+(t>=6?.3:0);return Bt(this,`
if (${Ke(D.skillCdBuff)}) {
  return;
}

let stateValue: f32 = (*p_state).SparkleCdConditional;
let convertibleCdValue: f32 = (*p_x).CD - (*p_x).RATIO_BASED_CD_BUFF;

var buffCD: f32 = ${V} * convertibleCdValue + ${r};
var stateBuffCD: f32 = ${V} * stateValue + ${r};

(*p_state).SparkleCdConditional = (*p_x).CD;

let finalBuffCd = buffCD - select(0, stateBuffCD, stateValue > 0);
(*p_x).RATIO_BASED_CD_BUFF += finalBuffCd;

buffNonRatioDynamicCD(finalBuffCd, p_x, p_state);
    `)}}]}},mu=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.ULT_TALENT_3_SKILL_BASIC_5,c=o(t,.2,.21),r=s(t,.3,.324),u=t>=6?2:1,f=i(t,1,1.1),p=l(t,2.1,2.31),G=l(t,1,1.1),h=s(t,3.2,3.456),m=(()=>{if(a)return[];const b=I.getFixedT(null,"conditionals","Characters.Sushang.Content");return[{formItem:"switch",id:"ultBuffedState",name:"ultBuffedState",text:b("ultBuffedState.text"),title:b("ultBuffedState.title"),content:b("ultBuffedState.content",{ultBuffedAtk:W.precisionRound(100*r)})},{formItem:"slider",id:"skillExtraHits",name:"skillExtraHits",text:b("skillExtraHits.text"),title:b("skillExtraHits.title"),content:b("skillExtraHits.content"),min:0,max:3},{formItem:"slider",id:"skillTriggerStacks",name:"skillTriggerStacks",text:b("skillTriggerStacks.text"),title:b("skillTriggerStacks.title"),content:b("skillTriggerStacks.content"),min:0,max:10},{formItem:"slider",id:"talentSpdBuffStacks",name:"talentSpdBuffStacks",text:b("talentSpdBuffStacks.text"),title:b("talentSpdBuffStacks.title"),content:b("talentSpdBuffStacks.content",{talentSpdBuffValue:W.precisionRound(100*c)}),min:0,max:u},{formItem:"switch",id:"e2DmgReductionBuff",name:"e2DmgReductionBuff",text:b("e2DmgReductionBuff.text"),title:b("e2DmgReductionBuff.title"),content:b("e2DmgReductionBuff.content"),disabled:t<2}]})();return{content:()=>m,teammateContent:()=>[],defaults:()=>({ultBuffedState:!0,e2DmgReductionBuff:!0,skillExtraHits:3,skillTriggerStacks:10,talentSpdBuffStacks:u}),teammateDefaults:()=>({}),precomputeEffects:(b,R)=>{const S=R.characterConditionals;b[e.BE]+=t>=4?.4:0,b[e.ATK_P]+=S.ultBuffedState?r:0,b[e.SPD_P]+=S.talentSpdBuffStacks*c;const Z=p;let C=0;C+=S.skillExtraHits>=1?G:0,C+=S.ultBuffedState&&S.skillExtraHits>=2?G*.5:0,C+=S.ultBuffedState&&S.skillExtraHits>=3?G*.5:0;const D=C/(C+Z);return b.BASIC_SCALING+=f,b.SKILL_SCALING+=Z,b.SKILL_SCALING+=C,b.ULT_SCALING+=h,ot(b,Qt,S.skillTriggerStacks*.025*D),b.DMG_RED_MULTI*=t>=2&&S.e2DmgReductionBuff?1-.2:1,b.BASIC_TOUGHNESS_DMG+=30,b.SKILL_TOUGHNESS_DMG+=60,b.ULT_TOUGHNESS_DMG+=90,b},precomputeMutualEffects:(b,R)=>{},finalizeCalculations:b=>Ut(b),gpuFinalizeCalculations:()=>Xt()}},bu=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.ULT_BASIC_3_SKILL_TALENT_5,c=l(t,.25,.27),r=s(t,.5,.56),u=l(t,.5,.55),f=l(t,.4,.44)+(t>=4?.2:0),p=o(t,.6,.66)+(t>=4?.2:0),G=i(t,1,1.1),h=l(t,0,0),m=s(t,0,0),b=(()=>{if(a)return[];const S=I.getFixedT(null,"conditionals","Characters.Tingyun.Content");return[{formItem:"switch",id:"benedictionBuff",name:"benedictionBuff",text:S("benedictionBuff.text"),title:S("benedictionBuff.title"),content:S("benedictionBuff.content",{skillAtkBoostScaling:W.precisionRound(100*u),skillAtkBoostMax:W.precisionRound(100*c),skillLightningDmgBoostScaling:W.precisionRound(100*f)})},{formItem:"switch",id:"skillSpdBuff",name:"skillSpdBuff",text:S("skillSpdBuff.text"),title:S("skillSpdBuff.title"),content:S("skillSpdBuff.content")},{formItem:"switch",id:"ultDmgBuff",name:"ultDmgBuff",text:S("ultDmgBuff.text"),title:S("ultDmgBuff.title"),content:S("ultDmgBuff.content",{ultDmgBoost:W.precisionRound(100*r)})},{formItem:"switch",id:"ultSpdBuff",name:"ultSpdBuff",text:S("ultSpdBuff.text"),title:S("ultSpdBuff.title"),content:S("ultSpdBuff.content"),disabled:t<1}]})(),R=(()=>{if(a)return[];const S=I.getFixedT(null,"conditionals","Characters.Tingyun.TeammateContent");return[O(b,"benedictionBuff"),{formItem:"slider",id:"teammateAtkBuffValue",name:"teammateAtkBuffValue",text:S("teammateAtkBuffValue.text"),title:S("teammateAtkBuffValue.title"),content:S("teammateAtkBuffValue.content",{skillAtkBoostScaling:W.precisionRound(100*u),skillAtkBoostMax:W.precisionRound(100*c),skillLightningDmgBoostScaling:W.precisionRound(100*f)}),min:0,max:u,percent:!0},O(b,"ultDmgBuff"),O(b,"ultSpdBuff")]})();return{content:()=>b,teammateContent:()=>R,defaults:()=>({benedictionBuff:!1,skillSpdBuff:!1,ultSpdBuff:!1,ultDmgBuff:!1}),teammateDefaults:()=>({benedictionBuff:!0,ultSpdBuff:!1,ultDmgBuff:!0,teammateAtkBuffValue:u}),precomputeEffects:(S,Z)=>{const C=Z.characterConditionals;return S[e.SPD_P]+=C.skillSpdBuff?.2:0,S.BASIC_SCALING+=G,S.SKILL_SCALING+=h,S.ULT_SCALING+=m,ot(S,ue,.4),S.BASIC_TOUGHNESS_DMG+=30,S},precomputeMutualEffects:(S,Z)=>{const C=Z.characterConditionals;S[e.SPD_P]+=t>=1&&C.ultSpdBuff?.2:0,S.ELEMENTAL_DMG+=C.ultDmgBuff?r:0},precomputeTeammateEffects:(S,Z)=>{const C=Z.characterConditionals;S[e.ATK_P]+=C.benedictionBuff?C.teammateAtkBuffValue:0},finalizeCalculations:(S,Z)=>{const C=Z.characterConditionals;S.BASIC_DMG+=S.BASIC_SCALING*S[e.ATK]+(C.benedictionBuff?f+p:0)*S[e.ATK],S.SKILL_DMG+=S.SKILL_SCALING*S[e.ATK],S.ULT_DMG+=S.ULT_SCALING*S[e.ATK]},gpuFinalizeCalculations:S=>{const Z=S.characterConditionals;return`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
if (${Se(Z.benedictionBuff)}) {
  x.BASIC_DMG += (${f+p}) * x.ATK;
}

x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * x.ATK;
    `},dynamicConditionals:[{id:"TingyunAtkConditional",type:Mt.ABILITY,activation:Lt.CONTINUOUS,dependsOn:[e.ATK],ratioConversion:!0,condition:function(){return!0},effect:function(S,Z,C){if(!Z.characterConditionals.benedictionBuff)return;const V=C.conditionalState[this.id]||0,M=S[e.ATK]-S.RATIO_BASED_ATK_BUFF,E=c*M,P=c*V;C.conditionalState[this.id]=S[e.ATK];const H=E-(V?P:0);S.RATIO_BASED_ATK_BUFF+=H,jt(S,Z,C,e.ATK,H)},gpu:function(S,Z){const C=S.characterConditionals;return Bt(this,`
if (${Ke(C.benedictionBuff)}) {
  return;
}

let stateValue: f32 = (*p_state).TingyunAtkConditional;
let convertibleAtkValue: f32 = (*p_x).ATK - (*p_x).RATIO_BASED_ATK_BUFF;

var buffATK: f32 = ${c} * convertibleAtkValue;
var stateBuffATK: f32 = ${c} * stateValue;

(*p_state).TingyunAtkConditional = (*p_x).ATK;

let finalBuffAtk = buffATK - select(0, stateBuffATK, stateValue > 0);
(*p_x).RATIO_BASED_ATK_BUFF += finalBuffAtk;

buffNonRatioDynamicATK(finalBuffAtk, p_x, p_state);
    `)}}]}},hu=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=t>=6?3:2,r=i(t,1,1.1),u=l(t,.72,.792),f=s(t,1.5,1.62),p=o(t,.6,.66),G=(()=>{if(a)return[];const m=I.getFixedT(null,"conditionals","Characters.Welt.Content");return[{formItem:"switch",id:"enemyDmgTakenDebuff",name:"enemyDmgTakenDebuff",text:m("enemyDmgTakenDebuff.text"),title:m("enemyDmgTakenDebuff.title"),content:m("enemyDmgTakenDebuff.content")},{formItem:"switch",id:"enemySlowed",name:"enemySlowed",text:m("enemySlowed.text"),title:m("enemySlowed.title"),content:m("enemySlowed.content",{talentScaling:W.precisionRound(100*p)})},{formItem:"slider",id:"skillExtraHits",name:"skillExtraHits",text:m("skillExtraHits.text"),title:m("skillExtraHits.title"),content:m("skillExtraHits.content",{skillScaling:W.precisionRound(100*u)}),min:0,max:c},{formItem:"switch",id:"e1EnhancedState",name:"e1EnhancedState",text:m("e1EnhancedState.text"),title:m("e1EnhancedState.title"),content:m("e1EnhancedState.content"),disabled:t<1}]})(),h=[O(G,"enemyDmgTakenDebuff")];return{content:()=>G,teammateContent:()=>h,defaults:()=>({enemySlowed:!0,enemyDmgTakenDebuff:!0,skillExtraHits:c,e1EnhancedState:!0}),teammateDefaults:()=>({enemyDmgTakenDebuff:!0}),precomputeEffects:(m,b)=>{const R=b.characterConditionals;return m.ELEMENTAL_DMG+=m.ENEMY_WEAKNESS_BROKEN?.2:0,m.BASIC_SCALING+=r,m.SKILL_SCALING+=u,m.ULT_SCALING+=f,m.BASIC_SCALING+=R.enemySlowed?p:0,m.SKILL_SCALING+=R.enemySlowed?p:0,m.ULT_SCALING+=R.enemySlowed?p:0,m.BASIC_SCALING+=t>=1&&R.e1EnhancedState?.5*r:0,m.SKILL_SCALING+=t>=1&&R.e1EnhancedState?.8*u:0,m.SKILL_SCALING+=R.skillExtraHits*u,m.BASIC_TOUGHNESS_DMG+=30,m.SKILL_TOUGHNESS_DMG+=30+30*R.skillExtraHits,m.ULT_TOUGHNESS_DMG+=60,m},precomputeMutualEffects:(m,b)=>{const R=b.characterConditionals;m.VULNERABILITY+=R.enemyDmgTakenDebuff?.12:0},finalizeCalculations:m=>Ut(m),gpuFinalizeCalculations:()=>Xt()}},pu=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=s(t,.6,.648),r=i(t,1,1.1),u=l(t,1.4,1.54),f=s(t,2.5,2.7),p=o(t,.9,.99),G={0:0,1:rt*(1*1/1),2:rt*(1*1/2+2*1/2),3:rt*(1*1/3+2*1/3+3*1/3)},h=(()=>{if(a)return[];const m=I.getFixedT(null,"conditionals","Characters.Xueyi.Content");return[{id:"beToDmgBoost",name:"beToDmgBoost",formItem:"switch",text:m("beToDmgBoost.text"),title:m("beToDmgBoost.title"),content:m("beToDmgBoost.content")},{id:"enemyToughness50",name:"enemyToughness50",formItem:"switch",text:m("enemyToughness50.text"),title:m("enemyToughness50.title"),content:m("enemyToughness50.content")},{id:"toughnessReductionDmgBoost",name:"toughnessReductionDmgBoost",formItem:"slider",text:m("toughnessReductionDmgBoost.text"),title:m("toughnessReductionDmgBoost.title"),content:m("toughnessReductionDmgBoost.content",{ultBoostMax:W.precisionRound(100*c)}),min:0,max:c,percent:!0},{id:"fuaHits",name:"fuaHits",formItem:"slider",text:m("fuaHits.text"),title:m("fuaHits.title"),content:m("fuaHits.content",{fuaScaling:W.precisionRound(100*p)}),min:0,max:3},{id:"e4BeBuff",name:"e4BeBuff",formItem:"switch",text:m("e4BeBuff.text"),title:m("e4BeBuff.title"),content:m("e4BeBuff.content"),disabled:t<4}]})();return{content:()=>h,teammateContent:()=>[],defaults:()=>({beToDmgBoost:!0,enemyToughness50:!0,toughnessReductionDmgBoost:c,fuaHits:3,e4BeBuff:!0}),teammateDefaults:()=>({}),precomputeEffects:(m,b)=>{const R=b.characterConditionals;return m[e.BE]+=t>=4&&R.e4BeBuff?.4:0,m.BASIC_SCALING+=r,m.SKILL_SCALING+=u,m.ULT_SCALING+=f,m.FUA_SCALING+=p*R.fuaHits,ot(m,Ft,R.toughnessReductionDmgBoost),ot(m,Ft,.1,R.enemyToughness50),ot(m,It,.4,t>=1),m.BASIC_TOUGHNESS_DMG+=30,m.SKILL_TOUGHNESS_DMG+=60,m.ULT_TOUGHNESS_DMG+=120,m.FUA_TOUGHNESS_DMG+=15*R.fuaHits,m},precomputeMutualEffects:(m,b)=>{},finalizeCalculations:(m,b)=>{ye(m,b,G[b.characterConditionals.fuaHits])},gpuFinalizeCalculations:m=>Le(G[m.characterConditionals.fuaHits]),dynamicConditionals:[Dd]}},Su=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=s(t,.5,.54),r=s(t,.3,.33),u=s(t,.2,.21),f=i(t,1,1.1),p=l(t,2.2,2.42),G=s(t,3.5,3.78),h=o(t,.5,.55),m=rt*(1*1/1),b=(()=>{if(a)return[];const R=I.getFixedT(null,"conditionals","Characters.Yanqing.Content");return[{formItem:"switch",id:"ultBuffActive",name:"ultBuffActive",text:R("ultBuffActive.text"),title:R("ultBuffActive.title"),content:R("ultBuffActive.content",{ultCdBuffValue:W.precisionRound(100*c)})},{formItem:"switch",id:"soulsteelBuffActive",name:"soulsteelBuffActive",text:R("soulsteelBuffActive.text"),title:R("soulsteelBuffActive.title"),content:R("soulsteelBuffActive.content",{talentCdBuffValue:W.precisionRound(100*r),talentCrBuffValue:W.precisionRound(100*u),ultCdBuffValue:W.precisionRound(100*c)})},{formItem:"switch",id:"critSpdBuff",name:"critSpdBuff",text:R("critSpdBuff.text"),title:R("critSpdBuff.title"),content:R("critSpdBuff.content")},{formItem:"switch",id:"e1TargetFrozen",name:"e1TargetFrozen",text:R("e1TargetFrozen.text"),title:R("e1TargetFrozen.title"),content:R("e1TargetFrozen.content"),disabled:t<1},{formItem:"switch",id:"e4CurrentHp80",name:"e4CurrentHp80",text:R("e4CurrentHp80.text"),title:R("e4CurrentHp80.title"),content:R("e4CurrentHp80.content"),disabled:t<4}]})();return{content:()=>b,teammateContent:()=>[],defaults:()=>({ultBuffActive:!0,soulsteelBuffActive:!0,critSpdBuff:!0,e1TargetFrozen:!0,e4CurrentHp80:!0}),teammateDefaults:()=>({}),precomputeEffects:(R,S)=>{const Z=S.characterConditionals;return R[e.CR]+=Z.ultBuffActive?.6:0,R[e.CD]+=Z.ultBuffActive&&Z.soulsteelBuffActive?c:0,R[e.CR]+=Z.soulsteelBuffActive?u:0,R[e.CD]+=Z.soulsteelBuffActive?r:0,R[e.RES]+=Z.soulsteelBuffActive?.2:0,R[e.SPD_P]+=Z.critSpdBuff?.1:0,R[e.ERR]+=t>=2&&Z.soulsteelBuffActive?.1:0,R.BASIC_SCALING+=f,R.SKILL_SCALING+=p,R.ULT_SCALING+=G,R.FUA_SCALING+=h,R.BASIC_SCALING+=S.enemyElementalWeak?.3:0,R.SKILL_SCALING+=S.enemyElementalWeak?.3:0,R.ULT_SCALING+=S.enemyElementalWeak?.3:0,R.FUA_SCALING+=S.enemyElementalWeak?.3:0,R.BASIC_SCALING+=t>=1&&Z.e1TargetFrozen?.6:0,R.SKILL_SCALING+=t>=1&&Z.e1TargetFrozen?.6:0,R.ULT_SCALING+=t>=1&&Z.e1TargetFrozen?.6:0,R.FUA_SCALING+=t>=1&&Z.e1TargetFrozen?.6:0,R.ICE_RES_PEN+=t>=4&&Z.e4CurrentHp80?.12:0,R.BASIC_TOUGHNESS_DMG+=30,R.SKILL_TOUGHNESS_DMG+=60,R.ULT_TOUGHNESS_DMG+=90,R.FUA_TOUGHNESS_DMG+=30,R},precomputeMutualEffects:(R,S)=>{},finalizeCalculations:(R,S)=>{ye(R,S,m)},gpuFinalizeCalculations:R=>Le(m)}},Ru=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=l(t,.8,.88),r=l(t,.65,.702),u=l(t,.28,.294),f=o(t,.8,.88),p=i(t,1,1.1),G=l(t,0,0),h=s(t,3.8,4.104),m=(()=>{if(a)return[];const R=I.getFixedT(null,"conditionals","Characters.Yukong.Content");return[{formItem:"switch",id:"teamImaginaryDmgBoost",name:"teamImaginaryDmgBoost",text:R("teamImaginaryDmgBoost.text"),title:R("teamImaginaryDmgBoost.title"),content:R("teamImaginaryDmgBoost.content")},{formItem:"switch",id:"roaringBowstringsActive",name:"roaringBowstringsActive",text:R("roaringBowstringsActive.text"),title:R("roaringBowstringsActive.title"),content:R("roaringBowstringsActive.content",{skillAtkBuffValue:W.precisionRound(100*c)})},{formItem:"switch",id:"ultBuff",name:"ultBuff",text:R("ultBuff.text"),title:R("ultBuff.title"),content:R("ultBuff.content",{ultCrBuffValue:W.precisionRound(100*u),ultCdBuffValue:W.precisionRound(100*r),ultScaling:W.precisionRound(100*h)})},{formItem:"switch",id:"initialSpeedBuff",name:"initialSpeedBuff",text:R("initialSpeedBuff.text"),title:R("initialSpeedBuff.title"),content:R("initialSpeedBuff.content"),disabled:t<1}]})(),b=a?[]:[O(m,"teamImaginaryDmgBoost"),O(m,"roaringBowstringsActive"),O(m,"ultBuff"),O(m,"initialSpeedBuff")];return{content:()=>m,teammateContent:()=>b,defaults:()=>({teamImaginaryDmgBoost:!0,roaringBowstringsActive:!0,ultBuff:!0,initialSpeedBuff:!0}),teammateDefaults:()=>({teamImaginaryDmgBoost:!0,roaringBowstringsActive:!0,ultBuff:!0,initialSpeedBuff:!0}),precomputeEffects:(R,S)=>{const Z=S.characterConditionals;return R.BASIC_SCALING+=p,R.BASIC_SCALING+=f,R.SKILL_SCALING+=G,R.ULT_SCALING+=h,R.ELEMENTAL_DMG+=t>=4&&Z.roaringBowstringsActive?.3:0,R.BASIC_TOUGHNESS_DMG+=30,R.ULT_TOUGHNESS_DMG+=90,R},precomputeMutualEffects:(R,S)=>{const Z=S.characterConditionals;R[e.ATK_P]+=Z.roaringBowstringsActive?c:0,R[e.CR]+=Z.ultBuff&&Z.roaringBowstringsActive?u:0,R[e.CD]+=Z.ultBuff&&Z.roaringBowstringsActive?r:0,R[e.SPD_P]+=t>=1&&Z.initialSpeedBuff?.1:0,R[e.Imaginary_DMG]+=Z.teamImaginaryDmgBoost?.12:0},finalizeCalculations:R=>Ut(R),gpuFinalizeCalculations:()=>Xt()}},fu=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.ULT_BASIC_3_SKILL_TALENT_5,c=i(t,1,1.1),r=l(t,1.6,1.76),u=s(t,.24,.2592),f=s(t,.15,.162),p=s(t,1.2,1.296),G=.25,h=o(t,.2,.22),m=9,b=t>=2?1:2,R={0:0,1:t>=2?.6:.15,2:.6},S=(()=>{if(a)return[];const C=I.getFixedT(null,"conditionals","Characters.Acheron.Content");return[{formItem:"slider",id:"crimsonKnotStacks",name:"crimsonKnotStacks",text:C("crimsonKnotStacks.text"),title:C("crimsonKnotStacks.title"),content:C("crimsonKnotStacks.content",{RainbladeScaling:W.precisionRound(100*u),CrimsonKnotScaling:W.precisionRound(100*f)}),min:0,max:m},{formItem:"slider",id:"nihilityTeammates",name:"nihilityTeammates",text:C("nihilityTeammates.text"),title:C("nihilityTeammates.title"),content:C("nihilityTeammates.content"),min:0,max:b},{formItem:"slider",id:"thunderCoreStacks",name:"thunderCoreStacks",text:C("thunderCoreStacks.text"),title:C("thunderCoreStacks.title"),content:C("thunderCoreStacks.content"),min:0,max:3},{formItem:"slider",id:"stygianResurgeHitsOnTarget",name:"stygianResurgeHitsOnTarget",text:C("stygianResurgeHitsOnTarget.text"),title:C("stygianResurgeHitsOnTarget.title"),content:C("stygianResurgeHitsOnTarget.content"),min:0,max:6},{formItem:"switch",id:"e1EnemyDebuffed",name:"e1EnemyDebuffed",text:C("e1EnemyDebuffed.text"),title:C("e1EnemyDebuffed.title"),content:C("e1EnemyDebuffed.content"),disabled:t<1},{formItem:"switch",id:"e4UltVulnerability",name:"e4UltVulnerability",text:C("e4UltVulnerability.text"),title:C("e4UltVulnerability.title"),content:C("e4UltVulnerability.content"),disabled:t<4},{formItem:"switch",id:"e6UltBuffs",name:"e6UltBuffs",text:C("e6UltBuffs.text"),title:C("e6UltBuffs.title"),content:C("e6UltBuffs.content"),disabled:t<6}]})(),Z=a?[]:[O(S,"e4UltVulnerability")];return{content:()=>S,teammateContent:()=>Z,defaults:()=>({crimsonKnotStacks:m,nihilityTeammates:b,e1EnemyDebuffed:!0,thunderCoreStacks:3,stygianResurgeHitsOnTarget:6,e4UltVulnerability:!0,e6UltBuffs:!0}),teammateDefaults:()=>({e4UltVulnerability:!0}),initializeConfigurations:(C,D)=>{const V=D.characterConditionals;t>=6&&V.e6UltBuffs&&(C.BASIC_DMG_TYPE=Ft|ue,C.SKILL_DMG_TYPE=Ft|Qt)},precomputeEffects:(C,D)=>{const V=D.characterConditionals;C[e.CR]+=t>=1&&V.e1EnemyDebuffed?.18:0,C.ELEMENTAL_DMG+=V.thunderCoreStacks*.3,Pn(C,Ft,h),Pn(C,Ft,.2,t>=6&&V.e6UltBuffs);const M=R[V.nihilityTeammates];return C.BASIC_ORIGINAL_DMG_BOOST+=M,C.SKILL_ORIGINAL_DMG_BOOST+=M,C.ULT_ORIGINAL_DMG_BOOST+=M,C.BASIC_SCALING=c,C.SKILL_SCALING=r,C.ULT_SCALING+=3*u,C.ULT_SCALING+=3*f,C.ULT_SCALING+=f*V.crimsonKnotStacks,C.ULT_SCALING+=p,C.ULT_SCALING+=V.stygianResurgeHitsOnTarget*G,C.BASIC_TOUGHNESS_DMG+=30,C.SKILL_TOUGHNESS_DMG+=60,C.ULT_TOUGHNESS_DMG+=105,C},precomputeMutualEffects:(C,D)=>{const V=D.characterConditionals;na(C,Ft,.08,t>=4&&V.e4UltVulnerability)},finalizeCalculations:C=>Ut(C),gpuFinalizeCalculations:()=>Xt()}},Gu=(t,a)=>{const{basic:i,ult:l,talent:s}=it.ULT_BASIC_3_SKILL_TALENT_5,o=i(t,1,1.1),c=l(t,2.7,2.916),r=l(t,.15,.162),u=s(t,.25,.275),f=s(t,.5,.55),p=t>=4?10:7,G=(()=>{if(a)return[];const m=I.getFixedT(null,"conditionals","Characters.Aventurine.Content");return[{formItem:"switch",id:"defToCrBoost",name:"defToCrBoost",text:m("defToCrBoost.text"),title:m("defToCrBoost.title"),content:m("defToCrBoost.content")},{formItem:"switch",id:"fortifiedWagerBuff",name:"fortifiedWagerBuff",text:m("fortifiedWagerBuff.text"),title:m("fortifiedWagerBuff.title"),content:m("fortifiedWagerBuff.content",{talentResScaling:W.precisionRound(100*f)})},{formItem:"switch",id:"enemyUnnervedDebuff",name:"enemyUnnervedDebuff",text:m("enemyUnnervedDebuff.text"),title:m("enemyUnnervedDebuff.title"),content:m("enemyUnnervedDebuff.content",{ultCdBoost:W.precisionRound(100*r)})},{formItem:"slider",id:"fuaHitsOnTarget",name:"fuaHitsOnTarget",text:m("fuaHitsOnTarget.text"),title:m("fuaHitsOnTarget.title"),content:m("fuaHitsOnTarget.content",{talentDmgScaling:W.precisionRound(100*u)}),min:0,max:p},{formItem:"switch",id:"e2ResShred",name:"e2ResShred",text:m("e2ResShred.text"),title:m("e2ResShred.title"),content:m("e2ResShred.content"),disabled:t<2},{formItem:"switch",id:"e4DefBuff",name:"e4DefBuff",text:m("e4DefBuff.text"),title:m("e4DefBuff.title"),content:m("e4DefBuff.content"),disabled:t<4},{formItem:"slider",id:"e6ShieldStacks",name:"e6ShieldStacks",text:m("e6ShieldStacks.text"),title:m("e6ShieldStacks.title"),content:m("e6ShieldStacks.content"),min:0,max:3,disabled:t<6}]})(),h=a?[]:[O(G,"fortifiedWagerBuff"),O(G,"enemyUnnervedDebuff"),O(G,"e2ResShred")];return{content:()=>G,teammateContent:()=>h,defaults:()=>({defToCrBoost:!0,fuaHitsOnTarget:p,fortifiedWagerBuff:!0,enemyUnnervedDebuff:!0,e2ResShred:!0,e4DefBuff:!0,e6ShieldStacks:3}),teammateDefaults:()=>({fortifiedWagerBuff:!0,enemyUnnervedDebuff:!0,e2ResShred:!0}),precomputeEffects:(m,b)=>{const R=b.characterConditionals;return m[e.DEF_P]+=t>=4&&R.e4DefBuff?.4:0,m.ELEMENTAL_DMG+=t>=6?Math.min(1.5,.5*R.e6ShieldStacks):0,m.BASIC_SCALING+=o,m.ULT_SCALING+=c,m.FUA_SCALING+=u*R.fuaHitsOnTarget,m.BASIC_TOUGHNESS_DMG+=30,m.ULT_TOUGHNESS_DMG+=90,m.FUA_TOUGHNESS_DMG+=10*R.fuaHitsOnTarget,m},precomputeMutualEffects:(m,b)=>{const R=b.characterConditionals;m[e.RES]+=R.fortifiedWagerBuff?f:0,m[e.CD]+=R.enemyUnnervedDebuff?r:0,m[e.CD]+=t>=1&&R.fortifiedWagerBuff?.2:0,m.RES_PEN+=t>=2&&R.e2ResShred?.12:0},finalizeCalculations:(m,b)=>{m.BASIC_DMG+=m.BASIC_SCALING*m[e.DEF],m.ULT_DMG+=m.ULT_SCALING*m[e.DEF],m.FUA_DMG+=m.FUA_SCALING*m[e.DEF]},gpuFinalizeCalculations:()=>`
x.BASIC_DMG += x.BASIC_SCALING * x.DEF;
x.ULT_DMG += x.ULT_SCALING * x.DEF;
x.FUA_DMG += x.FUA_SCALING * x.DEF;
      `,dynamicConditionals:[Td]}},Zu=(t,a)=>{const{basic:i,talent:l}=it.SKILL_BASIC_3_ULT_TALENT_5,s=i(t,1,1.1),o=i(t,2.5,2.75),c=i(t,1.5,1.65),r=l(t,.12,.132),u=(()=>{if(a)return[];const p=I.getFixedT(null,"conditionals","Characters.Gallagher.Content");return[{formItem:"switch",id:"basicEnhanced",name:"basicEnhanced",text:p("basicEnhanced.text"),title:p("basicEnhanced.title"),content:p("basicEnhanced.content")},{formItem:"switch",id:"breakEffectToOhbBoost",name:"breakEffectToOhbBoost",text:p("breakEffectToOhbBoost.text"),title:p("breakEffectToOhbBoost.title"),content:p("breakEffectToOhbBoost.content")},{formItem:"switch",id:"targetBesotted",name:"targetBesotted",text:p("targetBesotted.text"),title:p("targetBesotted.title"),content:p("targetBesotted.content",{talentBesottedScaling:W.precisionRound(100*r)})},{formItem:"switch",id:"e1ResBuff",name:"e1ResBuff",text:p("e1ResBuff.text"),title:p("e1ResBuff.title"),content:p("e1ResBuff.content"),disabled:t<1},{formItem:"switch",id:"e2ResBuff",name:"e2ResBuff",text:p("e2ResBuff.text"),title:p("e2ResBuff.title"),content:p("e2ResBuff.content"),disabled:t<2},{formItem:"switch",id:"e6BeBuff",name:"e6BeBuff",text:p("e6BeBuff.text"),title:p("e6BeBuff.title"),content:p("e6BeBuff.content"),disabled:t<6}]})(),f=a?[]:[O(u,"targetBesotted")];return{content:()=>u,teammateContent:()=>f,defaults:()=>({basicEnhanced:!0,breakEffectToOhbBoost:!0,e1ResBuff:!0,e2ResBuff:!0,e6BeBuff:!0,targetBesotted:!0}),teammateDefaults:()=>({targetBesotted:!0}),precomputeEffects:(p,G)=>{const h=G.characterConditionals;return p[e.RES]+=t>=1&&h.e1ResBuff?.5:0,p[e.RES]+=t>=2&&h.e2ResBuff?.3:0,p[e.BE]+=t>=6?.2:0,p.BREAK_EFFICIENCY_BOOST+=t>=6?.2:0,p.BASIC_SCALING+=h.basicEnhanced?o:s,p.ULT_SCALING+=c,p.BASIC_TOUGHNESS_DMG+=h.basicEnhanced?90:30,p.ULT_TOUGHNESS_DMG+=60,p},precomputeMutualEffects:(p,G)=>{const h=G.characterConditionals;na(p,wn,r,h.targetBesotted)},finalizeCalculations:p=>Ut(p),gpuFinalizeCalculations:()=>Xt(),dynamicConditionals:[yd]}},gu=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_ULT_3_BASIC_TALENT_5,c=l(t,.5,.55),r=o(t,.2,.23),u=s(t,.228,.2432),f=s(t,200,230),p=i(t,1,1.1),G=s(t,1.2,1.296),h=(()=>{if(a)return[];const R=I.getFixedT(null,"conditionals","Characters.Robin.Content");return[{formItem:"switch",id:"concertoActive",name:"concertoActive",text:R("concertoActive.text"),title:R("concertoActive.title"),content:R("concertoActive.content",{ultAtkBuffScalingValue:W.precisionRound(100*u),ultAtkBuffFlatValue:f,ultScaling:W.precisionRound(100*G)})},{formItem:"switch",id:"skillDmgBuff",name:"skillDmgBuff",text:R("skillDmgBuff.text"),title:R("skillDmgBuff.title"),content:R("skillDmgBuff.content",{skillDmgBuffValue:W.precisionRound(100*c)})},{formItem:"switch",id:"talentCdBuff",name:"talentCdBuff",text:R("talentCdBuff.text"),title:R("talentCdBuff.title"),content:R("talentCdBuff.content",{talentCdBuffValue:W.precisionRound(100*r)})},{formItem:"switch",id:"e1UltResPen",name:"e1UltResPen",text:R("e1UltResPen.text"),title:R("e1UltResPen.title"),content:R("e1UltResPen.content"),disabled:t<1},{formItem:"switch",id:"e4TeamResBuff",name:"e4TeamResBuff",text:R("e4TeamResBuff.text"),title:R("e4TeamResBuff.title"),content:R("e4TeamResBuff.content"),disabled:t<4},{formItem:"switch",id:"e6UltCDBoost",name:"e6UltCDBoost",text:R("e6UltCDBoost.text"),title:R("e6UltCDBoost.title"),content:R("e6UltCDBoost.content"),disabled:t<6}]})(),m=(()=>{if(a)return[];const R=I.getFixedT(null,"conditionals","Characters.Robin.TeammateContent");return[O(h,"concertoActive"),O(h,"skillDmgBuff"),{formItem:"slider",id:"teammateATKValue",name:"teammateATKValue",text:R("teammateATKValue.text"),title:R("teammateATKValue.title"),content:R("teammateATKValue.content",{ultAtkBuffFlatValue:W.precisionRound(100*f),ultAtkBuffScalingValue:u}),min:0,max:7e3},O(h,"talentCdBuff"),{formItem:"switch",id:"traceFuaCdBoost",name:"traceFuaCdBoost",text:R("traceFuaCdBoost.text"),title:R("traceFuaCdBoost.title"),content:R("traceFuaCdBoost.content")},O(h,"e1UltResPen"),{formItem:"switch",id:"e2UltSpdBuff",name:"e2UltSpdBuff",text:R("e2UltSpdBuff.text"),title:R("e2UltSpdBuff.title"),content:R("e2UltSpdBuff.content"),disabled:t<2}]})(),b={concertoActive:!0,skillDmgBuff:!0,talentCdBuff:!0,e1UltResPen:!0,e4TeamResBuff:!1,e6UltCDBoost:!0};return{content:()=>h,teammateContent:()=>m,defaults:()=>b,teammateDefaults:()=>({concertoActive:!0,skillDmgBuff:!0,talentCdBuff:!0,teammateATKValue:5e3,traceFuaCdBoost:!0,e1UltResPen:!0,e2UltSpdBuff:!1,e4TeamResBuff:!0}),precomputeEffects:(R,S)=>{const Z=S.characterConditionals;return R.BASIC_SCALING+=p,R.ULT_SCALING+=Z.concertoActive?G:0,R.ULT_BOOSTS_MULTI=0,R.BASIC_TOUGHNESS_DMG+=30,R},precomputeMutualEffects:(R,S)=>{const Z=S.characterConditionals;R[e.CD]+=Z.talentCdBuff?r:0,R[e.RES]+=t>=4&&Z.concertoActive&&Z.e4TeamResBuff?.5:0,R.ELEMENTAL_DMG+=Z.skillDmgBuff?c:0,R.RES_PEN+=t>=1&&Z.concertoActive&&Z.e1UltResPen?.24:0},precomputeTeammateEffects:(R,S)=>{const Z=S.characterConditionals;R[e.ATK]+=Z.concertoActive?Z.teammateATKValue*u+f:0,R.RATIO_BASED_ATK_BUFF+=Z.concertoActive?Z.teammateATKValue*u:0,R[e.SPD_P]+=t>=2&&Z.concertoActive&&Z.e2UltSpdBuff?.16:0,Da(R,It,.25,Z.traceFuaCdBoost&&Z.concertoActive)},finalizeCalculations:(R,S)=>{const Z=S.characterConditionals;R[e.ATK]+=Z.concertoActive?R[e.ATK]*u+f:0,hl(R,Ft,1),R.ULT_CD_OVERRIDE=t>=6&&Z.concertoActive&&Z.e6UltCDBoost?6:1.5,R.BASIC_DMG+=R.BASIC_SCALING*R[e.ATK],R.ULT_DMG+=R.ULT_SCALING*R[e.ATK]},gpuFinalizeCalculations:(R,S)=>{const Z=R.characterConditionals;return`
if (${Se(Z.concertoActive)}) {
  buffDynamicATK(x.ATK * ${u} + ${f}, p_x, p_state);
}

buffAbilityCr(p_x, ULT_TYPE, 1.00, 1);

if (${Se(t>=6&&Z.concertoActive&&Z.e6UltCDBoost)}) {
  x.ULT_CD_OVERRIDE = 6.00;
} else {
  x.ULT_CD_OVERRIDE = 1.50;
}

x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * x.ATK;
      `}}},Cu=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.ULT_BASIC_3_SKILL_TALENT_5,c=l(t,.3,.33),r=i(t,1,1.1),u=i(t,2.2,2.42),f=s(t,4,4.32),p={0:0,1:o(t,.7,.77),2:o(t,1.2,1.32),3:o(t,1.7,1.87)},G=(()=>{if(a)return[];const b=I.getFixedT(null,"conditionals","Characters.Boothill.Content");return[{formItem:"switch",id:"standoffActive",name:"standoffActive",text:b("standoffActive.text"),title:b("standoffActive.title"),content:b("standoffActive.content",{standoffVulnerabilityBoost:W.precisionRound(100*c)})},{formItem:"slider",id:"pocketTrickshotStacks",name:"pocketTrickshotStacks",text:b("pocketTrickshotStacks.text"),title:b("pocketTrickshotStacks.title"),content:b("pocketTrickshotStacks.content"),min:0,max:3},{formItem:"switch",id:"beToCritBoost",name:"beToCritBoost",text:b("beToCritBoost.text"),title:b("beToCritBoost.title"),content:b("beToCritBoost.content")},{formItem:"switch",id:"talentBreakDmgScaling",name:"talentBreakDmgScaling",text:b("talentBreakDmgScaling.text"),title:b("talentBreakDmgScaling.title"),content:b("talentBreakDmgScaling.content")},{formItem:"switch",id:"e1DefShred",name:"e1DefShred",text:b("e1DefShred.text"),title:b("e1DefShred.title"),content:b("e1DefShred.content"),disabled:t<1},{formItem:"switch",id:"e2BeBuff",name:"e2BeBuff",text:b("e2BeBuff.text"),title:b("e2BeBuff.title"),content:b("e2BeBuff.content"),disabled:t<2},{formItem:"switch",id:"e4TargetStandoffVulnerability",name:"e4TargetStandoffVulnerability",text:b("e4TargetStandoffVulnerability.text"),title:b("e4TargetStandoffVulnerability.title"),content:b("e4TargetStandoffVulnerability.content"),disabled:t<4},{formItem:"switch",id:"e6AdditionalBreakDmg",name:"e6AdditionalBreakDmg",text:b("e6AdditionalBreakDmg.text"),title:b("e6AdditionalBreakDmg.title"),content:b("e6AdditionalBreakDmg.content"),disabled:t<6}]})(),h=[],m={standoffActive:!0,pocketTrickshotStacks:3,beToCritBoost:!0,talentBreakDmgScaling:!0,e1DefShred:!0,e2BeBuff:!0,e4TargetStandoffVulnerability:!0,e6AdditionalBreakDmg:!0};return{content:()=>G,teammateContent:()=>h,defaults:()=>m,teammateDefaults:()=>({}),initializeConfigurations:(b,R)=>{R.characterConditionals.talentBreakDmgScaling&&(b.ENEMY_WEAKNESS_BROKEN=1)},precomputeEffects:(b,R)=>{const S=R.characterConditionals;b[e.BE]+=t>=2&&S.e2BeBuff?.3:0,b.VULNERABILITY+=S.standoffActive?c:0,b.DEF_PEN+=t>=1&&S.e1DefShred?.16:0,b.VULNERABILITY+=t>=4&&S.standoffActive&&S.e4TargetStandoffVulnerability?.12:0,b.BASIC_SCALING+=S.standoffActive?u:r,b.BASIC_BREAK_EFFICIENCY_BOOST+=S.standoffActive?S.pocketTrickshotStacks*.5:0,b.ULT_SCALING+=f,b.BASIC_TOUGHNESS_DMG+=S.standoffActive?60:30,b.ULT_TOUGHNESS_DMG+=90;const Z=Math.min(16*30,R.enemyMaxToughness),C=1/(.5+R.enemyMaxToughness/120),D=.5+Z/120;let V=p[S.pocketTrickshotStacks];return V+=t>=6&&S.e6AdditionalBreakDmg?.4:0,b.BASIC_BREAK_DMG_MODIFIER+=S.talentBreakDmgScaling&&S.standoffActive?C*D*V:0,b},precomputeMutualEffects:(b,R)=>{},precomputeTeammateEffects:(b,R)=>{},finalizeCalculations:b=>Ut(b),gpuFinalizeCalculations:()=>Xt(),dynamicConditionals:[Vd]}},Tu=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=l(t,.5,.55),r=s(t,1.5,1.65),u=s(t,.25,.275),f=i(t,1,1.1),p=l(t,1.5,1.65),G=o(t,1.5,1.65),h=rt*(1*1/1),m=rt*(1*1/7+2*1/7+3*1/7+4*1/7+5*1/7+6*1/7+7*1/7),b=rt*(1*1/10+2*1/10+3*1/10+4*1/10+5*1/10+6*1/10+7*1/10+8*3/10),R=(()=>{if(a)return[];const Z=I.getFixedT(null,"conditionals","Characters.Topaz.Content");return[{formItem:"switch",id:"enemyProofOfDebtDebuff",name:"enemyProofOfDebtDebuff",text:Z("enemyProofOfDebtDebuff.text"),title:Z("enemyProofOfDebtDebuff.title"),content:Z("enemyProofOfDebtDebuff.content",{proofOfDebtFuaVulnerability:W.precisionRound(100*c)})},{formItem:"switch",id:"numbyEnhancedState",name:"numbyEnhancedState",text:Z("numbyEnhancedState.text"),title:Z("numbyEnhancedState.title"),content:Z("numbyEnhancedState.content",{enhancedStateFuaCdBoost:W.precisionRound(100*u),enhancedStateFuaScalingBoost:W.precisionRound(100*r)})},{formItem:"slider",id:"e1DebtorStacks",name:"e1DebtorStacks",text:Z("e1DebtorStacks.text"),title:Z("e1DebtorStacks.title"),content:Z("e1DebtorStacks.content"),min:0,max:2,disabled:t<1}]})(),S=a?[]:[O(R,"enemyProofOfDebtDebuff"),O(R,"e1DebtorStacks")];return{content:()=>R,teammateContent:()=>S,defaults:()=>({enemyProofOfDebtDebuff:!0,numbyEnhancedState:!0,e1DebtorStacks:2}),teammateDefaults:()=>({enemyProofOfDebtDebuff:!0,e1DebtorStacks:2}),initializeConfigurations:(Z,C)=>{Z.BASIC_DMG_TYPE=ue|It,Z.SKILL_DMG_TYPE=Qt|It},precomputeEffects:(Z,C)=>{const D=C.characterConditionals;return Da(Z,Qt|It,u,D.numbyEnhancedState),Pn(Z,Qt|It,.1,t>=6),Da(Z,ue,-u,D.numbyEnhancedState),Pn(Z,ue,-.1,t>=6),Z.BASIC_SCALING+=f,Z.SKILL_SCALING+=p,Z.SKILL_SCALING+=D.numbyEnhancedState?r:0,Z.FUA_SCALING+=G,Z.FUA_SCALING+=D.numbyEnhancedState?r:0,Z.ELEMENTAL_DMG+=C.enemyElementalWeak?.15:0,Z.BASIC_TOUGHNESS_DMG+=30,Z.SKILL_TOUGHNESS_DMG+=60,Z.FUA_TOUGHNESS_DMG+=60,Z},precomputeMutualEffects:(Z,C)=>{const D=C.characterConditionals;na(Z,It,c,D.enemyProofOfDebtDebuff),Da(Z,It,.25*D.e1DebtorStacks,t>=1&&D.enemyProofOfDebtDebuff)},finalizeCalculations:(Z,C)=>{const V=C.characterConditionals.numbyEnhancedState?b:m,M=hn(Z,C,h),E=hn(Z,C,V);Z.BASIC_DMG+=Z.BASIC_SCALING*(Z[e.ATK]+M),Z.FUA_DMG+=Z.FUA_SCALING*(Z[e.ATK]+E),Z.SKILL_DMG=Z.FUA_DMG},gpuFinalizeCalculations:Z=>{const D=Z.characterConditionals.numbyEnhancedState?b:m;return`
x.BASIC_DMG += x.BASIC_SCALING * (x.ATK + calculateAshblazingSet(p_x, p_state, ${h}));
x.FUA_DMG += x.FUA_SCALING * (x.ATK + calculateAshblazingSet(p_x, p_state, ${D}));
x.SKILL_DMG = x.FUA_DMG;
    `}}},Du=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=i(t,1,1.1),r=i(t,2,2.2),u=l(t,2,2.2),f=l(t,2,2.2),p=s(t,60,66),G=s(t,.2,.22),h=o(t,.3,.34),m=o(t,.4,.44),b=(()=>{if(a)return[];const Z=I.getFixedT(null,"conditionals","Characters.Firefly.Content");return[{formItem:"switch",id:"enhancedStateActive",name:"enhancedStateActive",text:Z("enhancedStateActive.text"),title:Z("enhancedStateActive.title"),content:Z("enhancedStateActive.content")},{formItem:"switch",id:"enhancedStateSpdBuff",name:"enhancedStateSpdBuff",text:Z("enhancedStateSpdBuff.text"),title:Z("enhancedStateSpdBuff.title"),content:Z("enhancedStateSpdBuff.content",{ultSpdBuff:p})},{formItem:"switch",id:"superBreakDmg",name:"superBreakDmg",text:Z("superBreakDmg.text"),title:Z("superBreakDmg.title"),content:Z("superBreakDmg.content")},{formItem:"switch",id:"atkToBeConversion",name:"atkToBeConversion",text:Z("atkToBeConversion.text"),title:Z("atkToBeConversion.title"),content:Z("atkToBeConversion.content")},{formItem:"switch",id:"talentDmgReductionBuff",name:"talentDmgReductionBuff",text:Z("talentDmgReductionBuff.text"),title:Z("talentDmgReductionBuff.title"),content:Z("talentDmgReductionBuff.content",{talentResBuff:W.precisionRound(100*h),talentDmgReductionBuff:W.precisionRound(100*m)})},{formItem:"switch",id:"e1DefShred",name:"e1DefShred",text:Z("e1DefShred.text"),title:Z("e1DefShred.title"),content:Z("e1DefShred.content"),disabled:t<1},{formItem:"switch",id:"e4ResBuff",name:"e4ResBuff",text:Z("e4ResBuff.text"),title:Z("e4ResBuff.title"),content:Z("e4ResBuff.content"),disabled:t<4},{formItem:"switch",id:"e6Buffs",name:"e6Buffs",text:Z("e6Buffs.text"),title:Z("e6Buffs.title"),content:Z("e6Buffs.content"),disabled:t<6}]})(),R=[],S={enhancedStateActive:!0,enhancedStateSpdBuff:!0,superBreakDmg:!0,atkToBeConversion:!0,talentDmgReductionBuff:!0,e1DefShred:!0,e4ResBuff:!0,e6Buffs:!0};return{content:()=>b,teammateContent:()=>R,defaults:()=>S,teammateDefaults:()=>({}),initializeConfigurations:(Z,C)=>{C.characterConditionals.superBreakDmg&&(Z.ENEMY_WEAKNESS_BROKEN=1)},precomputeEffects:(Z,C)=>{const D=C.characterConditionals;return Z[e.RES]+=D.enhancedStateActive?h:0,Z[e.SPD]+=D.enhancedStateActive&&D.enhancedStateSpdBuff?p:0,Z.BREAK_EFFICIENCY_BOOST+=D.enhancedStateActive?.5:0,Z.DMG_RED_MULTI*=D.enhancedStateActive&&D.talentDmgReductionBuff?1-m:1,Z.DEF_PEN+=t>=1&&D.e1DefShred&&D.enhancedStateActive?.15:0,Z[e.RES]+=t>=4&&D.e4ResBuff&&D.enhancedStateActive?.5:0,Z.FIRE_RES_PEN+=t>=6&&D.e6Buffs&&D.enhancedStateActive?.2:0,Z.BREAK_EFFICIENCY_BOOST+=t>=6&&D.e6Buffs&&D.enhancedStateActive?.5:0,Z.BASIC_SCALING+=D.enhancedStateActive?r:c,Z.BASIC_TOUGHNESS_DMG+=D.enhancedStateActive?45:30,Z.SKILL_TOUGHNESS_DMG+=D.enhancedStateActive?90:60,Z},precomputeMutualEffects:(Z,C)=>{},precomputeTeammateEffects:(Z,C)=>{},finalizeCalculations:(Z,C)=>{const D=C.characterConditionals;na(Z,wn,G,D.enhancedStateActive&&Z.ENEMY_WEAKNESS_BROKEN),Z.SUPER_BREAK_MODIFIER+=D.superBreakDmg&&D.enhancedStateActive&&Z[e.BE]>=2?.35:0,Z.SUPER_BREAK_MODIFIER+=D.superBreakDmg&&D.enhancedStateActive&&Z[e.BE]>=3.6?.15:0,Z.SKILL_SCALING+=D.enhancedStateActive?.2*Math.min(3.6,Z[e.BE])+f:u,Z.BASIC_DMG+=Z.BASIC_SCALING*Z[e.ATK],Z.SKILL_DMG+=Z.SKILL_SCALING*Z[e.ATK]},gpuFinalizeCalculations:(Z,C)=>{const D=Z.characterConditionals;return`
buffAbilityVulnerability(p_x, BREAK_TYPE, ${G}, select(0, 1, ${Se(D.enhancedStateActive)} && x.ENEMY_WEAKNESS_BROKEN >= 1));

if (x.BE >= 2.00 && ${Se(D.superBreakDmg&&D.enhancedStateActive)}) {
  x.SUPER_BREAK_MODIFIER += 0.35;
}
if (x.BE >= 3.60 && ${Se(D.superBreakDmg&&D.enhancedStateActive)}) {
  x.SUPER_BREAK_MODIFIER += 0.15;
}

if (${Se(D.enhancedStateActive)}) {
  x.SKILL_SCALING += 0.2 * min(3.60, x.BE) + ${f};
} else {
  x.SKILL_SCALING += ${u};
}

x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
      `},dynamicConditionals:[Id]}},Iu=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_TALENT_3_ULT_BASIC_5,c=i(t,.9,.99);l(t,.25,.27);const r=s(t,2.4,2.64),u=s(t,.8,.88),f=o(t,1.2,1.32),p=o(t,.024,.0264),G={1:rt*(1*.25+2*.25+3*.25+4*.25),3:rt*(2*.25+5*.25+8*.25+8*.25),5:rt*(3*.25+8*.25+8*.25+8*.25)},h={1:rt*(1*.1+2*.1+3*.1+4*.1+5*.6),3:rt*(2*.1+5*.1+8*.1+8*.1+8*.6),5:rt*(3*.1+8*.1+8*.1+8*.1+8*.6)};function m(C){return C.characterConditionals.enhancedFollowUp?h[C.enemyCount]:G[C.enemyCount]}const b=(()=>{if(a)return[];const C=I.getFixedT(null,"conditionals","Characters.Jade.Content");return[{formItem:"switch",id:"enhancedFollowUp",name:"enhancedFollowUp",text:C("enhancedFollowUp.text"),title:C("enhancedFollowUp.title"),content:C("enhancedFollowUp.content",{ultFuaScalingBuff:W.precisionRound(100*u)})},{formItem:"slider",id:"pawnedAssetStacks",name:"pawnedAssetStacks",text:C("pawnedAssetStacks.text"),title:C("pawnedAssetStacks.title"),content:C("pawnedAssetStacks.content",{pawnedAssetCdScaling:W.precisionRound(100*p)}),min:0,max:50},{formItem:"switch",id:"e1FuaDmgBoost",name:"e1FuaDmgBoost",text:C("e1FuaDmgBoost.text"),title:C("e1FuaDmgBoost.title"),content:C("e1FuaDmgBoost.content"),disabled:t<1},{formItem:"switch",id:"e2CrBuff",name:"e2CrBuff",text:C("e2CrBuff.text"),title:C("e2CrBuff.title"),content:C("e2CrBuff.content"),disabled:t<2},{formItem:"switch",id:"e4DefShredBuff",name:"e4DefShredBuff",text:C("e4DefShredBuff.text"),title:C("e4DefShredBuff.title"),content:C("e4DefShredBuff.content"),disabled:t<4},{formItem:"switch",id:"e6ResShredBuff",name:"e6ResShredBuff",text:C("e6ResShredBuff.text"),title:C("e6ResShredBuff.title"),content:C("e6ResShredBuff.content"),disabled:t<6}]})(),R=(()=>{if(a)return[];const C=I.getFixedT(null,"conditionals","Characters.Jade.TeammateContent");return[{formItem:"switch",id:"debtCollectorSpdBuff",name:"debtCollectorSpdBuff",text:C("debtCollectorSpdBuff.text"),title:C("debtCollectorSpdBuff.title"),content:C("debtCollectorSpdBuff.content")}]})(),S={enhancedFollowUp:!0,pawnedAssetStacks:50,e1FuaDmgBoost:!0,e2CrBuff:!0,e4DefShredBuff:!0,e6ResShredBuff:!0},Z={debtCollectorSpdBuff:!0};return{content:()=>b,teammateContent:()=>R,defaults:()=>S,teammateDefaults:()=>Z,precomputeEffects:(C,D)=>{const V=D.characterConditionals;return C[e.CD]+=V.pawnedAssetStacks*p,C[e.ATK_P]+=V.pawnedAssetStacks*.005,C[e.CR]+=t>=2&&V.e2CrBuff&&V.pawnedAssetStacks>=15?.18:0,C.BASIC_SCALING+=c,C.ULT_SCALING+=r,C.FUA_SCALING+=f,C.FUA_SCALING+=V.enhancedFollowUp?u:0,ot(C,It,.32,t>=1&&V.e1FuaDmgBoost),C.DEF_PEN+=t>=4&&V.e4DefShredBuff?.12:0,C.QUANTUM_RES_PEN+=t>=6&&V.e6ResShredBuff?.2:0,C.BASIC_TOUGHNESS_DMG+=30,C.ULT_TOUGHNESS_DMG+=60,C.FUA_TOUGHNESS_DMG+=30,C},precomputeMutualEffects:(C,D)=>{},precomputeTeammateEffects:(C,D)=>{const V=D.characterConditionals;C[e.SPD]+=V.debtCollectorSpdBuff?30:0},finalizeCalculations:(C,D)=>{ye(C,D,m(D))},gpuFinalizeCalculations:C=>Le(m(C))}},Vu=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=i(t,1,1.1),r=i(t,.8,.88),u=i(t,.2,.22),f=s(t,2.4,2.592),p=o(t,.8,.88),G=l(t,.1,.108),h=rt*(1*.4+2*.6),m=(()=>{if(a)return[];const Z=I.getFixedT(null,"conditionals","Characters.March7thImaginary.Content");return[{formItem:"switch",id:"enhancedBasic",name:"enhancedBasic",text:Z("enhancedBasic.text"),title:Z("enhancedBasic.title"),content:Z("enhancedBasic.content",{BasicEnhancedScaling:W.precisionRound(100*r)})},{formItem:"slider",id:"basicAttackHits",name:"basicAttackHits",text:Z("basicAttackHits.text"),title:Z("basicAttackHits.title"),content:Z("basicAttackHits.content",{BasicEnhancedScaling:W.precisionRound(100*r)}),min:3,max:6},{formItem:"switch",id:"masterAdditionalDmgBuff",name:"masterAdditionalDmgBuff",text:Z("masterAdditionalDmgBuff.text"),title:Z("masterAdditionalDmgBuff.title"),content:Z("masterAdditionalDmgBuff.content",{ShifuDmgBuff:W.precisionRound(100*u)})},{formItem:"switch",id:"masterToughnessRedBuff",name:"masterToughnessRedBuff",text:Z("masterToughnessRedBuff.text"),title:Z("masterToughnessRedBuff.title"),content:Z("masterToughnessRedBuff.content")},{formItem:"switch",id:"talentDmgBuff",name:"talentDmgBuff",text:Z("talentDmgBuff.text"),title:Z("talentDmgBuff.title"),content:Z("talentDmgBuff.content",{TalentDmgBuff:W.precisionRound(100*p)})},{formItem:"switch",id:"selfSpdBuff",name:"selfSpdBuff",text:Z("selfSpdBuff.text"),title:Z("selfSpdBuff.title"),content:Z("selfSpdBuff.content"),disabled:t<1},{formItem:"switch",id:"e6CdBuff",name:"e6CdBuff",text:Z("e6CdBuff.text"),title:Z("e6CdBuff.title"),content:Z("e6CdBuff.content"),disabled:t<6}]})(),b=(()=>{if(a)return[];const Z=I.getFixedT(null,"conditionals","Characters.March7thImaginary.TeammateContent");return[{formItem:"switch",id:"masterBuff",name:"masterBuff",text:Z("masterBuff.text"),title:Z("masterBuff.title"),content:Z("masterBuff.content",{ShifuSpeedBuff:W.precisionRound(100*G)})},{formItem:"switch",id:"masterCdBeBuffs",name:"masterCdBeBuffs",text:Z("masterCdBeBuffs.text"),title:Z("masterCdBeBuffs.title"),content:Z("masterCdBeBuffs.content")}]})(),R={enhancedBasic:!0,basicAttackHits:6,talentDmgBuff:!0,selfSpdBuff:!0,masterAdditionalDmgBuff:!0,masterToughnessRedBuff:!0,e6CdBuff:!0},S={masterBuff:!0,masterCdBeBuffs:!0};return{content:()=>m,teammateContent:()=>b,defaults:()=>R,teammateDefaults:()=>S,precomputeEffects:(Z,C)=>{const D=C.characterConditionals;Z[e.SPD_P]+=t>=1&&D.selfSpdBuff?.1:0,ot(Z,ue,p,D.talentDmgBuff),Da(Z,ue,.5,t>=6&&D.e6CdBuff&&D.enhancedBasic);const V=D.masterAdditionalDmgBuff?u*D.basicAttackHits:0;Z.BASIC_SCALING+=D.enhancedBasic?r*D.basicAttackHits:c,Z.BASIC_SCALING+=D.enhancedBasic?V:u,Z.ULT_SCALING+=f,Z.FUA_SCALING+=t>=2?.6:0;const M=D.masterToughnessRedBuff?2:1;return Z.BASIC_TOUGHNESS_DMG+=M*(D.enhancedBasic?15*D.basicAttackHits:30),Z.ULT_TOUGHNESS_DMG+=90,Z.FUA_TOUGHNESS_DMG+=t>=2?30:0,Z},precomputeMutualEffects:(Z,C)=>{},precomputeTeammateEffects:(Z,C)=>{const D=C.characterConditionals;Z[e.SPD_P]+=D.masterBuff?G:0,Z[e.CD]+=D.masterBuff&&D.masterCdBeBuffs?.6:0,Z[e.BE]+=D.masterBuff&&D.masterCdBeBuffs?.36:0},finalizeCalculations:(Z,C)=>{ye(Z,C,h)},gpuFinalizeCalculations:Z=>Le(h)}},Wu=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.ULT_BASIC_3_SKILL_TALENT_5,c=i(t,1,1.1),r=l(t,1.2,1.32),u=s(t,2.2,2.376),f=s(t,2.2,2.376),p=s(t,.72,.7776),G=s(t,1,1.08),h=o(t,1.2,1.32),m=t>=1?9:6,b={1:rt*(1*1/1),3:rt*(2*1/1),5:rt*(3*1/1)},R={1:rt*(1*.12+2*.12+3*.12+4*.12+5*.12+6*.12+7*.12+8*.16),3:rt*(2*.12+5*.12+8*.12+8*.12+8*.12+8*.12+8*.12+8*.16),5:rt*(3*.12+8*.12+8*.12+8*.12+8*.12+8*.12+8*.12+8*.16)};function S(V){const M=V.characterConditionals;return M.blockActive&&M.ultCull?R[V.enemyCount]:b[V.enemyCount]}const Z=(()=>{if(a)return[];const V=I.getFixedT(null,"conditionals","Characters.Yunli.Content");return[{formItem:"switch",id:"blockActive",name:"blockActive",text:V("blockActive.text"),title:V("blockActive.title"),content:V("blockActive.content")},{formItem:"switch",id:"ultCull",name:"ultCull",text:V("ultCull.text"),title:V("ultCull.title"),content:V("ultCull.content",{CullScaling:W.precisionRound(100*f),CullAdjacentScaling:W.precisionRound(100*.5*f),CullAdditionalScaling:W.precisionRound(100*p)})},{formItem:"slider",id:"ultCullHits",name:"ultCullHits",text:V("ultCullHits.text"),title:V("ultCullHits.title"),content:V("ultCullHits.content",{CullScaling:W.precisionRound(100*f),CullAdjacentScaling:W.precisionRound(100*.5*f),CullAdditionalScaling:W.precisionRound(100*p)}),min:0,max:m},{formItem:"switch",id:"counterAtkBuff",name:"counterAtkBuff",text:V("counterAtkBuff.text"),title:V("counterAtkBuff.title"),content:V("counterAtkBuff.content")},{formItem:"switch",id:"e1UltBuff",name:"e1UltBuff",text:V("e1UltBuff.text"),title:V("e1UltBuff.title"),content:V("e1UltBuff.content"),disabled:t<1},{formItem:"switch",id:"e2DefShred",name:"e2DefShred",text:V("e2DefShred.text"),title:V("e2DefShred.title"),content:V("e2DefShred.content"),disabled:t<2},{formItem:"switch",id:"e4ResBuff",name:"e4ResBuff",text:V("e4ResBuff.text"),title:V("e4ResBuff.title"),content:V("e4ResBuff.content"),disabled:t<4},{formItem:"switch",id:"e6Buffs",name:"e6Buffs",text:V("e6Buffs.text"),title:V("e6Buffs.title"),content:V("e6Buffs.content"),disabled:t<6}]})(),C=[],D={blockActive:!0,ultCull:!0,ultCullHits:m,counterAtkBuff:!0,e1UltBuff:!0,e2DefShred:!0,e4ResBuff:!0,e6Buffs:!0};return{content:()=>Z,teammateContent:()=>C,defaults:()=>D,teammateDefaults:()=>({}),initializeConfigurations:(V,M)=>{const E=M.characterConditionals;E.blockActive&&E.ultCull&&(V.FUA_DMG_TYPE=Ft|It)},precomputeEffects:(V,M)=>{const E=M.characterConditionals;return E.blockActive?E.ultCull?V.FUA_SCALING+=f+E.ultCullHits*p:V.FUA_SCALING+=u:V.FUA_SCALING+=h,Da(V,It,G,E.blockActive),V[e.ATK_P]+=E.counterAtkBuff?.3:0,V.DMG_RED_MULTI*=E.blockActive?1-.2:1,ot(V,It,.2,t>=1&&E.e1UltBuff&&E.blockActive),ba(V,It,.2,t>=2&&E.e2DefShred),V[e.RES]+=t>=4&&E.e4ResBuff?.5:0,hl(V,It,.15,t>=6&&E.e6Buffs&&E.blockActive),Pn(V,It,.2,t>=6&&E.e6Buffs&&E.blockActive),V.BASIC_TOUGHNESS_DMG+=30,V.SKILL_TOUGHNESS_DMG+=60,V.FUA_TOUGHNESS_DMG+=E.blockActive?60:30,V.FUA_TOUGHNESS_DMG+=E.blockActive&&E.ultCull?E.ultCullHits*15:0,V.BASIC_SCALING+=c,V.SKILL_SCALING+=r,V},precomputeMutualEffects:(V,M)=>{},precomputeTeammateEffects:(V,M)=>{},finalizeCalculations:(V,M)=>{ye(V,M,S(M))},gpuFinalizeCalculations:V=>Le(S(V))}},Eu=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_BASIC_3_ULT_TALENT_5,c=i(t,1,1.1),r=l(t,1.5,1.65),u=s(t,1,1.08),f=s(t,.15,.162),p=o(t,.15,.165),G=o(t,.05,.055),h=o(t,1.8,1.98),m=t>=6?9:5,b=(()=>{if(a)return[];const C=I.getFixedT(null,"conditionals","Characters.Jiaoqiu.Content");return[{formItem:"slider",id:"ashenRoastStacks",name:"ashenRoastStacks",text:C("ashenRoastStacks.text"),title:C("ashenRoastStacks.title"),content:C("ashenRoastStacks.content",{AshenRoastInitialVulnerability:W.precisionRound(100*p),AshenRoastAdditionalVulnerability:W.precisionRound(100*G),AshenRoastDotMultiplier:W.precisionRound(100*h)}),min:0,max:m},{formItem:"switch",id:"ultFieldActive",name:"ultFieldActive",text:C("ultFieldActive.text"),title:C("ultFieldActive.title"),content:C("ultFieldActive.content",{UltScaling:W.precisionRound(100*u),UltVulnerability:W.precisionRound(100*f),ZoneDebuffChance:W.precisionRound(100*s(t,.6,.62))})},{formItem:"switch",id:"ehrToAtkBoost",name:"ehrToAtkBoost",text:C("ehrToAtkBoost.text"),title:C("ehrToAtkBoost.title"),content:C("ehrToAtkBoost.content")},{formItem:"switch",id:"e1DmgBoost",name:"e1DmgBoost",text:C("e1DmgBoost.text"),title:C("e1DmgBoost.title"),content:C("e1DmgBoost.content"),disabled:t<1},{formItem:"switch",id:"e2Dot",name:"e2Dot",text:C("e2Dot.text"),title:C("e2Dot.title"),content:C("e2Dot.content"),disabled:t<2},{formItem:"switch",id:"e6ResShred",name:"e6ResShred",text:C("e6ResShred.text"),title:C("e6ResShred.title"),content:C("e6ResShred.content"),disabled:t<6}]})(),R=a?[]:[O(b,"ashenRoastStacks"),O(b,"ultFieldActive"),O(b,"e1DmgBoost"),O(b,"e6ResShred")],S={ashenRoastStacks:m,ultFieldActive:!0,ehrToAtkBoost:!0,e1DmgBoost:!0,e2Dot:!0,e6ResShred:!0},Z={ashenRoastStacks:m,ultFieldActive:!0,e1DmgBoost:!0,e6ResShred:!0};return{content:()=>b,teammateContent:()=>R,defaults:()=>S,teammateDefaults:()=>Z,precomputeEffects:(C,D)=>{const V=D.characterConditionals;return C.BASIC_SCALING+=c,C.SKILL_SCALING+=r,C.ULT_SCALING+=u,C.DOT_SCALING+=V.ashenRoastStacks>0?h:0,C.DOT_SCALING+=t>=2&&V.e2Dot&&V.ashenRoastStacks>0?3:0,C.DOT_CHANCE=100,C.BASIC_TOUGHNESS_DMG+=30,C.SKILL_TOUGHNESS_DMG+=60,C.ULT_TOUGHNESS_DMG+=60,C},precomputeMutualEffects:(C,D)=>{const V=D.characterConditionals;na(C,Ft,f,V.ultFieldActive),C.VULNERABILITY+=V.ashenRoastStacks>0?p:0,C.VULNERABILITY+=Math.max(0,V.ashenRoastStacks-1)*G,C.ELEMENTAL_DMG+=t>=1&&V.e1DmgBoost&&V.ashenRoastStacks>0?.4:0,C.RES_PEN+=t>=6&&V.e6ResShred?V.ashenRoastStacks*.03:0},precomputeTeammateEffects:(C,D)=>{},finalizeCalculations:C=>Ut(C),gpuFinalizeCalculations:()=>Xt(),dynamicConditionals:[Fd]}},xu=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.ULT_BASIC_3_SKILL_TALENT_5,c=i(t,1,1.1),r=l(t,2,2.2),u=s(t,.6,.648),f=s(t,.3,.33),p=s(t,1.6,1.728),G=o(t,1.1,1.21),h=o(t,.6,.66),m=1*.1285+2*.1285+3*.1285+4*.1285+5*.1285+6*.1285+7*.2285,b=1*.1285*.1+2*.1285*.9+3*.1285*.1+4*.1285*.9+5*.1285*.1+6*.1285*.9+7*.1285*.1+8*.1285*.9+8*.1285*.1+8*.1285*.9+8*.1285*.1+8*.1285*.9+8*.2285;function R(D){return D.characterConditionals.weaknessBrokenUlt?rt*b:rt*m}const S=(()=>{if(a)return[];const D=I.getFixedT(null,"conditionals","Characters.Feixiao.Content");return[{formItem:"switch",id:"weaknessBrokenUlt",name:"weaknessBrokenUlt",text:D("weaknessBrokenUlt.text"),title:D("weaknessBrokenUlt.title"),content:D("weaknessBrokenUlt.content")},{formItem:"switch",id:"talentDmgBuff",name:"talentDmgBuff",text:D("talentDmgBuff.text"),title:D("talentDmgBuff.title"),content:D("talentDmgBuff.content",{FuaMultiplier:W.precisionRound(100*G),DmgBuff:W.precisionRound(100*h)})},{formItem:"switch",id:"skillAtkBuff",name:"skillAtkBuff",text:D("skillAtkBuff.text"),title:D("skillAtkBuff.title"),content:D("skillAtkBuff.content")},{formItem:"switch",id:"e1OriginalDmgBoost",name:"e1OriginalDmgBoost",text:D("e1OriginalDmgBoost.text"),title:D("e1OriginalDmgBoost.title"),content:D("e1OriginalDmgBoost.content"),disabled:t<1},{formItem:"switch",id:"e4Buffs",name:"e4Buffs",text:D("e4Buffs.text"),title:D("e4Buffs.title"),content:D("e4Buffs.content"),disabled:t<4},{formItem:"switch",id:"e6Buffs",name:"e6Buffs",text:D("e6Buffs.text"),title:D("e6Buffs.title"),content:D("e6Buffs.content"),disabled:t<6}]})(),Z=[],C={ultStacks:6,weaknessBrokenUlt:!0,talentDmgBuff:!0,skillAtkBuff:!0,e1OriginalDmgBoost:!0,e4Buffs:!0,e6Buffs:!0};return{content:()=>S,teammateContent:()=>Z,defaults:()=>C,teammateDefaults:()=>({}),initializeConfigurations:(D,V)=>{const M=V.characterConditionals;D.ULT_DMG_TYPE=Ft|It,M.weaknessBrokenUlt&&(D.ENEMY_WEAKNESS_BROKEN=1),t>=6&&M.e6Buffs&&(D.FUA_DMG_TYPE=Ft|It)},precomputeEffects:(D,V)=>{const M=V.characterConditionals;return M.weaknessBrokenUlt||(D.ULT_BREAK_EFFICIENCY_BOOST+=1),Da(D,It,.36),D[e.ATK_P]+=M.skillAtkBuff?.48:0,D.ELEMENTAL_DMG+=M.talentDmgBuff?h:0,D.BASIC_SCALING+=c,D.SKILL_SCALING+=r,D.FUA_SCALING+=G,D.ULT_SCALING+=6*(u+f)+p,D.ULT_ORIGINAL_DMG_BOOST+=t>=1&&M.e1OriginalDmgBoost?.3071:0,t>=4&&(D[e.SPD_P]+=.08,D.FUA_TOUGHNESS_DMG+=15),t>=6&&M.e6Buffs&&(D.RES_PEN+=.2,D.FUA_SCALING+=1.4),D.BASIC_TOUGHNESS_DMG+=30,D.SKILL_TOUGHNESS_DMG+=60,D.ULT_TOUGHNESS_DMG+=90,D.FUA_TOUGHNESS_DMG+=15,D},precomputeMutualEffects:(D,V)=>{},precomputeTeammateEffects:(D,V)=>{},finalizeCalculations:(D,V)=>{D.BASIC_DMG+=D.BASIC_SCALING*D[e.ATK],D.SKILL_DMG+=D.SKILL_SCALING*D[e.ATK],D.ULT_DMG+=D.ULT_SCALING*(D[e.ATK]+hn(D,V,R(V))),D.FUA_DMG+=D.FUA_SCALING*(D[e.ATK]+hn(D,V,rt*(1*1))),D.DOT_DMG+=D.DOT_SCALING*D[e.ATK]},gpuFinalizeCalculations:D=>`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * (x.ATK + calculateAshblazingSet(p_x, p_state, ${R(D)}));
x.FUA_DMG += x.FUA_SCALING * (x.ATK + calculateAshblazingSet(p_x, p_state, ${rt*(1*1)}));
x.DOT_DMG += x.DOT_SCALING * x.ATK;
    `}},yu=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.ULT_TALENT_3_SKILL_BASIC_5,c=i(t,1,1.1),r=l(t,.8,.88),u=s(t,1.5,1.65),f=s(t,.25,.27),p=o(t,.75,.825),G={1:rt*(1*1/2+2*1/2),3:rt*(2*1/2+3*1/2),5:rt*(3*1/2+4*1/2)},h=(()=>{if(a)return[];const S=I.getFixedT(null,"conditionals","Characters.Lingsha.Content");return[{formItem:"switch",id:"beConversion",name:"beConversion",text:S("beConversion.text"),title:S("beConversion.title"),content:S("beConversion.content")},{formItem:"switch",id:"befogState",name:"befogState",text:S("befogState.text"),title:S("befogState.title"),content:S("befogState.content",{BefogVulnerability:W.precisionRound(100*f)})},{formItem:"switch",id:"e1DefShred",name:"e1DefShred",text:S("e1DefShred.text"),title:S("e1DefShred.title"),content:S("e1DefShred.content"),disabled:t<1},{formItem:"switch",id:"e2BeBuff",name:"e2BeBuff",text:S("e2BeBuff.text"),title:S("e2BeBuff.title"),content:S("e2BeBuff.content"),disabled:t<2},{formItem:"switch",id:"e6ResShred",name:"e6ResShred",text:S("e6ResShred.text"),title:S("e6ResShred.title"),content:S("e6ResShred.content"),disabled:t<6}]})(),m=a?[]:[O(h,"befogState"),O(h,"e1DefShred"),O(h,"e2BeBuff"),O(h,"e6ResShred")],b={beConversion:!0,befogState:!0,e1DefShred:!0,e2BeBuff:!0,e6ResShred:!0},R={befogState:!0,e1DefShred:!0,e2BeBuff:!0,e6ResShred:!0};return{content:()=>h,teammateContent:()=>m,defaults:()=>b,teammateDefaults:()=>R,precomputeEffects:(S,Z)=>{const C=Z.characterConditionals;return S.BASIC_SCALING+=c,S.SKILL_SCALING+=r,S.FUA_SCALING+=p*2,S.ULT_SCALING+=u,S.BREAK_EFFICIENCY_BOOST+=t>=1?.5:0,S.FUA_SCALING+=t>=6&&C.e6ResShred?.5:0,S.BASIC_TOUGHNESS_DMG+=30,S.SKILL_TOUGHNESS_DMG+=30,S.ULT_TOUGHNESS_DMG+=60,S.FUA_TOUGHNESS_DMG+=30*2,S.FUA_TOUGHNESS_DMG+=t>=6?15:0,S},precomputeMutualEffects:(S,Z)=>{const C=Z.characterConditionals;S.ENEMY_WEAKNESS_BROKEN&&(S.DEF_PEN+=t>=1&&C.e1DefShred?.2:0),na(S,wn,f,C.befogState),S[e.BE]+=t>=2&&C.e2BeBuff?.4:0,S.RES_PEN+=t>=6&&C.e6ResShred?.2:0},precomputeTeammateEffects:(S,Z)=>{},finalizeCalculations:(S,Z)=>{ye(S,Z,G[Z.enemyCount])},gpuFinalizeCalculations:S=>Le(G[S.enemyCount]),dynamicConditionals:[Md]}},Lu=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.ULT_TALENT_3_SKILL_BASIC_5,c=i(t,1,1.1),r=l(t,1.5,1.65),u=s(t,2.7,2.916),f=o(t,1.6,1.76),p=o(t,.3,.33),G=rt*(1*.08+2*.08+3*.08+4*.08+5*.08+6*.6),h=(()=>{if(a)return[];const S=I.getFixedT(null,"conditionals","Characters.Moze.Content");return[{formItem:"switch",id:"preyMark",name:"preyMark",text:S("preyMark.text"),title:S("preyMark.title"),content:S("preyMark.content",{PreyAdditionalMultiplier:W.precisionRound(100*p),FuaScaling:W.precisionRound(100*f)})},{formItem:"switch",id:"e2CdBoost",name:"e2CdBoost",text:S("e2CdBoost.text"),title:S("e2CdBoost.title"),content:S("e2CdBoost.content"),disabled:t<2},{formItem:"switch",id:"e4DmgBuff",name:"e4DmgBuff",text:S("e4DmgBuff.text"),title:S("e4DmgBuff.title"),content:S("e4DmgBuff.content"),disabled:t<4},{formItem:"switch",id:"e6MultiplierIncrease",name:"e6MultiplierIncrease",text:S("e6MultiplierIncrease.text"),title:S("e6MultiplierIncrease.title"),content:S("e6MultiplierIncrease.content"),disabled:t<6}]})(),m=a?[]:[O(h,"preyMark"),O(h,"e2CdBoost")],b={preyMark:!0,e2CdBoost:!0,e4DmgBuff:!0,e6MultiplierIncrease:!0},R={preyMark:!0,e2CdBoost:!0};return{content:()=>h,teammateContent:()=>m,defaults:()=>b,teammateDefaults:()=>R,initializeConfigurations:(S,Z)=>{S.ULT_DMG_TYPE=Ft|It},precomputeEffects:(S,Z)=>{const C=Z.characterConditionals;return S.ELEMENTAL_DMG+=t>=4&&C.e4DmgBuff?.3:0,S.BASIC_SCALING+=c+(C.preyMark?p:0),S.SKILL_SCALING+=r+(C.preyMark?p:0),S.FUA_SCALING+=f+(C.preyMark?p:0),S.FUA_SCALING+=t>=6&&C.e6MultiplierIncrease?.25:0,S.ULT_SCALING+=u+(C.preyMark?p:0),S.BASIC_TOUGHNESS_DMG+=30,S.SKILL_TOUGHNESS_DMG+=60,S.ULT_TOUGHNESS_DMG+=90,S.FUA_TOUGHNESS_DMG+=30,S},precomputeMutualEffects:(S,Z)=>{const C=Z.characterConditionals;na(S,It,.25,C.preyMark),S[e.CD]+=t>=2&&C.preyMark&&C.e2CdBoost?.4:0},precomputeTeammateEffects:(S,Z)=>{},finalizeCalculations:(S,Z)=>{ye(S,Z,G)},gpuFinalizeCalculations:S=>Le(G)}},Fu=(t,a)=>{const{basic:i,skill:l,ult:s,talent:o}=it.SKILL_TALENT_3_ULT_BASIC_5,c=i(t,1,1.1),r=i(t,2,2.32),u=l(t,1.2,1.32),f=s(t,.3,.34),p=o(t,.6,.66),G=o(t,.5,.55),h=t>=6?15:10,m=(()=>{if(a)return[];const S=I.getFixedT(null,"conditionals","Characters.Rappa.Content");return[{formItem:"switch",id:"sealformActive",name:"sealformActive",text:S("sealformActive.text"),title:S("sealformActive.title"),content:I.t("BetaMessage",{ns:"conditionals",Version:Je})},{formItem:"switch",id:"atkToBreakVulnerability",name:"atkToBreakVulnerability",text:S("atkToBreakVulnerability.text"),title:S("atkToBreakVulnerability.title"),content:I.t("BetaMessage",{ns:"conditionals",Version:Je})},{name:"chargeStacks",id:"chargeStacks",formItem:"slider",text:S("chargeStacks.text"),title:S("chargeStacks.title"),content:I.t("BetaMessage",{ns:"conditionals",Version:Je}),min:0,max:h},{formItem:"switch",id:"e1DefPen",name:"e1DefPen",text:S("e1DefPen.text"),title:S("e1DefPen.title"),content:I.t("BetaMessage",{ns:"conditionals",Version:Je}),disabled:t<1},{formItem:"switch",id:"e2Buffs",name:"e2Buffs",text:S("e2Buffs.text"),title:S("e2Buffs.title"),content:I.t("BetaMessage",{ns:"conditionals",Version:Je}),disabled:t<2},{formItem:"switch",id:"e4SpdBuff",name:"e4SpdBuff",text:S("e4SpdBuff.text"),title:S("e4SpdBuff.title"),content:I.t("BetaMessage",{ns:"conditionals",Version:Je}),disabled:t<4}]})(),b=(()=>{if(a)return[];const S=I.getFixedT(null,"conditionals","Characters.Rappa.TeammateContent");return[{formItem:"slider",id:"teammateBreakVulnerability",name:"teammateBreakVulnerability",text:S("teammateBreakVulnerability.text"),title:S("teammateBreakVulnerability.title"),content:I.t("BetaMessage",{ns:"conditionals",Version:Je}),min:0,max:.1,percent:!0},{formItem:"switch",id:"e4SpdBuff",name:"e4SpdBuff",text:S("e4SpdBuff.text"),title:S("e4SpdBuff.title"),content:I.t("BetaMessage",{ns:"conditionals",Version:Je}),disabled:t<4}]})(),R={sealformActive:!0,atkToBreakVulnerability:!0,chargeStacks:t>=6?10:5,e1DefPen:!0,e2Buffs:!0,e4SpdBuff:!0};return{content:()=>m,teammateContent:()=>b,defaults:()=>R,teammateDefaults:()=>({teammateBreakVulnerability:.1,e4SpdBuff:!0}),initializeConfigurations:(S,Z)=>{Z.characterConditionals.sealformActive&&(S.ENEMY_WEAKNESS_BROKEN=1)},precomputeEffects:(S,Z)=>{const C=Z.characterConditionals;return S[e.BE]+=C.sealformActive?f:0,S.BREAK_EFFICIENCY_BOOST+=C.sealformActive?.5:0,S.DEF_PEN+=t>=1&&C.sealformActive&&C.e1DefPen?.15:0,S[e.SPD_P]+=t>=4&&C.sealformActive&&C.e4SpdBuff?.12:0,S.BASIC_SUPER_BREAK_MODIFIER+=C.sealformActive?.6:0,S.BASIC_BREAK_DMG_MODIFIER=p+C.chargeStacks*G,S.BASIC_SCALING+=C.sealformActive?r:c,S.SKILL_SCALING+=u,S.BASIC_TOUGHNESS_DMG+=C.sealformActive?75+(2+C.chargeStacks)*3:30,S.SKILL_TOUGHNESS_DMG+=30,S},precomputeMutualEffects:(S,Z)=>{},precomputeTeammateEffects:(S,Z)=>{const C=Z.characterConditionals;S.BREAK_VULNERABILITY+=C.teammateBreakVulnerability,S[e.SPD_P]+=t>=4&&C.e4SpdBuff?.12:0},finalizeCalculations:S=>Ut(S),gpuFinalizeCalculations:()=>Xt(),dynamicConditionals:[xd]}},qs={1001:eu,1002:Nd,1003:Ad,1004:hu,1005:zd,1006:du,1008:Gd,1009:Zd,1013:wd,1101:kd,1102:cu,1103:ru,1104:Yd,1105:nu,1106:iu,1107:Hd,1108:ou,1109:jd,1110:tu,1111:qd,1112:Tu,1201:su,1202:bu,1203:$d,1204:_d,1205:Pd,1206:mu,1207:Ru,1208:Xd,1209:Su,1210:Kd,1211:gd,1212:Qd,1213:Od,1214:pu,1215:vd,1217:Jd,1218:Eu,1220:xu,1221:Wu,1222:yu,1223:Lu,1224:Vu,1301:Zu,1302:fd,1303:lu,1304:Gu,1305:Ud,1306:uu,1307:Bd,1308:fu,1309:gu,1310:Du,1312:au,1314:Iu,1315:Cu,1317:Fu,8001:$l,8002:$l,8003:eo,8004:eo,8005:to,8006:to},Wa={get:t=>{const a=qs[t.characterId];return a(t.characterEidolon,!0)}},Mu=(t,a)=>{const i=[.1,.12,.14,.16,.18],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.Adversarial.Content");return[{lc:!0,id:"defeatedEnemySpdBuff",name:"defeatedEnemySpdBuff",formItem:"switch",text:s("defeatedEnemySpdBuff.text"),title:s("defeatedEnemySpdBuff.title"),content:s("defeatedEnemySpdBuff.content",{SpdBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({defeatedEnemySpdBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.SPD_P]+=c.defeatedEnemySpdBuff?i[t]:0},finalizeCalculations:()=>{}}},Bu=(t,a)=>{const i=[.16,.2,.24,.28,.32],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.Amber.Content");return[{lc:!0,id:"hp50DefBuff",name:"hp50DefBuff",formItem:"switch",text:s("hp50DefBuff.text"),title:s("hp50DefBuff.title"),content:s("hp50DefBuff.content",{DefBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({hp50DefBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.DEF_P]+=c.hp50DefBuff?i[t]:0},finalizeCalculations:()=>{}}},Pu=(t,a)=>{const i=[.0036,.0042,.0048,.0054,.006],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.AnInstantBeforeAGaze.Content");return[{lc:!0,id:"maxEnergyUltDmgStacks",name:"maxEnergyUltDmgStacks",formItem:"slider",text:s("maxEnergyUltDmgStacks.text"),title:s("maxEnergyUltDmgStacks.title"),content:s("maxEnergyUltDmgStacks.content",{DmgStep:W.precisionRound(100*i[t])}),min:0,max:180}]})();return{content:()=>l,defaults:()=>({maxEnergyUltDmgStacks:180}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;ot(s,Ft,c.maxEnergyUltDmgStacks*i[t])},finalizeCalculations:()=>{}}},ku=(t,a)=>{const i=[.12,.15,.18,.21,.24],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.Arrows.Content");return[{lc:!0,id:"critBuff",name:"critBuff",formItem:"switch",text:s("critBuff.text"),title:s("critBuff.title"),content:s("critBuff.content",{CritBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({critBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.CR]+=c.critBuff?i[t]:0},finalizeCalculations:()=>{}}},Hu=(t,a)=>{const i=[.2,.25,.3,.35,.4],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.ASecretVow.Content");return[{lc:!0,id:"enemyHpHigherDmgBoost",name:"enemyHpHigherDmgBoost",formItem:"switch",text:s("enemyHpHigherDmgBoost.text"),title:s("enemyHpHigherDmgBoost.title"),content:s("enemyHpHigherDmgBoost.content",{DmgBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,teammateContent:()=>[],defaults:()=>({enemyHpHigherDmgBoost:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=i[t],s.ELEMENTAL_DMG+=c.enemyHpHigherDmgBoost?i[t]:0},finalizeCalculations:()=>{}}},Nu=(t,a)=>{const i=[.08,.09,.1,.11,.12],l=[.36,.42,.48,.54,.6],s=[.24,.28,.32,.36,.4],o=(()=>{if(a)return[];const c=I.getFixedT(null,"conditionals","Lightcones.BaptismOfPureThought.Content");return[{lc:!0,formItem:"slider",id:"debuffCdStacks",name:"debuffCdStacks",text:c("debuffCdStacks.text"),title:c("debuffCdStacks.title"),content:c("debuffCdStacks.content",{DmgStep:W.precisionRound(100*i[t])}),min:0,max:3},{lc:!0,formItem:"switch",id:"postUltBuff",name:"postUltBuff",text:c("postUltBuff.text"),title:c("postUltBuff.title"),content:c("postUltBuff.content",{DmgStep:W.precisionRound(100*l[t]),DefIgnore:W.precisionRound(100*s[t])})}]})();return{content:()=>o,defaults:()=>({debuffCdStacks:3,postUltBuff:!0}),precomputeEffects:(c,r)=>{const u=r.lightConeConditionals;c[e.CD]+=u.debuffCdStacks*i[t],c.ELEMENTAL_DMG+=u.postUltBuff?l[t]:0,ba(c,It,s[t],u.postUltBuff)},finalizeCalculations:()=>{}}},Uu=(t,a)=>{const i=[.18,.21,.24,.27,.3],l=[.48,.56,.64,.72,.8],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.BeforeDawn.Content");return[{lc:!0,id:"fuaDmgBoost",name:"fuaDmgBoost",formItem:"switch",text:o("fuaDmgBoost.text"),title:o("fuaDmgBoost.title"),content:o("fuaDmgBoost.content",{DmgBuff:W.precisionRound(100*l[t])})}]})();return{content:()=>s,defaults:()=>({fuaDmgBoost:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;ot(o,Qt|Ft,i[t]),ot(o,It,l[t],r.fuaDmgBoost)},finalizeCalculations:()=>{}}},Xu=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Yu=(t,a)=>{const i=[.18,.21,.24,.27,.3],l=[.06,.07,.08,.09,.1],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.BrighterThanTheSun.Content");return[{lc:!0,id:"dragonsCallStacks",name:"dragonsCallStacks",formItem:"slider",text:o("dragonsCallStacks.text"),title:o("dragonsCallStacks.title"),content:o("dragonsCallStacks.content",{AtkBuff:W.precisionRound(100*i[t]),RegenBuff:W.precisionRound(100*l[t])}),min:0,max:2}]})();return{content:()=>s,defaults:()=>({dragonsCallStacks:2}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o[e.ATK_P]+=r.dragonsCallStacks*i[t],o[e.ERR]+=r.dragonsCallStacks*l[t]},finalizeCalculations:()=>{}}},Ku=(t,a)=>{const i=[.3,.35,.4,.45,.5],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.ButTheBattleIsntOver.Content");return[{lc:!0,id:"postSkillDmgBuff",name:"postSkillDmgBuff",formItem:"switch",text:s("postSkillDmgBuff.text"),title:s("postSkillDmgBuff.title"),content:s("postSkillDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>[],teammateContent:()=>l,defaults:()=>({}),teammateDefaults:()=>({postSkillDmgBuff:!0}),precomputeEffects:()=>{},precomputeTeammateEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.postSkillDmgBuff?i[t]:0},finalizeCalculations:()=>{}}},vu=(t,a)=>{const i=[.1,.125,.15,.175,.2],l=[.12,.15,.18,.21,.24],s=[.06,.075,.09,.105,.12],o=(()=>{if(a)return[];const c=I.getFixedT(null,"conditionals","Lightcones.CarveTheMoonWeaveTheClouds.Content");return[{lc:!0,id:"atkBuffActive",name:"atkBuffActive",formItem:"switch",text:c("atkBuffActive.text"),title:c("atkBuffActive.title"),content:c("atkBuffActive.content",{AtkBuff:W.precisionRound(100*i[t]),CritBuff:W.precisionRound(100*l[t]),RegenBuff:W.precisionRound(100*s[t])})},{lc:!0,id:"cdBuffActive",name:"cdBuffActive",formItem:"switch",text:c("cdBuffActive.text"),title:c("cdBuffActive.title"),content:c("cdBuffActive.content",{AtkBuff:W.precisionRound(100*i[t]),CritBuff:W.precisionRound(100*l[t]),RegenBuff:W.precisionRound(100*s[t])})},{lc:!0,id:"errBuffActive",name:"errBuffActive",formItem:"switch",text:c("errBuffActive.text"),title:c("errBuffActive.title"),content:c("errBuffActive.content",{AtkBuff:W.precisionRound(100*i[t]),CritBuff:W.precisionRound(100*l[t]),RegenBuff:W.precisionRound(100*s[t])})}]})();return{content:()=>o,teammateContent:()=>o,defaults:()=>({atkBuffActive:!0,cdBuffActive:!1,errBuffActive:!1}),teammateDefaults:()=>({atkBuffActive:!0,cdBuffActive:!1,errBuffActive:!1}),precomputeEffects:()=>{},precomputeMutualEffects:(c,r)=>{const u=r.lightConeConditionals;c[e.ATK_P]+=u.atkBuffActive?i[t]:0,c[e.CD]+=u.cdBuffActive?l[t]:0,c[e.ERR]+=u.errBuffActive?s[t]:0},finalizeCalculations:()=>{}}},wu=(t,a)=>{const i=[.08,.09,.1,.11,.12],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.Chorus.Content");return[{lc:!0,id:"inBattleAtkBuff",name:"inBattleAtkBuff",formItem:"switch",text:s("inBattleAtkBuff.text"),title:s("inBattleAtkBuff.title"),content:s("inBattleAtkBuff.content",{AtkBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,teammateContent:()=>l,defaults:()=>({inBattleAtkBuff:!0}),teammateDefaults:()=>({inBattleAtkBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.ATK_P]+=c.inBattleAtkBuff?i[t]:0},finalizeCalculations:()=>{}}},Au=(t,a)=>{const i=[.2,.25,.3,.35,.4],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.CollapsingSky.Content");return[{lc:!0,id:"basicSkillDmgBuff",name:"basicSkillDmgBuff",formItem:"switch",text:s("basicSkillDmgBuff.text"),title:s("basicSkillDmgBuff.title"),content:s("basicSkillDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({basicSkillDmgBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;ot(s,ue|Qt,i[t],c.basicSkillDmgBuff)},finalizeCalculations:()=>{}}},ju=(t,a)=>{const i=[.12,.15,.18,.21,.24],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.Cornucopia.Content");return[{lc:!0,id:"healingBuff",name:"healingBuff",formItem:"switch",text:s("healingBuff.text"),title:s("healingBuff.title"),content:s("healingBuff.content",{HealingBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({healingBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.OHB]+=c.healingBuff?i[t]:0},finalizeCalculations:()=>{}}},Ju=(t,a)=>{const i=[.08,.1,.12,.14,.16],l=[.2,.25,.3,.35,.4],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.CruisingInTheStellarSea.Content");return[{lc:!0,id:"enemyHp50CrBoost",name:"enemyHp50CrBoost",formItem:"switch",text:o("enemyHp50CrBoost.text"),title:o("enemyHp50CrBoost.title"),content:o("enemyHp50CrBoost.content",{CritBuff:W.precisionRound(100*i[t])})},{lc:!0,id:"enemyDefeatedAtkBuff",name:"enemyDefeatedAtkBuff",formItem:"switch",text:o("enemyDefeatedAtkBuff.text"),title:o("enemyDefeatedAtkBuff.title"),content:o("enemyDefeatedAtkBuff.content",{AtkBuff:W.precisionRound(100*l[t])})}]})();return{content:()=>s,defaults:()=>({enemyHp50CrBoost:!1,enemyDefeatedAtkBuff:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o[e.CR]+=r.enemyHp50CrBoost?i[t]:0,o[e.ATK_P]+=r.enemyDefeatedAtkBuff?l[t]:0},finalizeCalculations:()=>{}}},Ou=()=>({content:()=>[],teammateContent:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Qu=(t,a)=>{const i=[.24,.3,.36,.42,.48],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.DartingArrow.Content");return[{lc:!0,id:"defeatedEnemyAtkBuff",name:"defeatedEnemyAtkBuff",formItem:"switch",text:s("defeatedEnemyAtkBuff.text"),title:s("defeatedEnemyAtkBuff.title"),content:s("defeatedEnemyAtkBuff.content",{AtkBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({defeatedEnemyAtkBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.ATK_P]+=c.defeatedEnemyAtkBuff?i[t]:0},finalizeCalculations:()=>{}}},_u=(t,a)=>{const i=[.28,.35,.42,.49,.56],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.DataBank.Content");return[{lc:!0,id:"ultDmgBuff",name:"ultDmgBuff",formItem:"switch",text:s("ultDmgBuff.text"),title:s("ultDmgBuff.title"),content:s("ultDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({ultDmgBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;ot(s,Ft,i[t],c.ultDmgBuff)},finalizeCalculations:()=>{}}},zu=(t,a)=>{const i=[.08,.09,.1,.11,.12],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.DayOneOfMyNewLife.Content");return[{lc:!0,id:"dmgResBuff",name:"dmgResBuff",formItem:"switch",text:s("dmgResBuff.text"),title:s("dmgResBuff.title"),content:s("dmgResBuff.content",{ResBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,teammateContent:()=>l,defaults:()=>({dmgResBuff:!0}),teammateDefaults:()=>({dmgResBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(s,o)=>{const c=o.lightConeConditionals;s.DMG_RED_MULTI*=c.dmgResBuff?1-i[t]:1},finalizeCalculations:()=>{}}},qu=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),$u=(t,a)=>{const i=[.1,.11,.12,.13,.14],l=[.28,.35,.42,.49,.56],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.EarthlyEscapade.Content");return[{lc:!0,id:"maskActive",name:"maskActive",formItem:"switch",text:o("maskActive.text"),title:o("maskActive.title"),content:o("maskActive.content",{CritRateBuff:W.precisionRound(100*i[t]),CritDmgBuff:W.precisionRound(100*l[t])})}]})();return{content:()=>s,teammateContent:()=>s,defaults:()=>({maskActive:!1}),teammateDefaults:()=>({maskActive:!0}),precomputeEffects:()=>{},precomputeTeammateEffects:(o,c)=>{const r=c.lightConeConditionals;o[e.CR]+=r.maskActive?i[t]:0,o[e.CD]+=r.maskActive?l[t]:0},finalizeCalculations:()=>{}}},tm=(t,a)=>{const i=[12,14,16,18,20],l=[3,3.5,4,4.5,5],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.EchoesOfTheCoffin.Content");return[{lc:!0,id:"postUltSpdBuff",name:"postUltSpdBuff",formItem:"switch",text:o("postUltSpdBuff.text"),title:o("postUltSpdBuff.title"),content:o("postUltSpdBuff.content",{EnergyRecovered:W.precisionRound(l[t]),SpdBuff:W.precisionRound(i[t])})}]})();return{content:()=>s,teammateContent:()=>s,defaults:()=>({postUltSpdBuff:!1}),teammateDefaults:()=>({postUltSpdBuff:!1}),precomputeEffects:()=>{},precomputeMutualEffects:(o,c)=>{const r=c.lightConeConditionals;o[e.SPD]+=r.postUltSpdBuff?i[t]:0},finalizeCalculations:()=>{}}},em=t=>{const a=[.24,.3,.36,.42,.48];return{content:()=>[],defaults:()=>({}),precomputeEffects:i=>{ot(i,Va,a[t])},finalizeCalculations:()=>{}}},am=(t,a)=>{const i=[.16,.2,.24,.28,.32],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.Fermata.Content");return[{lc:!0,id:"enemyShockWindShear",name:"enemyShockWindShear",formItem:"switch",text:s("enemyShockWindShear.text"),title:s("enemyShockWindShear.title"),content:s("enemyShockWindShear.content",{DmgBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({enemyShockWindShear:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.enemyShockWindShear?i[t]:0},finalizeCalculations:()=>{}}},nm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),im=(t,a)=>{const i=[.24,.3,.36,.42,.48],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.GeniusesRepose.Content");return[{lc:!0,id:"defeatedEnemyCdBuff",name:"defeatedEnemyCdBuff",formItem:"switch",text:s("defeatedEnemyCdBuff.text"),title:s("defeatedEnemyCdBuff.title"),content:s("defeatedEnemyCdBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({defeatedEnemyCdBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.CD]+=c.defeatedEnemyCdBuff?i[t]:0},finalizeCalculations:()=>{}}},sm=(t,a)=>{const i=[.12,.15,.18,.21,.24],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.GoodNightAndSleepWell.Content");return[{lc:!0,id:"debuffStacksDmgIncrease",name:"debuffStacksDmgIncrease",formItem:"slider",text:s("debuffStacksDmgIncrease.text"),title:s("debuffStacksDmgIncrease.title"),content:s("debuffStacksDmgIncrease.content",{DmgBuff:W.precisionRound(100*i[t])}),min:0,max:3}]})();return{content:()=>l,defaults:()=>({debuffStacksDmgIncrease:3}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.debuffStacksDmgIncrease*i[t]},finalizeCalculations:()=>{}}},lm=(t,a)=>{const i=[.16,.19,.22,.25,.28],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.HeyOverHere.Content");return[{lc:!0,id:"postSkillHealBuff",name:"postSkillHealBuff",formItem:"switch",text:s("postSkillHealBuff.text"),title:s("postSkillHealBuff.title"),content:s("postSkillHealBuff.content",{HealingBoost:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({postSkillHealBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.OHB]+=c.postSkillHealBuff?i[t]:0},finalizeCalculations:()=>{}}},om=(t,a)=>{const i=[.6,.75,.9,1.05,1.2],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.HiddenShadow.Content");return[{lc:!0,id:"basicAtkBuff",name:"basicAtkBuff",formItem:"switch",text:s("basicAtkBuff.text"),title:s("basicAtkBuff.title"),content:s("basicAtkBuff.content",{MultiplierBonus:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({basicAtkBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.BASIC_SCALING+=c.basicAtkBuff?i[t]:0},finalizeCalculations:()=>{}}},cm=(t,a)=>{const i=[.12,.14,.16,.18,.2],l=[.12,.14,.16,.18,.2],s=(()=>{if(a)return[];const c=I.getFixedT(null,"conditionals","Lightcones.IncessantRain.Content");return[{lc:!0,id:"enemy3DebuffsCrBoost",name:"enemy3DebuffsCrBoost",formItem:"switch",text:c("enemy3DebuffsCrBoost.text"),title:c("enemy3DebuffsCrBoost.title"),content:c("enemy3DebuffsCrBoost.content",{CritBuff:W.precisionRound(100*i[t])})},{lc:!0,id:"targetCodeDebuff",name:"targetCodeDebuff",formItem:"switch",text:c("targetCodeDebuff.text"),title:c("targetCodeDebuff.title"),content:c("targetCodeDebuff.content",{DmgIncrease:W.precisionRound(100*l[t])})}]})(),o=a?[]:[O(s,"targetCodeDebuff")];return{content:()=>s,teammateContent:()=>o,defaults:()=>({enemy3DebuffsCrBoost:!0,targetCodeDebuff:!0}),teammateDefaults:()=>({targetCodeDebuff:!0}),precomputeEffects:(c,r)=>{const u=r.lightConeConditionals;c[e.CR]+=u.enemy3DebuffsCrBoost?i[t]:0},precomputeMutualEffects:(c,r)=>{const u=r.lightConeConditionals;c.VULNERABILITY+=u.targetCodeDebuff?l[t]:0},finalizeCalculations:()=>{}}},rm=(t,a)=>{const i=[.24,.28,.32,.36,.4],l=[.24,.28,.32,.36,.4],s=[.18,.21,.24,.27,.3],o=(()=>{if(a)return[];const c=I.getFixedT(null,"conditionals","Lightcones.InTheNameOfTheWorld.Content");return[{lc:!0,id:"enemyDebuffedDmgBoost",name:"enemyDebuffedDmgBoost",formItem:"switch",text:c("enemyDebuffedDmgBoost.text"),title:c("enemyDebuffedDmgBoost.title"),content:c("enemyDebuffedDmgBoost.content",{DmgBuff:W.precisionRound(100*i[t])})},{lc:!0,id:"skillAtkBoost",name:"skillAtkBoost",formItem:"switch",text:c("skillAtkBoost.text"),title:c("skillAtkBoost.title"),content:c("skillAtkBoost.content",{EhrBuff:W.precisionRound(100*s[t]),AtkBuff:W.precisionRound(100*l[t])})}]})();return{content:()=>o,defaults:()=>({enemyDebuffedDmgBoost:!0,skillAtkBoost:!1}),precomputeEffects:(c,r)=>{const u=r.lightConeConditionals;c.ELEMENTAL_DMG+=u.enemyDebuffedDmgBoost?i[t]:0},finalizeCalculations:()=>{}}},dm=(t,a)=>{const i=[.06,.07,.08,.09,.1],l=[.12,.14,.16,.18,.2],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.InTheNight.Content");return[{lc:!0,id:"spdScalingBuffs",name:"spdScalingBuffs",formItem:"switch",text:o("spdScalingBuffs.text"),title:o("spdScalingBuffs.title"),content:o("spdScalingBuffs.content",{DmgBuff:W.precisionRound(100*i[t]),CritBuff:W.precisionRound(100*l[t])})}]})();return{content:()=>s,defaults:()=>({spdScalingBuffs:!0}),precomputeEffects:()=>{},finalizeCalculations:(o,c)=>{const r=c.lightConeConditionals,u=Math.max(0,Math.min(6,Math.floor((o[e.SPD]-100)/10)));ot(o,ue|Qt,u*i[t],r.spdScalingBuffs),Da(o,Ft,u*l[t],r.spdScalingBuffs)},gpuFinalizeCalculations:o=>{const c=o.lightConeConditionals;return`
if (${Se(c.spdScalingBuffs)}) {
  let stacks = max(0, min(6, floor((x.SPD - 100) / 10)));

  buffAbilityDmg(p_x, BASIC_TYPE | SKILL_TYPE, stacks * ${i[t]}, 1);
  buffAbilityCd(p_x, ULT_TYPE, stacks * ${l[t]}, 1);
}
    `}}},um=(t,a)=>{const i=[.14,.165,.19,.215,.24],l=[.12,.14,.16,.18,.2],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.IShallBeMyOwnSword.Content");return[{lc:!0,id:"eclipseStacks",name:"eclipseStacks",formItem:"slider",text:o("eclipseStacks.text"),title:o("eclipseStacks.title"),content:o("eclipseStacks.content",{DmgBuff:W.precisionRound(100*i[t])}),min:0,max:3},{lc:!0,id:"maxStackDefPen",name:"maxStackDefPen",formItem:"switch",text:o("maxStackDefPen.text"),title:o("maxStackDefPen.title"),content:o("maxStackDefPen.content",{DefIgnore:W.precisionRound(100*l[t])})}]})();return{content:()=>s,defaults:()=>({eclipseStacks:3,maxStackDefPen:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o.ELEMENTAL_DMG+=r.eclipseStacks*i[t],o.DEF_PEN+=r.maxStackDefPen&&r.eclipseStacks==3?l[t]:0},finalizeCalculations:()=>{}}},mm=t=>{const a=[.16,.18,.2,.22,.24];return{content:()=>[],defaults:()=>({}),precomputeEffects:i=>{i.DMG_RED_MULTI*=1-a[t]},finalizeCalculations:()=>{}}},bm=(t,a)=>{const i=[.24,.3,.36,.42,.48],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.Loop.Content");return[{lc:!0,id:"enemySlowedDmgBuff",name:"enemySlowedDmgBuff",formItem:"switch",text:s("enemySlowedDmgBuff.text"),title:s("enemySlowedDmgBuff.title"),content:s("enemySlowedDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({enemySlowedDmgBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.enemySlowedDmgBuff?i[t]:0},finalizeCalculations:()=>{}}},hm=(t,a)=>{const i=[.32,.4,.48,.56,.64],l=[20,23,26,29,32],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.MakeTheWorldClamor.Content");return[{lc:!0,id:"ultDmgBuff",name:"ultDmgBuff",formItem:"switch",text:o("ultDmgBuff.text"),title:o("ultDmgBuff.title"),content:o("ultDmgBuff.content",{Energy:l[t],DmgBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>s,defaults:()=>({ultDmgBuff:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;ot(o,Ft,i[t],r.ultDmgBuff)},finalizeCalculations:()=>{}}},pm=(t,a)=>{const i=[12,14,16,18,20],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.Mediation.Content");return[{lc:!0,id:"initialSpdBuff",name:"initialSpdBuff",formItem:"switch",text:s("initialSpdBuff.text"),title:s("initialSpdBuff.title"),content:s("initialSpdBuff.content",{SpdBuff:i[t]})}]})();return{content:()=>l,teammateContent:()=>l,defaults:()=>({initialSpdBuff:!0}),teammateDefaults:()=>({initialSpdBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.SPD]+=c.initialSpdBuff?i[t]:0},finalizeCalculations:()=>{}}},Sm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Rm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),fm=(t,a)=>{const i=[.24,.28,.32,.36,.4],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.MomentOfVictory.Content");return[{lc:!0,id:"selfAttackedDefBuff",name:"selfAttackedDefBuff",formItem:"switch",text:s("selfAttackedDefBuff.text"),title:s("selfAttackedDefBuff.title"),content:s("selfAttackedDefBuff.content",{DefBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({selfAttackedDefBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.DEF_P]+=c.selfAttackedDefBuff?i[t]:0},finalizeCalculations:()=>{}}},Gm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Zm=(t,a)=>{const i=[.12,.15,.18,.21,.24],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.MutualDemise.Content");return[{lc:!0,id:"selfHp80CrBuff",name:"selfHp80CrBuff",formItem:"switch",text:s("selfHp80CrBuff.text"),title:s("selfHp80CrBuff.title"),content:s("selfHp80CrBuff.content",{CritBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({selfHp80CrBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.CR]+=c.selfHp80CrBuff?i[t]:0},finalizeCalculations:()=>{}}},gm=(t,a)=>{const i=[.024,.028,.032,.036,.04],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.NightOfFright.Content");return[{lc:!0,id:"atkBuffStacks",name:"atkBuffStacks",formItem:"slider",text:s("atkBuffStacks.text"),title:s("atkBuffStacks.title"),content:s("atkBuffStacks.content",{AtkBuff:W.precisionRound(100*i[t])}),min:0,max:5}]})();return{content:()=>l,teammateContent:()=>l,defaults:()=>({atkBuffStacks:5}),teammateDefaults:()=>({atkBuffStacks:5}),precomputeEffects:()=>{},precomputeMutualEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.ATK_P]+=c.atkBuffStacks*i[t]},finalizeCalculations:()=>{}}},Cm=(t,a)=>{const i=[.09,.105,.12,.135,.15],l=[.3,.35,.4,.45,.5],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.NightOnTheMilkyWay.Content");return[{lc:!0,id:"enemyCountAtkBuff",name:"enemyCountAtkBuff",formItem:"switch",text:o("enemyCountAtkBuff.text"),title:o("enemyCountAtkBuff.title"),content:o("enemyCountAtkBuff.content",{AtkBuff:W.precisionRound(100*i[t])})},{lc:!0,id:"enemyWeaknessBreakDmgBuff",name:"enemyWeaknessBreakDmgBuff",formItem:"switch",text:o("enemyWeaknessBreakDmgBuff.text"),title:o("enemyWeaknessBreakDmgBuff.title"),content:o("enemyWeaknessBreakDmgBuff.content",{DmgBuff:W.precisionRound(100*l[t])})}]})();return{content:()=>s,defaults:()=>({enemyCountAtkBuff:!0,enemyWeaknessBreakDmgBuff:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o[e.ATK_P]+=r.enemyCountAtkBuff?c.enemyCount*i[t]:0,o.ELEMENTAL_DMG+=r.enemyWeaknessBreakDmgBuff?l[t]:0},finalizeCalculations:()=>{}}},Tm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Dm=(t,a)=>{const i=[.12,.15,.18,.21,.24],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.OnlySilenceRemains.Content");return[{lc:!0,id:"enemies2CrBuff",name:"enemies2CrBuff",formItem:"switch",text:s("enemies2CrBuff.text"),title:s("enemies2CrBuff.title"),content:s("enemies2CrBuff.content",{CritBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({enemies2CrBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.CR]+=c.enemies2CrBuff&&o.enemyCount<=2?i[t]:0},finalizeCalculations:()=>{}}},Im=(t,a)=>{const i=[.08,.1,.12,.14,.16],l=[.12,.15,.18,.21,.24],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.OnTheFallOfAnAeon.Content");return[{lc:!0,id:"atkBoostStacks",name:"atkBoostStacks",formItem:"slider",text:o("atkBoostStacks.text"),title:o("atkBoostStacks.title"),content:o("atkBoostStacks.content",{AtkBuff:W.precisionRound(100*i[t])}),min:0,max:4},{lc:!0,id:"weaknessBreakDmgBuff",name:"weaknessBreakDmgBuff",formItem:"switch",text:o("weaknessBreakDmgBuff.text"),title:o("weaknessBreakDmgBuff.title"),content:o("weaknessBreakDmgBuff.content",{DmgBuff:W.precisionRound(100*l[t])})}]})();return{content:()=>s,defaults:()=>({atkBoostStacks:4,weaknessBreakDmgBuff:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o[e.ATK_P]+=r.atkBoostStacks*i[t],o.ELEMENTAL_DMG+=r.weaknessBreakDmgBuff?l[t]:0},finalizeCalculations:()=>{}}},Vm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Wm=(t,a)=>{const i=[.16,.2,.24,.28,.32],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.PastAndFuture.Content");return[{lc:!0,id:"postSkillDmgBuff",name:"postSkillDmgBuff",formItem:"switch",text:s("postSkillDmgBuff.text"),title:s("postSkillDmgBuff.title"),content:s("postSkillDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>[],teammateContent:()=>l,defaults:()=>({}),teammateDefaults:()=>({postSkillDmgBuff:!0}),precomputeEffects:()=>{},precomputeTeammateEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.postSkillDmgBuff?i[t]:0},finalizeCalculations:()=>{}}},Em=(t,a)=>{const i=[.24,.28,.32,.36,.4],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.PastSelfInTheMirror.Content");return[{lc:!0,id:"postUltDmgBuff",name:"postUltDmgBuff",formItem:"switch",text:s("postUltDmgBuff.text"),title:s("postUltDmgBuff.title"),content:s("postUltDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,teammateContent:()=>l,defaults:()=>({postUltDmgBuff:!0}),teammateDefaults:()=>({postUltDmgBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.postUltDmgBuff?i[t]:0},finalizeCalculations:()=>{}}},xm=(t,a)=>{const i=[.24,.28,.32,.36,.4],l=[.048,.056,.064,.072,.08],s=[.6,.7,.8,.9,1],o=(()=>{if(a)return[];const c=I.getFixedT(null,"conditionals","Lightcones.PatienceIsAllYouNeed.Content");return[{lc:!0,id:"spdStacks",name:"spdStacks",formItem:"slider",text:c("spdStacks.text"),title:c("spdStacks.title"),content:c("spdStacks.content",{SpdBuff:W.precisionRound(100*l[t])}),min:0,max:3},{lc:!0,id:"dotEffect",name:"dotEffect",formItem:"switch",text:c("dotEffect.text"),title:c("dotEffect.title"),content:c("dotEffect.content",{Multiplier:W.precisionRound(100*s[t])})}]})();return{content:()=>o,defaults:()=>({spdStacks:3,dotEffect:!1}),precomputeEffects:(c,r)=>{const u=r.lightConeConditionals;c[e.SPD_P]+=u.spdStacks*l[t],c.ELEMENTAL_DMG+=i[t]},finalizeCalculations:()=>{}}},ym=(t,a)=>{const i=[.33,.36,.39,.42,.45],l=[.15,.18,.21,.24,.27],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.PerfectTiming.Content");return[{lc:!0,id:"resToHealingBoost",name:"resToHealingBoost",formItem:"switch",text:o("resToHealingBoost.text"),title:o("resToHealingBoost.title"),content:o("resToHealingBoost.content",{Scaling:W.precisionRound(100*i[t]),Limit:W.precisionRound(100*l[t])})}]})();return{content:()=>s,defaults:()=>({resToHealingBoost:!0}),precomputeEffects:()=>{},finalizeCalculations:(o,c)=>{},dynamicConditionals:[{id:"PerfectTimingConditional",type:Mt.ABILITY,activation:Lt.SINGLE,dependsOn:[e.RES],condition:function(o,c,r){return c.lightConeConditionals.resToHealingBoost},effect:(o,c,r)=>{const u=Math.min(l[t],i[t]*o[e.RES]);jt(o,c,r,e.OHB,u)},gpu:function(){return Bt(this,`
if (
  (*p_state).PerfectTimingConditional == 0.0
) {
  (*p_state).PerfectTimingConditional = 1.0;
  
  let boost = min(${l[t]}, ${i[t]} * x.RES);
  buffDynamicOHB(boost, p_x, p_state);
}
    `)}}]}},Lm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Fm=(t,a)=>{const i=[.12,.15,.18,.21,.24],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.PlanetaryRendezvous.Content");return[{lc:!0,id:"alliesSameElement",name:"alliesSameElement",formItem:"switch",text:s("alliesSameElement.text"),title:s("alliesSameElement.title"),content:s("alliesSameElement.content",{DmgBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,teammateContent:()=>l,defaults:()=>({alliesSameElement:!0}),teammateDefaults:()=>({alliesSameElement:!0}),precomputeTeammateEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.alliesSameElement?i[t]:0},precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.alliesSameElement?i[t]:0},finalizeCalculations:()=>{}}},Mm=(t,a)=>{const i=[.12,.15,.18,.21,.24],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.PostOpConversation.Content");return[{lc:!0,id:"postUltHealingBoost",name:"postUltHealingBoost",formItem:"switch",text:s("postUltHealingBoost.text"),title:s("postUltHealingBoost.title"),content:s("postUltHealingBoost.content",{HealingBoost:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({postUltHealingBoost:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.OHB]+=c.postUltHealingBoost?i[t]:0},finalizeCalculations:()=>{}}},Bm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Pm=(t,a)=>{const i=[.05,.06,.07,.08,.09],l=[.072,.079,.086,.093,.1],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.ReforgedRemembrance.Content");return[{lc:!0,id:"prophetStacks",name:"prophetStacks",formItem:"slider",text:o("prophetStacks.text"),title:o("prophetStacks.title"),content:o("prophetStacks.content",{AtkBuff:W.precisionRound(100*i[t]),DefIgnore:W.precisionRound(100*l[t])}),min:0,max:4}]})();return{content:()=>s,defaults:()=>({prophetStacks:4}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o[e.ATK_P]+=r.prophetStacks*i[t],ba(o,Va,r.prophetStacks*l[t])},finalizeCalculations:()=>{}}},km=(t,a)=>{const i=[.12,.13,.14,.15,.16],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.ResolutionShinesAsPearlsOfSweat.Content");return[{lc:!0,id:"targetEnsnared",name:"targetEnsnared",formItem:"switch",text:s("targetEnsnared.text"),title:s("targetEnsnared.title"),content:s("targetEnsnared.content",{DefShred:W.precisionRound(100*i[t])})}]})();return{content:()=>l,teammateContent:()=>l,defaults:()=>({targetEnsnared:!0}),teammateDefaults:()=>({targetEnsnared:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(s,o)=>{const c=o.lightConeConditionals;s.DEF_PEN+=c.targetEnsnared?i[t]:0},finalizeCalculations:()=>{}}},Hm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Nm=(t,a)=>{const i=[.08,.09,.1,.11,.12],l=[.12,.15,.18,.21,.24],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.RiverFlowsInSpring.Content");return[{lc:!0,id:"spdDmgBuff",name:"spdDmgBuff",formItem:"switch",text:o("spdDmgBuff.text"),title:o("spdDmgBuff.title"),content:o("spdDmgBuff.content",{SpdBuff:W.precisionRound(100*i[t]),DmgBuff:W.precisionRound(100*l[t])})}]})();return{content:()=>s,defaults:()=>({spdDmgBuff:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o[e.SPD_P]+=r.spdDmgBuff?i[t]:0,o.ELEMENTAL_DMG+=r.spdDmgBuff?l[t]:0},finalizeCalculations:()=>{}}},Um=(t,a)=>{const i=[.24,.3,.36,.42,.48],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.Sagacity.Content");return[{lc:!0,id:"postUltAtkBuff",name:"postUltAtkBuff",formItem:"switch",text:s("postUltAtkBuff.text"),title:s("postUltAtkBuff.title"),content:s("postUltAtkBuff.content",{AtkBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({postUltAtkBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.ATK_P]+=c.postUltAtkBuff?i[t]:0},finalizeCalculations:()=>{}}},Xm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Ym=(t,a)=>{const i=[.2,.25,.3,.35,.4],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.ShatteredHome.Content");return[{lc:!0,id:"enemyHp50Buff",name:"enemyHp50Buff",formItem:"switch",text:s("enemyHp50Buff.text"),title:s("enemyHp50Buff.title"),content:s("enemyHp50Buff.content",{DmgBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({enemyHp50Buff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.enemyHp50Buff?i[t]:0},finalizeCalculations:()=>{}}},Km=(t,a)=>{const i=[.09,.105,.12,.135,.15],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.SheAlreadyShutHerEyes.Content");return[{lc:!0,id:"hpLostDmgBuff",name:"hpLostDmgBuff",formItem:"switch",text:s("hpLostDmgBuff.text"),title:s("hpLostDmgBuff.title"),content:s("hpLostDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,teammateContent:()=>l,defaults:()=>({hpLostDmgBuff:!0}),teammateDefaults:()=>({hpLostDmgBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.hpLostDmgBuff?i[t]:0},finalizeCalculations:()=>{}}},vm=(t,a)=>{const i=[.36,.42,.48,.54,.6],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.SleepLikeTheDead.Content");return[{lc:!0,id:"missedCritCrBuff",name:"missedCritCrBuff",formItem:"switch",text:s("missedCritCrBuff.text"),title:s("missedCritCrBuff.title"),content:s("missedCritCrBuff.content",{CritBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({missedCritCrBuff:!1}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.CR]+=c.missedCritCrBuff?i[t]:0},finalizeCalculations:()=>{}}},wm=(t,a)=>{const i=[.24,.3,.36,.42,.48],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.SolitaryHealing.Content");return[{lc:!0,id:"postUltDotDmgBuff",name:"postUltDotDmgBuff",formItem:"switch",text:s("postUltDotDmgBuff.text"),title:s("postUltDotDmgBuff.title"),content:s("postUltDotDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({postUltDotDmgBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;ot(s,Va,i[t],c.postUltDotDmgBuff)},finalizeCalculations:()=>{}}},Am=(t,a)=>{const i=[.24,.28,.32,.36,.4],l=[.08,.09,.1,.11,.12],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.SomethingIrreplaceable.Content");return[{lc:!0,id:"dmgBuff",name:"dmgBuff",formItem:"switch",text:o("dmgBuff.text"),title:o("dmgBuff.title"),content:o("dmgBuff.content",{Multiplier:W.precisionRound(100*l[t]),DmgBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>s,defaults:()=>({dmgBuff:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o.ELEMENTAL_DMG+=r.dmgBuff?i[t]:0},finalizeCalculations:()=>{}}},jm=(t,a)=>{const i=[.24,.3,.36,.42,.48],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.SubscribeForMore.Content");return[{lc:!0,id:"maxEnergyDmgBoost",name:"maxEnergyDmgBoost",formItem:"switch",text:s("maxEnergyDmgBoost.text"),title:s("maxEnergyDmgBoost.title"),content:s("maxEnergyDmgBoost.content",{DmgBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({maxEnergyDmgBoost:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;ot(s,ue|Qt,i[t]),ot(s,ue|Qt,i[t],c.maxEnergyDmgBoost)},finalizeCalculations:()=>{}}},Jm=(t,a)=>{const i=[.08,.1,.12,.14,.16],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.Swordplay.Content");return[{lc:!0,id:"sameTargetHitStacks",name:"sameTargetHitStacks",formItem:"slider",text:s("sameTargetHitStacks.text"),title:s("sameTargetHitStacks.title"),content:s("sameTargetHitStacks.content",{DmgBuff:W.precisionRound(100*i[t])}),min:0,max:5}]})();return{content:()=>l,defaults:()=>({sameTargetHitStacks:5}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.sameTargetHitStacks*i[t]},finalizeCalculations:()=>{}}},Om=(t,a)=>{const i=[.12,.15,.18,.21,.24],l=[.16,.2,.24,.28,.32],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.TextureOfMemories.Content");return[{lc:!0,id:"activeShieldDmgDecrease",name:"activeShieldDmgDecrease",formItem:"switch",text:o("activeShieldDmgDecrease.text"),title:o("activeShieldDmgDecrease.title"),content:o("activeShieldDmgDecrease.content",{ShieldHp:W.precisionRound(100*l[t]),DmgReduction:W.precisionRound(100*i[t])})}]})();return{content:()=>s,defaults:()=>({activeShieldDmgDecrease:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o.DMG_RED_MULTI*=r.activeShieldDmgDecrease?1-i[t]:1},finalizeCalculations:()=>{}}},Qm=(t,a)=>{const i=[.24,.3,.36,.42,.48],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.TheBirthOfTheSelf.Content");return[{lc:!0,id:"enemyHp50FuaBuff",name:"enemyHp50FuaBuff",formItem:"switch",text:s("enemyHp50FuaBuff.text"),title:s("enemyHp50FuaBuff.title"),content:s("enemyHp50FuaBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({enemyHp50FuaBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;ot(s,It,i[t]),ot(s,It,i[t],c.enemyHp50FuaBuff)},finalizeCalculations:()=>{}}},_m=(t,a)=>{const i=[.12,.15,.18,.21,.24],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.TheMolesWelcomeYou.Content");return[{lc:!0,id:"atkBuffStacks",name:"atkBuffStacks",formItem:"slider",text:s("atkBuffStacks.text"),title:s("atkBuffStacks.title"),content:s("atkBuffStacks.content",{AtkBuff:W.precisionRound(100*i[t])}),min:0,max:3}]})();return{content:()=>l,defaults:()=>({atkBuffStacks:3}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.ATK_P]+=c.atkBuffStacks*i[t]},finalizeCalculations:()=>{}}},zm=(t,a)=>{const i=[.12,.15,.18,.21,.24],l=[.04,.05,.06,.07,.08],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.TheSeriousnessOfBreakfast.Content");return[{lc:!0,id:"dmgBoost",name:"dmgBoost",formItem:"switch",text:o("dmgBoost.text"),title:o("dmgBoost.title"),content:o("dmgBoost.content",{DmgBuff:W.precisionRound(100*i[t])})},{lc:!0,id:"defeatedEnemyAtkStacks",name:"defeatedEnemyAtkStacks",formItem:"slider",text:o("defeatedEnemyAtkStacks.text"),title:o("defeatedEnemyAtkStacks.title"),content:o("defeatedEnemyAtkStacks.content",{AtkBuff:W.precisionRound(100*l[t])}),min:0,max:3}]})();return{content:()=>s,defaults:()=>({dmgBoost:!0,defeatedEnemyAtkStacks:3}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o[e.ATK_P]+=r.defeatedEnemyAtkStacks*l[t],o.ELEMENTAL_DMG+=r.dmgBoost?i[t]:0},finalizeCalculations:()=>{}}},qm=(t,a)=>{const i=[.24,.28,.32,.36,.4],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.TheUnreachableSide.Content");return[{lc:!0,id:"dmgBuff",name:"dmgBuff",formItem:"switch",text:s("dmgBuff.text"),title:s("dmgBuff.title"),content:s("dmgBuff.content",{DmgBuff:W.precisionRound(i[t]*100)})}]})();return{content:()=>l,defaults:()=>({dmgBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.dmgBuff?i[t]:0},finalizeCalculations:()=>{}}},$m=(t,a)=>{const i=[.6,.75,.9,1.05,1.2],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.ThisIsMe.Content");return[{lc:!0,id:"defScalingUltDmg",name:"defScalingUltDmg",formItem:"switch",text:s("defScalingUltDmg.text"),title:s("defScalingUltDmg.title"),content:s("defScalingUltDmg.content",{Multiplier:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({defScalingUltDmg:!1}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}},tb=(t,a)=>{const i=[.36,.42,.48,.54,.6],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.TimeWaitsForNoOne.Content");return[{lc:!0,id:"healingBasedDmgProc",name:"healingBasedDmgProc",formItem:"switch",text:s("healingBasedDmgProc.text"),title:s("healingBasedDmgProc.title"),content:s("healingBasedDmgProc.content",{Multiplier:W.precisionRound(i[t]*100)})}]})();return{content:()=>l,defaults:()=>({healingBasedDmgProc:!1}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}},eb=(t,a)=>{const i=[.002,.0025,.003,.0035,.004],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.TodayIsAnotherPeacefulDay.Content");return[{lc:!0,id:"maxEnergyStacks",name:"maxEnergyStacks",formItem:"slider",text:s("maxEnergyStacks.text"),title:s("maxEnergyStacks.title"),content:s("maxEnergyStacks.content",{DmgStep:W.precisionRound(100*i[t])}),min:0,max:160}]})();return{content:()=>l,defaults:()=>({maxEnergyStacks:160}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.maxEnergyStacks*i[t]},finalizeCalculations:()=>{}}},ab=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),nb=(t,a)=>{const i=[.12,.15,.18,.21,.24],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.UnderTheBlueSky.Content");return[{lc:!0,id:"defeatedEnemyCrBuff",name:"defeatedEnemyCrBuff",formItem:"switch",text:s("defeatedEnemyCrBuff.text"),title:s("defeatedEnemyCrBuff.title"),content:s("defeatedEnemyCrBuff.content",{CritBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({defeatedEnemyCrBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.CR]+=c.defeatedEnemyCrBuff?i[t]:0},finalizeCalculations:()=>{}}},ib=(t,a)=>{const i=[.2,.25,0,30,.35,.4],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.Void.Content");return[{lc:!0,id:"initialEhrBuff",name:"initialEhrBuff",formItem:"switch",text:s("initialEhrBuff.text"),title:s("initialEhrBuff.title"),content:s("initialEhrBuff.content",{EhrBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({initialEhrBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.EHR]+=c.initialEhrBuff?i[t]:0},finalizeCalculations:()=>{}}},sb=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),lb=(t,a)=>{const i=[.08,.1,.12,.14,.16],l=[.3,.35,.4,.45,.5],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.WeAreWildfire.Content");return[{lc:!0,id:"initialDmgReductionBuff",name:"initialDmgReductionBuff",formItem:"switch",text:o("initialDmgReductionBuff.text"),title:o("initialDmgReductionBuff.title"),content:o("initialDmgReductionBuff.content",{Healing:W.precisionRound(100*l[t]),DmgReduction:i[t]})}]})();return{content:()=>s,teammateContent:()=>s,defaults:()=>({initialDmgReductionBuff:!0}),teammateDefaults:()=>({initialDmgReductionBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(o,c)=>{const r=c.lightConeConditionals;o.DMG_RED_MULTI*=r.initialDmgReductionBuff?1-i[t]:1},finalizeCalculations:()=>{}}},ob=(t,a)=>{const i=[.48,.6,.72,.84,.96],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.WeWillMeetAgain.Content");return[{lc:!0,id:"extraDmgProc",name:"extraDmgProc",formItem:"switch",text:s("extraDmgProc.text"),title:s("extraDmgProc.title"),content:s("extraDmgProc.content",{Multiplier:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({extraDmgProc:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.BASIC_SCALING+=c.extraDmgProc?i[t]:0,s.SKILL_SCALING+=c.extraDmgProc?i[t]:0},finalizeCalculations:()=>{}}},cb=(t,a)=>{const i=[.16,.2,.24,.28,.32],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.WoofWalkTime.Content");return[{lc:!0,id:"atkBoost",name:"atkBoost",formItem:"switch",text:s("atkBoost.text"),title:s("atkBoost.title"),content:s("atkBoost.content",{DmgBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({enemyBurnedBleeding:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.enemyBurnedBleeding?i[t]:0},finalizeCalculations:()=>{}}},rb=(t,a)=>{const i=[.3,.35,.4,.45,.5],l=[.12,.14,.16,.18,.2],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.WorrisomeBlissful.Content");return[{lc:!0,id:"targetTameStacks",name:"targetTameStacks",formItem:"slider",text:o("targetTameStacks.text"),title:o("targetTameStacks.title"),content:o("targetTameStacks.content",{CritBuff:W.precisionRound(100*l[t])}),min:0,max:2}]})();return{content:()=>s,teammateContent:()=>s,defaults:()=>({targetTameStacks:2}),teammateDefaults:()=>({targetTameStacks:2}),precomputeEffects:(o,c)=>{ot(o,It,i[t])},precomputeMutualEffects:(o,c)=>{const r=c.lightConeConditionals;o[e.CD]+=r.targetTameStacks*l[t]},finalizeCalculations:()=>{}}},db=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),ub=(t,a)=>{const i=[.12,.14,.16,.18,.2],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.DreamvilleAdventure.Content");return[{lc:!0,id:"ultDmgBuff",name:"ultDmgBuff",formItem:"switch",text:s("ultDmgBuff.text"),title:s("ultDmgBuff.title"),content:s("ultDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})},{lc:!0,id:"skillDmgBuff",name:"skillDmgBuff",formItem:"switch",text:s("skillDmgBuff.text"),title:s("skillDmgBuff.title"),content:s("skillDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})},{lc:!0,id:"basicDmgBuff",name:"basicDmgBuff",formItem:"switch",text:s("basicDmgBuff.text"),title:s("basicDmgBuff.title"),content:s("basicDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,teammateContent:()=>l,defaults:()=>({ultDmgBuff:!0,skillDmgBuff:!1,basicDmgBuff:!1}),teammateDefaults:()=>({ultDmgBuff:!0,skillDmgBuff:!1,basicDmgBuff:!1}),precomputeEffects:()=>{},precomputeMutualEffects:(s,o)=>{const c=o.lightConeConditionals;ot(s,ue,i[t],c.basicDmgBuff),ot(s,Qt,i[t],c.skillDmgBuff),ot(s,Ft,i[t],c.ultDmgBuff)},finalizeCalculations:()=>{}}},mb=(t,a)=>{const i=[.08,.09,.1,.11,.12],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.FinalVictor.Content");return[{lc:!0,id:"goodFortuneStacks",name:"goodFortuneStacks",formItem:"slider",text:s("goodFortuneStacks.text"),title:s("goodFortuneStacks.title"),content:s("goodFortuneStacks.content",{CritBuff:W.precisionRound(100*i[t])}),min:0,max:4}]})();return{content:()=>l,defaults:()=>({goodFortuneStacks:4}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.CD]+=c.goodFortuneStacks*i[t]},finalizeCalculations:()=>{}}},bb=(t,a)=>{const i=[.25,.3125,.375,.4375,.5],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.FlamesAfar.Content");return[{lc:!0,id:"dmgBuff",name:"dmgBuff",formItem:"switch",text:s("dmgBuff.text"),title:s("dmgBuff.title"),content:s("dmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({dmgBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.dmgBuff?i[t]:0},finalizeCalculations:()=>{}}},hb=t=>{const a=[.008,.009,.01,.011,.012],i=[.32,.36,.4,.44,.48];return{content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:(l,s)=>{l.ELEMENTAL_DMG+=Math.min(i[t],Math.floor(l[e.DEF]/100)*a[t])},gpuFinalizeCalculations:()=>`
x.ELEMENTAL_DMG += min(${i[t]}, floor(x.DEF / 100) * ${a[t]});
      `}},pb=(t,a)=>{const i=[.2,.25,.3,.35,.4],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.TheDayTheCosmosFell.Content");return[{lc:!0,id:"cdBuffActive",name:"cdBuffActive",formItem:"switch",text:s("cdBuffActive.text"),title:s("cdBuffActive.title"),content:s("cdBuffActive.content",{CritBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({cdBuffActive:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.CD]+=c.cdBuffActive?i[t]:0},finalizeCalculations:()=>{}}},Sb=(t,a)=>{const i=[.06,.07,.08,.09,.1],l=[.2,.24,.28,.32,.36],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.ItsShowtime.Content");return[{lc:!0,id:"trickStacks",name:"trickStacks",formItem:"slider",text:o("trickStacks.text"),title:o("trickStacks.title"),content:o("trickStacks.content",{DmgBuff:W.precisionRound(100*i[t]),AtkBuff:W.precisionRound(100*l[t])}),min:0,max:3}]})();return{content:()=>s,defaults:()=>({trickStacks:3}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o.ELEMENTAL_DMG+=r.trickStacks*i[t]},finalizeCalculations:()=>{},dynamicConditionals:[{id:"ItsShowtimeConversionConditional",type:Mt.ABILITY,activation:Lt.CONTINUOUS,dependsOn:[e.EHR],condition:function(o,c,r){return o[e.EHR]>=.8},effect:function(o,c,r){c.characterConditionals;const u=r.conditionalState[this.id]||0,f=l[t]*c.baseAtk;r.conditionalState[this.id]=f,jt(o,c,r,e.ATK,f-u)},gpu:function(o,c){return Bt(this,`
if (x.EHR < 0.80) {
  return;
}

let stateValue: f32 = (*p_state).ItsShowtimeConversionConditional;
let buffValue: f32 = ${l[t]};

(*p_state).ItsShowtimeConversionConditional = buffValue;
buffDynamicATK_P(buffValue - stateValue, p_x, p_state);
    `)}}]}},Rb=(t,a)=>{const i=[.15,.1875,.225,.2625,.3],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.IndeliblePromise.Content");return[{lc:!0,id:"crBuff",name:"crBuff",formItem:"switch",text:s("crBuff.text"),title:s("crBuff.title"),content:s("crBuff.content",{BreakBuff:W.precisionRound(100*(.21+.7*t)),CritBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({crBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.CR]+=c.crBuff?i[t]:0},finalizeCalculations:()=>{}}},fb=(t,a)=>{const i=[.4,.46,.52,.58,.64],l=[.1,.115,.13,.145,.16],s=(()=>{if(a)return[];const c=I.getFixedT(null,"conditionals","Lightcones.InherentlyUnjustDestiny.Content");return[{lc:!0,id:"shieldCdBuff",name:"shieldCdBuff",formItem:"switch",text:c("shieldCdBuff.text"),title:c("shieldCdBuff.title"),content:c("shieldCdBuff.content",{CritBuff:W.precisionRound(100*i[t])})},{lc:!0,id:"targetVulnerability",name:"targetVulnerability",formItem:"switch",text:c("targetVulnerability.text"),title:c("targetVulnerability.title"),content:c("targetVulnerability.content",{Vulnerability:W.precisionRound(100*l[t])})}]})(),o=a?[]:[O(s,"targetVulnerability")];return{content:()=>s,teammateContent:()=>o,defaults:()=>({shieldCdBuff:!0,targetVulnerability:!0}),teammateDefaults:()=>({targetVulnerability:!0}),precomputeEffects:(c,r)=>{const u=r.lightConeConditionals;c[e.CD]+=u.shieldCdBuff?i[t]:0},precomputeMutualEffects:(c,r)=>{const u=r.lightConeConditionals;c.VULNERABILITY+=u.targetVulnerability?l[t]:0},finalizeCalculations:()=>{}}},Gb=(t,a)=>{const i=[.24,.28,.32,.36,.4],l=[.24,.28,.32,.36,.4],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.AlongThePassingShore.Content");return[{lc:!0,id:"emptyBubblesDebuff",name:"emptyBubblesDebuff",formItem:"switch",text:o("emptyBubblesDebuff.text"),title:o("emptyBubblesDebuff.title"),content:o("emptyBubblesDebuff.content",{UltDmgBoost:W.precisionRound(100*l[t]),DmgBoost:W.precisionRound(100*i[t])})}]})();return{content:()=>s,defaults:()=>({emptyBubblesDebuff:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o.ELEMENTAL_DMG+=r.emptyBubblesDebuff?i[t]:0,ot(o,Ft,l[t],r.emptyBubblesDebuff)},finalizeCalculations:()=>{}}},Zb=(t,a)=>{const i=[.04,.05,.06,.07,.08],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.ConcertForTwo.Content");return[{lc:!0,id:"teammateShieldStacks",name:"teammateShieldStacks",formItem:"slider",text:s("teammateShieldStacks.text"),title:s("teammateShieldStacks.title"),content:s("teammateShieldStacks.content",{DmgBuff:W.precisionRound(100*i[t])}),min:0,max:4}]})();return{content:()=>l,defaults:()=>({teammateShieldStacks:4}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.teammateShieldStacks*i[t]},finalizeCalculations:()=>{}}},gb=(t,a)=>{const i=[.24,.3,.36,.42,.48],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.BoundlessChoreo.Content");return[{lc:!0,id:"enemyDefReducedSlowed",name:"enemyDefReducedSlowed",formItem:"switch",text:s("enemyDefReducedSlowed.text"),title:s("enemyDefReducedSlowed.title"),content:s("enemyDefReducedSlowed.content",{CritBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({enemyDefReducedSlowed:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.CD]+=c.enemyDefReducedSlowed?i[t]:0},finalizeCalculations:()=>{}}},Cb=(t,a)=>{const i=[.18,.21,.24,.27,.3],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.ForTomorrowsJourney.Content");return[{lc:!0,id:"ultDmgBuff",name:"ultDmgBuff",formItem:"switch",text:s("ultDmgBuff.text"),title:s("ultDmgBuff.title"),content:s("ultDmgBuff.content",{DmgBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({ultDmgBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.ELEMENTAL_DMG+=c.ultDmgBuff?i[t]:0},finalizeCalculations:()=>{}}},Tb=(t,a)=>{const i=[.03,.035,.04,.045,.05],l=[.48,.6,.72,.84,.96],s=[.24,.28,.32,.36,.4],o=(()=>{if(a)return[];const r=I.getFixedT(null,"conditionals","Lightcones.FlowingNightglow.Content");return[{lc:!0,id:"cadenzaActive",name:"cadenzaActive",formItem:"switch",text:r("cadenzaActive.text"),title:r("cadenzaActive.title"),content:r("cadenzaActive.content",{RegenBuff:W.precisionRound(100*i[t]),AtkBuff:W.precisionRound(100*l[t]),DmgBuff:W.precisionRound(100*s[t])})},{lc:!0,id:"cantillationStacks",name:"cantillationStacks",formItem:"slider",text:r("cantillationStacks.text"),title:r("cantillationStacks.title"),content:r("cantillationStacks.content",{RegenBuff:W.precisionRound(100*i[t]),AtkBuff:W.precisionRound(100*l[t]),DmgBuff:W.precisionRound(100*s[t])}),min:0,max:5}]})(),c=a?[]:[O(o,"cadenzaActive")];return{content:()=>o,teammateContent:()=>c,defaults:()=>({cantillationStacks:5,cadenzaActive:!0}),teammateDefaults:()=>({cadenzaActive:!0}),precomputeTeammateEffects:(r,u)=>{const f=u.lightConeConditionals;r.ELEMENTAL_DMG+=f.cadenzaActive?s[t]:0},precomputeEffects:(r,u)=>{const f=u.lightConeConditionals;r[e.ERR]+=f.cantillationStacks*i[t],r[e.ATK_P]+=f.cadenzaActive?l[t]:0},finalizeCalculations:()=>{}}},Db=(t,a)=>{const i=[.12,.14,.16,.18,.2],l=[.2,.23,.26,.29,.32],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.SailingTowardsASecondLife.Content");return[{lc:!0,id:"breakDmgDefShred",name:"breakDmgDefShred",formItem:"switch",text:o("breakDmgDefShred.text"),title:o("breakDmgDefShred.title"),content:o("breakDmgDefShred.content",{DefIgnore:W.precisionRound(100*l[t])})},{lc:!0,id:"spdBuffConditional",name:"spdBuffConditional",formItem:"switch",text:o("spdBuffConditional.text"),title:o("spdBuffConditional.title"),content:o("spdBuffConditional.content",{SpdBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>s,defaults:()=>({breakDmgDefShred:!0,spdBuffConditional:!0}),precomputeEffects:(o,c)=>{const r=c.characterConditionals;ba(o,wn,l[t],r.breakDmgDefShred)},finalizeCalculations:(o,c)=>{},dynamicConditionals:[{id:"SailingTowardsASecondLifeConditional",type:Mt.ABILITY,activation:Lt.SINGLE,dependsOn:[e.BE],condition:function(o,c,r){return c.lightConeConditionals.spdBuffConditional&&o[e.BE]>=1.5},effect:(o,c,r)=>{jt(o,c,r,e.SPD,i[t]*c.baseSpd)},gpu:function(){return Bt(this,`
if (
  (*p_state).SailingTowardsASecondLifeConditional == 0.0 &&
  (*p_x).BE >= 1.50
) {
  (*p_state).SailingTowardsASecondLifeConditional = 1.0;
  buffDynamicSPD_P(${i[t]}, p_x, p_state);
}
    `)}}]}},Ib=(t,a)=>{const i=[.08,.1,.12,.14,.16],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.AfterTheCharmonyFall.Content");return[{lc:!0,id:"spdBuff",name:"spdBuff",formItem:"switch",text:s("spdBuff.text"),title:s("spdBuff.title"),content:s("spdBuff.content",{SpdBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({spdBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.SPD_P]+=c.spdBuff?i[t]:0},finalizeCalculations:()=>{}}},Vb=(t,a)=>{const i=[.24,.28,.32,.36,.4],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.WhereaboutsShouldDreamsRest.Content");return[{lc:!0,id:"routedVulnerability",name:"routedVulnerability",formItem:"switch",text:s("routedVulnerability.text"),title:s("routedVulnerability.title"),content:s("routedVulnerability.content",{Vulnerability:i[t]*100})}]})();return{content:()=>l,defaults:()=>({routedVulnerability:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s.VULNERABILITY+=c.routedVulnerability?i[t]:0},finalizeCalculations:()=>{}}},Wb=(t,a)=>{const i=[.12,.14,.16,.18,.2],l=[.2,.24,.28,.32,.36],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.YetHopeIsPriceless.Content");return[{lc:!0,id:"fuaDmgBoost",name:"fuaDmgBoost",formItem:"switch",text:o("fuaDmgBoost.text"),title:o("fuaDmgBoost.title"),content:o("fuaDmgBoost.content",{DmgBuff:W.precisionRound(i[t]*100)})},{lc:!0,id:"ultFuaDefShred",name:"ultFuaDefShred",formItem:"switch",text:o("ultFuaDefShred.text"),title:o("ultFuaDefShred.title"),content:o("ultFuaDefShred.content",{DefShred:W.precisionRound(i[t]*100)})}]})();return{content:()=>s,defaults:()=>({fuaDmgBoost:!0,ultFuaDefShred:!0}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;ba(o,Ft|It,l[t],r.ultFuaDefShred)},finalizeCalculations:(o,c)=>{const r=c.lightConeConditionals;ot(o,It,i[t]*Math.min(4,Math.floor(o[e.CD]-1.2)/.2),r.fuaDmgBoost)},gpuFinalizeCalculations:o=>{const c=o.lightConeConditionals;return`
if (${Se(c.fuaDmgBoost)}) {
  buffAbilityDmg(p_x, FUA_TYPE, ${i[t]} * min(4, floor(x.CD - 1.20) / 0.20), 1);
}
    `}}},Eb=(t,a)=>{const i=[.04,.05,.06,.07,.08],l=[.08,.1,.12,.14,.16],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.EternalCalculus.Content");return[{lc:!0,id:"atkBuffStacks",name:"atkBuffStacks",formItem:"slider",text:o("atkBuffStacks.text"),title:o("atkBuffStacks.title"),content:o("atkBuffStacks.content",{AtkBuff:W.precisionRound(100*i[t])}),min:0,max:5},{lc:!0,id:"spdBuff",name:"spdBuff",formItem:"switch",text:o("spdBuff.text"),title:o("spdBuff.title"),content:o("spdBuff.content",{SpdBuff:W.precisionRound(100*l[t])})}]})();return{content:()=>s,defaults:()=>({atkBuffStacks:5,spdBuff:!1}),precomputeEffects:(o,c)=>{const r=c.lightConeConditionals;o[e.ATK_P]+=r.atkBuffStacks*i[t],o[e.SPD_P]+=r.spdBuff?l[t]:0},finalizeCalculations:()=>{}}},xb=(t,a)=>{const i=[.16,.2,.24,.28,.32],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.PoisedToBloom.Content");return[{lc:!0,id:"cdBuff",name:"cdBuff",formItem:"switch",text:s("cdBuff.text"),title:s("cdBuff.title"),content:s("cdBuff.content",{CritBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,teammateContent:()=>l,defaults:()=>({cdBuff:!0}),teammateDefaults:()=>({cdBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.CD]+=c.cdBuff?i[t]:0},finalizeCalculations:()=>{}}},yb=(t,a)=>{const i=[.1,.12,.14,.16,.18],l=[.14,.16,.18,.2,.22],s=(()=>{if(a)return[];const o=I.getFixedT(null,"conditionals","Lightcones.ThoseManySprings.Content");return[{lc:!0,id:"unarmoredVulnerability",name:"unarmoredVulnerability",formItem:"switch",text:o("unarmoredVulnerability.text"),title:o("unarmoredVulnerability.title"),content:o("unarmoredVulnerability.content",{UnarmoredVulnerability:W.precisionRound(i[t]*100),CorneredVulnerability:W.precisionRound(l[t]*100)})},{lc:!0,id:"corneredVulnerability",name:"corneredVulnerability",formItem:"switch",text:o("corneredVulnerability.text"),title:o("corneredVulnerability.title"),content:o("corneredVulnerability.content",{UnarmoredVulnerability:W.precisionRound(i[t]*100),CorneredVulnerability:W.precisionRound(l[t]*100)})}]})();return{content:()=>s,teammateContent:()=>s,defaults:()=>({unarmoredVulnerability:!0,corneredVulnerability:!0}),teammateDefaults:()=>({unarmoredVulnerability:!0,corneredVulnerability:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(o,c)=>{const r=c.lightConeConditionals;o.VULNERABILITY+=r.unarmoredVulnerability||r.corneredVulnerability?i[t]:0,o.VULNERABILITY+=r.corneredVulnerability?l[t]:0},finalizeCalculations:()=>{}}},Lb=(t,a)=>{const i=[.36,.42,.48,.54,.6],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.DanceAtSunset.Content");return[{lc:!0,id:"fuaDmgStacks",name:"fuaDmgStacks",formItem:"slider",text:s("fuaDmgStacks.text"),title:s("fuaDmgStacks.title"),content:s("fuaDmgStacks.content",{DmgBoost:W.precisionRound(100*i[t])}),min:0,max:2}]})();return{content:()=>l,defaults:()=>({fuaDmgStacks:2}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;ot(s,It,c.fuaDmgStacks*i[t])},finalizeCalculations:()=>{}}},Fb=(t,a)=>{const i=[.1,.12,.14,.16,.18],l=[.08,.1,.12,.14,.16],s=(()=>{if(a)return[];const c=I.getFixedT(null,"conditionals","Lightcones.ScentAloneStaysTrue.Content");return[{lc:!0,id:"woefreeState",name:"woefreeState",formItem:"switch",text:c("woefreeState.text"),title:c("woefreeState.title"),content:c("woefreeState.content",{Vulnerability:W.precisionRound(100*i[t]),AdditionalVulnerability:W.precisionRound(100*l[t])})}]})(),o=(()=>{if(a)return[];const c=I.getFixedT(null,"conditionals","Lightcones.ScentAloneStaysTrue.TeammateContent");return[O(s,"woefreeState"),{lc:!0,id:"additionalVulnerability",name:"additionalVulnerability",formItem:"switch",text:c("additionalVulnerability.text"),title:c("additionalVulnerability.title"),content:c("additionalVulnerability.content",{Vulnerability:W.precisionRound(100*i[t]),AdditionalVulnerability:W.precisionRound(100*l[t])})}]})();return{content:()=>s,teammateContent:()=>o,defaults:()=>({woefreeState:!0}),teammateDefaults:()=>({woefreeState:!0,additionalVulnerability:!0}),precomputeEffects:(c,r)=>{},precomputeMutualEffects:(c,r)=>{const u=r.lightConeConditionals;c.VULNERABILITY+=u.woefreeState?i[t]:0},precomputeTeammateEffects:(c,r)=>{const u=r.lightConeConditionals;c.VULNERABILITY+=u.woefreeState&&u.additionalVulnerability?l[t]:0},finalizeCalculations:(c,r)=>{const u=r.lightConeConditionals;c.VULNERABILITY+=u.woefreeState&&c[e.BE]>=1.5?l[t]:0},gpuFinalizeCalculations:c=>{const r=c.lightConeConditionals;return`
if (${Se(r.woefreeState)} && x.BE >= 1.50) {
  x.VULNERABILITY += ${l[t]};
}
      `}}},Mb=(t,a)=>{const i=[.27,.3,.33,.36,.39],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.IVentureForthToHunt.Content");return[{lc:!0,formItem:"slider",id:"luminfluxUltStacks",name:"luminfluxUltStacks",text:s("luminfluxUltStacks.text"),title:s("luminfluxUltStacks.title"),content:s("luminfluxUltStacks.content",{DefIgnore:W.precisionRound(100*i[t])}),min:0,max:2}]})();return{content:()=>l,defaults:()=>({luminfluxUltStacks:2}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;ba(s,Ft,c.luminfluxUltStacks*i[t])},finalizeCalculations:()=>{}}},Bb=(t,a)=>{const i=[.08,.09,.1,.11,.12],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.ShadowedByNight.Content");return[{lc:!0,id:"spdBuff",name:"spdBuff",formItem:"switch",text:s("spdBuff.text"),title:s("spdBuff.title"),content:s("spdBuff.content",{SpdBuff:W.precisionRound(100*i[t])})}]})();return{content:()=>l,defaults:()=>({spdBuff:!1}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.SPD_P]+=c.spdBuff?i[t]:0},finalizeCalculations:()=>{}}},Pb=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),kb=(t,a)=>{const i=[.18,.225,.27,.315,.36],l=(()=>{if(a)return[];const s=I.getFixedT(null,"conditionals","Lightcones.NinjaRecordSoundHunt.Content");return[{lc:!0,id:"cdBuff",name:"cdBuff",formItem:"switch",text:s("cdBuff.text"),title:s("cdBuff.title"),content:I.t("BetaMessage",{ns:"conditionals",Version:Je})}]})();return{content:()=>l,defaults:()=>({cdBuff:!0}),precomputeEffects:(s,o)=>{const c=o.lightConeConditionals;s[e.CD]+=c.cdBuff?i[t]:0},finalizeCalculations:()=>{}}},Hb=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Nb={23e3:Cm,23001:dm,23002:Am,23003:Ku,23004:rm,23005:fm,23006:xm,23007:cm,23008:tm,23009:qm,23010:Uu,23011:Km,23012:vm,23013:tb,23014:um,23015:Yu,23016:rb,23017:gm,23018:Pu,23019:Em,23020:Nu,23021:$u,23022:Pm,23023:fb,23024:Gb,23025:Vb,23026:Tb,23027:Db,23028:Wb,23029:yb,23030:Lb,23031:Mb,23032:Fb,23033:Pb,24e3:Im,24001:Ju,24002:Om,24003:wm,24004:Eb},Ub={21e3:Mm,21001:sm,21002:zu,21003:Dm,21004:Sm,21005:_m,21006:Qm,21007:Xm,21008:em,21009:mm,21010:Jm,21011:Fm,21012:Hu,21013:hm,21014:ym,21015:km,21016:ab,21017:jm,21018:Ou,21019:nb,21020:im,21021:Bm,21022:am,21023:lb,21024:Nm,21025:Wm,21026:cb,21027:zm,21028:sb,21029:ob,21030:$m,21031:Hm,21032:vu,21033:Tm,21034:eb,21035:db,21036:ub,21037:mb,21038:bb,21039:hb,21040:pb,21041:Sb,21042:Rb,21043:Zb,21044:gb,21045:Ib,21046:xb,21047:Bb,21048:Hb,22e3:Xu,22001:lm,22002:Cb,22003:kb},Xb={2e4:ku,20001:ju,20002:Au,20003:Bu,20004:ib,20005:wu,20006:_u,20007:Qu,20008:nm,20009:Ym,20010:qu,20011:bm,20012:Rm,20013:Vm,20014:Mu,20015:Gm,20016:Zm,20017:Lm,20018:om,20019:pm,20020:Um},$s={...Nb,...Ub,...Xb},ma={get:t=>{const a=$s[t.lightCone];return a?a(t.lightConeSuperimposition-1,!0):{content:()=>[],teammateContent:()=>[],defaults:()=>({}),teammateDefaults:()=>({})}}};function is(t,a){var c,r,u,f,p,G,h,m;const i=Wa.get(t),l=ma.get(t);t.characterConditionals||(t.characterConditionals=i.defaults()),t.lightConeConditionals||(t.lightConeConditionals=l.defaults());const s=Object.assign({},Sd);(c=l.initializeConfigurations)==null||c.call(l,s,t),(r=i.initializeConfigurations)==null||r.call(i,s,t);const o=[t.teammate0,t.teammate1,t.teammate2].filter(b=>!!b&&!!b.characterId);for(let b=0;b<o.length;b++){const R=Object.assign({},t,o[b]),S=Wa.get(R),Z=ma.get(R);(u=S.initializeTeammateConfigurations)==null||u.call(S,s,R),(f=Z.initializeTeammateConfigurations)==null||f.call(Z,s,R)}return(p=l.precomputeEffects)==null||p.call(l,s,t),(G=i.precomputeEffects)==null||G.call(i,s,t),(h=l.precomputeMutualEffects)==null||h.call(l,s,t),(m=i.precomputeMutualEffects)==null||m.call(i,s,t),s.ENEMY_WEAKNESS_BROKEN=s.ENEMY_WEAKNESS_BROKEN||(t.enemyWeaknessBroken?1:0),a.precomputedX=s,s}function pl(t,a){const i=Wa.get(t),l=ma.get(t),s=Yb();Ds(s,l.dynamicConditionals??[]),Ds(s,i.dynamicConditionals??[]),Ds(s,Cd||[]),a.conditionalRegistry=s,a.conditionalState={}}function Yb(){return{[e.HP]:[],[e.ATK]:[],[e.DEF]:[],[e.SPD]:[],[e.CR]:[],[e.CD]:[],[e.EHR]:[],[e.RES]:[],[e.BE]:[],[e.OHB]:[],[e.ERR]:[]}}function Ds(t,a){for(const i of a)for(const l of i.dependsOn)t[l].push(i)}function ss(t){const a={};return Kb(t,a),vb(t,a),wb(t,a),Ab(t,a),is(t,a),a}function Kb(t,a){const i=L.getMetadata().lightCones[t.lightCone],l=(i==null?void 0:i.stats)||pd(),s=(i==null?void 0:i.superimpositions[t.lightConeSuperimposition])||1,o=L.getMetadata().characters[t.characterId],c=o.stats;a.element=o.element;const r={base:{...xn.getZeroes(),...c},traces:{...xn.getZeroes(),...o.traces},lightCone:{...xn.getZeroes(),...l,...s}};a.character=r;const u=gi(e.HP,r.base,r.lightCone),f=gi(e.ATK,r.base,r.lightCone),p=gi(e.DEF,r.base,r.lightCone),G=gi(e.SPD,r.base,r.lightCone);t.baseHp=u,t.baseAtk=f,t.baseDef=p,t.baseSpd=G,a.baseHP=u,a.baseATK=f,a.baseDEF=p,a.baseSPD=G}function vb(t,a){const i=t.setConditionals??kn;for(const l of Object.values(d.Sets))i[l]||(i[l]=kn[l]);a.enabledHunterOfGlacialForest=i[d.Sets.HunterOfGlacialForest][1]==!0?1:0,a.enabledFiresmithOfLavaForging=i[d.Sets.FiresmithOfLavaForging][1]==!0?1:0,a.enabledGeniusOfBrilliantStars=i[d.Sets.GeniusOfBrilliantStars][1]==!0?1:0,a.enabledBandOfSizzlingThunder=i[d.Sets.BandOfSizzlingThunder][1]==!0?1:0,a.enabledMessengerTraversingHackerspace=i[d.Sets.MessengerTraversingHackerspace][1]==!0?1:0,a.enabledCelestialDifferentiator=i[d.Sets.CelestialDifferentiator][1]==!0?1:0,a.enabledWatchmakerMasterOfDreamMachinations=i[d.Sets.WatchmakerMasterOfDreamMachinations][1]==!0?1:0,a.enabledIzumoGenseiAndTakamaDivineRealm=i[d.Sets.IzumoGenseiAndTakamaDivineRealm][1]==!0?1:0,a.enabledForgeOfTheKalpagniLantern=i[d.Sets.ForgeOfTheKalpagniLantern][1]==!0?1:0,a.enabledTheWindSoaringValorous=i[d.Sets.TheWindSoaringValorous][1]==!0?1:0,a.enabledTheWondrousBananAmusementPark=i[d.Sets.TheWondrousBananAmusementPark][1]==!0?1:0,a.enabledScholarLostInErudition=i[d.Sets.ScholarLostInErudition][1]==!0?1:0,a.valueChampionOfStreetwiseBoxing=i[d.Sets.ChampionOfStreetwiseBoxing][1]||0,a.valueWastelanderOfBanditryDesert=i[d.Sets.WastelanderOfBanditryDesert][1]||0,a.valueLongevousDisciple=i[d.Sets.LongevousDisciple][1]||0,a.valueTheAshblazingGrandDuke=i[d.Sets.TheAshblazingGrandDuke][1]||0,a.valuePrisonerInDeepConfinement=i[d.Sets.PrisonerInDeepConfinement][1]||0,a.valuePioneerDiverOfDeadWaters=i[d.Sets.PioneerDiverOfDeadWaters][1]||0,a.valueSigoniaTheUnclaimedDesolation=i[d.Sets.SigoniaTheUnclaimedDesolation][1]||0,a.valueDuranDynastyOfRunningWolves=i[d.Sets.DuranDynastyOfRunningWolves][1]||0}function wb(t,a){a.brokenMultiplier=t.enemyWeaknessBroken?1:.9,a.resistance=(t.enemyElementalWeak?0:t.enemyResistance)-t.combatBuffs.RES_PEN}function Ab(t,a){const i=vn[a.element];a.ELEMENTAL_DMG_TYPE=i,a.RES_PEN_TYPE=_r[a.element],a.ELEMENTAL_BREAK_SCALING={[e.Physical_DMG]:2,[e.Fire_DMG]:2,[e.Ice_DMG]:1,[e.Lightning_DMG]:1,[e.Wind_DMG]:1.5,[e.Quantum_DMG]:.5,[e.Imaginary_DMG]:.5}[i],t.PRIMARY_ELEMENTAL_DMG_TYPE=i}function gi(t,a,i){return a[t]+i[t]}function Sl(t,a){const i=a.precomputedX,l={},s=[t.teammate0,t.teammate1,t.teammate2].filter(o=>!!o&&!!o.characterId);for(let o=0;o<s.length;o++){s[o].lightCone=s[o].lightCone||null;const c=Object.assign({},t,s[o]),r=Wa.get(c),u=ma.get(c);switch(r.precomputeMutualEffects&&r.precomputeMutualEffects(i,c),r.precomputeTeammateEffects&&r.precomputeTeammateEffects(i,c),u.precomputeMutualEffects&&u.precomputeMutualEffects(i,c),u.precomputeTeammateEffects&&u.precomputeTeammateEffects(i,c),c.teamOrnamentSet){case F.BrokenKeel:i[e.CD]+=.1;break;case F.FleetOfTheAgeless:i[e.ATK_P]+=.08;break;case F.PenaconyLandOfTheDreams:if(c.ELEMENTAL_DMG_TYPE!=a.ELEMENTAL_DMG_TYPE)break;i.ELEMENTAL_DMG+=.1;break;case F.LushakaTheSunkenSeas:i[e.ATK_P]+=.12;break}switch(c.teamRelicSet){case F.MessengerTraversingHackerspace:if(l[F.MessengerTraversingHackerspace])break;i[e.SPD_P]+=.12;break;case F.WatchmakerMasterOfDreamMachinations:if(l[F.WatchmakerMasterOfDreamMachinations])break;i[e.BE]+=.3;break;case ul:i[e.CD]+=.18;break;case ml:i[e.CD]+=.36;break}l[c.teamOrnamentSet]=!0,l[c.teamRelicSet]=!0}}function jb(t,a,i,l,s,o,c){return t.x.sets={PasserbyOfWanderingCloud:(1>>(a^0))+(1>>(i^0))+(1>>(l^0))+(1>>(s^0)),MusketeerOfWildWheat:(1>>(a^1))+(1>>(i^1))+(1>>(l^1))+(1>>(s^1)),KnightOfPurityPalace:(1>>(a^2))+(1>>(i^2))+(1>>(l^2))+(1>>(s^2)),HunterOfGlacialForest:(1>>(a^3))+(1>>(i^3))+(1>>(l^3))+(1>>(s^3)),ChampionOfStreetwiseBoxing:(1>>(a^4))+(1>>(i^4))+(1>>(l^4))+(1>>(s^4)),GuardOfWutheringSnow:(1>>(a^5))+(1>>(i^5))+(1>>(l^5))+(1>>(s^5)),FiresmithOfLavaForging:(1>>(a^6))+(1>>(i^6))+(1>>(l^6))+(1>>(s^6)),GeniusOfBrilliantStars:(1>>(a^7))+(1>>(i^7))+(1>>(l^7))+(1>>(s^7)),BandOfSizzlingThunder:(1>>(a^8))+(1>>(i^8))+(1>>(l^8))+(1>>(s^8)),EagleOfTwilightLine:(1>>(a^9))+(1>>(i^9))+(1>>(l^9))+(1>>(s^9)),ThiefOfShootingMeteor:(1>>(a^10))+(1>>(i^10))+(1>>(l^10))+(1>>(s^10)),WastelanderOfBanditryDesert:(1>>(a^11))+(1>>(i^11))+(1>>(l^11))+(1>>(s^11)),LongevousDisciple:(1>>(a^12))+(1>>(i^12))+(1>>(l^12))+(1>>(s^12)),MessengerTraversingHackerspace:(1>>(a^13))+(1>>(i^13))+(1>>(l^13))+(1>>(s^13)),TheAshblazingGrandDuke:(1>>(a^14))+(1>>(i^14))+(1>>(l^14))+(1>>(s^14)),PrisonerInDeepConfinement:(1>>(a^15))+(1>>(i^15))+(1>>(l^15))+(1>>(s^15)),PioneerDiverOfDeadWaters:(1>>(a^16))+(1>>(i^16))+(1>>(l^16))+(1>>(s^16)),WatchmakerMasterOfDreamMachinations:(1>>(a^17))+(1>>(i^17))+(1>>(l^17))+(1>>(s^17)),IronCavalryAgainstTheScourge:(1>>(a^18))+(1>>(i^18))+(1>>(l^18))+(1>>(s^18)),TheWindSoaringValorous:(1>>(a^19))+(1>>(i^19))+(1>>(l^19))+(1>>(s^19)),SacerdosRelivedOrdeal:(1>>(a^20))+(1>>(i^20))+(1>>(l^20))+(1>>(s^20)),ScholarLostInErudition:(1>>(a^21))+(1>>(i^21))+(1>>(l^21))+(1>>(s^21)),SpaceSealingStation:(1>>(o^0))+(1>>(c^0)),FleetOfTheAgeless:(1>>(o^1))+(1>>(c^1)),PanCosmicCommercialEnterprise:(1>>(o^2))+(1>>(c^2)),BelobogOfTheArchitects:(1>>(o^3))+(1>>(c^3)),CelestialDifferentiator:(1>>(o^4))+(1>>(c^4)),InertSalsotto:(1>>(o^5))+(1>>(c^5)),TaliaKingdomOfBanditry:(1>>(o^6))+(1>>(c^6)),SprightlyVonwacq:(1>>(o^7))+(1>>(c^7)),RutilantArena:(1>>(o^8))+(1>>(c^8)),BrokenKeel:(1>>(o^9))+(1>>(c^9)),FirmamentFrontlineGlamoth:(1>>(o^10))+(1>>(c^10)),PenaconyLandOfTheDreams:(1>>(o^11))+(1>>(c^11)),SigoniaTheUnclaimedDesolation:(1>>(o^12))+(1>>(c^12)),IzumoGenseiAndTakamaDivineRealm:(1>>(o^13))+(1>>(c^13)),DuranDynastyOfRunningWolves:(1>>(o^14))+(1>>(c^14)),ForgeOfTheKalpagniLantern:(1>>(o^15))+(1>>(c^15)),LushakaTheSunkenSeas:(1>>(o^16))+(1>>(c^16)),TheWondrousBananAmusementPark:(1>>(o^17))+(1>>(c^17))},t.x.sets}function Jb(t,a,i){const l=i.character.base,s=i.character.traces,o=i.character.lightCone,c=t.x.sets;switch(t.ELEMENTAL_DMG=0,i.ELEMENTAL_DMG_TYPE){case e.Physical_DMG:t.ELEMENTAL_DMG=Me(e.Physical_DMG,l,o,s,t,.1*$(c.ChampionOfStreetwiseBoxing));break;case e.Fire_DMG:t.ELEMENTAL_DMG=Me(e.Fire_DMG,l,o,s,t,.1*$(c.FiresmithOfLavaForging));break;case e.Ice_DMG:t.ELEMENTAL_DMG=Me(e.Ice_DMG,l,o,s,t,.1*$(c.HunterOfGlacialForest));break;case e.Lightning_DMG:t.ELEMENTAL_DMG=Me(e.Lightning_DMG,l,o,s,t,.1*$(c.BandOfSizzlingThunder));break;case e.Wind_DMG:t.ELEMENTAL_DMG=Me(e.Wind_DMG,l,o,s,t,.1*$(c.EagleOfTwilightLine));break;case e.Quantum_DMG:t.ELEMENTAL_DMG=Me(e.Quantum_DMG,l,o,s,t,.1*$(c.GeniusOfBrilliantStars));break;case e.Imaginary_DMG:t.ELEMENTAL_DMG=Me(e.Imaginary_DMG,l,o,s,t,.1*$(c.WastelanderOfBanditryDesert));break}}function Ob(t,a,i){const l=i.character.base,s=i.character.lightCone,o=i.character.traces,c=t.x.sets;t[e.SPD]=Ci(e.SPD,e.SPD_P,a.baseSpd,s,o,t,.06*$(c.MessengerTraversingHackerspace)+.06*$(c.ForgeOfTheKalpagniLantern)+.06*wt(c.MusketeerOfWildWheat)+.06*$(c.SacerdosRelivedOrdeal)),t[e.HP]=Ci(e.HP,e.HP_P,a.baseHp,s,o,t,.12*$(c.FleetOfTheAgeless)+.12*$(c.LongevousDisciple)),t[e.ATK]=Ci(e.ATK,e.ATK_P,a.baseAtk,s,o,t,.12*$(c.SpaceSealingStation)+.12*$(c.FirmamentFrontlineGlamoth)+.12*$(c.MusketeerOfWildWheat)+.12*$(c.PrisonerInDeepConfinement)+.12*$(c.IzumoGenseiAndTakamaDivineRealm)+.12*$(c.TheWindSoaringValorous)),t[e.DEF]=Ci(e.DEF,e.DEF_P,a.baseDef,s,o,t,.15*$(c.BelobogOfTheArchitects)+.15*$(c.KnightOfPurityPalace)),t[e.CR]=Me(e.CR,l,s,o,t,.08*$(c.InertSalsotto)+.08*$(c.RutilantArena)+.04*wt(c.PioneerDiverOfDeadWaters)+.04*$(c.SigoniaTheUnclaimedDesolation)+.06*wt(c.TheWindSoaringValorous)+.08*$(c.ScholarLostInErudition)),t[e.CD]=Me(e.CD,l,s,o,t,.16*$(c.CelestialDifferentiator)+.16*$(c.TheWondrousBananAmusementPark)),t[e.EHR]=Me(e.EHR,l,s,o,t,.1*$(c.PanCosmicCommercialEnterprise)),t[e.RES]=Me(e.RES,l,s,o,t,.1*$(c.BrokenKeel)),t[e.BE]=Me(e.BE,l,s,o,t,.16*$(c.TaliaKingdomOfBanditry)+.16*$(c.ThiefOfShootingMeteor)+.16*wt(c.ThiefOfShootingMeteor)+.16*$(c.WatchmakerMasterOfDreamMachinations)+.16*$(c.IronCavalryAgainstTheScourge)),t[e.ERR]=Me(e.ERR,l,s,o,t,.05*$(c.SprightlyVonwacq)+.05*$(c.PenaconyLandOfTheDreams)+.05*$(c.LushakaTheSunkenSeas)),t[e.OHB]=Me(e.OHB,l,s,o,t,.1*$(c.PasserbyOfWanderingCloud))}function Qb(t,a,i){i.characterConditionals=Wa.get(a),i.lightConeConditionals=ma.get(a);const l=t.x,s=l.sets;l[e.ATK]+=t[e.ATK],l[e.DEF]+=t[e.DEF],l[e.HP]+=t[e.HP],l[e.SPD]+=t[e.SPD],l[e.CD]+=t[e.CD],l[e.CR]+=t[e.CR],l[e.EHR]+=t[e.EHR],l[e.RES]+=t[e.RES],l[e.BE]+=t[e.BE],l[e.ERR]+=t[e.ERR],l[e.OHB]+=t[e.OHB],l[i.ELEMENTAL_DMG_TYPE]+=t.ELEMENTAL_DMG,l[e.ATK]+=a.combatBuffs.ATK+a.combatBuffs.ATK_P*a.baseAtk,l[e.DEF]+=a.combatBuffs.DEF+a.combatBuffs.DEF_P*a.baseDef,l[e.HP]+=a.combatBuffs.HP+a.combatBuffs.HP_P*a.baseHp,l[e.CD]+=a.combatBuffs.CD,l[e.CR]+=a.combatBuffs.CR,l[e.SPD]+=a.combatBuffs.SPD_P*a.baseSpd+a.combatBuffs.SPD,l[e.BE]+=a.combatBuffs.BE,l.ELEMENTAL_DMG+=a.combatBuffs.DMG_BOOST,l.EFFECT_RES_PEN+=a.combatBuffs.EFFECT_RES_PEN,l.VULNERABILITY+=a.combatBuffs.VULNERABILITY,l.BREAK_EFFICIENCY_BOOST+=a.combatBuffs.BREAK_EFFICIENCY,wt(s.MessengerTraversingHackerspace)&&i.enabledMessengerTraversingHackerspace&&(l[e.SPD_P]+=.12),l[e.SPD]+=l[e.SPD_P]*a.baseSpd,wt(s.ChampionOfStreetwiseBoxing)&&(l[e.ATK_P]+=.05*i.valueChampionOfStreetwiseBoxing),wt(s.BandOfSizzlingThunder)&&i.enabledBandOfSizzlingThunder&&(l[e.ATK_P]+=.2),wt(s.TheAshblazingGrandDuke)&&(l[e.ATK_P]+=.06*i.valueTheAshblazingGrandDuke),l[e.ATK]+=l[e.ATK_P]*a.baseAtk,l[e.DEF]+=l[e.DEF_P]*a.baseDef,l[e.HP]+=l[e.HP_P]*a.baseHp,wt(s.HunterOfGlacialForest)&&i.enabledHunterOfGlacialForest&&(l[e.CD]+=.25),wt(s.WastelanderOfBanditryDesert)&&(l[e.CD]+=.1*(i.valueWastelanderOfBanditryDesert==2?1:0)),wt(s.PioneerDiverOfDeadWaters)&&(l[e.CD]+=zb[i.valuePioneerDiverOfDeadWaters]),$(s.SigoniaTheUnclaimedDesolation)&&(l[e.CD]+=.04*i.valueSigoniaTheUnclaimedDesolation),$(s.DuranDynastyOfRunningWolves)&&i.valueDuranDynastyOfRunningWolves>=5&&(l[e.CD]+=.25),$(s.TheWondrousBananAmusementPark)&&i.enabledTheWondrousBananAmusementPark&&(l[e.CD]+=.32),wt(s.WastelanderOfBanditryDesert)&&i.valueWastelanderOfBanditryDesert>0&&(l[e.CR]+=.1),wt(s.LongevousDisciple)&&(l[e.CR]+=.08*i.valueLongevousDisciple),wt(s.PioneerDiverOfDeadWaters)&&i.valuePioneerDiverOfDeadWaters>2&&(l[e.CR]+=.04),$(s.IzumoGenseiAndTakamaDivineRealm)&&i.enabledIzumoGenseiAndTakamaDivineRealm&&(l[e.CR]+=.12),wt(s.WatchmakerMasterOfDreamMachinations)&&i.enabledWatchmakerMasterOfDreamMachinations&&(l[e.BE]+=.3),$(s.ForgeOfTheKalpagniLantern)&&i.enabledForgeOfTheKalpagniLantern&&(l[e.BE]+=.4),wt(s.MusketeerOfWildWheat)&&ot(l,ue,.1),wt(s.FiresmithOfLavaForging)&&ot(l,Qt,.12),$(s.TheAshblazingGrandDuke)&&ot(l,It,.2),$(s.DuranDynastyOfRunningWolves)&&ot(l,It,.05*i.valueDuranDynastyOfRunningWolves),wt(s.TheWindSoaringValorous)&&ot(l,Ft,.36*i.enabledTheWindSoaringValorous),wt(s.ScholarLostInErudition)&&ot(l,Ft|Qt,.2),wt(s.GeniusOfBrilliantStars)&&(l.DEF_PEN+=i.enabledGeniusOfBrilliantStars?.2:.1),wt(s.PrisonerInDeepConfinement)&&(l.DEF_PEN+=.06*i.valuePrisonerInDeepConfinement),$(s.PioneerDiverOfDeadWaters)&&i.valuePioneerDiverOfDeadWaters>=0&&(l.ELEMENTAL_DMG+=.12),$(s.FiresmithOfLavaForging)&&i.enabledFiresmithOfLavaForging&&(l[e.Fire_DMG]+=.12),wt(s.ScholarLostInErudition)&&i.enabledScholarLostInErudition&&ot(l,Qt,.25),$(s.SpaceSealingStation)&&Ce(y0,l,a,i),$(s.RutilantArena)&&Ce(E0,l,a,i),$(s.InertSalsotto)&&Ce(x0,l,a,i),$(s.FleetOfTheAgeless)&&Ce(L0,l,a,i),$(s.BelobogOfTheArchitects)&&Ce(F0,l,a,i),wt(s.IronCavalryAgainstTheScourge)&&Ce(M0,l,a,i),wt(s.IronCavalryAgainstTheScourge)&&Ce(B0,l,a,i),$(s.PanCosmicCommercialEnterprise)&&Ce(P0,l,a,i),$(s.BrokenKeel)&&Ce(k0,l,a,i),$(s.CelestialDifferentiator)&&Ce(H0,l,a,i),$(s.TaliaKingdomOfBanditry)&&Ce(N0,l,a,i),$(s.FirmamentFrontlineGlamoth)&&Ce(U0,l,a,i),$(s.FirmamentFrontlineGlamoth)&&Ce(X0,l,a,i);const o=i.characterConditionals,c=i.lightConeConditionals;for(const r of o.dynamicConditionals||[])Ce(r,l,a,i);for(const r of c.dynamicConditionals||[])Ce(r,l,a,i);return l}function _b(t,a,i,l,s,o,c){for(const r of[a,i,l,s,o,c])if(r.part)for(const u of r.condensedStats)t[u[0]]+=u[1];t.x.WEIGHT=a.weightScore+i.weightScore+l.weightScore+s.weightScore+o.weightScore+c.weightScore}function Me(t,a,i,l,s,o){return a[t]+i[t]+s[t]+l[t]+o}function Ci(t,a,i,l,s,o,c){return i*(1+c+o[a]+s[a]+l[a])+o[t]+s[t]}const zb={[-1]:0,0:0,1:.08,2:.12,3:.16,4:.24},qb={[e.HP_P]:0,[e.ATK_P]:0,[e.DEF_P]:0,[e.HP]:1e-6,[e.ATK]:1e-6,[e.DEF]:1e-6,[e.SPD]:1e-6,[e.SPD_P]:0,[e.CR]:1e-6,[e.CD]:1e-6,[e.EHR]:1e-6,[e.RES]:1e-6,[e.BE]:1e-6,[e.ERR]:1e-6,[e.OHB]:1e-6,[e.Physical_DMG]:1e-6,[e.Fire_DMG]:1e-6,[e.Ice_DMG]:1e-6,[e.Lightning_DMG]:1e-6,[e.Wind_DMG]:1e-6,[e.Quantum_DMG]:1e-6,[e.Imaginary_DMG]:1e-6};function $b(t,a,i){const l=i.lightConeConditionals,s=i.characterConditionals;l.finalizeCalculations&&l.finalizeCalculations(t,a),s.finalizeCalculations&&s.finalizeCalculations(t,a)}function th(t,a,i){const l=t.sets,s=80,o=a.enemyLevel,c=t.DEF_PEN+a.combatBuffs.DEF_PEN,r=0;t.ELEMENTAL_DMG+=t[i.ELEMENTAL_DMG_TYPE];const u=1+t.ELEMENTAL_DMG,f=1;let p=t[e.HP]/(1-t[e.DEF]/(t[e.DEF]+200+10*a.enemyLevel));p*=1/((1-.08*$(l.GuardOfWutheringSnow))*t.DMG_RED_MULTI),t.EHP=p,i.brokenMultiplier=t.ENEMY_WEAKNESS_BROKEN?1:.9;const G=f*i.brokenMultiplier,h=i.resistance-t.RES_PEN-t[i.RES_PEN_TYPE],m=t.ULT_CD_OVERRIDE||t[e.CD]+t.ULT_CD_BOOST,b=1+t.VULNERABILITY+t.BREAK_VULNERABILITY,R=1+t.VULNERABILITY+t.BASIC_VULNERABILITY,S=1+t.VULNERABILITY+t.SKILL_VULNERABILITY,Z=1+t.VULNERABILITY+t.ULT_VULNERABILITY*t.ULT_BOOSTS_MULTI,C=1+t.VULNERABILITY+t.FUA_VULNERABILITY,D=1+t.VULNERABILITY+t.DOT_VULNERABILITY,V=a.enemyEffectResistance,M=Math.min(1,t.DOT_CHANCE*(1+t[e.EHR])*(1-V+t.EFFECT_RES_PEN)),E=t.DOT_SPLIT?(1+t.DOT_SPLIT*M*(t.DOT_STACKS-1))/(1+.05*(t.DOT_STACKS-1)):M,P=a.enemyMaxToughness;t.BREAK_DMG=G*3767.5533*i.ELEMENTAL_BREAK_SCALING*Ba(s,o,c,r,t.BREAK_DEF_PEN)*(.5+P/120)*b*(1-h)*(1+t[e.BE]),t.SUPER_BREAK_DMG=G*3767.5533*Ba(s,o,c,r,t.BREAK_DEF_PEN+t.SUPER_BREAK_DEF_PEN)*b*(1-h)*(1+t[e.BE])*(t.SUPER_BREAK_MODIFIER+t.SUPER_BREAK_HMC_MODIFIER)*(1/30)*(1+t.BREAK_EFFICIENCY_BOOST);const H=G*3767.5533*Ba(s,o,c,r,t.BREAK_DEF_PEN+t.SUPER_BREAK_DEF_PEN)*b*(1-h)*(1+t[e.BE])*(t.BASIC_SUPER_BREAK_MODIFIER+t.SUPER_BREAK_HMC_MODIFIER)*(1/30)*(1+t.BREAK_EFFICIENCY_BOOST);t.BASIC_DMG=t.BASIC_DMG*G*(u+t.BASIC_BOOST)*Ba(s,o,c,r,t.BASIC_DEF_PEN)*(R*Math.min(1,t[e.CR]+t.BASIC_CR_BOOST)*(1+t[e.CD]+t.BASIC_CD_BOOST)+R*(1-Math.min(1,t[e.CR]+t.BASIC_CR_BOOST)))*(1-(h-t.BASIC_RES_PEN))*(1+t.BASIC_ORIGINAL_DMG_BOOST)+t.BASIC_BREAK_DMG_MODIFIER*t.BREAK_DMG+(H||t.SUPER_BREAK_DMG)*t.BASIC_TOUGHNESS_DMG*(1+t.BASIC_BREAK_EFFICIENCY_BOOST),t.SKILL_DMG=t.SKILL_DMG*G*(u+t.SKILL_BOOST)*Ba(s,o,c,r,t.SKILL_DEF_PEN)*(S*Math.min(1,t[e.CR]+t.SKILL_CR_BOOST)*(1+t[e.CD]+t.SKILL_CD_BOOST)+S*(1-Math.min(1,t[e.CR]+t.SKILL_CR_BOOST)))*(1-(h-t.SKILL_RES_PEN))*(1+t.SKILL_ORIGINAL_DMG_BOOST)+t.SUPER_BREAK_DMG*t.SKILL_TOUGHNESS_DMG,t.ULT_DMG=t.ULT_DMG*G*(u+t.ULT_BOOST*t.ULT_BOOSTS_MULTI)*Ba(s,o,c,r,t.ULT_DEF_PEN*t.ULT_BOOSTS_MULTI)*(Z*Math.min(1,t[e.CR]+t.ULT_CR_BOOST)*(1+m)+Z*(1-Math.min(1,t[e.CR]+t.ULT_CR_BOOST)))*(1-(h-t.ULT_RES_PEN*t.ULT_BOOSTS_MULTI))*(1+t.ULT_ORIGINAL_DMG_BOOST)+t.SUPER_BREAK_DMG*t.ULT_TOUGHNESS_DMG*(1+t.ULT_BREAK_EFFICIENCY_BOOST),t.FUA_DMG=t.FUA_DMG*G*(u+t.FUA_BOOST)*Ba(s,o,c,r,t.FUA_DEF_PEN)*(C*Math.min(1,t[e.CR]+t.FUA_CR_BOOST)*(1+t[e.CD]+t.FUA_CD_BOOST)+C*(1-Math.min(1,t[e.CR]+t.FUA_CR_BOOST)))*(1-(h-t.FUA_RES_PEN))+t.SUPER_BREAK_DMG*t.FUA_TOUGHNESS_DMG,t.DOT_DMG=t.DOT_DMG*G*(u+t.DOT_BOOST)*Ba(s,o,c,r,t.DOT_DEF_PEN)*D*(1-(h-t.DOT_RES_PEN))*E,t.COMBO_DMG=a.combo.BASIC*t.BASIC_DMG+a.combo.SKILL*t.SKILL_DMG+a.combo.ULT*t.ULT_DMG+a.combo.FUA*t.FUA_DMG+a.combo.DOT*t.DOT_DMG+a.combo.BREAK*t.BREAK_DMG}function Ba(t,a,i,l,s){return(t+20)/((a+20)*Math.max(0,1-i-l-s)+t+20)}function eh(t){const a=new Set([aa[t.Head.set],aa[t.Hands.set],aa[t.Body.set],aa[t.Feet.set],mn[t.PlanarSphere.set],mn[t.LinkRope.set]]);return[0,1,2,3,4,5].filter(i=>!a.has(i))}function An(t,a,i=null,l=!1){l||(t=x.clone(t));const s=i??ss(t);pl(t,s),i||(is(t,s),Sl(t,s));const{Head:o,Hands:c,Body:r,Feet:u,PlanarSphere:f,LinkRope:p}=ah(a);ee.calculateWeightScore(t,[o,c,r,u,f,p]);const G=eh(a);let h=0;const m=aa[a.Head.set]??G[h++],b=aa[a.Hands.set]??G[h++],R=aa[a.Body.set]??G[h++],S=aa[a.Feet.set]??G[h++],Z=mn[a.PlanarSphere.set]??G[h++],C=mn[a.LinkRope.set]??G[h++],D=m+R*fn+b*fn*fn+S*fn*fn*fn,V=Z+C*Or,M=Object.assign({},s.precomputedX),E={...qb,x:M,relicSetIndex:D,ornamentSetIndex:V};return _b(E,o,c,r,u,f,p),jb(E,m,b,R,S,Z,C),Ob(E,t,s),Jb(E,t,s),Qb(E,t,s),$b(M,t,s),th(M,t,s),E}function ah(t){for(const a of Object.keys(d.Parts))t[a]=t[a]||Za();return t}const j={success:(t,a)=>{const i=x.randomId();console.log("Success message:",t),window.messageApi.open({key:i,type:"success",content:t||"",duration:a||3,onClick:()=>window.messageApi.destroy(i)})},error:(t,a)=>{const i=x.randomId();console.warn("Error message:",t),window.messageApi.open({key:i,type:"error",content:t||"",duration:a||3,onClick:()=>window.messageApi.destroy(i)})},warning:(t,a)=>{const i=x.randomId();console.warn("Warning message:",t),window.messageApi.open({key:i,type:"warning",content:t||"",duration:a||3,onClick:()=>window.messageApi.destroy(i)})}},nt={fnAshblazingSet:t=>a=>{a.setConditionals[F.TheAshblazingGrandDuke][1]=t},fnPioneerSet:t=>a=>{a.setConditionals[F.PioneerDiverOfDeadWaters][1]=t},PRISONER_SET:t=>{t.setConditionals[F.PrisonerInDeepConfinement][1]=3},WASTELANDER_SET:t=>{t.setConditionals[F.PrisonerInDeepConfinement][1]=2},VALOROUS_SET:t=>{t.setConditionals[F.TheWindSoaringValorous][1]=!0},BANANA_SET:t=>{t.setConditionals[F.TheWondrousBananAmusementPark][1]=!0}};function ls(t){var i;const a={state:[{colId:t,sort:"desc"}],defaultState:{sort:null}};(i=window.optimizerGrid.current)==null||i.api.applyColumnState(a)}const nh=()=>{const{t}=et("optimizerTab",{keyPrefix:"Presets"}),a=window.store(r=>r.optimizerTabFocusCharacter),i=y.useMemo(()=>({SPD0:{key:"SPD0",label:t("SpdValues.SPD0"),value:void 0},SPD111:{key:"SPD111",label:t("SpdValues.SPD111"),value:111.112},SPD114:{key:"SPD114",label:t("SpdValues.SPD114"),value:114.286},SPD120:{key:"SPD120",label:t("SpdValues.SPD120"),value:120},SPD133:{key:"SPD133",label:n.jsx("b",{children:t("SpdValues.SPD133")}),value:133.334},SPD142:{key:"SPD142",label:t("SpdValues.SPD142"),value:142.858},SPD155:{key:"SPD155",label:t("SpdValues.SPD155"),value:155.556},SPD160:{key:"SPD160",label:t("SpdValues.SPD160"),value:160},SPD171:{key:"SPD171",label:t("SpdValues.SPD171"),value:171.429},SPD177:{key:"SPD177",label:t("SpdValues.SPD177"),value:177.778},SPD200:{key:"SPD200",label:t("SpdValues.SPD200"),value:200}}),[t]),l=Object.values(i);l.map(r=>r.label=n.jsx("div",{style:{minWidth:450},children:r.label}));function s(r){return{key:r,label:r,children:l}}const c={items:y.useMemo(function(){if(!a)return[];const r=L.getMetadata().characters[a];return r?[s(t("StandardLabel",{id:r.id}))]:[]},[a,t]),onClick:r=>{i[r.key]?Y0(i[r.key].value,a):j.warning(t("PresetNotAvailable"))}};return n.jsx(hi,{menu:c,trigger:["click"],overlayStyle:{width:"max-content"},children:n.jsx("a",{onClick:r=>r.preventDefault(),children:n.jsxs(w,{type:"primary",style:{width:"100%"},children:[t("RecommendedPresets"),n.jsx(es,{})]})})})};function Y0(t,a){if(!a)return;const i=L.getMetadata().characters[a];let l=x.clone(i.scoringMetadata);const s=tt.getDisplayFormValues(tt.getForm()),o=tt.getDisplayFormValues(pn(i));s.setConditionals=o.setConditionals;const c=window.store.getState().scoringMetadataOverrides[a];c&&(l=x.mergeDefinedValues(l,c)),s.minSpd=t,K0(s,l);const r=i.scoringMetadata.presets||[],u=l.sortOption;s.resultSort=u.key,ls(u.combatGridColumn);for(const f of r)f(s);window.optimizerForm.setFieldsValue(s),window.onOptimizerFormValuesChange({},s)}function K0(t,a){var s;x.mergeUndefinedValues(t,pn()),x.mergeUndefinedValues(t.setConditionals,kn);const i=((s=a==null?void 0:a.simulation)==null?void 0:s.formula)||{};x.mergeUndefinedValues(t.combo,i),Object.keys(t.combo).map(o=>t.combo[o]=t.combo[o]||null),t.maxSpd=void 0,t.mainBody=a.parts[d.Parts.Body],t.mainFeet=a.parts[d.Parts.Feet],t.mainPlanarSphere=a.parts[d.Parts.PlanarSphere],t.mainLinkRope=a.parts[d.Parts.LinkRope],t.weights={...t.weights,...a.stats},t.weights.headHands=t.weights.headHands||0,t.weights.bodyFeet=t.weights.bodyFeet||0,t.weights.sphereRope=t.weights.sphereRope||0;const l=L.getMetadata().characters[t.characterId].element;t.setConditionals[F.GeniusOfBrilliantStars][1]=l=="Quantum",t.setConditionals[F.ForgeOfTheKalpagniLantern][1]=l=="Fire"}const v={ATK:{key:"ATK",gpuProperty:"ATK",basicProperty:"ATK",combatProperty:"ATK",basicGridColumn:"ATK",combatGridColumn:"xATK"},DEF:{key:"DEF",gpuProperty:"DEF",basicProperty:"DEF",combatProperty:"DEF",basicGridColumn:"DEF",combatGridColumn:"xDEF"},HP:{key:"HP",gpuProperty:"HP",basicProperty:"HP",combatProperty:"HP",basicGridColumn:"HP",combatGridColumn:"xHP"},SPD:{key:"SPD",gpuProperty:"SPD",basicProperty:"SPD",combatProperty:"SPD",basicGridColumn:"SPD",combatGridColumn:"xSPD"},CR:{key:"CR",gpuProperty:"CR",basicProperty:"CRIT Rate",combatProperty:"CRIT Rate",basicGridColumn:"CRIT Rate",combatGridColumn:"xCR"},CD:{key:"CD",gpuProperty:"CD",basicProperty:"CRIT DMG",combatProperty:"CRIT DMG",basicGridColumn:"CRIT DMG",combatGridColumn:"xCD"},EHR:{key:"EHR",gpuProperty:"EHR",basicProperty:"Effect Hit Rate",combatProperty:"Effect Hit Rate",basicGridColumn:"Effect Hit Rate",combatGridColumn:"xEHR"},RES:{key:"RES",gpuProperty:"RES",basicProperty:"Effect RES",combatProperty:"Effect RES",basicGridColumn:"Effect RES",combatGridColumn:"xRES"},BE:{key:"BE",gpuProperty:"BE",basicProperty:"Break Effect",combatProperty:"Break Effect",basicGridColumn:"Break Effect",combatGridColumn:"xBE"},OHB:{key:"OHB",gpuProperty:"OHB",basicProperty:"Outgoing Healing Boost",combatProperty:"Outgoing Healing Boost",basicGridColumn:"Outgoing Healing Boost",combatGridColumn:"xOHB"},ERR:{key:"ERR",gpuProperty:"ERR",basicProperty:"Energy Regeneration Rate",combatProperty:"Energy Regeneration Rate",basicGridColumn:"Energy Regeneration Rate",combatGridColumn:"xERR"},ELEMENTAL_DMG:{key:"ELEMENTAL_DMG",gpuProperty:"ELEMENTAL_DMG",basicProperty:"ELEMENTAL_DMG",combatProperty:"ELEMENTAL_DMG",basicGridColumn:"ED",combatGridColumn:"xELEMENTAL_DMG",isComputedRating:!0},WEIGHT:{key:"WEIGHT",gpuProperty:"WEIGHT",basicProperty:"WEIGHT",combatProperty:"WEIGHT",basicGridColumn:"WEIGHT",combatGridColumn:"WEIGHT",isComputedRating:!0},EHP:{key:"EHP",gpuProperty:"EHP",basicProperty:"EHP",combatProperty:"EHP",basicGridColumn:"EHP",combatGridColumn:"EHP",isComputedRating:!0},BASIC:{key:"BASIC",gpuProperty:"BASIC_DMG",basicProperty:"BASIC_DMG",combatProperty:"BASIC_DMG",basicGridColumn:"BASIC",combatGridColumn:"BASIC",isComputedRating:!0},SKILL:{key:"SKILL",gpuProperty:"SKILL_DMG",basicProperty:"SKILL_DMG",combatProperty:"SKILL_DMG",basicGridColumn:"SKILL",combatGridColumn:"SKILL",isComputedRating:!0},ULT:{key:"ULT",gpuProperty:"ULT_DMG",basicProperty:"ULT_DMG",combatProperty:"ULT_DMG",basicGridColumn:"ULT",combatGridColumn:"ULT",isComputedRating:!0},FUA:{key:"FUA",gpuProperty:"FUA_DMG",basicProperty:"FUA_DMG",combatProperty:"FUA_DMG",basicGridColumn:"FUA",combatGridColumn:"FUA",isComputedRating:!0},DOT:{key:"DOT",gpuProperty:"DOT_DMG",basicProperty:"DOT_DMG",combatProperty:"DOT_DMG",basicGridColumn:"DOT",combatGridColumn:"DOT",isComputedRating:!0},BREAK:{key:"BREAK",gpuProperty:"BREAK_DMG",basicProperty:"BREAK_DMG",combatProperty:"BREAK_DMG",basicGridColumn:"BREAK",combatGridColumn:"BREAK",isComputedRating:!0},COMBO:{key:"COMBO",gpuProperty:"COMBO_DMG",basicProperty:"COMBO_DMG",combatProperty:"COMBO_DMG",basicGridColumn:"COMBO",combatGridColumn:"COMBO",isComputedRating:!0}},Ct={save:()=>{const t={relics:L.getRelics(),characters:L.getCharacters(),scorerId:window.store.getState().scorerId,scoringMetadataOverrides:window.store.getState().scoringMetadataOverrides,optimizerMenuState:window.store.getState().optimizerMenuState,excludedRelicPotentialCharacters:window.store.getState().excludedRelicPotentialCharacters,savedSession:window.store.getState().savedSession,settings:window.store.getState().settings,version:Qi,relicLocator:{inventoryWidth:window.store.getState().inventoryWidth,rowLimit:window.store.getState().rowLimit}};console.log("Saved state");const a=JSON.stringify(t);return localStorage.state=a,a},load:(t=!0)=>{try{const a=localStorage.state;if(a){const i=JSON.parse(a);return console.log("Loaded SaveState"),L.setStore(i,t),!0}return console.log("No SaveState found"),!1}catch(a){return console.error("Error loading state",a),!1}}};function ih(){var l;const t=window.optimizerForm.getFieldsValue();console.log("Save statSim",t.statSim);const a=window.store.getState().statSimulationDisplay;if(a==Ea.Disabled||!((l=t.statSim)!=null&&l[a])){console.warn("Invalid sim",t,a);return}const i=t.statSim[a];if(!sh(i)){console.warn("Invalid sim",t,a);return}v0(i,a,!0)}function v0(t,a,i=!1){const l=window.store.getState().statSimulations||[],s=x.randomId(),c={name:t.name||void 0,key:s,simType:a,request:t},r=ao(c);for(const u of l){const f=ao(u);if(r==f){j.error(I.t("optimizerTab:StatSimulation.DuplicateSimMessage"));return}}l.push(c),window.store.getState().setStatSimulations(l),Rl(l),i&&w0(),os()}function ao(t){const a={};for(const i of Object.entries(t.request))i[1]!=null&&(a[i[0]]=i[1]);return x.objectHash({simType:t.simType,request:a})}function sh(t){return!t.simBody||!t.simFeet||!t.simLinkRope||!t.simPlanarSphere?(j.error(I.t("optimizerTab:StatSimulation.MissingMainstatsMessage")),!1):!0}function lh(t){return n.jsxs(g,{gap:5,children:[n.jsx(oh,{sim:t}),"|",n.jsx(ch,{sim:t}),"|",n.jsx(g,{children:t.name?`${t.name}`:null}),n.jsx(g,{children:t.name?"|":null}),n.jsx(rh,{sim:t})]})}function oh(t){const a=t.sim.request,i=22,l=N.getSetImage(a.simRelicSet1),s=N.getSetImage(a.simRelicSet2),o=a.simOrnamentSet?N.getSetImage(a.simOrnamentSet):N.getBlank();return n.jsxs(g,{gap:5,children:[n.jsxs(g,{style:{width:i*2+5},justify:"center",children:[n.jsx("img",{style:{width:a.simRelicSet1?i:0},src:l}),n.jsx("img",{style:{width:a.simRelicSet2?i:0},src:s})]}),n.jsx("img",{style:{width:i},src:o})]})}function ch(t){const a=t.sim.request,i=22;return n.jsxs(g,{children:[n.jsx("img",{style:{width:i},src:N.getStatIcon(a.simBody,!0)}),n.jsx("img",{style:{width:i},src:N.getStatIcon(a.simFeet,!0)}),n.jsx("img",{style:{width:i},src:N.getStatIcon(a.simPlanarSphere,!0)}),n.jsx("img",{style:{width:i},src:N.getStatIcon(a.simLinkRope,!0)})]})}const no={[e.ATK_P]:0,[e.ATK]:1,[e.CR]:2,[e.CD]:3,[e.SPD]:4,[e.BE]:5,[e.HP_P]:6,[e.HP]:7,[e.DEF_P]:8,[e.DEF]:9,[e.EHR]:10,[e.RES]:11};function rh(t){const{t:a}=et("common",{keyPrefix:"ShortStats"}),i=[],l=t.sim.request.stats;for(const o of d.SubStats){const c=l[o];c&&i.push({stat:o,value:c})}i.sort((o,c)=>no[o.stat]-no[c.stat]);function s(o){return t.sim.simType==Ea.SubstatRolls?`${a([o.stat])} x ${o.value}`:`${a([o.stat])} ${o.value}${x.isFlat(o.stat)?"":"%"}`}return n.jsx(g,{gap:0,children:i.map(o=>n.jsx(g,{children:n.jsx(ci,{style:{paddingInline:"5px",marginInlineEnd:"5px"},children:s(o)})},o.stat))})}function dh(t){console.log("Delete sim",t);const a=window.store.getState().statSimulations,i=x.clone(a.filter(l=>l.key!=t.key));window.store.getState().setStatSimulations(i),Rl(i),os()}function uh(){window.store.getState().setStatSimulations([]),Rl([]),os()}function Rl(t){window.optimizerForm.setFieldValue(["statSim","simulations"],t)}function Ka(t,a,i,l={}){const o={...{quality:1,speedRollValue:2.6,mainStatMultiplier:1,substatRollsModifier:r=>r},...l},c=[];for(const r of i){const u=r.request,f=Za(),p=Za(),G=Za(),h=Za(),m=Za(),b=Za();f.augmentedStats.mainStat=d.Stats.HP,p.augmentedStats.mainStat=d.Stats.ATK,G.augmentedStats.mainStat=u.simBody,h.augmentedStats.mainStat=u.simFeet,m.augmentedStats.mainStat=u.simLinkRope,b.augmentedStats.mainStat=u.simPlanarSphere,f.augmentedStats.mainValue=705.6,p.augmentedStats.mainValue=352.8,G.augmentedStats.mainValue=Oe.getMaxedStatValue(u.simBody)*o.mainStatMultiplier,h.augmentedStats.mainValue=Oe.getMaxedStatValue(u.simFeet)*o.mainStatMultiplier,m.augmentedStats.mainValue=Oe.getMaxedStatValue(u.simLinkRope)*o.mainStatMultiplier,b.augmentedStats.mainValue=Oe.getMaxedStatValue(u.simPlanarSphere)*o.mainStatMultiplier;const R=Fn.filter(V=>V!=u.simRelicSet1&&V!=u.simRelicSet2);f.set=u.simRelicSet1||R[0],p.set=u.simRelicSet1||R[1],G.set=u.simRelicSet2||R[2],h.set=u.simRelicSet2||R[3],m.set=u.simOrnamentSet||Mn[0],b.set=u.simOrnamentSet||Mn[1],f.part=T.Head,p.part=T.Hands,G.part=T.Body,h.part=T.Feet,m.part=T.LinkRope,b.part=T.PlanarSphere;const S={[T.Head]:[f],[T.Hands]:[p],[T.Body]:[G],[T.Feet]:[h],[T.LinkRope]:[m],[T.PlanarSphere]:[b]},Z={[T.Head]:f,[T.Hands]:p,[T.Body]:G,[T.Feet]:h,[T.LinkRope]:m,[T.PlanarSphere]:b},C=[];for(const V of Ye){let M=r.request.stats[V];if(r.simType==Ea.SubstatRolls){const E=V==e.SPD?o.speedRollValue:Oe.getMaxedSubstatValue(V,o.quality);let P=x.precisionRound(r.request.stats[V]||0);P=o.substatRollsModifier(P,V,Z),M=P*E}M&&C.push({stat:V,value:M})}f.substats=C,ee.condenseRelicSubstatsForOptimizer(S);const D=An(t,Z,a,!0);Zl(D),D.statSim={key:r.key},c.push(D)}return c}function w0(){const t=tt.getForm(),a=window.store.getState().statSimulations||[];if(a.length==0||!tt.validateForm(t))return;console.log("Starting sims",a);const i=Ka(t,null,a);tt.setRows(i),bc(t),window.optimizerGrid.current.api.updateGridOptions({datasource:tt.getDataSource()});const l=v[t.resultSort],s=t.statDisplay=="combat"?l.combatGridColumn:l.basicGridColumn;ls(s),os()}function os(){const t=tt.getForm();L.addFromForm(t),Ct.save()}function mh(){const t=window.optimizerGrid.current.api.getSelectedRows()[0];if(!t){j.warning(I.t("optimizerTab:StatSimulation.NothingToImport"));return}if(t.statSim){j.warning(I.t("optimizerTab:StatSimulation.BuildAlreadyImported"));return}const a=tt.calculateRelicsFromId(t.id,!0),i=t.relicSetIndex,l=Object.values(d.SetsRelics).length,s=i%l,o=(i-s)/l%l,c=(i-o*l-s)/(l*l)%l,r=(i-c*l*l-o*l-s)/(l*l*l)%l,f=j0([s,o,c,r]),p=t.ornamentSetIndex,G=Object.values(d.SetsOrnaments).length,h=p%G,m=(p-h)/G%G,b=J0([h,m],!1),R=A0(a,f[0],f[1],b,1);v0(R,Ea.SubstatRolls,!1)}function A0(t,a,i,l,s=1,o=2.6){const c=Object.values(t),r={};Ye.map(u=>r[u]=0);for(const u of c)for(const f of u.substats)r[f.stat]+=f.value/(f.stat==e.SPD?o:Oe.getMaxedSubstatValue(f.stat,s));return Ye.map(u=>r[u]=x.precisionRound(r[u],4)),{name:"",simRelicSet1:a,simRelicSet2:i,simOrnamentSet:l,simBody:t[T.Body].main.stat,simFeet:t[T.Feet].main.stat,simPlanarSphere:t[T.PlanarSphere].main.stat,simLinkRope:t[T.LinkRope].main.stat,stats:{[e.HP]:r[e.HP]||null,[e.ATK]:r[e.ATK]||null,[e.DEF]:r[e.DEF]||null,[e.HP_P]:r[e.HP_P]||null,[e.ATK_P]:r[e.ATK_P]||null,[e.DEF_P]:r[e.DEF_P]||null,[e.CR]:r[e.CR]||null,[e.CD]:r[e.CD]||null,[e.SPD]:r[e.SPD]||null,[e.EHR]:r[e.EHR]||null,[e.RES]:r[e.RES]||null,[e.BE]:r[e.BE]||null}}}function j0(t,a=!1){const i=[];for(;t.length>0;){const l=t[0];if(t.lastIndexOf(l)){const s=a?l:Object.entries(d.RelicSetToIndex).find(c=>c[1]==l)[0];i.push(s);const o=t.lastIndexOf(l);t.splice(o,1)}t.splice(0,1)}return i}function J0(t,a=!0){if(t[0]!=null&&t[0]==t[1])return a?t[1]:Object.entries(d.OrnamentSetToIndex).find(i=>i[1]==t[1])[0]}const bh=[{title:n.jsx(g,{style:{marginLeft:5},children:"Simulation details"}),dataIndex:"name",fixed:"left",width:"560",render:(t,a)=>lh(a),key:"y",ellipsis:!0},{title:"",dataIndex:"",key:"x",render:(t,a)=>n.jsx("a",{onClick:()=>{dh(a)},style:{display:"flex",justifyContent:"center"},children:n.jsx(Xa,{})}),width:36,fixed:"right"}];function hh(t){for(const a of Object.entries(t))a[1]==0&&(t[a[0]]=null);return t}function ph(){const{t}=et("optimizerTab",{keyPrefix:"StatSimulation"}),a=window.store(o=>o.statSimulations),i=window.store(o=>o.selectedStatSimulations),l=window.store(o=>o.setSelectedStatSimulations);function s(o){i[0]!=o&&l(o!=null?[o]:[]);const c=a.find(f=>f.key===o);if(console.log("Syncing matching statSim",c),!c)return;let r;window.optimizerGrid.current.api.forEachNode(f=>{var p;((p=f.data.statSim)==null?void 0:p.key)==c.key&&(r=f)}),r&&r.setSelected(!0,!0);const u=x.clone(c.request);hh(u.stats),window.optimizerForm.setFieldValue(["statSim",c.simType],u),window.store.getState().setStatSimulationDisplay(c.simType)}return y.useEffect(()=>{i.length&&s(i[0])},[i]),n.jsx(l0,{showHeader:!1,locale:{emptyText:n.jsx(Ul,{image:Ul.PRESENTED_IMAGE_SIMPLE,description:t("NoStatSimulations")})},rowSelection:{selectedRowKeys:i,type:"radio",columnWidth:0,renderCell:()=>""},columns:bh,dataSource:a,onRow:o=>({onClick:()=>{l(o.key!=null?[o.key]:[])}}),pagination:!1,size:"small",style:{flex:1,width:_0,height:"100%",backgroundColor:"#0000001a",border:"1px solid rgba(255, 255, 255, 0.15)"},scroll:{y:300}})}const{Text:Sh}=pt,at=xe(Sh)`
    text-decoration: underline;
    text-decoration-color: #6d97ffb3;
    text-underline-offset: 2px;
    white-space: nowrap;
`,O0=()=>Object.values(d.SetsOrnaments).filter(t=>!ja[t]).map(t=>({value:t,label:n.jsxs(g,{gap:5,align:"center",children:[n.jsx("img",{src:N.getSetImage(t,d.Parts.PlanarSphere),style:{width:21,height:21}}),n.jsx("div",{style:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",width:250,whiteSpace:"nowrap"},children:I.t(`common:RelicSets.${Be[t]}.Name`)})]})})),Rh=()=>{const t=[{value:De.relic4Piece,label:De.relic4Piece,children:[]},{value:De.relic2Plus2Piece,label:De.relic2Plus2Piece,children:[]},{value:De.relic2PlusAny,label:De.relic2PlusAny,children:[]}],a=Object.entries(d.SetsRelics).filter(l=>!ja[l[1]]).map(l=>({value:l[1],label:l[1]})),i=(l,s,o)=>{const c=l=="Any"?N.getBlank():N.getSetImage(l,d.Parts.Head);return n.jsxs(g,{gap:5,align:"center",children:[n.jsx("img",{src:c,style:{width:26,height:26}}),n.jsx("div",{style:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",width:250,whiteSpace:"nowrap"},children:s+o})]})};for(const l of Object.entries(d.SetsRelics).filter(s=>!ja[s[1]]))t[0].children.push({value:l[1],label:i(l[1],"(4) ",I.t(`gameData:RelicSets.${Be[l[1]]}.Name`))}),t[1].children.push({value:l[1],label:i(l[1],"(2) ",I.t(`gameData:RelicSets.${Be[l[1]]}.Name`)),children:a.map(s=>{const o=s.value=="Any"?"(0) ":"(2) ";return{value:s.value,label:i(s.value,o,I.t(`gameData:RelicSets.${Be[s.label]}.Name`))}})}),t[2].children.push({value:l[1],label:i(l[1],"(2) ",I.t(`gameData:RelicSets.${Be[l[1]]}.Name`))});return t},io=()=>Object.values(d.SetsRelics).filter(t=>!ja[t]).map(t=>({value:t,label:n.jsxs(g,{gap:5,align:"center",children:[n.jsx("img",{src:N.getSetImage(t,d.Parts.Head),style:{width:21,height:21}}),n.jsx("div",{style:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",width:250,whiteSpace:"nowrap"},children:t})]})}));function si(t){const{value:a,closable:i,onClose:l}=t;return a?n.jsx(ci,{closable:i,onClose:l,style:{display:"flex",flexDirection:"row",paddingInline:"1px",marginInlineEnd:"4px",height:21,alignItems:"center",overflow:"hidden"},children:n.jsx(g,{children:n.jsx("img",{title:a,src:N.getSetImage(a,d.Parts.PlanarSphere),style:{width:24,height:24}})})}):n.jsx(ci,{closable:i,onClose:l,children:n.jsx(g,{children:(t.label||"").replace(/[^0-9+]/g,"")})})}si.propTypes={value:z.string,closable:z.bool,onClose:z.func};const{Text:Q0}=pt;var Ea=(t=>(t.Disabled="disabled",t.CharacterStats="characterStats",t.SubstatTotals="substatTotals",t.SubstatRolls="substatRolls",t))(Ea||{});const fh=425,_0=680,li=215,z0=190;function Gh(){const{t}=et("optimizerTab",{keyPrefix:"StatSimulation"}),a=window.store(o=>o.statSimulationDisplay),i=window.store(o=>o.setStatSimulationDisplay),l=window.store(o=>o.setConditionalSetEffectsDrawerOpen);function s(){return a=="disabled"||!a}return n.jsx(Ne,{style:{overflow:"hidden"},size:"large",height:fh,children:n.jsxs(g,{gap:15,style:{height:"100%"},children:[n.jsxs(g,{vertical:!0,gap:15,align:"center",children:[n.jsxs(pe.Group,{onChange:o=>{const{target:{value:c}}=o;i(c)},optionType:"button",buttonStyle:"solid",value:a,style:{width:`${_0}px`,display:"flex"},children:[n.jsx(pe,{style:{display:"flex",flex:.3,justifyContent:"center",paddingInline:0},value:"disabled",children:t("ModeSelector.Off")}),n.jsx(pe,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"substatRolls",children:t("ModeSelector.RollCount")}),n.jsx(pe,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"substatTotals",children:t("ModeSelector.Totals")})]}),n.jsx(g,{style:{minHeight:302},children:n.jsx(ph,{})}),n.jsxs(g,{gap:10,children:[n.jsx(w,{style:{width:200},disabled:s(),onClick:w0,icon:n.jsx(es,{}),children:t("FooterLabels.Simulate")}),n.jsx(w,{style:{width:200},disabled:s(),onClick:mh,icon:n.jsx(rr,{}),children:t("FooterLabels.Import")}),n.jsx(w,{style:{width:200},disabled:s(),onClick:()=>l(!0),icon:n.jsx(wa,{}),children:t("FooterLabels.Conditionals")})]})]}),n.jsx(g,{vertical:!0,justify:"space-around",children:n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx(w,{type:"primary",style:{width:35,height:100,padding:0},onClick:ih,disabled:s(),children:n.jsx(dr,{})}),n.jsx(Oa,{title:t("DeletePopup.Title"),description:t("DeletePopup.Description"),onConfirm:uh,placement:"bottom",okText:t("DeletePopup.OkText"),cancelText:t("DeletePopup.CancelText"),children:n.jsx(w,{type:"dashed",style:{width:35,height:35,padding:0},disabled:s(),children:n.jsx(ll,{})})})]})}),n.jsx(Zh,{})]})})}function Zh(){const{t}=et("optimizerTab",{keyPrefix:"StatSimulation"}),a=window.store(o=>o.statSimulationDisplay),i=X.useWatch(o=>o.statSim,window.optimizerForm),l=y.useMemo(()=>{if(!i)return 0;let o=0;for(const c of Ye){const r=i.substatRolls;r!=null&&r.stats[c]&&(o+=r.stats[c])}return o},[i]),s=y.useMemo(()=>n.jsxs(n.Fragment,{children:[n.jsx(X.Item,{name:va("simulations"),children:n.jsx(Qe,{placeholder:"This is a fake hidden input to save simulations into the form",style:{display:"none"}})}),n.jsxs(g,{gap:5,style:{display:a=="substatTotals"?"flex":"none"},children:[n.jsxs(g,{vertical:!0,gap:5,style:{width:li},children:[n.jsx(so,{simType:"substatTotals"}),n.jsx(lo,{simType:"substatTotals"}),n.jsx(at,{children:t("OptionsHeader")}),n.jsx(X.Item,{name:va("substatTotals","name"),children:n.jsx(Qe,{placeholder:t("SimulationNamePlaceholder"),autoComplete:"off"})})]}),n.jsx(dn,{}),n.jsx(oo,{simType:"substatTotals",title:t("TotalsHeader")})]}),n.jsxs(g,{gap:5,style:{display:a=="substatRolls"?"flex":"none"},children:[n.jsxs(g,{vertical:!0,gap:5,style:{width:li},children:[n.jsx(so,{simType:"substatRolls"}),n.jsx(lo,{simType:"substatRolls"}),n.jsx(at,{children:t("OptionsHeader")}),n.jsx(X.Item,{name:va("substatRolls","name"),children:n.jsx(Qe,{placeholder:t("SimulationNamePlaceholder"),autoComplete:"off"})})]}),n.jsx(dn,{}),n.jsx(oo,{simType:"substatRolls",title:t("RollsHeader"),total:l})]}),n.jsxs(g,{gap:5,style:{display:a=="disabled"?"flex":"none"},children:[n.jsx("div",{style:{width:li}}),n.jsx(dn,{})]})]}),[a,l,t]);return n.jsx(g,{style:{minHeight:300},children:s})}function so(t){const{t:a,i18n:i}=et("optimizerTab",{keyPrefix:"StatSimulation"});return n.jsxs(n.Fragment,{children:[n.jsx(at,{children:"Sets"}),n.jsx(X.Item,{name:va(t.simType,"simRelicSet1"),style:{maxHeight:32},children:n.jsx(K,{dropdownStyle:{width:250},listHeight:700,allowClear:!0,options:y.useMemo(()=>io(),[i.resolvedLanguage]),tagRender:si,placeholder:a("RelicSetPlaceholder"),maxTagCount:"responsive",showSearch:!0})}),n.jsx(X.Item,{name:va(t.simType,"simRelicSet2"),style:{maxHeight:32},children:n.jsx(K,{dropdownStyle:{width:250},listHeight:700,allowClear:!0,options:y.useMemo(()=>io(),[i.resolvedLanguage]),tagRender:si,placeholder:a("RelicSetPlaceholder"),maxTagCount:"responsive",showSearch:!0})}),n.jsx(X.Item,{name:va(t.simType,"simOrnamentSet"),style:{maxHeight:32},children:n.jsx(K,{dropdownStyle:{width:250},listHeight:600,allowClear:!0,options:y.useMemo(()=>O0(),[i.resolvedLanguage]),tagRender:si,placeholder:a("OrnamentSetPlaceholder"),maxTagCount:"responsive",showSearch:!0})})]})}function lo(t){const{t:a}=et("optimizerTab",{keyPrefix:"StatSimulation.MainStatsSelection"}),i=y.useMemo(()=>[e.HP_P,e.ATK_P,e.DEF_P,e.CR,e.CD,e.EHR,e.OHB].map(c=>({value:c,short:a("ShortStat",{stat:c}),label:a("LabelStat",{stat:c})})),[a]),l=y.useMemo(()=>[e.HP_P,e.ATK_P,e.DEF_P,e.SPD].map(c=>({value:c,short:a("ShortStat",{stat:c}),label:a("LabelStat",{stat:c})})),[a]),s=y.useMemo(()=>[e.HP_P,e.ATK_P,e.DEF_P,e.BE,e.ERR].map(c=>({value:c,short:a("ShortStat",{stat:c}),label:a("LabelStat",{stat:c})})),[a]),o=y.useMemo(()=>[e.HP_P,e.ATK_P,e.DEF_P,e.Physical_DMG,e.Fire_DMG,e.Ice_DMG,e.Lightning_DMG,e.Wind_DMG,e.Quantum_DMG,e.Imaginary_DMG].map(c=>({value:c,short:a("ShortStat",{stat:c}),label:a("LabelStat",{stat:c})})),[a]);return n.jsxs(n.Fragment,{children:[n.jsx(at,{children:a("Header")}),n.jsxs(g,{vertical:!0,gap:5,children:[n.jsxs(g,{gap:5,style:{width:li},children:[n.jsx(Ti,{placeholder:a("BodyPlaceholder"),part:T.Body,options:i,simType:t.simType}),n.jsx(Ti,{placeholder:a("FeetPlaceholder"),part:T.Feet,options:l,simType:t.simType})]}),n.jsxs(g,{gap:5,style:{width:li},children:[n.jsx(Ti,{placeholder:a("SpherePlaceholder"),part:T.PlanarSphere,options:o,simType:t.simType}),n.jsx(Ti,{placeholder:a("SpherePlaceholder"),part:T.LinkRope,options:s,simType:t.simType})]})]})]})}function Ti(t){return n.jsx(X.Item,{name:va(t.simType,"sim"+t.part),style:{flex:1},children:n.jsx(K,{placeholder:t.placeholder,style:{flex:1},allowClear:!0,optionLabelProp:"short",maxTagCount:"responsive",suffixIcon:n.jsx("img",{style:{width:16},src:N.getPart(t.part)}),options:t.options,listHeight:750,popupMatchSelectWidth:200,showSearch:!0})})}function oo(t){const{t:a}=et("optimizerTab",{keyPrefix:"StatSimulation"});return n.jsx(n.Fragment,{children:n.jsxs(g,{vertical:!0,children:[n.jsx(at,{children:t.title}),n.jsxs(g,{vertical:!0,gap:5,children:[n.jsx(we,{simType:t.simType,name:e.ATK_P,label:a("SubstatSelectorLabel",{stat:e.ATK_P})}),n.jsx(we,{simType:t.simType,name:e.ATK,label:a("SubstatSelectorLabel",{stat:e.ATK})}),n.jsx(we,{simType:t.simType,name:e.CR,label:a("SubstatSelectorLabel",{stat:e.CR})}),n.jsx(we,{simType:t.simType,name:e.CD,label:a("SubstatSelectorLabel",{stat:e.CD})}),n.jsx(we,{simType:t.simType,name:e.SPD,label:a("SubstatSelectorLabel",{stat:e.SPD})}),n.jsx(we,{simType:t.simType,name:e.BE,label:a("SubstatSelectorLabel",{stat:e.BE})}),n.jsx(we,{simType:t.simType,name:e.HP_P,label:a("SubstatSelectorLabel",{stat:e.HP_P})}),n.jsx(we,{simType:t.simType,name:e.HP,label:a("SubstatSelectorLabel",{stat:e.HP})}),n.jsx(we,{simType:t.simType,name:e.DEF_P,label:a("SubstatSelectorLabel",{stat:e.DEF_P})}),n.jsx(we,{simType:t.simType,name:e.DEF,label:a("SubstatSelectorLabel",{stat:e.DEF})}),n.jsx(we,{simType:t.simType,name:e.EHR,label:a("SubstatSelectorLabel",{stat:e.EHR})}),n.jsx(we,{simType:t.simType,name:e.RES,label:a("SubstatSelectorLabel",{stat:e.RES})}),t.simType=="substatRolls"&&n.jsxs(g,{justify:"space-between",style:{width:z0},children:[n.jsx(Q0,{children:a("TotalRolls")}),n.jsx(ua,{size:"small",controls:!1,disabled:!0,value:x.truncate10ths(t.total),variant:"borderless",formatter:i=>`${i} / 54`,max:54,status:t.total>54?"error":void 0,style:{width:70}})]})]})]})})}function we(t){return n.jsxs(g,{justify:"space-between",style:{width:z0},children:[n.jsx(Q0,{children:t.label}),n.jsx(X.Item,{name:va(t.simType,"stats",t.name),children:n.jsx(ua,{size:"small",controls:!1,disabled:t.disabled,value:t.value,style:{width:70}})})]})}function va(t,a,i){return["statSim",t,a,i].filter(l=>l)}function q0(t){if(t){const a=x.clone(L.getScoringMetadata(t));return a.stats.headHands=0,a.stats.bodyFeet=0,a.stats.sphereRope=0,a.stats}return{[d.Stats.HP_P]:1,[d.Stats.ATK_P]:1,[d.Stats.DEF_P]:1,[d.Stats.SPD_P]:1,[d.Stats.HP]:1,[d.Stats.ATK]:1,[d.Stats.DEF]:1,[d.Stats.SPD]:1,[d.Stats.CD]:1,[d.Stats.CR]:1,[d.Stats.EHR]:1,[d.Stats.RES]:1,[d.Stats.BE]:1,headHands:0,bodyFeet:0,sphereRope:0}}function pn(t){var r,u;const a=(r=L.getMetadata().characters[t==null?void 0:t.id])==null?void 0:r.scoringMetadata,i=(a==null?void 0:a.parts)||{},l=(a==null?void 0:a.stats)||q0(),s={};Object.values(_i).map(f=>s[f.key]=0);const o=x.clone({characterId:t==null?void 0:t.id,mainBody:i[d.Parts.Body]||[],mainFeet:i[d.Parts.Feet]||[],mainPlanarSphere:i[d.Parts.PlanarSphere]||[],mainLinkRope:i[d.Parts.LinkRope]||[],relicSets:[],ornamentSets:[],characterLevel:80,characterEidolon:0,lightConeLevel:80,lightConeSuperimposition:1,mainStatUpscaleLevel:15,rankFilter:!0,includeEquippedRelics:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[],statDisplay:ii,statSim:gh,weights:l,setConditionals:kn,teammate0:Ni(),teammate1:Ni(),teammate2:Ni(),resultSort:a==null?void 0:a.sortOption.key,resultsLimit:1024,combatBuffs:s,combo:{BASIC:0,SKILL:0,ULT:0,FUA:0,DOT:0,BREAK:0},...$0()}),c=(u=L.getMetadata().characters[t==null?void 0:t.id])==null?void 0:u.element;if(c&&(o.setConditionals[F.GeniusOfBrilliantStars][1]=c=="Quantum",o.setConditionals[F.ForgeOfTheKalpagniLantern][1]=c=="Fire"),a!=null&&a.presets){const f=a.presets||[];for(const p of f)p(o)}return o}function Ni(){return{characterId:null,characterEidolon:0,lightConeSuperimposition:1}}const gh={simType:Ea.Disabled,simulations:[]};function $0(){return{enemyLevel:95,enemyCount:1,enemyResistance:.2,enemyEffectResistance:.2,enemyMaxToughness:360,enemyElementalWeak:!0,enemyWeaknessBroken:!1}}const kn={[d.Sets.PasserbyOfWanderingCloud]:[void 0,!0],[d.Sets.MusketeerOfWildWheat]:[void 0,!0],[d.Sets.KnightOfPurityPalace]:[void 0,!0],[d.Sets.HunterOfGlacialForest]:[void 0,!0],[d.Sets.ChampionOfStreetwiseBoxing]:[void 0,5],[d.Sets.GuardOfWutheringSnow]:[void 0,!0],[d.Sets.FiresmithOfLavaForging]:[void 0,!0],[d.Sets.GeniusOfBrilliantStars]:[void 0,!0],[d.Sets.BandOfSizzlingThunder]:[void 0,!0],[d.Sets.EagleOfTwilightLine]:[void 0,!0],[d.Sets.ThiefOfShootingMeteor]:[void 0,!0],[d.Sets.WastelanderOfBanditryDesert]:[void 0,1],[d.Sets.LongevousDisciple]:[void 0,2],[d.Sets.MessengerTraversingHackerspace]:[void 0,!1],[d.Sets.TheAshblazingGrandDuke]:[void 0,0],[d.Sets.PrisonerInDeepConfinement]:[void 0,0],[d.Sets.PioneerDiverOfDeadWaters]:[void 0,2],[d.Sets.WatchmakerMasterOfDreamMachinations]:[void 0,!1],[d.Sets.IronCavalryAgainstTheScourge]:[void 0,!0],[d.Sets.TheWindSoaringValorous]:[void 0,!1],[d.Sets.SacerdosRelivedOrdeal]:[void 0,!0],[d.Sets.ScholarLostInErudition]:[void 0,!0],[d.Sets.SpaceSealingStation]:[void 0,!0],[d.Sets.FleetOfTheAgeless]:[void 0,!0],[d.Sets.PanCosmicCommercialEnterprise]:[void 0,!0],[d.Sets.BelobogOfTheArchitects]:[void 0,!0],[d.Sets.CelestialDifferentiator]:[void 0,!1],[d.Sets.InertSalsotto]:[void 0,!0],[d.Sets.TaliaKingdomOfBanditry]:[void 0,!0],[d.Sets.SprightlyVonwacq]:[void 0,!0],[d.Sets.RutilantArena]:[void 0,!0],[d.Sets.BrokenKeel]:[void 0,!0],[d.Sets.FirmamentFrontlineGlamoth]:[void 0,!0],[d.Sets.PenaconyLandOfTheDreams]:[void 0,!0],[d.Sets.SigoniaTheUnclaimedDesolation]:[void 0,4],[d.Sets.IzumoGenseiAndTakamaDivineRealm]:[void 0,!0],[d.Sets.DuranDynastyOfRunningWolves]:[void 0,5],[d.Sets.ForgeOfTheKalpagniLantern]:[void 0,!1],[d.Sets.LushakaTheSunkenSeas]:[void 0,!1],[d.Sets.TheWondrousBananAmusementPark]:[void 0,!1]},Ta={characterOptions:"Character options",relicAndStatFilters:"Relic & stat filters",teammates:"Teammates",characterStatsSimulation:"Character custom stats simulation"};function Ui(t){const{t:a}=et("optimizerTab",{keyPrefix:"FormRowLabels"}),i=window.store(c=>c.optimizerMenuState),l=window.store(c=>c.setOptimizerMenuState);function s(c){i[t.id]=c.length>0,l(i)}const o=[{key:t.id,label:n.jsx(g,{style:{paddingTop:8},children:t.label??a(`${t.id}`)}),forceRender:!0,children:n.jsx(g,{style:{paddingLeft:10,marginTop:5,paddingRight:10},gap:10,children:t.children})}];return n.jsx(g,{gap:0,vertical:!0,className:"form-row",style:{minWidth:"100%"},children:n.jsx(Ji,{defaultActiveKey:i[t.id]?t.id:void 0,items:o,onChange:s,expandIconPosition:"end",ghost:!0})})}function Ch(t){const{t:a}=et("optimizerTab",{keyPrefix:"TeammateRow"}),i=window.store(s=>s.teammateCount),l=y.useMemo(()=>a("Header",{teammateCount:i?` (${i})`:""}),[i,a]);return n.jsx(Ui,{id:t.id,label:l,children:t.children})}const tc={BLUE:{colorTextBase:"#ffffff",colorBgBase:"#182239",colorPrimary:"#1677FF"},ALT:{colorTextBase:"#ffffff",colorBgBase:"#182239",colorPrimary:"#1677FF"}};function fl(t){return{"--ag-background-color":t.colorBgContainer,"--ag-odd-row-background-color":t.colorBgElevated,"--ag-header-background-color":t.colorBgLayout,"--ag-border-color":t.colorBorderSecondary,"--ag-row-hover-color":t.colorPrimary}}const{Text:Is}=pt,Th=5,co=xe.span`
    white-space: wrap !important;
    word-break: break-word !important;`,At={RelicEquippingBehavior:{name:"RelicEquippingBehavior",Swap:"Swap",Replace:"Replace"},PermutationsSidebarBehavior:{name:"PermutationsSidebarBehavior",NoShow:"Do Not Show",ShowXL:"Show XL",ShowXXL:"Show XXL"},RelicPotentialLoadBehavior:{name:"RelicPotentialLoadBehavior",ScoreAtStartup:"Score at startup",ManuallyClickReapplyScores:"Manually click reapply scores"}},ec={[At.RelicEquippingBehavior.name]:At.RelicEquippingBehavior.Replace,[At.PermutationsSidebarBehavior.name]:At.PermutationsSidebarBehavior.ShowXL,[At.RelicPotentialLoadBehavior.name]:At.RelicPotentialLoadBehavior.ScoreAtStartup},Dh=()=>{const[t]=X.useForm(),a=window.store(p=>p.settingsDrawerOpen),i=window.store(p=>p.setSettingsDrawerOpen),l=window.store(p=>p.settings),s=window.store(p=>p.setSettings),{t:o}=et("settings"),c=[{value:At.RelicEquippingBehavior.Replace,label:n.jsx("span",{children:o("RelicEquippingBehaviour.Replace")})},{value:At.RelicEquippingBehavior.Swap,label:n.jsx("span",{children:o("RelicEquippingBehaviour.Swap")})}],r=[{value:At.PermutationsSidebarBehavior.ShowXL,label:n.jsx("span",{children:o("PermutationSidebarBehaviour.XL")})},{value:At.PermutationsSidebarBehavior.ShowXXL,label:n.jsx("span",{children:o("PermutationSidebarBehaviour.XXL")})},{value:At.PermutationsSidebarBehavior.NoShow,label:n.jsx("span",{children:o("PermutationSidebarBehaviour.NoShow")})}],u=[{value:At.RelicPotentialLoadBehavior.ScoreAtStartup,label:n.jsx("span",{children:o("RelicPotentialLoadBehaviour.OnStartup")})},{value:At.RelicPotentialLoadBehavior.ManuallyClickReapplyScores,label:n.jsx("span",{children:o("RelicPotentialLoadBehaviour.Manual")})}];y.useEffect(()=>{const p=x.clone(ec),G=x.mergeDefinedValues(p,l);s(G),t.setFieldsValue(G)},[]);const f=(p,G)=>{s(G),Ct.save()};return n.jsx(X,{form:t,onValuesChange:f,children:n.jsx(as,{title:o("Title"),placement:"right",onClose:()=>i(!1),open:a,width:900,forceRender:!0,children:n.jsxs(g,{vertical:!0,gap:Th,children:[n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsx(Is,{children:o("RelicEquippingBehaviour.Label")}),n.jsx(X.Item,{name:At.RelicEquippingBehavior.name,children:n.jsx(K,{style:{width:500},options:c})})]}),n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsx(Is,{children:o("PermutationSidebarBehaviour.Label")}),n.jsx(X.Item,{name:At.PermutationsSidebarBehavior.name,children:n.jsx(K,{style:{width:500},options:r,optionRender:p=>n.jsx(co,{children:p.label})})})]}),n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsx(Is,{children:o("RelicPotentialLoadBehaviour.Label")}),n.jsx(X.Item,{name:At.RelicPotentialLoadBehavior.name,children:n.jsx(K,{style:{width:500},options:u,optionRender:p=>n.jsx(co,{children:p.label})})})]})]})})})},Ih={1001:{ATK:0,"ATK%":0,DEF:1,"DEF%":1,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1002:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1003:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":.5,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1004:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1005:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":.5,"CRIT DMG":.5,"Effect Hit Rate":.5,"Effect RES":0,"Break Effect":.75,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1006:{ATK:.5,"ATK%":.5,DEF:.25,"DEF%":.25,HP:.25,"HP%":.25,SPD:1,"CRIT Rate":.75,"CRIT DMG":.75,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":.75,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":1,"Imaginary DMG Boost":0},1008:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1009:{ATK:.75,"ATK%":.75,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":.5,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1013:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":1,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1101:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1102:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":1,"Imaginary DMG Boost":0},1103:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1104:{ATK:0,"ATK%":0,DEF:1,"DEF%":1,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":.75,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1105:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:1,"HP%":1,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1106:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":1,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1107:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1108:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1109:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1110:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:1,"HP%":1,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1111:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":.75,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1112:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1201:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":1,"Imaginary DMG Boost":0},1202:{ATK:1,"ATK%":1,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1203:{ATK:1,"ATK%":1,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1204:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1205:{ATK:.25,"ATK%":.25,DEF:0,"DEF%":0,HP:1,"HP%":1,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1206:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":.5,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1207:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1208:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:1,"HP%":1,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1209:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":1,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1210:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":.75,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1211:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:1,"HP%":1,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1212:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":1,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1213:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1214:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":1,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":1,"Imaginary DMG Boost":0},1215:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1217:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:1,"HP%":1,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1218:{ATK:.5,"ATK%":.5,DEF:.5,"DEF%":.5,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1220:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1221:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1222:{ATK:.75,"ATK%":.75,DEF:.5,"DEF%":.5,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1223:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1224:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1301:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1302:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1303:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1304:{ATK:0,"ATK%":0,DEF:1,"DEF%":1,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1305:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1306:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1307:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":.5,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1308:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1309:{ATK:1,"ATK%":1,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1310:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":1,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1312:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":1,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1314:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":1,"Imaginary DMG Boost":0},1315:{ATK:.5,"ATK%":.5,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":.75,"CRIT DMG":.75,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":1,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8001:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":.5,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8002:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":.5,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8003:{ATK:0,"ATK%":0,DEF:1,"DEF%":1,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":.75,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8004:{ATK:0,"ATK%":0,DEF:1,"DEF%":1,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":.75,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8005:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8006:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0}},ro={relics:[],characters:[],metadata:{},relicsById:{},globals:{},scorerId:void 0},Ua="/dreary-quibbles",mt={OPTIMIZER:"OPTIMIZER",CHARACTERS:"CHARACTERS",RELICS:"RELICS",IMPORT:"IMPORT",GETTING_STARTED:"GETTING_STARTED",CHANGELOG:"CHANGELOG",SETTINGS:"SETTINGS",RELIC_SCORER:"RELIC_SCORER",WEBGPU_TEST:"WEBGPU_TEST"},Ca={[mt.OPTIMIZER]:Ua,[mt.RELIC_SCORER]:Ua+"#scorer",[mt.CHANGELOG]:Ua+"#changelog",[mt.GETTING_STARTED]:Ua+"#getting-started",[mt.WEBGPU_TEST]:Ua+"#webgpu"},uo={[Ca[mt.OPTIMIZER]]:mt.OPTIMIZER,[Ca[mt.RELIC_SCORER]]:mt.RELIC_SCORER,[Ca[mt.CHANGELOG]]:mt.CHANGELOG,[Ca[mt.GETTING_STARTED]]:mt.GETTING_STARTED,[Ca[mt.WEBGPU_TEST]]:mt.WEBGPU_TEST},ac={[ne.optimizerCharacterId]:null,[ne.relicScorerSidebarOpen]:!0,[ne.scoringType]:Hi,[ne.combatScoreDetails]:_s,[ne.computeEngine]:ui};window.store=ur(t=>({version:Qi,colorTheme:tc.BLUE,optimizerGrid:void 0,optimizerTabFocusCharacter:void 0,characterTabFocusCharacter:void 0,scoringAlgorithmFocusCharacter:void 0,relicsTabFocusCharacter:void 0,inventoryWidth:9,rowLimit:10,activeKey:uo[x.stripTrailingSlashes(window.location.pathname)]?uo[x.stripTrailingSlashes(window.location.pathname)+window.location.hash.split("?")[0]]:mt.OPTIMIZER,characters:[],charactersById:{},conditionalSetEffectsDrawerOpen:!1,combatBuffsDrawerOpen:!1,enemyConfigurationsDrawerOpen:!1,settingsDrawerOpen:!1,permutations:0,permutationsResults:0,permutationsSearched:0,relicsById:{},scorerId:void 0,scoringMetadataOverrides:{},statDisplay:ii,statSimulationDisplay:Ea.Disabled,statSimulations:[],selectedStatSimulations:[],optimizationInProgress:!1,optimizationId:void 0,teammateCount:0,zeroPermutationModalOpen:!1,zeroResultModalOpen:!1,menuSidebarOpen:!0,relicScorerSidebarOpen:!0,optimizerRunningEngine:null,optimizerStartTime:null,optimizerEndTime:null,optimizerTabFocusCharacterSelectModalOpen:!1,optimizerFormCharacterEidolon:0,optimizerFormSelectedLightCone:null,optimizerFormSelectedLightConeSuperimposition:1,permutationDetails:{Head:0,Hands:0,Body:0,Feet:0,PlanarSphere:0,LinkRope:0,HeadTotal:0,HandsTotal:0,BodyTotal:0,FeetTotal:0,PlanarSphereTotal:0,LinkRopeTotal:0},relicTabFilters:{set:[],part:[],enhance:[],mainStats:[],subStats:[],grade:[],verified:[],equippedBy:[]},characterTabFilters:{name:"",element:[],path:[],rarity:[]},excludedRelicPotentialCharacters:[],optimizerMenuState:{[Ta.characterOptions]:!0,[Ta.relicAndStatFilters]:!0,[Ta.teammates]:!0,[Ta.characterStatsSimulation]:!1},savedSession:ac,settings:ec,setVersion:a=>t(()=>({version:a})),setActiveKey:a=>t(()=>({activeKey:a})),setCharacters:a=>t(()=>({characters:a})),setCharactersById:a=>t(()=>({charactersById:a})),setInventoryWidth:a=>t(()=>({inventoryWidth:a})),setRowLimit:a=>t(()=>({rowLimit:a})),setConditionalSetEffectsDrawerOpen:a=>t(()=>({conditionalSetEffectsDrawerOpen:a})),setCombatBuffsDrawerOpen:a=>t(()=>({combatBuffsDrawerOpen:a})),setEnemyConfigurationsDrawerOpen:a=>t(()=>({enemyConfigurationsDrawerOpen:a})),setSettingsDrawerOpen:a=>t(()=>({settingsDrawerOpen:a})),setOptimizerTabFocusCharacter:a=>t(()=>({optimizerTabFocusCharacter:a})),setCharacterTabFocusCharacter:a=>t(()=>({characterTabFocusCharacter:a})),setScoringAlgorithmFocusCharacter:a=>t(()=>({scoringAlgorithmFocusCharacter:a})),setRelicsTabFocusCharacter:a=>t(()=>({relicsTabFocusCharacter:a})),setPermutationDetails:a=>t(()=>({permutationDetails:a})),setPermutations:a=>t(()=>({permutations:a})),setPermutationsResults:a=>t(()=>({permutationsResults:a})),setPermutationsSearched:a=>t(()=>({permutationsSearched:a})),setRelicsById:a=>t(()=>({relicsById:a})),setRelicTabFilters:a=>t(()=>({relicTabFilters:a})),setCharacterTabFilters:a=>t(()=>({characterTabFilters:a})),setScorerId:a=>t(()=>({scorerId:a})),setScoringMetadataOverrides:a=>t(()=>({scoringMetadataOverrides:a})),setStatDisplay:a=>t(()=>({statDisplay:a})),setStatSimulationDisplay:a=>t(()=>({statSimulationDisplay:a})),setStatSimulations:a=>t(()=>({statSimulations:x.clone(a)})),setSelectedStatSimulations:a=>t(()=>({selectedStatSimulations:a})),setOptimizerMenuState:a=>t(()=>({optimizerMenuState:a})),setOptimizationInProgress:a=>t(()=>({optimizationInProgress:a})),setOptimizationId:a=>t(()=>({optimizationId:a})),setOptimizerStartTime:a=>t(()=>({optimizerStartTime:a})),setOptimizerRunningEngine:a=>t(()=>({optimizerRunningEngine:a})),setOptimizerEndTime:a=>t(()=>({optimizerEndTime:a})),setTeammateCount:a=>t(()=>({teammateCount:a})),setOptimizerFormCharacterEidolon:a=>t(()=>({optimizerFormCharacterEidolon:a})),setOptimizerFormSelectedLightCone:a=>t(()=>({optimizerFormSelectedLightCone:a})),setOptimizerFormSelectedLightConeSuperimposition:a=>t(()=>({optimizerFormSelectedLightConeSuperimposition:a})),setOptimizerTabFocusCharacterSelectModalOpen:a=>t(()=>({optimizerTabFocusCharacterSelectModalOpen:a})),setZeroPermutationsModalOpen:a=>t(()=>({zeroPermutationModalOpen:a})),setZeroResultModalOpen:a=>t(()=>({zeroResultModalOpen:a})),setExcludedRelicPotentialCharacters:a=>t(()=>({excludedRelicPotentialCharacters:a})),setMenuSidebarOpen:a=>t(()=>({menuSidebarOpen:a})),setSettings:a=>t(()=>({settings:a})),setSavedSession:a=>t(()=>({savedSession:a})),setSavedSessionKey:(a,i)=>t(l=>({savedSession:{...l.savedSession,[a]:i}})),setColorTheme:a=>t(()=>({colorTheme:a}))}));const L={getMetadata:()=>ro.metadata,setMetadata:t=>ro.metadata=t,getCharacters:()=>window.store.getState().characters,getCharacterById:t=>window.store.getState().charactersById[t],setCharacters:t=>{const a={};for(const l of t)a[l.id]=l;mo(t);const i=[...t];window.store.getState().setCharacters(i),window.store.getState().setCharactersById(a)},setCharacter:t=>{const a=window.store.getState().charactersById;a[t.id]=t,window.store.getState().setCharactersById(a)},addCharacter:t=>{const a=L.getCharacters();a.push(t),L.setCharacters(a)},insertCharacter:(t,a)=>{console.log("insert",t,a);const i=L.getCharacters();a<0&&(a=i.length);const l=L.getCharacterById(t);if(!l)return console.warn("No matching character to insert",t,a);const s=i.splice(l.rank,1);i.splice(a,0,s[0]),L.setCharacters(i)},refreshCharacters:()=>{window.setCharacterRows&&window.setCharacterRows(L.getCharacters())},getRelics:()=>Object.values(window.store.getState().relicsById),getRelicsById:()=>window.store.getState().relicsById,setRelics:t=>{const a={};for(const i of t)a[i.id]=i;window.store.getState().setRelicsById(a)},getRelicById:t=>window.store.getState().relicsById[t],setRelic:t=>{var l;if(!t.id)return console.warn("No matching relic",t);const a=L.getRelicById(t.id);!a?(t.ageIndex=L.getRelics().length,za(t),t.equippedBy&&L.equipRelic(t,t.equippedBy)):((a.part!==t.part||!t.equippedBy)&&(L.unequipRelicById(t.id),za(t)),t.equippedBy&&((l=L.getCharacterById(t.equippedBy))==null?void 0:l.equipped[t.part])!==t.id&&L.equipRelic(t,t.equippedBy),za(t))},refreshRelics:()=>{window.setRelicRows&&window.setRelicRows(L.getRelics())},getState:()=>window.store.getState(),getScoringMetadata:t=>{const a=L.getMetadata().characters[t].scoringMetadata,i=window.store.getState().scoringMetadataOverrides[t],l=x.mergeUndefinedValues(i||{},a);for(const s of Object.keys(a.stats))l.stats[s]==null&&(l.stats[s]=0);return delete l.presets,l},updateCharacterScoreOverrides:(t,a)=>{const i=window.store.getState().scoringMetadataOverrides;i[t]?x.mergeDefinedValues(i[t],a):i[t]=a,a.modified&&(i.modified=!0),window.store.getState().setScoringMetadataOverrides(i),Ct.save()},updateSimulationScoreOverrides:(t,a)=>{if(!a)return;const i=window.store.getState().scoringMetadataOverrides;i[t]?i[t].simulation=a:i[t]={simulation:a},window.store.getState().setScoringMetadataOverrides(i),setTimeout(()=>{Ct.save()},2e3)},setStore:(t,a=!0)=>{var o,c,r,u,f,p,G;const i={},l=L.getMetadata().characters,s=L.getMetadata().lightCones;t.characters=t.characters.filter(h=>l[h.id]);for(const h of t.characters){h.equipped={},i[h.id]=h,(c=(o=h.form)==null?void 0:o.statSim)!=null&&c.simulations&&(h.form.statSim.simulations=h.form.statSim.simulations.filter(S=>{var Z;return(Z=S.request)==null?void 0:Z.stats})),h.form.characterLevel=80,h.form.lightConeLevel=80;const m=h.form.relicSets||[];for(let S=m.length-1;S>=0;S--)(!m[S]||!Object.values(De).includes(m[S][0]))&&h.form.relicSets.splice(S,1);const b=s[(r=h.form)==null?void 0:r.lightCone]||{},R=l[h.id];(b==null?void 0:b.path)!=(R==null?void 0:R.path)&&(h.form.lightCone=void 0,h.form.lightConeLevel=80,h.form.lightConeSuperimposition=1,h.form.lightConeConditionals={});for(const S of Object.keys(d.Parts))h.form["main"+S]=So(h.form["main"+S]);((f=(u=h.form.setConditionals)==null?void 0:u[F.DuranDynastyOfRunningWolves])==null?void 0:f[1])>5&&(h.form.setConditionals[F.DuranDynastyOfRunningWolves][1]=5)}for(const h of Object.values(l))for(const m of Object.keys(d.Parts))h.scoringMetadata.parts[m]=So(h.scoringMetadata.parts[m]);for(const h of t.relics){bn.augment(h);const m=i[h.equippedBy];m&&!m.equipped[h.part]?m.equipped[h.part]=h.id:h.equippedBy=void 0}if(Vs(t.relics),t.scoringMetadataOverrides){for(const[h,m]of Object.entries(t.scoringMetadataOverrides)){m.length&&delete t.scoringMetadataOverrides[h];const b=t.scoringMetadataOverrides[h];if(b){if(!l[h]||!l[h].scoringMetadata)continue;const R=Ih[h]||{},S=l[h].scoringMetadata;let Z=!0;for(const C of Object.values(d.Stats))if(x.nullUndefinedToZero(b.stats[C])!=x.nullUndefinedToZero(R[C])){Z=!1;break}if(Z)b.stats=x.clone(S.stats),b.modified=!1;else{let C=!1;for(const D of Object.values(d.Stats))if(x.nullUndefinedToZero(b.stats[D])!=x.nullUndefinedToZero(S.stats[D])){C=!0;break}C&&(b.modified=!0)}}}window.store.getState().setScoringMetadataOverrides(t.scoringMetadataOverrides||{})}if(window.store.getState().setScorerId(t.scorerId),t.optimizerMenuState){const h=window.store.getState().optimizerMenuState;for(const m of Object.values(Ta))t.optimizerMenuState[m]!=null&&(h[m]=t.optimizerMenuState[m]);window.store.getState().setOptimizerMenuState(h)}if(t.savedSession){l[t.savedSession.optimizerCharacterId]||delete t.savedSession.optimizerCharacterId;const h={...ac,...t.savedSession};window.store.getState().setSavedSession(h)}t.settings&&window.store.getState().setSettings(t.settings),window.store.getState().setExcludedRelicPotentialCharacters(t.excludedRelicPotentialCharacters||[]),window.store.getState().setVersion(t.version),window.store.getState().setInventoryWidth(((p=t.relicLocator)==null?void 0:p.inventoryWidth)??9),window.store.getState().setRowLimit(((G=t.relicLocator)==null?void 0:G.rowLimit)??10),mo(t.characters),L.setRelics(t.relics),L.setCharacters(t.characters),L.refreshCharacters(),L.refreshRelics(),a&&Ct.save()},resetStore:()=>{L.setStore({relics:[],characters:[]})},addFromForm:(t,a=!0)=>{var s,o;const i=L.getCharacters();let l=L.getCharacterById(t.characterId);if(l)l.form={...l.form,...t},L.setCharacters(i);else{const c=pn({id:t.characterId});l={id:t.characterId,form:{...c,...t},equipped:{}},L.addCharacter(l)}return console.log("Updated db characters",i),(o=(s=window.characterGrid)==null?void 0:s.current)!=null&&o.api&&(window.characterGrid.current.api.updateGridOptions({rowData:i}),window.characterGrid.current.api.forEachNode(c=>c.data.id==l.id?c.setSelected(!0):0),window.store.getState().setCharacterTabFocusCharacter(l.id)),a&&Ct.save(),l},saveCharacterPortrait:(t,a)=>{let i=L.getCharacterById(t);i||(L.addFromForm({characterId:t}),i=L.getCharacterById(t),console.log("Character did not previously exist, adding",i)),i.portrait=a,L.setCharacter(i),console.log("Saved portrait",L.getState())},deleteCharacterPortrait:t=>{const a=L.getCharacterById(t);if(!a){console.warn("No character selected");return}delete a.portrait,L.setCharacter(a),console.log("Deleted portrait",L.getState())},saveCharacterBuild:(t,a,i)=>{var o;const l=L.getCharacterById(a);if(!l){console.warn("No character selected");return}if((o=l.builds)==null?void 0:o.find(c=>c.name==t)){const c=`Build name [${t}] already exists`;return console.warn(c),{error:c}}else l.builds||(l.builds=[]),l.builds.push({name:t,build:[...Object.values(l.equipped)],score:i}),L.setCharacter(l),console.log("Saved build",L.getState())},deleteCharacterBuild:(t,a)=>{const i=L.getCharacterById(t);if(!i)return console.warn("No character to delete build for");i.builds=i.builds.filter(l=>l.name!=a),L.setCharacter(i)},clearCharacterBuilds:t=>{const a=L.getCharacterById(t);if(!a)return console.warn("No character to clear builds for");a.builds=[],L.setCharacter(a)},unequipCharacter:t=>{const a=L.getCharacterById(t);if(!a)return console.warn("No character to unequip");console.log("Unequipping character",t,a);for(const i of Object.values(d.Parts)){const l=a.equipped[i];if(!l)continue;const s=L.getRelicById(l);a.equipped[i]=void 0,s&&(s.equippedBy=void 0,za(s))}L.setCharacter(a)},removeCharacter:t=>{L.unequipCharacter(t);let a=L.getCharacters();a=a.filter(i=>i.id!=t),L.setCharacters(a)},unequipRelicById:t=>{if(!t)return console.warn("No relic");const a=L.getRelicById(t);console.log("UNEQUIP RELIC");const i=L.getCharacters();for(const l of i)l.equipped&&l.equipped[a.part]&&l.equipped[a.part]==a.id&&(l.equipped[a.part]=void 0);L.setCharacters(i),a.equippedBy=void 0,za(a)},equipRelic:(t,a,i=!1)=>{if(!t||!t.id)return console.warn("No relic");if(!a)return console.warn("No character");t=L.getRelicById(t.id);const l=t.equippedBy,s=L.getCharacterById(l),o=L.getCharacterById(a),c=L.getRelicById(o.equipped[t.part]);c&&L.unequipRelicById(c.id);const r=i||L.getState().settings[At.RelicEquippingBehavior.name]==At.RelicEquippingBehavior.Swap;l!==a&&s&&(c&&r?(s.equipped[t.part]=c.id,c.equippedBy=s.id,za(c)):s.equipped[t.part]=void 0,L.setCharacter(s)),o.equipped[t.part]=t.id,t.equippedBy=o.id,L.setCharacter(o),za(t)},equipRelicIdsToCharacter:(t,a,i=!1)=>{if(!a)return console.warn("No characterId to equip to");console.log("Equipping relics to character",t,a);for(const l of t)L.equipRelic({id:l},a,i)},switchRelics:(t,a)=>{if(!t)return console.warn("No characterId to equip from");if(!a)return console.warn("No characterId to equip to");console.log(`Switching relics from character ${t} to character ${a}`);const i=L.getCharacterById(t);L.equipRelicIdsToCharacter(Object.values(i.equipped),a,!0)},deleteRelic:t=>{var i,l;if(!t)return j.error("Unable to delete relic");L.unequipRelicById(t);const a=window.store.getState().relicsById;delete a[t],window.store.getState().setRelicsById(a),(l=(i=window.characterGrid)==null?void 0:i.current)!=null&&l.api&&window.characterGrid.current.api.redrawRows()},mergeRelicsWithState:(t,a)=>{var r,u,f,p;const i=L.getRelics();if(t=x.clone(t)||[],a=x.clone(a)||[],console.log("Merging relics",t,a),a)for(const G of a)L.addFromForm(G,!1);const l=L.getCharacters(),s={};for(const G of i){const h=bo(G);s[h]=G}let o=[];t.length==0&&(o=i);for(let G of t){const h=bo(G),m=s[h];let b;if(m?(G.verified&&(m.verified=!0,m.substats=G.substats,m.augmentedStats=G.augmentedStats),G.equippedBy&&a.length&&(m.equippedBy=G.equippedBy,G=m),o.push(m),b=m.id,delete s[h]):(b=G.id,o.push(G)),G.equippedBy&&a.length){const R=l.find(S=>S.id==G.equippedBy);R?R.equipped[G.part]=b:console.log("No character to equip relic to",G)}}Vs(o),console.log("Replacement relics",o),L.setRelics(o);for(const G of l)for(const h of Object.values(d.Parts))G.equipped&&G.equipped[h]&&!L.getRelicById(G.equipped[h])&&(G.equipped[h]=void 0);for(const G of L.getRelics()){if(!G.equippedBy)continue;const h=L.getCharacterById(G.equippedBy);(!h||h.equipped[G.part]!=G.id)&&(G.equippedBy=void 0)}for(const G of L.getCharacters())for(const h of Object.keys(G.equipped)){const m=G.equipped[h];m&&L.getRelicById(m).equippedBy!=G.id&&(G.equipped[h]=void 0)}L.setRelics(o),L.setCharacters(l),(u=(r=window.relicsGrid)==null?void 0:r.current)!=null&&u.api&&window.relicsGrid.current.api.updateGridOptions({rowData:o}),(p=(f=window.characterGrid)==null?void 0:f.current)!=null&&p.api&&window.characterGrid.current.api.redrawRows();const c=tt.getForm();window.onOptimizerFormValuesChange({},c),window.refreshRelicsScore()},mergePartialRelicsWithState:(t,a=[])=>{var c,r;const i=x.clone(L.getRelics())||[];t=x.clone(t)||[];const l=[],s=[],o=[];for(const u of t){const f=Vh(u,i);f?(f.substats=u.substats,f.main=u.main,f.enhance=u.enhance,f.verified=!0,l.push(f),o.push({relic:f,equippedBy:u.equippedBy})):(i.push(u),s.push(u),o.push({relic:u,equippedBy:u.equippedBy}),u.equippedBy=void 0)}console.log("addedNewRelics",s),console.log("updatedOldRelics",l),i.map(u=>bn.augment(u)),Vs(i),L.setRelics(i);for(const u of o)a.find(f=>f.id==u.equippedBy)&&L.equipRelic(u.relic,u.equippedBy);L.refreshRelics(),window.refreshRelicsScore(),(r=(c=window.characterGrid)==null?void 0:c.current)!=null&&r.api&&window.characterGrid.current.api.redrawRows(),l.length&&j.success(I.t("importSaveTab:PartialImport.OldRelics",{count:l.length}),8),s.length&&j.success(I.t("importSaveTab:PartialImport.NewRelics",{count:s.length}),8)}};function Vh(t,a){const i={};for(const c of a){const r=po(c);i[r]||(i[r]=[]),i[r].push(c)}const l=po(t),s=i[l]||[];let o;for(const c of s){if(t.enhance<c.enhance||t.substats.length<c.substats.length)continue;let r=!1,u=0;for(let p=0;p<c.substats.length;p++){const G=c.substats[p],h=t.substats.find(m=>m.stat==G.stat);if(!h){r=!0;break}if(G.stat!=h.stat){r=!0;break}if(ho(G,h)==-1){r=!0;break}ho(G,h)==1&&u++}if(r)continue;const f=Math.round((Math.floor(t.enhance/3)*3-Math.floor(c.enhance/3)*3)/3);if(!(u>f)){o=c;break}}return o}function mo(t){for(let i=0;i<t.length;i++)t[i].rank=i;const a=L.getCharacterById(window.store.getState().optimizerTabFocusCharacter);return a&&window.optimizerForm.setFieldValue("rank",a.rank),t}function bo(t){const a=[],i=[];for(const s of t.substats)x.isFlat(s.stat)?a.push(Math.floor(s.value)):a.push(x.precisionRound(x.truncate10ths(s.value))),i.push(s.stat);const l={part:t.part,set:t.set,grade:t.grade,enhance:t.enhance,mainstat:t.main.stat,mainvalue:Math.floor(t.main.value),substatValues:a,substatStats:i};return x.objectHash(l)}function ho(t,a){let i,l;return x.isFlat(t.stat)?(i=Math.floor(t.value),l=Math.floor(a.value)):(i=x.precisionRound(x.truncate10ths(t.value)),l=x.precisionRound(x.truncate10ths(a.value))),i==l?0:i<l?1:-1}function po(t){const a={part:t.part,set:t.set,grade:t.grade,mainstat:t.main.stat};return x.objectHash(a)}function za(t){const a=window.store.getState().relicsById;a[t.id]=t,window.store.getState().setRelicsById(a)}function So(t){return t==null?t:[...new Set(t)]}function Vs(t){const a=t.length;for(let i=0;i<a;i++)t[i].ageIndex=a-i-1}let be,qa,Xi,ea=[],tl,On,cn,Ws,Es;const tt={setMetadata:(t,a)=>{qa=t,be=a},setAggs:t=>{Xi=t},getAggs:()=>Xi,setRows:t=>{ea=t},setTopRow:(t,a=!1)=>{if(a){window.optimizerGrid.current.api.updateGridOptions({pinnedTopRowData:[t]});return}const i=window.optimizerGrid.current.api.getGridOption("pinnedTopRowData");i[0]=t,window.optimizerGrid.current.api.updateGridOptions({pinnedTopRowData:i})},getRows:()=>ea,scrollToGrid:()=>{document.getElementById("optimizerGridContainer").scrollIntoView({behavior:"smooth",block:"nearest"})},equipClicked:()=>{console.log("Equip clicked");const t=tt.getForm(),a=t.characterId;if(!a)return;L.addFromForm(t);const i=window.optimizerGrid.current.api.getSelectedNodes();if(!i||i.length==0||i[0].data.statSim)return;const l=i[0].data,s=tt.calculateRelicsFromId(l.id);L.equipRelicIdsToCharacter(Object.values(s),a),j.success("Equipped relics"),tt.setTopRow(l),window.setOptimizerBuild(s),Ct.save(),tt.updateFilters()},cellClicked:t=>{const a=t.data;if(t.rowPinned=="top"){console.log("Top row clicked",t.data);const l=tt.getForm();if(t.data&&l.characterId){const s=L.getCharacterById(l.characterId);if(a.id||window.optimizerGrid.current.api.deselectAll(),s&&a.id){const o=a.id,c=tt.calculateRelicsFromId(o);window.setOptimizerBuild(c);const r=window.optimizerGrid.current.api.getRowNode(String(a.id));if(r){const u=window.optimizerGrid.current.api.getGridOption("pinnedTopRowData");String(u[0].id)==String(r.data.id)?window.optimizerGrid.current.api.deselectAll():r.setSelected(!0)}}else s&&window.setOptimizerBuild(s.equipped)}return}if(a.statSim){const l=a.statSim.key;window.store.getState().setSelectedStatSimulations([l]),window.setOptimizerBuild({}),window.optimizerGrid.current.api.deselectAll();return}console.log("cellClicked",t);const i=tt.calculateRelicsFromId(a.id);console.log("build",i),window.setOptimizerBuild(i)},getColumnsToAggregate:t=>(Ws||(Es={[d.Stats.HP]:!0,[d.Stats.ATK]:!0,[d.Stats.DEF]:!0,[d.Stats.SPD]:!0,[d.Stats.CR]:!0,[d.Stats.CD]:!0,[d.Stats.EHR]:!0,[d.Stats.RES]:!0,[d.Stats.BE]:!0,[d.Stats.ERR]:!0,[d.Stats.OHB]:!0,ED:!0,WEIGHT:!0,EHP:!0,BASIC:!0,SKILL:!0,ULT:!0,FUA:!0,DOT:!0,BREAK:!0,COMBO:!0,xATK:!0,xDEF:!0,xHP:!0,xSPD:!0,xCR:!0,xCD:!0,xEHR:!0,xRES:!0,xBE:!0,xERR:!0,xOHB:!0,xELEMENTAL_DMG:!0},Ws=Object.keys(Es)),t?Es:Ws),resetDataSource:()=>{window.optimizerGrid.current.api.updateGridOptions({datasource:tt.getDataSource(cn,On)})},getDataSource:(t,a)=>(cn=t,On=a,{getRows:i=>{var l,s;Xi=void 0,(s=(l=window==null?void 0:window.optimizerGrid)==null?void 0:l.current)!=null&&s.api&&window.optimizerGrid.current.api.showLoadingOverlay(),x.sleep(100).then(()=>{var o,c;if(i.sortModel.length>0&&i.sortModel[0]!=cn&&(cn=i.sortModel[0],Wh()),On){Eh(On);const r=tl.slice(i.startRow,i.endRow),u=[];for(const f of r)u.push(ea[f]);Ro(u),i.successCallback(u,tl.length)}else{const r=ea.slice(i.startRow,i.endRow);Ro(r),i.successCallback(r,ea.length)}(c=(o=window==null?void 0:window.optimizerGrid)==null?void 0:o.current)!=null&&c.api&&window.optimizerGrid.current.api.hideOverlay(),tt.redrawRows()})}}),calculateRelicsFromId:(t,a=!1)=>{const i=qa.lSize,l=qa.pSize,s=qa.fSize,o=qa.bSize,c=qa.gSize,r=qa.hSize,u=t,f=u%i,p=(u-f)/i%l,G=(u-p*i-f)/(i*l)%s,h=(u-G*l*i-p*i-f)/(i*l*s)%o,m=(u-h*s*l*i-G*l*i-p*i-f)/(i*l*s*o)%c,b=(u-m*o*s*l*i-h*s*l*i-G*l*i-p*i-f)/(i*l*s*o*c)%r,R=tt.getForm().characterId;return be.Head[b].optimizerCharacterId=R,be.Hands[m].optimizerCharacterId=R,be.Body[h].optimizerCharacterId=R,be.Feet[G].optimizerCharacterId=R,be.PlanarSphere[p].optimizerCharacterId=R,be.LinkRope[f].optimizerCharacterId=R,a?{Head:be.Head[b],Hands:be.Hands[m],Body:be.Body[h],Feet:be.Feet[G],PlanarSphere:be.PlanarSphere[p],LinkRope:be.LinkRope[f]}:{Head:be.Head[b].id,Hands:be.Hands[m].id,Body:be.Body[h].id,Feet:be.Feet[G].id,PlanarSphere:be.PlanarSphere[p].id,LinkRope:be.LinkRope[f].id}},getForm:()=>{const t=window.optimizerForm.getFieldsValue();return tt.fixForm(t)},getDisplayFormValues:t=>{var c;const a=x.clone(t),i=L.getMetadata().characters[t.characterId],l=L.getScoringMetadata(t.characterId);a.maxHp=he(t.maxHp),a.minHp=te(t.minHp),a.maxAtk=he(t.maxAtk),a.minAtk=te(t.minAtk),a.maxDef=he(t.maxDef),a.minDef=te(t.minDef),a.maxSpd=he(t.maxSpd),a.minSpd=te(t.minSpd),a.maxCr=he(t.maxCr,!0),a.minCr=te(t.minCr,!0),a.maxCd=he(t.maxCd,!0),a.minCd=te(t.minCd,!0),a.maxEhr=he(t.maxEhr,!0),a.minEhr=te(t.minEhr,!0),a.maxRes=he(t.maxRes,!0),a.minRes=te(t.minRes,!0),a.maxBe=he(t.maxBe,!0),a.minBe=te(t.minBe,!0),a.maxErr=he(t.maxErr,!0),a.minErr=te(t.minErr,!0),a.maxWeight=he(t.maxWeight),a.minWeight=te(t.minWeight),a.maxEhp=he(t.maxEhp),a.minEhp=te(t.minEhp),a.maxBasic=he(t.maxBasic),a.minBasic=te(t.minBasic),a.maxSkill=he(t.maxSkill),a.minSkill=te(t.minSkill),a.maxUlt=he(t.maxUlt),a.minUlt=te(t.minUlt),a.maxFua=he(t.maxFua),a.minFua=te(t.minFua),a.maxDot=he(t.maxDot),a.minDot=te(t.minDot),a.maxBreak=he(t.maxBreak),a.minBreak=te(t.minBreak),a.maxCombo=he(t.maxCombo),a.minCombo=te(t.minCombo),a.combatBuffs={},t.combatBuffs||(t.combatBuffs={});for(const r of Object.values(_i))a.combatBuffs[r.key]=te(t.combatBuffs[r.key],r.percent);a.combo={},t.combo||(t.combo={});for(const r of Rs)a.combo[r]=te(t.combo[r]);a.setConditionals?x.mergeUndefinedValues(a.setConditionals,kn):a.setConditionals=kn;const s=$0();if(t.enemyLevel||(a.enemyLevel=s.enemyLevel),t.enemyCount||(a.enemyCount=s.enemyCount),t.enemyResistance||(a.enemyResistance=s.enemyResistance),t.enemyEffectResistance||(a.enemyEffectResistance=s.enemyEffectResistance),t.enemyElementalWeak==null&&(a.enemyElementalWeak=s.enemyElementalWeak),t.enemyWeaknessBroken==null&&(a.enemyWeaknessBroken=s.enemyWeaknessBroken),t.enemyMaxToughness||(a.enemyMaxToughness=s.enemyMaxToughness),a.characterId){const r=Wa.get(a).defaults();a.characterConditionals||(a.characterConditionals={});for(const u of Object.keys(r))a.characterConditionals[u]==null&&(a.characterConditionals[u]=r[u])}if(a.lightCone){const r=ma.get(a).defaults();a.lightConeConditionals||(a.lightConeConditionals={});for(const u of Object.keys(r))a.lightConeConditionals[u]==null&&(a.lightConeConditionals[u]=r[u])}else a.lightCone=null,a.lightConeLevel=80,a.lightConeSuperimposition=1,a.lightConeConditionals={};a.statDisplay||(a.statDisplay=ii);const o=L.getCharacterById(a.characterId);if(o)a.rank=o.rank;else if(a.rank=L.getCharacters().length,i){for(const r of l.presets||[])r(a);a.mainBody=l.parts[d.Parts.Body],a.mainFeet=l.parts[d.Parts.Feet],a.mainPlanarSphere=l.parts[d.Parts.PlanarSphere],a.mainLinkRope=l.parts[d.Parts.LinkRope],a.weights=l.stats,a.weights.headHands=0,a.weights.bodyFeet=0,a.weights.sphereRope=0,K0(a,l)}a.weights||(a.weights=q0(a.characterId)),a.weights.headHands||(a.weights.headHands=0),a.weights.bodyFeet||(a.weights.bodyFeet=0),a.weights.sphereRope||(a.weights.sphereRope=0),a.exclude||(a.exclude=[]),a.exclude=a.exclude.filter(r=>L.getCharacterById(r)),a.includeEquippedRelics==null&&(a.includeEquippedRelics=!0),[1,3,5].includes(a.enemyCount)||(a.enemyCount=1);for(const r of[0,1,2]){const u=`teammate${r}`;(!a[u]||!a[u].characterId)&&(a[u]=Ni())}if(a.weights||(a.weights={[d.Stats.HP_P]:1,[d.Stats.ATK_P]:1,[d.Stats.DEF_P]:1,[d.Stats.SPD_P]:1,[d.Stats.HP]:1,[d.Stats.ATK]:1,[d.Stats.DEF]:1,[d.Stats.SPD]:1,[d.Stats.CD]:1,[d.Stats.CR]:1,[d.Stats.EHR]:1,[d.Stats.RES]:1,[d.Stats.BE]:1,headHands:0,bodyFeet:0,sphereRope:0}),a.resultSort||i&&(a.resultSort=i.scoringMetadata.sortOption.key),a.resultsLimit||(a.resultsLimit=1024),a.mainStatUpscaleLevel||(a.mainStatUpscaleLevel=15),a.statSim||(a.statSim={}),a.statSim.simulations||(a.statSim.simulations=[]),a.combo||(a.combo={}),Object.values(a.combo).every(r=>!r)){const r=(c=l==null?void 0:l.simulation)==null?void 0:c.formula;if(r)for(const u of Rs)r[u]&&(a.combo[u]=r[u])}return a},validateForm:t=>{if(console.log("validate",t),!t.lightCone||!t.lightConeSuperimposition)return j.error("Missing light cone fields"),console.log("Missing light cone"),!1;if(!t.characterId||t.characterEidolon==null)return j.error("Missing character fields"),console.log("Missing character"),!1;if(!t.resultsLimit||!t.resultSort)return j.error("Missing optimization target fields"),console.log("Missing optimization target fields"),!1;if(Object.values(d.Stats).map(l=>t.weights[l]).filter(l=>!!l).length==0)return j.error("All substat weights are set to 0. Make sure to set the substat weights for your character or use the Recommended presets button.",10),console.log("Top percent"),!1;const a=L.getMetadata().lightCones[t.lightCone],i=L.getMetadata().characters[t.characterId];return a.path!=i.path&&(j.warning("Character path doesn't match light cone path.",10),console.log("Path mismatch")),!0},fixForm:t=>{const a=d.MAX_INT;t.statDisplay=window.store.getState().statDisplay||ii,t.maxHp=gt(t.maxHp,a),t.minHp=gt(t.minHp,0),t.maxAtk=gt(t.maxAtk,a),t.minAtk=gt(t.minAtk,0),t.maxDef=gt(t.maxDef,a),t.minDef=gt(t.minDef,0),t.maxSpd=gt(t.maxSpd,a),t.minSpd=gt(t.minSpd,0),t.maxCr=gt(t.maxCr,a,100),t.minCr=gt(t.minCr,0,100),t.maxCd=gt(t.maxCd,a,100),t.minCd=gt(t.minCd,0,100),t.maxEhr=gt(t.maxEhr,a,100),t.minEhr=gt(t.minEhr,0,100),t.maxRes=gt(t.maxRes,a,100),t.minRes=gt(t.minRes,0,100),t.maxBe=gt(t.maxBe,a,100),t.minBe=gt(t.minBe,0,100),t.maxErr=gt(t.maxErr,a,100),t.minErr=gt(t.minErr,0,100),t.maxWeight=gt(t.maxWeight,a),t.minWeight=gt(t.minWeight,0),t.maxEhp=gt(t.maxEhp,a),t.minEhp=gt(t.minEhp,0),t.maxBasic=gt(t.maxBasic,a),t.minBasic=gt(t.minBasic,0),t.maxSkill=gt(t.maxSkill,a),t.minSkill=gt(t.minSkill,0),t.maxUlt=gt(t.maxUlt,a),t.minUlt=gt(t.minUlt,0),t.maxFua=gt(t.maxFua,a),t.minFua=gt(t.minFua,0),t.maxDot=gt(t.maxDot,a),t.minDot=gt(t.minDot,0),t.maxBreak=gt(t.maxBreak,a),t.minBreak=gt(t.minBreak,0),t.maxCombo=gt(t.maxCombo,a),t.minCombo=gt(t.minCombo,0),t.combatBuffs||(t.combatBuffs={});for(const i of Object.values(_i))t.combatBuffs[i.key]=gt(t.combatBuffs[i.key],0,i.percent?100:0);t.combo||(t.combo={});for(const i of Rs)t.combo[i]=gt(t.combo[i],0,0);return t.mainHead=t.mainHead||[],t.mainHands=t.mainHands||[],t.mainBody=t.mainBody||[],t.mainFeet=t.mainFeet||[],t.mainPlanarSphere=t.mainPlanarSphere||[],t.mainLinkRope=t.mainLinkRope||[],t},updateFilters:()=>{if(window.optimizerForm&&window.onOptimizerFormValuesChange){const t=tt.getForm();window.onOptimizerFormValuesChange({},t)}},resetFilters:()=>{console.info("@resetFilters");const t=tt.getForm(),a={characterEidolon:t.characterEidolon,characterId:t.characterId,characterLevel:80,enhance:9,grade:5,mainStatUpscaleLevel:15,rankFilter:!0,includeEquippedRelics:!0,keepCurrentRelics:!1,lightCone:t.lightCone,lightConeLevel:80,lightConeSuperimposition:t.lightConeSuperimposition,mainBody:[],mainFeet:[],mainHands:[],mainHead:[],mainLinkRope:[],mainPlanarSphere:[],ornamentSets:[],relicSets:[]};window.optimizerForm.setFieldsValue(tt.getDisplayFormValues(a)),tt.updateFilters()},setCharacter:t=>{window.store.getState().setOptimizerTabFocusCharacter(t),window.optimizerForm.setFieldValue("characterId",t),window.store.getState().setSavedSessionKey(ne.optimizerCharacterId,t),setTimeout(()=>Ct.save(),1e3)},updateCharacter:t=>{if(console.log("@updateCharacter",t),!t)return;const a=L.getCharacterById(t),i=a?a.form:pn({id:t}),l=tt.getDisplayFormValues(i);window.optimizerForm.setFieldsValue(l),setTimeout(()=>{var s;window.store.getState().setOptimizerFormSelectedLightCone(i.lightCone),window.store.getState().setOptimizerFormSelectedLightConeSuperimposition(i.lightConeSuperimposition),window.store.getState().setOptimizerTabFocusCharacter(t),window.store.getState().setOptimizerFormCharacterEidolon(i.characterEidolon),window.store.getState().setStatDisplay(i.statDisplay||ii),window.store.getState().setStatSimulations(((s=i.statSim)==null?void 0:s.simulations)||[]),window.onOptimizerFormValuesChange({},l)},50)},redrawRows:()=>{window.optimizerGrid.current.api.refreshCells({force:!0})},applyRowFilters:()=>{const t=tt.getForm();t.statDisplay=window.store.getState().statDisplay,On=t,console.log("Apply filters to rows",t),tt.resetDataSource()}};function te(t,a){if(t!=null)return t==0?void 0:parseFloat((a==!0?t*100:t).toFixed(3))}function he(t,a){if(t!=null)return t==d.MAX_INT?void 0:parseFloat((a==!0?t*100:t).toFixed(3))}function gt(t,a,i){return t==null?a:(i=i||1,t/i)}function Ro(t){const a=xn.getZeroes();for(const s of tt.getColumnsToAggregate())a[s]=d.MAX_INT;function i(s){a[s]=d.MAX_INT,l[s]=0}const l=xn.getZeroes();a.ED=d.MAX_INT,l.ED=0,a.WEIGHT=d.MAX_INT,l.WEIGHT=0,a.EHP=d.MAX_INT,l.EHP=0,i("BASIC"),i("SKILL"),i("ULT"),i("FUA"),i("DOT"),i("BREAK"),i("COMBO"),i("xATK"),i("xDEF"),i("xHP"),i("xSPD"),i("xCR"),i("xCD"),i("xEHR"),i("xRES"),i("xBE"),i("xERR"),i("xOHB"),i("xELEMENTAL_DMG");for(const s of t)for(const o of tt.getColumnsToAggregate()){const c=s[o];c<a[o]&&(a[o]=c),c>l[o]&&(l[o]=c)}Xi={minAgg:a,maxAgg:l}}function Wh(){cn.sort=="desc"?Xl(ea).desc(cn.colId):Xl(ea).asc(cn.colId)}function Eh(t){const a=t.statDisplay=="combat",i=[];if(a)for(let l=0;l<ea.length;l++){const s=ea[l];s.xHP>=t.minHp&&s.xHP<=t.maxHp&&s.xATK>=t.minAtk&&s.xATK<=t.maxAtk&&s.xDEF>=t.minDef&&s.xDEF<=t.maxDef&&s.xSPD>=t.minSpd&&s.xSPD<=t.maxSpd&&s.xCR>=t.minCr&&s.xCR<=t.maxCr&&s.xCD>=t.minCd&&s.xCD<=t.maxCd&&s.xEHR>=t.minEhr&&s.xEHR<=t.maxEhr&&s.xRES>=t.minRes&&s.xRES<=t.maxRes&&s.xBE>=t.minBe&&s.xBE<=t.maxBe&&s.xERR>=t.minErr&&s.xERR<=t.maxErr&&s.EHP>=t.minEhp&&s.EHP<=t.maxEhp&&s.WEIGHT>=t.minWeight&&s.WEIGHT<=t.maxWeight&&s.BASIC>=t.minBasic&&s.BASIC<=t.maxBasic&&s.SKILL>=t.minSkill&&s.SKILL<=t.maxSkill&&s.ULT>=t.minUlt&&s.ULT<=t.maxUlt&&s.FUA>=t.minFua&&s.FUA<=t.maxFua&&s.DOT>=t.minDot&&s.DOT<=t.maxDot&&s.BREAK>=t.minBreak&&s.BREAK<=t.maxBreak&&s.COMBO>=t.minCombo&&s.COMBO<=t.maxCombo&&i.push(l)}else for(let l=0;l<ea.length;l++){const s=ea[l];s[d.Stats.HP]>=t.minHp&&s[d.Stats.HP]<=t.maxHp&&s[d.Stats.ATK]>=t.minAtk&&s[d.Stats.ATK]<=t.maxAtk&&s[d.Stats.DEF]>=t.minDef&&s[d.Stats.DEF]<=t.maxDef&&s[d.Stats.SPD]>=t.minSpd&&s[d.Stats.SPD]<=t.maxSpd&&s[d.Stats.CR]>=t.minCr&&s[d.Stats.CR]<=t.maxCr&&s[d.Stats.CD]>=t.minCd&&s[d.Stats.CD]<=t.maxCd&&s[d.Stats.EHR]>=t.minEhr&&s[d.Stats.EHR]<=t.maxEhr&&s[d.Stats.RES]>=t.minRes&&s[d.Stats.RES]<=t.maxRes&&s[d.Stats.BE]>=t.minBe&&s[d.Stats.BE]<=t.maxBe&&s[d.Stats.ERR]>=t.minErr&&s[d.Stats.ERR]<=t.maxErr&&s.EHP>=t.minEhp&&s.EHP<=t.maxEhp&&s.WEIGHT>=t.minWeight&&s.WEIGHT<=t.maxWeight&&s.BASIC>=t.minBasic&&s.BASIC<=t.maxBasic&&s.SKILL>=t.minSkill&&s.SKILL<=t.maxSkill&&s.ULT>=t.minUlt&&s.ULT<=t.maxUlt&&s.FUA>=t.minFua&&s.FUA<=t.maxFua&&s.DOT>=t.minDot&&s.DOT<=t.maxDot&&s.BREAK>=t.minBreak&&s.BREAK<=t.maxBreak&&s.COMBO>=t.minCombo&&s.COMBO<=t.maxCombo&&i.push(l)}tl=i}const Di=36,mi={extractCharacter:(t,a)=>(a=a*Di,{id:t[a],[d.Stats.HP]:t[a+1],[d.Stats.ATK]:t[a+2],[d.Stats.DEF]:t[a+3],[d.Stats.SPD]:t[a+4],[d.Stats.CD]:t[a+5],[d.Stats.CR]:t[a+6],[d.Stats.EHR]:t[a+7],[d.Stats.RES]:t[a+8],[d.Stats.BE]:t[a+9],[d.Stats.ERR]:t[a+10],[d.Stats.OHB]:t[a+11],ED:t[a+12],WEIGHT:t[a+13],EHP:t[a+14],BASIC:t[a+15],SKILL:t[a+16],ULT:t[a+17],FUA:t[a+18],DOT:t[a+19],BREAK:t[a+20],COMBO:t[a+21],xHP:t[a+22],xATK:t[a+23],xDEF:t[a+24],xSPD:t[a+25],xCR:t[a+26],xCD:t[a+27],xEHR:t[a+28],xRES:t[a+29],xBE:t[a+30],xERR:t[a+31],xOHB:t[a+32],xELEMENTAL_DMG:t[a+33],relicSetIndex:t[a+34],ornamentSetIndex:t[a+35]}),extractArrayToResults:(t,a,i,l)=>{for(let s=0;s<a&&t[s*Di+1];s++){const o=mi.extractCharacter(t,s);l.fixedSizePush(o)}},packCharacter:(t,a,i)=>{a=a*Di,t[a]=i.id,t[a+1]=i[e.HP],t[a+2]=i[e.ATK],t[a+3]=i[e.DEF],t[a+4]=i[e.SPD],t[a+5]=i[e.CD],t[a+6]=i[e.CR],t[a+7]=i[e.EHR],t[a+8]=i[e.RES],t[a+9]=i[e.BE],t[a+10]=i[e.ERR],t[a+11]=i[e.OHB],t[a+12]=i.ELEMENTAL_DMG,t[a+13]=i.x.WEIGHT,t[a+14]=i.x.EHP,t[a+15]=i.x.BASIC_DMG,t[a+16]=i.x.SKILL_DMG,t[a+17]=i.x.ULT_DMG,t[a+18]=i.x.FUA_DMG,t[a+19]=i.x.DOT_DMG,t[a+20]=i.x.BREAK_DMG,t[a+21]=i.x.COMBO_DMG,t[a+22]=i.x[e.HP],t[a+23]=i.x[e.ATK],t[a+24]=i.x[e.DEF],t[a+25]=i.x[e.SPD],t[a+26]=i.x[e.CR],t[a+27]=i.x[e.CD],t[a+28]=i.x[e.EHR],t[a+29]=i.x[e.RES],t[a+30]=i.x[e.BE],t[a+31]=i.x[e.ERR],t[a+32]=i.x[e.OHB],t[a+33]=i.x.ELEMENTAL_DMG,t[a+34]=i.relicSetIndex,t[a+35]=i.ornamentSetIndex},cleanFloatBuffer:t=>{new Float64Array(t).fill(0)},createFloatBuffer:t=>new Float64Array(t*Di).buffer},nc="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IGx0PSIyLjZ2NCIscz17QVRLX1A6IkFUSyUiLEFUSzoiQVRLIixCRToiQnJlYWsgRWZmZWN0IixDRDoiQ1JJVCBETUciLENSOiJDUklUIFJhdGUiLERFRl9QOiJERUYlIixERUY6IkRFRiIsRUhSOiJFZmZlY3QgSGl0IFJhdGUiLEVSUjoiRW5lcmd5IFJlZ2VuZXJhdGlvbiBSYXRlIixGaXJlX0RNRzoiRmlyZSBETUcgQm9vc3QiLEhQX1A6IkhQJSIsSFA6IkhQIixJY2VfRE1HOiJJY2UgRE1HIEJvb3N0IixJbWFnaW5hcnlfRE1HOiJJbWFnaW5hcnkgRE1HIEJvb3N0IixMaWdodG5pbmdfRE1HOiJMaWdodG5pbmcgRE1HIEJvb3N0IixPSEI6Ik91dGdvaW5nIEhlYWxpbmcgQm9vc3QiLFBoeXNpY2FsX0RNRzoiUGh5c2ljYWwgRE1HIEJvb3N0IixRdWFudHVtX0RNRzoiUXVhbnR1bSBETUcgQm9vc3QiLFJFUzoiRWZmZWN0IFJFUyIsU1BEX1A6IlNQRCUiLFNQRDoiU1BEIixXaW5kX0RNRzoiV2luZCBETUcgQm9vc3QifSxLbj1bcy5IUF9QLHMuQVRLX1Ascy5ERUZfUCxzLkhQLHMuQVRLLHMuU1BELHMuQ1Iscy5DRCxzLkVIUixzLkJFLHMuT0hCLHMuRVJSLHMuUGh5c2ljYWxfRE1HLHMuRmlyZV9ETUcscy5JY2VfRE1HLHMuTGlnaHRuaW5nX0RNRyxzLldpbmRfRE1HLHMuUXVhbnR1bV9ETUcscy5JbWFnaW5hcnlfRE1HXSxWbj17W3MuSFBfUF06ezU6e2Jhc2U6Ni45MTIsaW5jcmVtZW50OjIuNDE5Mn0sNDp7YmFzZTo1LjUyOTYsaW5jcmVtZW50OjEuOTM1NH0sMzp7YmFzZTo0LjE0NzIsaW5jcmVtZW50OjEuNDUxNX0sMjp7YmFzZToyLjc2NDgsaW5jcmVtZW50Oi45Njc3fX0sW3MuQVRLX1BdOns1OntiYXNlOjYuOTEyLGluY3JlbWVudDoyLjQxOTJ9LDQ6e2Jhc2U6NS41Mjk2LGluY3JlbWVudDoxLjkzNTR9LDM6e2Jhc2U6NC4xNDcyLGluY3JlbWVudDoxLjQ1MTV9LDI6e2Jhc2U6Mi43NjQ4LGluY3JlbWVudDouOTY3N319LFtzLkRFRl9QXTp7NTp7YmFzZTo4LjY0LGluY3JlbWVudDozLjAyNH0sNDp7YmFzZTo2LjkxMixpbmNyZW1lbnQ6Mi40MTkyfSwzOntiYXNlOjUuMTg0LGluY3JlbWVudDoxLjgxNDR9LDI6e2Jhc2U6My40NTYsaW5jcmVtZW50OjEuMjA5Nn19LFtzLkhQXTp7NTp7YmFzZToxMTIuODk2LGluY3JlbWVudDozOS41MTM2fSw0OntiYXNlOjkwLjMxNjgsaW5jcmVtZW50OjMxLjYxMDg4fSwzOntiYXNlOjY3LjczNzYsaW5jcmVtZW50OjIzLjcwODE2fSwyOntiYXNlOjQ1LjE1ODQsaW5jcmVtZW50OjE1LjgwNTQ0fX0sW3MuQVRLXTp7NTp7YmFzZTo1Ni40NDgsaW5jcmVtZW50OjE5Ljc1Njh9LDQ6e2Jhc2U6NDUuMTU4NCxpbmNyZW1lbnQ6MTUuODA1NDR9LDM6e2Jhc2U6MzMuODY4OCxpbmNyZW1lbnQ6MTEuODU0MDh9LDI6e2Jhc2U6MjIuNTc5MixpbmNyZW1lbnQ6Ny45MDI3Mn19LFtzLlNQRF06ezU6e2Jhc2U6NC4wMzIsaW5jcmVtZW50OjEuNH0sNDp7YmFzZTozLjIyNixpbmNyZW1lbnQ6MS4xfSwzOntiYXNlOjIuNDE5LGluY3JlbWVudDoxfSwyOntiYXNlOjEuNjEzLGluY3JlbWVudDoxfX0sW3MuQ1JdOns1OntiYXNlOjUuMTg0LGluY3JlbWVudDoxLjgxNDR9LDQ6e2Jhc2U6NC4xNDcyLGluY3JlbWVudDoxLjQ1MTV9LDM6e2Jhc2U6My4xMTA0LGluY3JlbWVudDoxLjA4ODZ9LDI6e2Jhc2U6Mi4wNzM2LGluY3JlbWVudDouNzI1OH19LFtzLkNEXTp7NTp7YmFzZToxMC4zNjgsaW5jcmVtZW50OjMuNjI4OH0sNDp7YmFzZTo4LjI5NDQsaW5jcmVtZW50OjIuOTAzfSwzOntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSwyOntiYXNlOjQuMTQ3MixpbmNyZW1lbnQ6MS40NTE1fX0sW3MuRUhSXTp7NTp7YmFzZTo2LjkxMixpbmNyZW1lbnQ6Mi40MTkyfSw0OntiYXNlOjUuNTI5NixpbmNyZW1lbnQ6MS45MzU0fSwzOntiYXNlOjQuMTQ3MixpbmNyZW1lbnQ6MS40NTE1fSwyOntiYXNlOjIuNzY0OCxpbmNyZW1lbnQ6Ljk2Nzd9fSxbcy5CRV06ezU6e2Jhc2U6MTAuMzY4LGluY3JlbWVudDozLjYyODh9LDQ6e2Jhc2U6OC4yOTQ0LGluY3JlbWVudDoyLjkwM30sMzp7YmFzZTo2LjIyMDgsaW5jcmVtZW50OjIuMTc3M30sMjp7YmFzZTo0LjE0NzIsaW5jcmVtZW50OjEuNDUxNX19LFtzLkVSUl06ezU6e2Jhc2U6My4xMTA0LGluY3JlbWVudDoxLjA4ODZ9LDQ6e2Jhc2U6Mi40ODgzLGluY3JlbWVudDouODcwOX0sMzp7YmFzZToxLjg2NjIsaW5jcmVtZW50Oi42NTMyfSwyOntiYXNlOjEuMjQ0MixpbmNyZW1lbnQ6LjQzNTV9fSxbcy5PSEJdOns1OntiYXNlOjUuNTI5NixpbmNyZW1lbnQ6MS45MzU0fSw0OntiYXNlOjQuNDIzNyxpbmNyZW1lbnQ6MS41NDgzfSwzOntiYXNlOjMuMzE3OCxpbmNyZW1lbnQ6MS4xNjEyfSwyOntiYXNlOjIuMjExOCxpbmNyZW1lbnQ6Ljc3NDF9fSxbcy5QaHlzaWNhbF9ETUddOns1OntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSw0OntiYXNlOjQuOTc2NixpbmNyZW1lbnQ6MS43NDE4fSwzOntiYXNlOjMuNzMyNSxpbmNyZW1lbnQ6MS4zMDY0fSwyOntiYXNlOjIuNDg4MyxpbmNyZW1lbnQ6Ljg3MDl9fSxbcy5GaXJlX0RNR106ezU6e2Jhc2U6Ni4yMjA4LGluY3JlbWVudDoyLjE3NzN9LDQ6e2Jhc2U6NC45NzY2LGluY3JlbWVudDoxLjc0MTh9LDM6e2Jhc2U6My43MzI1LGluY3JlbWVudDoxLjMwNjR9LDI6e2Jhc2U6Mi40ODgzLGluY3JlbWVudDouODcwOX19LFtzLkljZV9ETUddOns1OntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSw0OntiYXNlOjQuOTc2NixpbmNyZW1lbnQ6MS43NDE4fSwzOntiYXNlOjMuNzMyNSxpbmNyZW1lbnQ6MS4zMDY0fSwyOntiYXNlOjIuNDg4MyxpbmNyZW1lbnQ6Ljg3MDl9fSxbcy5MaWdodG5pbmdfRE1HXTp7NTp7YmFzZTo2LjIyMDgsaW5jcmVtZW50OjIuMTc3M30sNDp7YmFzZTo0Ljk3NjYsaW5jcmVtZW50OjEuNzQxOH0sMzp7YmFzZTozLjczMjUsaW5jcmVtZW50OjEuMzA2NH0sMjp7YmFzZToyLjQ4ODMsaW5jcmVtZW50Oi44NzA5fX0sW3MuV2luZF9ETUddOns1OntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSw0OntiYXNlOjQuOTc2NixpbmNyZW1lbnQ6MS43NDE4fSwzOntiYXNlOjMuNzMyNSxpbmNyZW1lbnQ6MS4zMDY0fSwyOntiYXNlOjIuNDg4MyxpbmNyZW1lbnQ6Ljg3MDl9fSxbcy5RdWFudHVtX0RNR106ezU6e2Jhc2U6Ni4yMjA4LGluY3JlbWVudDoyLjE3NzN9LDQ6e2Jhc2U6NC45NzY2LGluY3JlbWVudDoxLjc0MTh9LDM6e2Jhc2U6My43MzI1LGluY3JlbWVudDoxLjMwNjR9LDI6e2Jhc2U6Mi40ODgzLGluY3JlbWVudDouODcwOX19LFtzLkltYWdpbmFyeV9ETUddOns1OntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSw0OntiYXNlOjQuOTc2NixpbmNyZW1lbnQ6MS43NDE4fSwzOntiYXNlOjMuNzMyNSxpbmNyZW1lbnQ6MS4zMDY0fSwyOntiYXNlOjIuNDg4MyxpbmNyZW1lbnQ6Ljg3MDl9fX0sd249W3MuSFBfUCxzLkFUS19QLHMuREVGX1Ascy5IUCxzLkFUSyxzLkRFRixzLlNQRCxzLkNSLHMuQ0Qscy5FSFIscy5SRVMscy5CRV0sem49e1tzLkhQX1BdOiJIUCAlIixbcy5BVEtfUF06IkFUSyAlIixbcy5ERUZfUF06IkRFRiAlIixbcy5TUERfUF06IlNQRCAlIixbcy5IUF06IkhQIixbcy5BVEtdOiJBVEsiLFtzLkRFRl06IkRFRiIsW3MuU1BEXToiU1BEIixbcy5DUl06IkNSSVQgUmF0ZSIsW3MuQ0RdOiJDUklUIERNRyIsW3MuRUhSXToiRWZmZWN0IEhJVCIsW3MuUkVTXToiRWZmZWN0IFJFUyIsW3MuQkVdOiJCcmVhayBFZmZlY3QiLFtzLkVSUl06IkVuZXJneSBSZWdlbiIsW3MuT0hCXToiSGVhbGluZyBCb29zdCIsW3MuUGh5c2ljYWxfRE1HXToiUGh5c2ljYWwgRE1HIixbcy5GaXJlX0RNR106IkZpcmUgRE1HIixbcy5JY2VfRE1HXToiSWNlIERNRyIsW3MuTGlnaHRuaW5nX0RNR106IkxpZ2h0bmluZyBETUciLFtzLldpbmRfRE1HXToiV2luZCBETUciLFtzLlF1YW50dW1fRE1HXToiUXVhbnR1bSBETUciLFtzLkltYWdpbmFyeV9ETUddOiJJbWFnaW5hcnkgRE1HIn0sbnQ9e0hlYWQ6IkhlYWQiLEhhbmRzOiJIYW5kcyIsQm9keToiQm9keSIsRmVldDoiRmVldCIsUGxhbmFyU3BoZXJlOiJQbGFuYXJTcGhlcmUiLExpbmtSb3BlOiJMaW5rUm9wZSJ9LCRuPXtbbnQuSGVhZF06IkhlYWQiLFtudC5IYW5kc106IkhhbmRzIixbbnQuQm9keV06IkJvZHkiLFtudC5GZWV0XToiRmVldCIsW250LlBsYW5hclNwaGVyZV06IlNwaGVyZSIsW250LkxpbmtSb3BlXToiUm9wZSJ9LFduPXtbbnQuSGVhZF06W3MuSFBdLFtudC5IYW5kc106W3MuQVRLXSxbbnQuQm9keV06W3MuSFBfUCxzLkFUS19QLHMuREVGX1Ascy5DUixzLkNELHMuT0hCLHMuRUhSXSxbbnQuRmVldF06W3MuSFBfUCxzLkFUS19QLHMuREVGX1Ascy5TUERdLFtudC5QbGFuYXJTcGhlcmVdOltzLkhQX1Ascy5BVEtfUCxzLkRFRl9QLHMuUGh5c2ljYWxfRE1HLHMuRmlyZV9ETUcscy5JY2VfRE1HLHMuTGlnaHRuaW5nX0RNRyxzLldpbmRfRE1HLHMuUXVhbnR1bV9ETUcscy5JbWFnaW5hcnlfRE1HXSxbbnQuTGlua1JvcGVdOltzLkhQX1Ascy5BVEtfUCxzLkRFRl9QLHMuQkUscy5FUlJdfSxQdD17UGFzc2VyYnlPZldhbmRlcmluZ0Nsb3VkOiJQYXNzZXJieSBvZiBXYW5kZXJpbmcgQ2xvdWQiLE11c2tldGVlck9mV2lsZFdoZWF0OiJNdXNrZXRlZXIgb2YgV2lsZCBXaGVhdCIsS25pZ2h0T2ZQdXJpdHlQYWxhY2U6IktuaWdodCBvZiBQdXJpdHkgUGFsYWNlIixIdW50ZXJPZkdsYWNpYWxGb3Jlc3Q6Ikh1bnRlciBvZiBHbGFjaWFsIEZvcmVzdCIsQ2hhbXBpb25PZlN0cmVldHdpc2VCb3hpbmc6IkNoYW1waW9uIG9mIFN0cmVldHdpc2UgQm94aW5nIixHdWFyZE9mV3V0aGVyaW5nU25vdzoiR3VhcmQgb2YgV3V0aGVyaW5nIFNub3ciLEZpcmVzbWl0aE9mTGF2YUZvcmdpbmc6IkZpcmVzbWl0aCBvZiBMYXZhLUZvcmdpbmciLEdlbml1c09mQnJpbGxpYW50U3RhcnM6Ikdlbml1cyBvZiBCcmlsbGlhbnQgU3RhcnMiLEJhbmRPZlNpenpsaW5nVGh1bmRlcjoiQmFuZCBvZiBTaXp6bGluZyBUaHVuZGVyIixFYWdsZU9mVHdpbGlnaHRMaW5lOiJFYWdsZSBvZiBUd2lsaWdodCBMaW5lIixUaGllZk9mU2hvb3RpbmdNZXRlb3I6IlRoaWVmIG9mIFNob290aW5nIE1ldGVvciIsV2FzdGVsYW5kZXJPZkJhbmRpdHJ5RGVzZXJ0OiJXYXN0ZWxhbmRlciBvZiBCYW5kaXRyeSBEZXNlcnQiLExvbmdldm91c0Rpc2NpcGxlOiJMb25nZXZvdXMgRGlzY2lwbGUiLE1lc3NlbmdlclRyYXZlcnNpbmdIYWNrZXJzcGFjZToiTWVzc2VuZ2VyIFRyYXZlcnNpbmcgSGFja2Vyc3BhY2UiLFRoZUFzaGJsYXppbmdHcmFuZER1a2U6IlRoZSBBc2hibGF6aW5nIEdyYW5kIER1a2UiLFByaXNvbmVySW5EZWVwQ29uZmluZW1lbnQ6IlByaXNvbmVyIGluIERlZXAgQ29uZmluZW1lbnQiLFBpb25lZXJEaXZlck9mRGVhZFdhdGVyczoiUGlvbmVlciBEaXZlciBvZiBEZWFkIFdhdGVycyIsV2F0Y2htYWtlck1hc3Rlck9mRHJlYW1NYWNoaW5hdGlvbnM6IldhdGNobWFrZXIsIE1hc3RlciBvZiBEcmVhbSBNYWNoaW5hdGlvbnMiLElyb25DYXZhbHJ5QWdhaW5zdFRoZVNjb3VyZ2U6Iklyb24gQ2F2YWxyeSBBZ2FpbnN0IHRoZSBTY291cmdlIixUaGVXaW5kU29hcmluZ1ZhbG9yb3VzOiJUaGUgV2luZC1Tb2FyaW5nIFZhbG9yb3VzIixTYWNlcmRvc1JlbGl2ZWRPcmRlYWw6IlNhY2VyZG9zJyBSZWxpdmVkIE9yZGVhbCIsU2Nob2xhckxvc3RJbkVydWRpdGlvbjoiU2Nob2xhciBMb3N0IGluIEVydWRpdGlvbiJ9LFV0PXtTcGFjZVNlYWxpbmdTdGF0aW9uOiJTcGFjZSBTZWFsaW5nIFN0YXRpb24iLEZsZWV0T2ZUaGVBZ2VsZXNzOiJGbGVldCBvZiB0aGUgQWdlbGVzcyIsUGFuQ29zbWljQ29tbWVyY2lhbEVudGVycHJpc2U6IlBhbi1Db3NtaWMgQ29tbWVyY2lhbCBFbnRlcnByaXNlIixCZWxvYm9nT2ZUaGVBcmNoaXRlY3RzOiJCZWxvYm9nIG9mIHRoZSBBcmNoaXRlY3RzIixDZWxlc3RpYWxEaWZmZXJlbnRpYXRvcjoiQ2VsZXN0aWFsIERpZmZlcmVudGlhdG9yIixJbmVydFNhbHNvdHRvOiJJbmVydCBTYWxzb3R0byIsVGFsaWFLaW5nZG9tT2ZCYW5kaXRyeToiVGFsaWE6IEtpbmdkb20gb2YgQmFuZGl0cnkiLFNwcmlnaHRseVZvbndhY3E6IlNwcmlnaHRseSBWb253YWNxIixSdXRpbGFudEFyZW5hOiJSdXRpbGFudCBBcmVuYSIsQnJva2VuS2VlbDoiQnJva2VuIEtlZWwiLEZpcm1hbWVudEZyb250bGluZUdsYW1vdGg6IkZpcm1hbWVudCBGcm9udGxpbmU6IEdsYW1vdGgiLFBlbmFjb255TGFuZE9mVGhlRHJlYW1zOiJQZW5hY29ueSwgTGFuZCBvZiB0aGUgRHJlYW1zIixTaWdvbmlhVGhlVW5jbGFpbWVkRGVzb2xhdGlvbjoiU2lnb25pYSwgdGhlIFVuY2xhaW1lZCBEZXNvbGF0aW9uIixJenVtb0dlbnNlaUFuZFRha2FtYURpdmluZVJlYWxtOiJJenVtbyBHZW5zZWkgYW5kIFRha2FtYSBEaXZpbmUgUmVhbG0iLER1cmFuRHluYXN0eU9mUnVubmluZ1dvbHZlczoiRHVyYW4sIER5bmFzdHkgb2YgUnVubmluZyBXb2x2ZXMiLEZvcmdlT2ZUaGVLYWxwYWduaUxhbnRlcm46IkZvcmdlIG9mIHRoZSBLYWxwYWduaSBMYW50ZXJuIixMdXNoYWthVGhlU3Vua2VuU2VhczoiTHVzaGFrYSwgdGhlIFN1bmtlbiBTZWFzIixUaGVXb25kcm91c0JhbmFuQW11c2VtZW50UGFyazoiVGhlIFdvbmRyb3VzIEJhbmFuQW11c2VtZW50IFBhcmsifSxjdD17Li4uUHQsLi4uVXR9LGxlPU9iamVjdC52YWx1ZXMoUHQpLGNlPU9iamVjdC52YWx1ZXMoVXQpLCR0PXt9O2ZvcihsZXQgdD0wO3Q8Y2UubGVuZ3RoO3QrKykkdFtjZVt0XV09dDtjb25zdCBFdD17fTtmb3IobGV0IHQ9MDt0PGxlLmxlbmd0aDt0KyspRXRbbGVbdF1dPXQ7T2JqZWN0LnZhbHVlcyhQdCkubGVuZ3RoLE9iamVjdC52YWx1ZXMoVXQpLmxlbmd0aDtjb25zdCB0dD17U2V0czpjdCxQYXJ0czpudCxTdGF0czpzLE1haW5TdGF0czpLbixNYWluU3RhdHNWYWx1ZXM6Vm4sU3ViU3RhdHM6d24sU2V0c09ybmFtZW50czpVdCxTZXRzUmVsaWNzOlB0LFNldHNSZWxpY3NOYW1lczpsZSxTZXRzT3JuYW1lbnRzTmFtZXM6Y2UsU3RhdHNUb1JlYWRhYmxlOnpuLFBhcnRzVG9SZWFkYWJsZTokbixQYXJ0c01haW5TdGF0czpXbixSZWxpY1NldFRvSW5kZXg6RXQsT3JuYW1lbnRTZXRUb0luZGV4OiR0LE1BWF9JTlQ6MjE0NzQ4MzY0NyxUSFJFQURfQlVGRkVSX0xFTkdUSDoxNWU0fSxZbj0iU2FjZXJkb3MnIFJlbGl2ZWQgT3JkZWFsIDF4Iixqbj0iU2FjZXJkb3MnIFJlbGl2ZWQgT3JkZWFsIDJ4IixXdD0zNixrZT17ZXh0cmFjdENoYXJhY3RlcjoodCxuKT0+KG49bipXdCx7aWQ6dFtuXSxbdHQuU3RhdHMuSFBdOnRbbisxXSxbdHQuU3RhdHMuQVRLXTp0W24rMl0sW3R0LlN0YXRzLkRFRl06dFtuKzNdLFt0dC5TdGF0cy5TUERdOnRbbis0XSxbdHQuU3RhdHMuQ0RdOnRbbis1XSxbdHQuU3RhdHMuQ1JdOnRbbis2XSxbdHQuU3RhdHMuRUhSXTp0W24rN10sW3R0LlN0YXRzLlJFU106dFtuKzhdLFt0dC5TdGF0cy5CRV06dFtuKzldLFt0dC5TdGF0cy5FUlJdOnRbbisxMF0sW3R0LlN0YXRzLk9IQl06dFtuKzExXSxFRDp0W24rMTJdLFdFSUdIVDp0W24rMTNdLEVIUDp0W24rMTRdLEJBU0lDOnRbbisxNV0sU0tJTEw6dFtuKzE2XSxVTFQ6dFtuKzE3XSxGVUE6dFtuKzE4XSxET1Q6dFtuKzE5XSxCUkVBSzp0W24rMjBdLENPTUJPOnRbbisyMV0seEhQOnRbbisyMl0seEFUSzp0W24rMjNdLHhERUY6dFtuKzI0XSx4U1BEOnRbbisyNV0seENSOnRbbisyNl0seENEOnRbbisyN10seEVIUjp0W24rMjhdLHhSRVM6dFtuKzI5XSx4QkU6dFtuKzMwXSx4RVJSOnRbbiszMV0seE9IQjp0W24rMzJdLHhFTEVNRU5UQUxfRE1HOnRbbiszM10scmVsaWNTZXRJbmRleDp0W24rMzRdLG9ybmFtZW50U2V0SW5kZXg6dFtuKzM1XX0pLGV4dHJhY3RBcnJheVRvUmVzdWx0czoodCxuLGUsYSk9Pntmb3IobGV0IGk9MDtpPG4mJnRbaSpXdCsxXTtpKyspe2NvbnN0IG89a2UuZXh0cmFjdENoYXJhY3Rlcih0LGkpO2EuZml4ZWRTaXplUHVzaChvKX19LHBhY2tDaGFyYWN0ZXI6KHQsbixlKT0+e249bipXdCx0W25dPWUuaWQsdFtuKzFdPWVbcy5IUF0sdFtuKzJdPWVbcy5BVEtdLHRbbiszXT1lW3MuREVGXSx0W24rNF09ZVtzLlNQRF0sdFtuKzVdPWVbcy5DRF0sdFtuKzZdPWVbcy5DUl0sdFtuKzddPWVbcy5FSFJdLHRbbis4XT1lW3MuUkVTXSx0W24rOV09ZVtzLkJFXSx0W24rMTBdPWVbcy5FUlJdLHRbbisxMV09ZVtzLk9IQl0sdFtuKzEyXT1lLkVMRU1FTlRBTF9ETUcsdFtuKzEzXT1lLnguV0VJR0hULHRbbisxNF09ZS54LkVIUCx0W24rMTVdPWUueC5CQVNJQ19ETUcsdFtuKzE2XT1lLnguU0tJTExfRE1HLHRbbisxN109ZS54LlVMVF9ETUcsdFtuKzE4XT1lLnguRlVBX0RNRyx0W24rMTldPWUueC5ET1RfRE1HLHRbbisyMF09ZS54LkJSRUFLX0RNRyx0W24rMjFdPWUueC5DT01CT19ETUcsdFtuKzIyXT1lLnhbcy5IUF0sdFtuKzIzXT1lLnhbcy5BVEtdLHRbbisyNF09ZS54W3MuREVGXSx0W24rMjVdPWUueFtzLlNQRF0sdFtuKzI2XT1lLnhbcy5DUl0sdFtuKzI3XT1lLnhbcy5DRF0sdFtuKzI4XT1lLnhbcy5FSFJdLHRbbisyOV09ZS54W3MuUkVTXSx0W24rMzBdPWUueFtzLkJFXSx0W24rMzFdPWUueFtzLkVSUl0sdFtuKzMyXT1lLnhbcy5PSEJdLHRbbiszM109ZS54LkVMRU1FTlRBTF9ETUcsdFtuKzM0XT1lLnJlbGljU2V0SW5kZXgsdFtuKzM1XT1lLm9ybmFtZW50U2V0SW5kZXh9LGNsZWFuRmxvYXRCdWZmZXI6dD0+e25ldyBGbG9hdDY0QXJyYXkodCkuZmlsbCgwKX0sY3JlYXRlRmxvYXRCdWZmZXI6dD0+bmV3IEZsb2F0NjRBcnJheSh0Kld0KS5idWZmZXJ9O2Z1bmN0aW9uIFYodCl7cmV0dXJuIHQ+PjJ9ZnVuY3Rpb24gayh0KXtyZXR1cm4gTWF0aC5taW4oMSx0Pj4xKX1jb25zdCBSPS4wNixXPTEsej0yLE89NCxNPTgsdXQ9MTYsVHQ9MzIsYmU9NjQsSm49e0JBU0lDX0RNR19UWVBFOlcsU0tJTExfRE1HX1RZUEU6eixVTFRfRE1HX1RZUEU6TyxGVUFfRE1HX1RZUEU6TSxET1RfRE1HX1RZUEU6dXQsQlJFQUtfRE1HX1RZUEU6VHQsU1VQRVJfQlJFQUtfRE1HX1RZUEU6YmUsIkhQJSI6MCwiQVRLJSI6MCwiREVGJSI6MCwiU1BEJSI6MCxIUDowLEFUSzowLERFRjowLFNQRDoxZS00LCJDUklUIERNRyI6MCwiQ1JJVCBSYXRlIjowLCJFZmZlY3QgSGl0IFJhdGUiOjAsIkVmZmVjdCBSRVMiOjAsIkJyZWFrIEVmZmVjdCI6MCwiRW5lcmd5IFJlZ2VuZXJhdGlvbiBSYXRlIjowLCJPdXRnb2luZyBIZWFsaW5nIEJvb3N0IjowLCJQaHlzaWNhbCBETUcgQm9vc3QiOjAsIkZpcmUgRE1HIEJvb3N0IjowLCJJY2UgRE1HIEJvb3N0IjowLCJMaWdodG5pbmcgRE1HIEJvb3N0IjowLCJXaW5kIERNRyBCb29zdCI6MCwiUXVhbnR1bSBETUcgQm9vc3QiOjAsIkltYWdpbmFyeSBETUcgQm9vc3QiOjAsRUxFTUVOVEFMX0RNRzowLEJBU0lDX1NDQUxJTkc6MCxTS0lMTF9TQ0FMSU5HOjAsVUxUX1NDQUxJTkc6MCxGVUFfU0NBTElORzowLERPVF9TQ0FMSU5HOjAsQkFTSUNfQ1JfQk9PU1Q6MCxTS0lMTF9DUl9CT09TVDowLFVMVF9DUl9CT09TVDowLEZVQV9DUl9CT09TVDowLEJBU0lDX0NEX0JPT1NUOjAsU0tJTExfQ0RfQk9PU1Q6MCxVTFRfQ0RfQk9PU1Q6MCxGVUFfQ0RfQk9PU1Q6MCxCQVNJQ19CT09TVDowLFNLSUxMX0JPT1NUOjAsVUxUX0JPT1NUOjAsRlVBX0JPT1NUOjAsRE9UX0JPT1NUOjAsVlVMTkVSQUJJTElUWTowLEJBU0lDX1ZVTE5FUkFCSUxJVFk6MCxTS0lMTF9WVUxORVJBQklMSVRZOjAsVUxUX1ZVTE5FUkFCSUxJVFk6MCxGVUFfVlVMTkVSQUJJTElUWTowLERPVF9WVUxORVJBQklMSVRZOjAsQlJFQUtfVlVMTkVSQUJJTElUWTowLERFRl9QRU46MCxCQVNJQ19ERUZfUEVOOjAsU0tJTExfREVGX1BFTjowLFVMVF9ERUZfUEVOOjAsRlVBX0RFRl9QRU46MCxET1RfREVGX1BFTjowLEJSRUFLX0RFRl9QRU46MCxTVVBFUl9CUkVBS19ERUZfUEVOOjAsUkVTX1BFTjowLFBIWVNJQ0FMX1JFU19QRU46MCxGSVJFX1JFU19QRU46MCxJQ0VfUkVTX1BFTjowLExJR0hUTklOR19SRVNfUEVOOjAsV0lORF9SRVNfUEVOOjAsUVVBTlRVTV9SRVNfUEVOOjAsSU1BR0lOQVJZX1JFU19QRU46MCxCQVNJQ19SRVNfUEVOOjAsU0tJTExfUkVTX1BFTjowLFVMVF9SRVNfUEVOOjAsRlVBX1JFU19QRU46MCxET1RfUkVTX1BFTjowLEJBU0lDX0RNRzowLFNLSUxMX0RNRzowLFVMVF9ETUc6MCxGVUFfRE1HOjAsRE9UX0RNRzowLEJSRUFLX0RNRzowLENPTUJPX0RNRzowLERNR19SRURfTVVMVEk6MSxFSFA6MCxET1RfQ0hBTkNFOjAsRUZGRUNUX1JFU19QRU46MCxET1RfU1BMSVQ6MCxET1RfU1RBQ0tTOjAsRU5FTVlfV0VBS05FU1NfQlJPS0VOOjAsU1VQRVJfQlJFQUtfTU9ESUZJRVI6MCxCQVNJQ19TVVBFUl9CUkVBS19NT0RJRklFUjowLFNVUEVSX0JSRUFLX0hNQ19NT0RJRklFUjowLEJBU0lDX1RPVUdITkVTU19ETUc6MCxTS0lMTF9UT1VHSE5FU1NfRE1HOjAsVUxUX1RPVUdITkVTU19ETUc6MCxGVUFfVE9VR0hORVNTX0RNRzowLEJBU0lDX09SSUdJTkFMX0RNR19CT09TVDowLFNLSUxMX09SSUdJTkFMX0RNR19CT09TVDowLFVMVF9PUklHSU5BTF9ETUdfQk9PU1Q6MCxCQVNJQ19CUkVBS19ETUdfTU9ESUZJRVI6MCxVTFRfQ0RfT1ZFUlJJREU6MCxVTFRfQk9PU1RTX01VTFRJOjEsUkFUSU9fQkFTRURfSFBfQlVGRjowLFJBVElPX0JBU0VEX0hQX1BfQlVGRjowLFJBVElPX0JBU0VEX0FUS19CVUZGOjAsUkFUSU9fQkFTRURfQVRLX1BfQlVGRjowLFJBVElPX0JBU0VEX0RFRl9CVUZGOjAsUkFUSU9fQkFTRURfREVGX1BfQlVGRjowLFJBVElPX0JBU0VEX1NQRF9CVUZGOjAsUkFUSU9fQkFTRURfQ0RfQlVGRjowLEJSRUFLX0VGRklDSUVOQ1lfQk9PU1Q6MCxCQVNJQ19CUkVBS19FRkZJQ0lFTkNZX0JPT1NUOjAsVUxUX0JSRUFLX0VGRklDSUVOQ1lfQk9PU1Q6MCxzZXRzOnt9LFdFSUdIVDowfSx5ZT0odCxuPTgpPT57Y29uc3QgZT1NYXRoLnBvdygxMCxuKTtyZXR1cm4gTWF0aC5yb3VuZCh0KmUpL2V9LGh0PSh0LG4sZSk9Pntjb25zdCBhPVFuKHQuc2V0cy5UaGVBc2hibGF6aW5nR3JhbmREdWtlKSxvPS4wNipuLnNldENvbmRpdGlvbmFsc1t0dC5TZXRzLlRoZUFzaGJsYXppbmdHcmFuZER1a2VdWzFdKmEqbi5iYXNlQXRrO3JldHVybiBlKmEqbi5iYXNlQXRrLW99LEk9KHQsbik9PnQuZmluZChlPT5lLmlkPT1uKSxRbj10PT50Pj4yLFk9dD0+KG4sZSxhKT0+bj49dD9hOmUsYj17U0tJTExfVEFMRU5UXzNfVUxUX0JBU0lDXzU6e2Jhc2ljOlkoNSksc2tpbGw6WSgzKSx1bHQ6WSg1KSx0YWxlbnQ6WSgzKX0sU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzU6e2Jhc2ljOlkoMyksc2tpbGw6WSgzKSx1bHQ6WSg1KSx0YWxlbnQ6WSg1KX0sVUxUX1RBTEVOVF8zX1NLSUxMX0JBU0lDXzU6e2Jhc2ljOlkoNSksc2tpbGw6WSg1KSx1bHQ6WSgzKSx0YWxlbnQ6WSgzKX0sVUxUX0JBU0lDXzNfU0tJTExfVEFMRU5UXzU6e2Jhc2ljOlkoMyksc2tpbGw6WSg1KSx1bHQ6WSgzKSx0YWxlbnQ6WSg1KX0sU0tJTExfVUxUXzNfQkFTSUNfVEFMRU5UXzU6e2Jhc2ljOlkoNSksc2tpbGw6WSgzKSx1bHQ6WSgzKSx0YWxlbnQ6WSg1KX19O2Z1bmN0aW9uIHgodCl7dC5CQVNJQ19ETUcrPXQuQkFTSUNfU0NBTElORyp0W3MuQVRLXSx0LlNLSUxMX0RNRys9dC5TS0lMTF9TQ0FMSU5HKnRbcy5BVEtdLHQuVUxUX0RNRys9dC5VTFRfU0NBTElORyp0W3MuQVRLXSx0LkZVQV9ETUcrPXQuRlVBX1NDQUxJTkcqdFtzLkFUS10sdC5ET1RfRE1HKz10LkRPVF9TQ0FMSU5HKnRbcy5BVEtdfWZ1bmN0aW9uIEsoKXtyZXR1cm5gCnguQkFTSUNfRE1HICs9IHguQkFTSUNfU0NBTElORyAqIHguQVRLOwp4LlNLSUxMX0RNRyArPSB4LlNLSUxMX1NDQUxJTkcgKiB4LkFUSzsKeC5VTFRfRE1HICs9IHguVUxUX1NDQUxJTkcgKiB4LkFUSzsKeC5GVUFfRE1HICs9IHguRlVBX1NDQUxJTkcgKiB4LkFUSzsKeC5ET1RfRE1HICs9IHguRE9UX1NDQUxJTkcgKiB4LkFUSzsKICAgIGB9ZnVuY3Rpb24gUmUodCl7dC5CQVNJQ19ETUcrPXQuQkFTSUNfU0NBTElORyp0W3MuSFBdLHQuU0tJTExfRE1HKz10LlNLSUxMX1NDQUxJTkcqdFtzLkhQXSx0LlVMVF9ETUcrPXQuVUxUX1NDQUxJTkcqdFtzLkhQXSx0LkZVQV9ETUcrPXQuRlVBX1NDQUxJTkcqdFtzLkhQXSx0LkRPVF9ETUcrPXQuRE9UX1NDQUxJTkcqdFtzLkhQXX1mdW5jdGlvbiBHZSgpe3JldHVybmAKeC5CQVNJQ19ETUcgKz0geC5CQVNJQ19TQ0FMSU5HICogeC5IUDsKeC5TS0lMTF9ETUcgKz0geC5TS0lMTF9TQ0FMSU5HICogeC5IUDsKeC5VTFRfRE1HICs9IHguVUxUX1NDQUxJTkcgKiB4LkhQOwp4LkZVQV9ETUcgKz0geC5GVUFfU0NBTElORyAqIHguSFA7CnguRE9UX0RNRyArPSB4LkRPVF9TQ0FMSU5HICogeC5IUDsKICAgIGB9ZnVuY3Rpb24gWih0LG4sZSl7dC5CQVNJQ19ETUcrPXQuQkFTSUNfU0NBTElORyp0W3MuQVRLXSx0LlNLSUxMX0RNRys9dC5TS0lMTF9TQ0FMSU5HKnRbcy5BVEtdLHQuVUxUX0RNRys9dC5VTFRfU0NBTElORyp0W3MuQVRLXSx0LkZVQV9ETUcrPXQuRlVBX1NDQUxJTkcqKHRbcy5BVEtdK2h0KHQsbixlKSksdC5ET1RfRE1HKz10LkRPVF9TQ0FMSU5HKnRbcy5BVEtdfWZ1bmN0aW9uIHEodCl7cmV0dXJuYAp4LkJBU0lDX0RNRyArPSB4LkJBU0lDX1NDQUxJTkcgKiB4LkFUSzsKeC5TS0lMTF9ETUcgKz0geC5TS0lMTF9TQ0FMSU5HICogeC5BVEs7CnguVUxUX0RNRyArPSB4LlVMVF9TQ0FMSU5HICogeC5BVEs7CnguRlVBX0RNRyArPSB4LkZVQV9TQ0FMSU5HICogKHguQVRLICsgY2FsY3VsYXRlQXNoYmxhemluZ1NldChwX3gsIHBfc3RhdGUsICR7dH0pKTsKeC5ET1RfRE1HICs9IHguRE9UX1NDQUxJTkcgKiB4LkFUSzsKICAgIGB9ZnVuY3Rpb24geSh0LG4sZSxhKXthIT09ITEmJihuJnQuQkFTSUNfRE1HX1RZUEUmJih0LkJBU0lDX0JPT1NUKz1lKSxuJnQuU0tJTExfRE1HX1RZUEUmJih0LlNLSUxMX0JPT1NUKz1lKSxuJnQuVUxUX0RNR19UWVBFJiYodC5VTFRfQk9PU1QrPWUpLG4mdC5GVUFfRE1HX1RZUEUmJih0LkZVQV9CT09TVCs9ZSksbiZ0LkRPVF9ETUdfVFlQRSYmKHQuRE9UX0JPT1NUKz1lKSl9ZnVuY3Rpb24gYXQodCxuLGUsYSl7YSE9PSExJiYobiZ0LkJBU0lDX0RNR19UWVBFJiYodC5CQVNJQ19WVUxORVJBQklMSVRZKz1lKSxuJnQuU0tJTExfRE1HX1RZUEUmJih0LlNLSUxMX1ZVTE5FUkFCSUxJVFkrPWUpLG4mdC5VTFRfRE1HX1RZUEUmJih0LlVMVF9WVUxORVJBQklMSVRZKz1lKSxuJnQuRlVBX0RNR19UWVBFJiYodC5GVUFfVlVMTkVSQUJJTElUWSs9ZSksbiZ0LkRPVF9ETUdfVFlQRSYmKHQuRE9UX1ZVTE5FUkFCSUxJVFkrPWUpLG4mdC5CUkVBS19ETUdfVFlQRSYmKHQuQlJFQUtfVlVMTkVSQUJJTElUWSs9ZSkpfWZ1bmN0aW9uIEl0KHQsbixlLGEpe2EhPT0hMSYmKG4mdC5CQVNJQ19ETUdfVFlQRSYmKHQuQkFTSUNfUkVTX1BFTis9ZSksbiZ0LlNLSUxMX0RNR19UWVBFJiYodC5TS0lMTF9SRVNfUEVOKz1lKSxuJnQuVUxUX0RNR19UWVBFJiYodC5VTFRfUkVTX1BFTis9ZSksbiZ0LkZVQV9ETUdfVFlQRSYmKHQuRlVBX1JFU19QRU4rPWUpLG4mdC5ET1RfRE1HX1RZUEUmJih0LkRPVF9SRVNfUEVOKz1lKSl9ZnVuY3Rpb24gb3QodCxuLGUsYSl7YSE9PSExJiYobiZ0LkJBU0lDX0RNR19UWVBFJiYodC5CQVNJQ19ERUZfUEVOKz1lKSxuJnQuU0tJTExfRE1HX1RZUEUmJih0LlNLSUxMX0RFRl9QRU4rPWUpLG4mdC5VTFRfRE1HX1RZUEUmJih0LlVMVF9ERUZfUEVOKz1lKSxuJnQuRlVBX0RNR19UWVBFJiYodC5GVUFfREVGX1BFTis9ZSksbiZ0LkRPVF9ETUdfVFlQRSYmKHQuRE9UX0RFRl9QRU4rPWUpLG4mdC5CUkVBS19ETUdfVFlQRSYmKHQuQlJFQUtfREVGX1BFTis9ZSksbiZ0LlNVUEVSX0JSRUFLX0RNR19UWVBFJiYodC5TVVBFUl9CUkVBS19ERUZfUEVOKz1lKSl9ZnVuY3Rpb24gdWUodCxuLGUsYSl7YSE9PSExJiYobiZ0LkJBU0lDX0RNR19UWVBFJiYodC5CQVNJQ19DUl9CT09TVCs9ZSksbiZ0LlNLSUxMX0RNR19UWVBFJiYodC5TS0lMTF9DUl9CT09TVCs9ZSksbiZ0LlVMVF9ETUdfVFlQRSYmKHQuVUxUX0NSX0JPT1NUKz1lKSxuJnQuRlVBX0RNR19UWVBFJiYodC5GVUFfQ1JfQk9PU1QrPWUpKX1mdW5jdGlvbiBmdCh0LG4sZSxhKXthIT09ITEmJihuJnQuQkFTSUNfRE1HX1RZUEUmJih0LkJBU0lDX0NEX0JPT1NUKz1lKSxuJnQuU0tJTExfRE1HX1RZUEUmJih0LlNLSUxMX0NEX0JPT1NUKz1lKSxuJnQuVUxUX0RNR19UWVBFJiYodC5VTFRfQ0RfQk9PU1QrPWUpLG4mdC5GVUFfRE1HX1RZUEUmJih0LkZVQV9DRF9CT09TVCs9ZSkpfWNvbnN0IFhuPXt0eXBlOiJsb2dnZXIiLGxvZyh0KXt0aGlzLm91dHB1dCgibG9nIix0KX0sd2Fybih0KXt0aGlzLm91dHB1dCgid2FybiIsdCl9LGVycm9yKHQpe3RoaXMub3V0cHV0KCJlcnJvciIsdCl9LG91dHB1dCh0LG4pe2NvbnNvbGUmJmNvbnNvbGVbdF0mJmNvbnNvbGVbdF0uYXBwbHkoY29uc29sZSxuKX19O2NsYXNzIFl0e2NvbnN0cnVjdG9yKG4pe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fTt0aGlzLmluaXQobixlKX1pbml0KG4pe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fTt0aGlzLnByZWZpeD1lLnByZWZpeHx8ImkxOG5leHQ6Iix0aGlzLmxvZ2dlcj1ufHxYbix0aGlzLm9wdGlvbnM9ZSx0aGlzLmRlYnVnPWUuZGVidWd9bG9nKCl7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkobiksYT0wO2E8bjthKyspZVthXT1hcmd1bWVudHNbYV07cmV0dXJuIHRoaXMuZm9yd2FyZChlLCJsb2ciLCIiLCEwKX13YXJuKCl7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkobiksYT0wO2E8bjthKyspZVthXT1hcmd1bWVudHNbYV07cmV0dXJuIHRoaXMuZm9yd2FyZChlLCJ3YXJuIiwiIiwhMCl9ZXJyb3IoKXtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheShuKSxhPTA7YTxuO2ErKyllW2FdPWFyZ3VtZW50c1thXTtyZXR1cm4gdGhpcy5mb3J3YXJkKGUsImVycm9yIiwiIil9ZGVwcmVjYXRlKCl7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkobiksYT0wO2E8bjthKyspZVthXT1hcmd1bWVudHNbYV07cmV0dXJuIHRoaXMuZm9yd2FyZChlLCJ3YXJuIiwiV0FSTklORyBERVBSRUNBVEVEOiAiLCEwKX1mb3J3YXJkKG4sZSxhLGkpe3JldHVybiBpJiYhdGhpcy5kZWJ1Zz9udWxsOih0eXBlb2YgblswXT09InN0cmluZyImJihuWzBdPWAke2F9JHt0aGlzLnByZWZpeH0gJHtuWzBdfWApLHRoaXMubG9nZ2VyW2VdKG4pKX1jcmVhdGUobil7cmV0dXJuIG5ldyBZdCh0aGlzLmxvZ2dlcix7cHJlZml4OmAke3RoaXMucHJlZml4fToke259OmAsLi4udGhpcy5vcHRpb25zfSl9Y2xvbmUobil7cmV0dXJuIG49bnx8dGhpcy5vcHRpb25zLG4ucHJlZml4PW4ucHJlZml4fHx0aGlzLnByZWZpeCxuZXcgWXQodGhpcy5sb2dnZXIsbil9fXZhciBydD1uZXcgWXQ7Y2xhc3MganR7Y29uc3RydWN0b3IoKXt0aGlzLm9ic2VydmVycz17fX1vbihuLGUpe3JldHVybiBuLnNwbGl0KCIgIikuZm9yRWFjaChhPT57dGhpcy5vYnNlcnZlcnNbYV18fCh0aGlzLm9ic2VydmVyc1thXT1uZXcgTWFwKTtjb25zdCBpPXRoaXMub2JzZXJ2ZXJzW2FdLmdldChlKXx8MDt0aGlzLm9ic2VydmVyc1thXS5zZXQoZSxpKzEpfSksdGhpc31vZmYobixlKXtpZih0aGlzLm9ic2VydmVyc1tuXSl7aWYoIWUpe2RlbGV0ZSB0aGlzLm9ic2VydmVyc1tuXTtyZXR1cm59dGhpcy5vYnNlcnZlcnNbbl0uZGVsZXRlKGUpfX1lbWl0KG4pe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLGE9bmV3IEFycmF5KGU+MT9lLTE6MCksaT0xO2k8ZTtpKyspYVtpLTFdPWFyZ3VtZW50c1tpXTt0aGlzLm9ic2VydmVyc1tuXSYmQXJyYXkuZnJvbSh0aGlzLm9ic2VydmVyc1tuXS5lbnRyaWVzKCkpLmZvckVhY2gocj0+e2xldFtkLFNdPXI7Zm9yKGxldCBDPTA7QzxTO0MrKylkKC4uLmEpfSksdGhpcy5vYnNlcnZlcnNbIioiXSYmQXJyYXkuZnJvbSh0aGlzLm9ic2VydmVyc1siKiJdLmVudHJpZXMoKSkuZm9yRWFjaChyPT57bGV0W2QsU109cjtmb3IobGV0IEM9MDtDPFM7QysrKWQuYXBwbHkoZCxbbiwuLi5hXSl9KX19Y29uc3QgRnQ9KCk9PntsZXQgdCxuO2NvbnN0IGU9bmV3IFByb21pc2UoKGEsaSk9Pnt0PWEsbj1pfSk7cmV0dXJuIGUucmVzb2x2ZT10LGUucmVqZWN0PW4sZX0sTWU9dD0+dD09bnVsbD8iIjoiIit0LFpuPSh0LG4sZSk9Pnt0LmZvckVhY2goYT0+e25bYV0mJihlW2FdPW5bYV0pfSl9LHFuPS8jIyMvZyx2ZT10PT50JiZ0LmluZGV4T2YoIiMjIyIpPi0xP3QucmVwbGFjZShxbiwiLiIpOnQsTmU9dD0+IXR8fHR5cGVvZiB0PT0ic3RyaW5nIixIdD0odCxuLGUpPT57Y29uc3QgYT10eXBlb2YgbiE9InN0cmluZyI/bjpuLnNwbGl0KCIuIik7bGV0IGk9MDtmb3IoO2k8YS5sZW5ndGgtMTspe2lmKE5lKHQpKXJldHVybnt9O2NvbnN0IG89dmUoYVtpXSk7IXRbb10mJmUmJih0W29dPW5ldyBlKSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKT90PXRbb106dD17fSwrK2l9cmV0dXJuIE5lKHQpP3t9OntvYmo6dCxrOnZlKGFbaV0pfX0sT2U9KHQsbixlKT0+e2NvbnN0e29iajphLGs6aX09SHQodCxuLE9iamVjdCk7aWYoYSE9PXZvaWQgMHx8bi5sZW5ndGg9PT0xKXthW2ldPWU7cmV0dXJufWxldCBvPW5bbi5sZW5ndGgtMV0scj1uLnNsaWNlKDAsbi5sZW5ndGgtMSksZD1IdCh0LHIsT2JqZWN0KTtmb3IoO2Qub2JqPT09dm9pZCAwJiZyLmxlbmd0aDspbz1gJHtyW3IubGVuZ3RoLTFdfS4ke299YCxyPXIuc2xpY2UoMCxyLmxlbmd0aC0xKSxkPUh0KHQscixPYmplY3QpLGQmJmQub2JqJiZ0eXBlb2YgZC5vYmpbYCR7ZC5rfS4ke299YF08InUiJiYoZC5vYmo9dm9pZCAwKTtkLm9ialtgJHtkLmt9LiR7b31gXT1lfSx0aT0odCxuLGUsYSk9Pntjb25zdHtvYmo6aSxrOm99PUh0KHQsbixPYmplY3QpO2lbb109aVtvXXx8W10saVtvXS5wdXNoKGUpfSxKdD0odCxuKT0+e2NvbnN0e29iajplLGs6YX09SHQodCxuKTtpZihlKXJldHVybiBlW2FdfSxlaT0odCxuLGUpPT57Y29uc3QgYT1KdCh0LGUpO3JldHVybiBhIT09dm9pZCAwP2E6SnQobixlKX0sUGU9KHQsbixlKT0+e2Zvcihjb25zdCBhIGluIG4pYSE9PSJfX3Byb3RvX18iJiZhIT09ImNvbnN0cnVjdG9yIiYmKGEgaW4gdD90eXBlb2YgdFthXT09InN0cmluZyJ8fHRbYV1pbnN0YW5jZW9mIFN0cmluZ3x8dHlwZW9mIG5bYV09PSJzdHJpbmcifHxuW2FdaW5zdGFuY2VvZiBTdHJpbmc/ZSYmKHRbYV09blthXSk6UGUodFthXSxuW2FdLGUpOnRbYV09blthXSk7cmV0dXJuIHR9LEx0PXQ9PnQucmVwbGFjZSgvW1wtXFtcXVwvXHtcfVwoXClcKlwrXD9cLlxcXF5cJFx8XS9nLCJcXCQmIik7dmFyIG5pPXsiJiI6IiZhbXA7IiwiPCI6IiZsdDsiLCI+IjoiJmd0OyIsJyInOiImcXVvdDsiLCInIjoiJiMzOTsiLCIvIjoiJiN4MkY7In07Y29uc3QgaWk9dD0+dHlwZW9mIHQ9PSJzdHJpbmciP3QucmVwbGFjZSgvWyY8PiInXC9dL2csbj0+bmlbbl0pOnQ7Y2xhc3MgYWl7Y29uc3RydWN0b3Iobil7dGhpcy5jYXBhY2l0eT1uLHRoaXMucmVnRXhwTWFwPW5ldyBNYXAsdGhpcy5yZWdFeHBRdWV1ZT1bXX1nZXRSZWdFeHAobil7Y29uc3QgZT10aGlzLnJlZ0V4cE1hcC5nZXQobik7aWYoZSE9PXZvaWQgMClyZXR1cm4gZTtjb25zdCBhPW5ldyBSZWdFeHAobik7cmV0dXJuIHRoaXMucmVnRXhwUXVldWUubGVuZ3RoPT09dGhpcy5jYXBhY2l0eSYmdGhpcy5yZWdFeHBNYXAuZGVsZXRlKHRoaXMucmVnRXhwUXVldWUuc2hpZnQoKSksdGhpcy5yZWdFeHBNYXAuc2V0KG4sYSksdGhpcy5yZWdFeHBRdWV1ZS5wdXNoKG4pLGF9fWNvbnN0IG9pPVsiICIsIiwiLCI/IiwiISIsIjsiXSxyaT1uZXcgYWkoMjApLHNpPSh0LG4sZSk9PntuPW58fCIiLGU9ZXx8IiI7Y29uc3QgYT1vaS5maWx0ZXIocj0+bi5pbmRleE9mKHIpPDAmJmUuaW5kZXhPZihyKTwwKTtpZihhLmxlbmd0aD09PTApcmV0dXJuITA7Y29uc3QgaT1yaS5nZXRSZWdFeHAoYCgke2EubWFwKHI9PnI9PT0iPyI/IlxcPyI6cikuam9pbigifCIpfSlgKTtsZXQgbz0haS50ZXN0KHQpO2lmKCFvKXtjb25zdCByPXQuaW5kZXhPZihlKTtyPjAmJiFpLnRlc3QodC5zdWJzdHJpbmcoMCxyKSkmJihvPSEwKX1yZXR1cm4gb30sZmU9ZnVuY3Rpb24odCxuKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXZvaWQgMD9hcmd1bWVudHNbMl06Ii4iO2lmKCF0KXJldHVybjtpZih0W25dKXJldHVybiB0W25dO2NvbnN0IGE9bi5zcGxpdChlKTtsZXQgaT10O2ZvcihsZXQgbz0wO288YS5sZW5ndGg7KXtpZighaXx8dHlwZW9mIGkhPSJvYmplY3QiKXJldHVybjtsZXQgcixkPSIiO2ZvcihsZXQgUz1vO1M8YS5sZW5ndGg7KytTKWlmKFMhPT1vJiYoZCs9ZSksZCs9YVtTXSxyPWlbZF0sciE9PXZvaWQgMCl7aWYoWyJzdHJpbmciLCJudW1iZXIiLCJib29sZWFuIl0uaW5kZXhPZih0eXBlb2Ygcik+LTEmJlM8YS5sZW5ndGgtMSljb250aW51ZTtvKz1TLW8rMTticmVha31pPXJ9cmV0dXJuIGl9LFF0PXQ9PnQmJnQuaW5kZXhPZigiXyIpPjA/dC5yZXBsYWNlKCJfIiwiLSIpOnQ7Y2xhc3MgVWUgZXh0ZW5kcyBqdHtjb25zdHJ1Y3RvcihuKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06e25zOlsidHJhbnNsYXRpb24iXSxkZWZhdWx0TlM6InRyYW5zbGF0aW9uIn07c3VwZXIoKSx0aGlzLmRhdGE9bnx8e30sdGhpcy5vcHRpb25zPWUsdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcj09PXZvaWQgMCYmKHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3I9Ii4iKSx0aGlzLm9wdGlvbnMuaWdub3JlSlNPTlN0cnVjdHVyZT09PXZvaWQgMCYmKHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlPSEwKX1hZGROYW1lc3BhY2VzKG4pe3RoaXMub3B0aW9ucy5ucy5pbmRleE9mKG4pPDAmJnRoaXMub3B0aW9ucy5ucy5wdXNoKG4pfXJlbW92ZU5hbWVzcGFjZXMobil7Y29uc3QgZT10aGlzLm9wdGlvbnMubnMuaW5kZXhPZihuKTtlPi0xJiZ0aGlzLm9wdGlvbnMubnMuc3BsaWNlKGUsMSl9Z2V0UmVzb3VyY2UobixlLGEpe2xldCBpPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dm9pZCAwP2FyZ3VtZW50c1szXTp7fTtjb25zdCBvPWkua2V5U2VwYXJhdG9yIT09dm9pZCAwP2kua2V5U2VwYXJhdG9yOnRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3Iscj1pLmlnbm9yZUpTT05TdHJ1Y3R1cmUhPT12b2lkIDA/aS5pZ25vcmVKU09OU3RydWN0dXJlOnRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlO2xldCBkO24uaW5kZXhPZigiLiIpPi0xP2Q9bi5zcGxpdCgiLiIpOihkPVtuLGVdLGEmJihBcnJheS5pc0FycmF5KGEpP2QucHVzaCguLi5hKTp0eXBlb2YgYT09InN0cmluZyImJm8/ZC5wdXNoKC4uLmEuc3BsaXQobykpOmQucHVzaChhKSkpO2NvbnN0IFM9SnQodGhpcy5kYXRhLGQpO3JldHVybiFTJiYhZSYmIWEmJm4uaW5kZXhPZigiLiIpPi0xJiYobj1kWzBdLGU9ZFsxXSxhPWQuc2xpY2UoMikuam9pbigiLiIpKSxTfHwhcnx8dHlwZW9mIGEhPSJzdHJpbmciP1M6ZmUodGhpcy5kYXRhJiZ0aGlzLmRhdGFbbl0mJnRoaXMuZGF0YVtuXVtlXSxhLG8pfWFkZFJlc291cmNlKG4sZSxhLGkpe2xldCBvPWFyZ3VtZW50cy5sZW5ndGg+NCYmYXJndW1lbnRzWzRdIT09dm9pZCAwP2FyZ3VtZW50c1s0XTp7c2lsZW50OiExfTtjb25zdCByPW8ua2V5U2VwYXJhdG9yIT09dm9pZCAwP28ua2V5U2VwYXJhdG9yOnRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3I7bGV0IGQ9W24sZV07YSYmKGQ9ZC5jb25jYXQocj9hLnNwbGl0KHIpOmEpKSxuLmluZGV4T2YoIi4iKT4tMSYmKGQ9bi5zcGxpdCgiLiIpLGk9ZSxlPWRbMV0pLHRoaXMuYWRkTmFtZXNwYWNlcyhlKSxPZSh0aGlzLmRhdGEsZCxpKSxvLnNpbGVudHx8dGhpcy5lbWl0KCJhZGRlZCIsbixlLGEsaSl9YWRkUmVzb3VyY2VzKG4sZSxhKXtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXZvaWQgMD9hcmd1bWVudHNbM106e3NpbGVudDohMX07Zm9yKGNvbnN0IG8gaW4gYSkodHlwZW9mIGFbb109PSJzdHJpbmcifHxBcnJheS5pc0FycmF5KGFbb10pKSYmdGhpcy5hZGRSZXNvdXJjZShuLGUsbyxhW29dLHtzaWxlbnQ6ITB9KTtpLnNpbGVudHx8dGhpcy5lbWl0KCJhZGRlZCIsbixlLGEpfWFkZFJlc291cmNlQnVuZGxlKG4sZSxhLGksbyl7bGV0IHI9YXJndW1lbnRzLmxlbmd0aD41JiZhcmd1bWVudHNbNV0hPT12b2lkIDA/YXJndW1lbnRzWzVdOntzaWxlbnQ6ITEsc2tpcENvcHk6ITF9LGQ9W24sZV07bi5pbmRleE9mKCIuIik+LTEmJihkPW4uc3BsaXQoIi4iKSxpPWEsYT1lLGU9ZFsxXSksdGhpcy5hZGROYW1lc3BhY2VzKGUpO2xldCBTPUp0KHRoaXMuZGF0YSxkKXx8e307ci5za2lwQ29weXx8KGE9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhKSkpLGk/UGUoUyxhLG8pOlM9ey4uLlMsLi4uYX0sT2UodGhpcy5kYXRhLGQsUyksci5zaWxlbnR8fHRoaXMuZW1pdCgiYWRkZWQiLG4sZSxhKX1yZW1vdmVSZXNvdXJjZUJ1bmRsZShuLGUpe3RoaXMuaGFzUmVzb3VyY2VCdW5kbGUobixlKSYmZGVsZXRlIHRoaXMuZGF0YVtuXVtlXSx0aGlzLnJlbW92ZU5hbWVzcGFjZXMoZSksdGhpcy5lbWl0KCJyZW1vdmVkIixuLGUpfWhhc1Jlc291cmNlQnVuZGxlKG4sZSl7cmV0dXJuIHRoaXMuZ2V0UmVzb3VyY2UobixlKSE9PXZvaWQgMH1nZXRSZXNvdXJjZUJ1bmRsZShuLGUpe3JldHVybiBlfHwoZT10aGlzLm9wdGlvbnMuZGVmYXVsdE5TKSx0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUFQST09PSJ2MSI/ey4uLnRoaXMuZ2V0UmVzb3VyY2UobixlKX06dGhpcy5nZXRSZXNvdXJjZShuLGUpfWdldERhdGFCeUxhbmd1YWdlKG4pe3JldHVybiB0aGlzLmRhdGFbbl19aGFzTGFuZ3VhZ2VTb21lVHJhbnNsYXRpb25zKG4pe2NvbnN0IGU9dGhpcy5nZXREYXRhQnlMYW5ndWFnZShuKTtyZXR1cm4hIShlJiZPYmplY3Qua2V5cyhlKXx8W10pLmZpbmQoaT0+ZVtpXSYmT2JqZWN0LmtleXMoZVtpXSkubGVuZ3RoPjApfXRvSlNPTigpe3JldHVybiB0aGlzLmRhdGF9fXZhciBGZT17cHJvY2Vzc29yczp7fSxhZGRQb3N0UHJvY2Vzc29yKHQpe3RoaXMucHJvY2Vzc29yc1t0Lm5hbWVdPXR9LGhhbmRsZSh0LG4sZSxhLGkpe3JldHVybiB0LmZvckVhY2gobz0+e3RoaXMucHJvY2Vzc29yc1tvXSYmKG49dGhpcy5wcm9jZXNzb3JzW29dLnByb2Nlc3MobixlLGEsaSkpfSksbn19O2NvbnN0IEhlPXt9O2NsYXNzIFh0IGV4dGVuZHMganR7Y29uc3RydWN0b3Iobil7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOnt9O3N1cGVyKCksWm4oWyJyZXNvdXJjZVN0b3JlIiwibGFuZ3VhZ2VVdGlscyIsInBsdXJhbFJlc29sdmVyIiwiaW50ZXJwb2xhdG9yIiwiYmFja2VuZENvbm5lY3RvciIsImkxOG5Gb3JtYXQiLCJ1dGlscyJdLG4sdGhpcyksdGhpcy5vcHRpb25zPWUsdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcj09PXZvaWQgMCYmKHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3I9Ii4iKSx0aGlzLmxvZ2dlcj1ydC5jcmVhdGUoInRyYW5zbGF0b3IiKX1jaGFuZ2VMYW5ndWFnZShuKXtuJiYodGhpcy5sYW5ndWFnZT1uKX1leGlzdHMobil7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOntpbnRlcnBvbGF0aW9uOnt9fTtpZihuPT1udWxsKXJldHVybiExO2NvbnN0IGE9dGhpcy5yZXNvbHZlKG4sZSk7cmV0dXJuIGEmJmEucmVzIT09dm9pZCAwfWV4dHJhY3RGcm9tS2V5KG4sZSl7bGV0IGE9ZS5uc1NlcGFyYXRvciE9PXZvaWQgMD9lLm5zU2VwYXJhdG9yOnRoaXMub3B0aW9ucy5uc1NlcGFyYXRvcjthPT09dm9pZCAwJiYoYT0iOiIpO2NvbnN0IGk9ZS5rZXlTZXBhcmF0b3IhPT12b2lkIDA/ZS5rZXlTZXBhcmF0b3I6dGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcjtsZXQgbz1lLm5zfHx0aGlzLm9wdGlvbnMuZGVmYXVsdE5TfHxbXTtjb25zdCByPWEmJm4uaW5kZXhPZihhKT4tMSxkPSF0aGlzLm9wdGlvbnMudXNlckRlZmluZWRLZXlTZXBhcmF0b3ImJiFlLmtleVNlcGFyYXRvciYmIXRoaXMub3B0aW9ucy51c2VyRGVmaW5lZE5zU2VwYXJhdG9yJiYhZS5uc1NlcGFyYXRvciYmIXNpKG4sYSxpKTtpZihyJiYhZCl7Y29uc3QgUz1uLm1hdGNoKHRoaXMuaW50ZXJwb2xhdG9yLm5lc3RpbmdSZWdleHApO2lmKFMmJlMubGVuZ3RoPjApcmV0dXJue2tleTpuLG5hbWVzcGFjZXM6b307Y29uc3QgQz1uLnNwbGl0KGEpOyhhIT09aXx8YT09PWkmJnRoaXMub3B0aW9ucy5ucy5pbmRleE9mKENbMF0pPi0xKSYmKG89Qy5zaGlmdCgpKSxuPUMuam9pbihpKX1yZXR1cm4gdHlwZW9mIG89PSJzdHJpbmciJiYobz1bb10pLHtrZXk6bixuYW1lc3BhY2VzOm99fXRyYW5zbGF0ZShuLGUsYSl7aWYodHlwZW9mIGUhPSJvYmplY3QiJiZ0aGlzLm9wdGlvbnMub3ZlcmxvYWRUcmFuc2xhdGlvbk9wdGlvbkhhbmRsZXImJihlPXRoaXMub3B0aW9ucy5vdmVybG9hZFRyYW5zbGF0aW9uT3B0aW9uSGFuZGxlcihhcmd1bWVudHMpKSx0eXBlb2YgZT09Im9iamVjdCImJihlPXsuLi5lfSksZXx8KGU9e30pLG49PW51bGwpcmV0dXJuIiI7QXJyYXkuaXNBcnJheShuKXx8KG49W1N0cmluZyhuKV0pO2NvbnN0IGk9ZS5yZXR1cm5EZXRhaWxzIT09dm9pZCAwP2UucmV0dXJuRGV0YWlsczp0aGlzLm9wdGlvbnMucmV0dXJuRGV0YWlscyxvPWUua2V5U2VwYXJhdG9yIT09dm9pZCAwP2Uua2V5U2VwYXJhdG9yOnRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3Ise2tleTpyLG5hbWVzcGFjZXM6ZH09dGhpcy5leHRyYWN0RnJvbUtleShuW24ubGVuZ3RoLTFdLGUpLFM9ZFtkLmxlbmd0aC0xXSxDPWUubG5nfHx0aGlzLmxhbmd1YWdlLHA9ZS5hcHBlbmROYW1lc3BhY2VUb0NJTW9kZXx8dGhpcy5vcHRpb25zLmFwcGVuZE5hbWVzcGFjZVRvQ0lNb2RlO2lmKEMmJkMudG9Mb3dlckNhc2UoKT09PSJjaW1vZGUiKXtpZihwKXtjb25zdCBFPWUubnNTZXBhcmF0b3J8fHRoaXMub3B0aW9ucy5uc1NlcGFyYXRvcjtyZXR1cm4gaT97cmVzOmAke1N9JHtFfSR7cn1gLHVzZWRLZXk6cixleGFjdFVzZWRLZXk6cix1c2VkTG5nOkMsdXNlZE5TOlMsdXNlZFBhcmFtczp0aGlzLmdldFVzZWRQYXJhbXNEZXRhaWxzKGUpfTpgJHtTfSR7RX0ke3J9YH1yZXR1cm4gaT97cmVzOnIsdXNlZEtleTpyLGV4YWN0VXNlZEtleTpyLHVzZWRMbmc6Qyx1c2VkTlM6Uyx1c2VkUGFyYW1zOnRoaXMuZ2V0VXNlZFBhcmFtc0RldGFpbHMoZSl9OnJ9Y29uc3QgQj10aGlzLnJlc29sdmUobixlKTtsZXQgdT1CJiZCLnJlcztjb25zdCBjPUImJkIudXNlZEtleXx8cixsPUImJkIuZXhhY3RVc2VkS2V5fHxyLG09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseSh1KSxmPVsiW29iamVjdCBOdW1iZXJdIiwiW29iamVjdCBGdW5jdGlvbl0iLCJbb2JqZWN0IFJlZ0V4cF0iXSxnPWUuam9pbkFycmF5cyE9PXZvaWQgMD9lLmpvaW5BcnJheXM6dGhpcy5vcHRpb25zLmpvaW5BcnJheXMsaD0hdGhpcy5pMThuRm9ybWF0fHx0aGlzLmkxOG5Gb3JtYXQuaGFuZGxlQXNPYmplY3Q7aWYoaCYmdSYmKHR5cGVvZiB1IT0ic3RyaW5nIiYmdHlwZW9mIHUhPSJib29sZWFuIiYmdHlwZW9mIHUhPSJudW1iZXIiKSYmZi5pbmRleE9mKG0pPDAmJiEodHlwZW9mIGc9PSJzdHJpbmciJiZBcnJheS5pc0FycmF5KHUpKSl7aWYoIWUucmV0dXJuT2JqZWN0cyYmIXRoaXMub3B0aW9ucy5yZXR1cm5PYmplY3RzKXt0aGlzLm9wdGlvbnMucmV0dXJuZWRPYmplY3RIYW5kbGVyfHx0aGlzLmxvZ2dlci53YXJuKCJhY2Nlc3NpbmcgYW4gb2JqZWN0IC0gYnV0IHJldHVybk9iamVjdHMgb3B0aW9ucyBpcyBub3QgZW5hYmxlZCEiKTtjb25zdCBFPXRoaXMub3B0aW9ucy5yZXR1cm5lZE9iamVjdEhhbmRsZXI/dGhpcy5vcHRpb25zLnJldHVybmVkT2JqZWN0SGFuZGxlcihjLHUsey4uLmUsbnM6ZH0pOmBrZXkgJyR7cn0gKCR7dGhpcy5sYW5ndWFnZX0pJyByZXR1cm5lZCBhbiBvYmplY3QgaW5zdGVhZCBvZiBzdHJpbmcuYDtyZXR1cm4gaT8oQi5yZXM9RSxCLnVzZWRQYXJhbXM9dGhpcy5nZXRVc2VkUGFyYW1zRGV0YWlscyhlKSxCKTpFfWlmKG8pe2NvbnN0IEU9QXJyYXkuaXNBcnJheSh1KSxUPUU/W106e30sTD1FP2w6Yztmb3IoY29uc3QgUCBpbiB1KWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh1LFApKXtjb25zdCAkPWAke0x9JHtvfSR7UH1gO1RbUF09dGhpcy50cmFuc2xhdGUoJCx7Li4uZSxqb2luQXJyYXlzOiExLG5zOmR9KSxUW1BdPT09JCYmKFRbUF09dVtQXSl9dT1UfX1lbHNlIGlmKGgmJnR5cGVvZiBnPT0ic3RyaW5nIiYmQXJyYXkuaXNBcnJheSh1KSl1PXUuam9pbihnKSx1JiYodT10aGlzLmV4dGVuZFRyYW5zbGF0aW9uKHUsbixlLGEpKTtlbHNle2xldCBFPSExLFQ9ITE7Y29uc3QgTD1lLmNvdW50IT09dm9pZCAwJiZ0eXBlb2YgZS5jb3VudCE9InN0cmluZyIsUD1YdC5oYXNEZWZhdWx0VmFsdWUoZSksJD1MP3RoaXMucGx1cmFsUmVzb2x2ZXIuZ2V0U3VmZml4KEMsZS5jb3VudCxlKToiIixEdD1lLm9yZGluYWwmJkw/dGhpcy5wbHVyYWxSZXNvbHZlci5nZXRTdWZmaXgoQyxlLmNvdW50LHtvcmRpbmFsOiExfSk6IiIsbXQ9TCYmIWUub3JkaW5hbCYmZS5jb3VudD09PTAmJnRoaXMucGx1cmFsUmVzb2x2ZXIuc2hvdWxkVXNlSW50bEFwaSgpLF90PW10JiZlW2BkZWZhdWx0VmFsdWUke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9emVyb2BdfHxlW2BkZWZhdWx0VmFsdWUkeyR9YF18fGVbYGRlZmF1bHRWYWx1ZSR7RHR9YF18fGUuZGVmYXVsdFZhbHVlOyF0aGlzLmlzVmFsaWRMb29rdXAodSkmJlAmJihFPSEwLHU9X3QpLHRoaXMuaXNWYWxpZExvb2t1cCh1KXx8KFQ9ITAsdT1yKTtjb25zdCBzZT0oZS5taXNzaW5nS2V5Tm9WYWx1ZUZhbGxiYWNrVG9LZXl8fHRoaXMub3B0aW9ucy5taXNzaW5nS2V5Tm9WYWx1ZUZhbGxiYWNrVG9LZXkpJiZUP3ZvaWQgMDp1LFN0PVAmJl90IT09dSYmdGhpcy5vcHRpb25zLnVwZGF0ZU1pc3Npbmc7aWYoVHx8RXx8U3Qpe2lmKHRoaXMubG9nZ2VyLmxvZyhTdD8idXBkYXRlS2V5IjoibWlzc2luZ0tleSIsQyxTLHIsU3Q/X3Q6dSksbyl7Y29uc3QgWD10aGlzLnJlc29sdmUocix7Li4uZSxrZXlTZXBhcmF0b3I6ITF9KTtYJiZYLnJlcyYmdGhpcy5sb2dnZXIud2FybigiU2VlbXMgdGhlIGxvYWRlZCB0cmFuc2xhdGlvbnMgd2VyZSBpbiBmbGF0IEpTT04gZm9ybWF0IGluc3RlYWQgb2YgbmVzdGVkLiBFaXRoZXIgc2V0IGtleVNlcGFyYXRvcjogZmFsc2Ugb24gaW5pdCBvciBtYWtlIHN1cmUgeW91ciB0cmFuc2xhdGlvbnMgYXJlIHB1Ymxpc2hlZCBpbiBuZXN0ZWQgZm9ybWF0LiIpfWxldCBndD1bXTtjb25zdCBBdD10aGlzLmxhbmd1YWdlVXRpbHMuZ2V0RmFsbGJhY2tDb2Rlcyh0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcsZS5sbmd8fHRoaXMubGFuZ3VhZ2UpO2lmKHRoaXMub3B0aW9ucy5zYXZlTWlzc2luZ1RvPT09ImZhbGxiYWNrIiYmQXQmJkF0WzBdKWZvcihsZXQgWD0wO1g8QXQubGVuZ3RoO1grKylndC5wdXNoKEF0W1hdKTtlbHNlIHRoaXMub3B0aW9ucy5zYXZlTWlzc2luZ1RvPT09ImFsbCI/Z3Q9dGhpcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShlLmxuZ3x8dGhpcy5sYW5ndWFnZSk6Z3QucHVzaChlLmxuZ3x8dGhpcy5sYW5ndWFnZSk7Y29uc3Qgd3Q9KFgsc3QscHQpPT57Y29uc3QgenQ9UCYmcHQhPT11P3B0OnNlO3RoaXMub3B0aW9ucy5taXNzaW5nS2V5SGFuZGxlcj90aGlzLm9wdGlvbnMubWlzc2luZ0tleUhhbmRsZXIoWCxTLHN0LHp0LFN0LGUpOnRoaXMuYmFja2VuZENvbm5lY3RvciYmdGhpcy5iYWNrZW5kQ29ubmVjdG9yLnNhdmVNaXNzaW5nJiZ0aGlzLmJhY2tlbmRDb25uZWN0b3Iuc2F2ZU1pc3NpbmcoWCxTLHN0LHp0LFN0LGUpLHRoaXMuZW1pdCgibWlzc2luZ0tleSIsWCxTLHN0LHUpfTt0aGlzLm9wdGlvbnMuc2F2ZU1pc3NpbmcmJih0aGlzLm9wdGlvbnMuc2F2ZU1pc3NpbmdQbHVyYWxzJiZMP2d0LmZvckVhY2goWD0+e2NvbnN0IHN0PXRoaXMucGx1cmFsUmVzb2x2ZXIuZ2V0U3VmZml4ZXMoWCxlKTttdCYmZVtgZGVmYXVsdFZhbHVlJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfXplcm9gXSYmc3QuaW5kZXhPZihgJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfXplcm9gKTwwJiZzdC5wdXNoKGAke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9emVyb2ApLHN0LmZvckVhY2gocHQ9Pnt3dChbWF0scitwdCxlW2BkZWZhdWx0VmFsdWUke3B0fWBdfHxfdCl9KX0pOnd0KGd0LHIsX3QpKX11PXRoaXMuZXh0ZW5kVHJhbnNsYXRpb24odSxuLGUsQixhKSxUJiZ1PT09ciYmdGhpcy5vcHRpb25zLmFwcGVuZE5hbWVzcGFjZVRvTWlzc2luZ0tleSYmKHU9YCR7U306JHtyfWApLChUfHxFKSYmdGhpcy5vcHRpb25zLnBhcnNlTWlzc2luZ0tleUhhbmRsZXImJih0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUFQSSE9PSJ2MSI/dT10aGlzLm9wdGlvbnMucGFyc2VNaXNzaW5nS2V5SGFuZGxlcih0aGlzLm9wdGlvbnMuYXBwZW5kTmFtZXNwYWNlVG9NaXNzaW5nS2V5P2Ake1N9OiR7cn1gOnIsRT91OnZvaWQgMCk6dT10aGlzLm9wdGlvbnMucGFyc2VNaXNzaW5nS2V5SGFuZGxlcih1KSl9cmV0dXJuIGk/KEIucmVzPXUsQi51c2VkUGFyYW1zPXRoaXMuZ2V0VXNlZFBhcmFtc0RldGFpbHMoZSksQik6dX1leHRlbmRUcmFuc2xhdGlvbihuLGUsYSxpLG8pe3ZhciByPXRoaXM7aWYodGhpcy5pMThuRm9ybWF0JiZ0aGlzLmkxOG5Gb3JtYXQucGFyc2Upbj10aGlzLmkxOG5Gb3JtYXQucGFyc2Uobix7Li4udGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcywuLi5hfSxhLmxuZ3x8dGhpcy5sYW5ndWFnZXx8aS51c2VkTG5nLGkudXNlZE5TLGkudXNlZEtleSx7cmVzb2x2ZWQ6aX0pO2Vsc2UgaWYoIWEuc2tpcEludGVycG9sYXRpb24pe2EuaW50ZXJwb2xhdGlvbiYmdGhpcy5pbnRlcnBvbGF0b3IuaW5pdCh7Li4uYSxpbnRlcnBvbGF0aW9uOnsuLi50aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbiwuLi5hLmludGVycG9sYXRpb259fSk7Y29uc3QgQz10eXBlb2Ygbj09InN0cmluZyImJihhJiZhLmludGVycG9sYXRpb24mJmEuaW50ZXJwb2xhdGlvbi5za2lwT25WYXJpYWJsZXMhPT12b2lkIDA/YS5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlczp0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5za2lwT25WYXJpYWJsZXMpO2xldCBwO2lmKEMpe2NvbnN0IHU9bi5tYXRjaCh0aGlzLmludGVycG9sYXRvci5uZXN0aW5nUmVnZXhwKTtwPXUmJnUubGVuZ3RofWxldCBCPWEucmVwbGFjZSYmdHlwZW9mIGEucmVwbGFjZSE9InN0cmluZyI/YS5yZXBsYWNlOmE7aWYodGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcyYmKEI9ey4uLnRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXMsLi4uQn0pLG49dGhpcy5pbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUobixCLGEubG5nfHx0aGlzLmxhbmd1YWdlfHxpLnVzZWRMbmcsYSksQyl7Y29uc3QgdT1uLm1hdGNoKHRoaXMuaW50ZXJwb2xhdG9yLm5lc3RpbmdSZWdleHApLGM9dSYmdS5sZW5ndGg7cDxjJiYoYS5uZXN0PSExKX0hYS5sbmcmJnRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJIT09InYxIiYmaSYmaS5yZXMmJihhLmxuZz10aGlzLmxhbmd1YWdlfHxpLnVzZWRMbmcpLGEubmVzdCE9PSExJiYobj10aGlzLmludGVycG9sYXRvci5uZXN0KG4sZnVuY3Rpb24oKXtmb3IodmFyIHU9YXJndW1lbnRzLmxlbmd0aCxjPW5ldyBBcnJheSh1KSxsPTA7bDx1O2wrKyljW2xdPWFyZ3VtZW50c1tsXTtyZXR1cm4gbyYmb1swXT09PWNbMF0mJiFhLmNvbnRleHQ/KHIubG9nZ2VyLndhcm4oYEl0IHNlZW1zIHlvdSBhcmUgbmVzdGluZyByZWN1cnNpdmVseSBrZXk6ICR7Y1swXX0gaW4ga2V5OiAke2VbMF19YCksbnVsbCk6ci50cmFuc2xhdGUoLi4uYyxlKX0sYSkpLGEuaW50ZXJwb2xhdGlvbiYmdGhpcy5pbnRlcnBvbGF0b3IucmVzZXQoKX1jb25zdCBkPWEucG9zdFByb2Nlc3N8fHRoaXMub3B0aW9ucy5wb3N0UHJvY2VzcyxTPXR5cGVvZiBkPT0ic3RyaW5nIj9bZF06ZDtyZXR1cm4gbiE9bnVsbCYmUyYmUy5sZW5ndGgmJmEuYXBwbHlQb3N0UHJvY2Vzc29yIT09ITEmJihuPUZlLmhhbmRsZShTLG4sZSx0aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5wb3N0UHJvY2Vzc1Bhc3NSZXNvbHZlZD97aTE4blJlc29sdmVkOnsuLi5pLHVzZWRQYXJhbXM6dGhpcy5nZXRVc2VkUGFyYW1zRGV0YWlscyhhKX0sLi4uYX06YSx0aGlzKSksbn1yZXNvbHZlKG4pe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fSxhLGksbyxyLGQ7cmV0dXJuIHR5cGVvZiBuPT0ic3RyaW5nIiYmKG49W25dKSxuLmZvckVhY2goUz0+e2lmKHRoaXMuaXNWYWxpZExvb2t1cChhKSlyZXR1cm47Y29uc3QgQz10aGlzLmV4dHJhY3RGcm9tS2V5KFMsZSkscD1DLmtleTtpPXA7bGV0IEI9Qy5uYW1lc3BhY2VzO3RoaXMub3B0aW9ucy5mYWxsYmFja05TJiYoQj1CLmNvbmNhdCh0aGlzLm9wdGlvbnMuZmFsbGJhY2tOUykpO2NvbnN0IHU9ZS5jb3VudCE9PXZvaWQgMCYmdHlwZW9mIGUuY291bnQhPSJzdHJpbmciLGM9dSYmIWUub3JkaW5hbCYmZS5jb3VudD09PTAmJnRoaXMucGx1cmFsUmVzb2x2ZXIuc2hvdWxkVXNlSW50bEFwaSgpLGw9ZS5jb250ZXh0IT09dm9pZCAwJiYodHlwZW9mIGUuY29udGV4dD09InN0cmluZyJ8fHR5cGVvZiBlLmNvbnRleHQ9PSJudW1iZXIiKSYmZS5jb250ZXh0IT09IiIsbT1lLmxuZ3M/ZS5sbmdzOnRoaXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkoZS5sbmd8fHRoaXMubGFuZ3VhZ2UsZS5mYWxsYmFja0xuZyk7Qi5mb3JFYWNoKGY9Pnt0aGlzLmlzVmFsaWRMb29rdXAoYSl8fChkPWYsIUhlW2Ake21bMF19LSR7Zn1gXSYmdGhpcy51dGlscyYmdGhpcy51dGlscy5oYXNMb2FkZWROYW1lc3BhY2UmJiF0aGlzLnV0aWxzLmhhc0xvYWRlZE5hbWVzcGFjZShkKSYmKEhlW2Ake21bMF19LSR7Zn1gXT0hMCx0aGlzLmxvZ2dlci53YXJuKGBrZXkgIiR7aX0iIGZvciBsYW5ndWFnZXMgIiR7bS5qb2luKCIsICIpfSIgd29uJ3QgZ2V0IHJlc29sdmVkIGFzIG5hbWVzcGFjZSAiJHtkfSIgd2FzIG5vdCB5ZXQgbG9hZGVkYCwiVGhpcyBtZWFucyBzb21ldGhpbmcgSVMgV1JPTkcgaW4geW91ciBzZXR1cC4gWW91IGFjY2VzcyB0aGUgdCBmdW5jdGlvbiBiZWZvcmUgaTE4bmV4dC5pbml0IC8gaTE4bmV4dC5sb2FkTmFtZXNwYWNlIC8gaTE4bmV4dC5jaGFuZ2VMYW5ndWFnZSB3YXMgZG9uZS4gV2FpdCBmb3IgdGhlIGNhbGxiYWNrIG9yIFByb21pc2UgdG8gcmVzb2x2ZSBiZWZvcmUgYWNjZXNzaW5nIGl0ISEhIikpLG0uZm9yRWFjaChnPT57aWYodGhpcy5pc1ZhbGlkTG9va3VwKGEpKXJldHVybjtyPWc7Y29uc3QgaD1bcF07aWYodGhpcy5pMThuRm9ybWF0JiZ0aGlzLmkxOG5Gb3JtYXQuYWRkTG9va3VwS2V5cyl0aGlzLmkxOG5Gb3JtYXQuYWRkTG9va3VwS2V5cyhoLHAsZyxmLGUpO2Vsc2V7bGV0IEU7dSYmKEU9dGhpcy5wbHVyYWxSZXNvbHZlci5nZXRTdWZmaXgoZyxlLmNvdW50LGUpKTtjb25zdCBUPWAke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9emVyb2AsTD1gJHt0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yfW9yZGluYWwke3RoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3J9YDtpZih1JiYoaC5wdXNoKHArRSksZS5vcmRpbmFsJiZFLmluZGV4T2YoTCk9PT0wJiZoLnB1c2gocCtFLnJlcGxhY2UoTCx0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yKSksYyYmaC5wdXNoKHArVCkpLGwpe2NvbnN0IFA9YCR7cH0ke3RoaXMub3B0aW9ucy5jb250ZXh0U2VwYXJhdG9yfSR7ZS5jb250ZXh0fWA7aC5wdXNoKFApLHUmJihoLnB1c2goUCtFKSxlLm9yZGluYWwmJkUuaW5kZXhPZihMKT09PTAmJmgucHVzaChQK0UucmVwbGFjZShMLHRoaXMub3B0aW9ucy5wbHVyYWxTZXBhcmF0b3IpKSxjJiZoLnB1c2goUCtUKSl9fWxldCBfO2Zvcig7Xz1oLnBvcCgpOyl0aGlzLmlzVmFsaWRMb29rdXAoYSl8fChvPV8sYT10aGlzLmdldFJlc291cmNlKGcsZixfLGUpKX0pKX0pfSkse3JlczphLHVzZWRLZXk6aSxleGFjdFVzZWRLZXk6byx1c2VkTG5nOnIsdXNlZE5TOmR9fWlzVmFsaWRMb29rdXAobil7cmV0dXJuIG4hPT12b2lkIDAmJiEoIXRoaXMub3B0aW9ucy5yZXR1cm5OdWxsJiZuPT09bnVsbCkmJiEoIXRoaXMub3B0aW9ucy5yZXR1cm5FbXB0eVN0cmluZyYmbj09PSIiKX1nZXRSZXNvdXJjZShuLGUsYSl7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT12b2lkIDA/YXJndW1lbnRzWzNdOnt9O3JldHVybiB0aGlzLmkxOG5Gb3JtYXQmJnRoaXMuaTE4bkZvcm1hdC5nZXRSZXNvdXJjZT90aGlzLmkxOG5Gb3JtYXQuZ2V0UmVzb3VyY2UobixlLGEsaSk6dGhpcy5yZXNvdXJjZVN0b3JlLmdldFJlc291cmNlKG4sZSxhLGkpfWdldFVzZWRQYXJhbXNEZXRhaWxzKCl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDA/YXJndW1lbnRzWzBdOnt9O2NvbnN0IGU9WyJkZWZhdWx0VmFsdWUiLCJvcmRpbmFsIiwiY29udGV4dCIsInJlcGxhY2UiLCJsbmciLCJsbmdzIiwiZmFsbGJhY2tMbmciLCJucyIsImtleVNlcGFyYXRvciIsIm5zU2VwYXJhdG9yIiwicmV0dXJuT2JqZWN0cyIsInJldHVybkRldGFpbHMiLCJqb2luQXJyYXlzIiwicG9zdFByb2Nlc3MiLCJpbnRlcnBvbGF0aW9uIl0sYT1uLnJlcGxhY2UmJnR5cGVvZiBuLnJlcGxhY2UhPSJzdHJpbmciO2xldCBpPWE/bi5yZXBsYWNlOm47aWYoYSYmdHlwZW9mIG4uY291bnQ8InUiJiYoaS5jb3VudD1uLmNvdW50KSx0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzJiYoaT17Li4udGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcywuLi5pfSksIWEpe2k9ey4uLml9O2Zvcihjb25zdCBvIG9mIGUpZGVsZXRlIGlbb119cmV0dXJuIGl9c3RhdGljIGhhc0RlZmF1bHRWYWx1ZShuKXtjb25zdCBlPSJkZWZhdWx0VmFsdWUiO2Zvcihjb25zdCBhIGluIG4paWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sYSkmJmU9PT1hLnN1YnN0cmluZygwLGUubGVuZ3RoKSYmblthXSE9PXZvaWQgMClyZXR1cm4hMDtyZXR1cm4hMX19Y29uc3QgZGU9dD0+dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpO2NsYXNzIHhle2NvbnN0cnVjdG9yKG4pe3RoaXMub3B0aW9ucz1uLHRoaXMuc3VwcG9ydGVkTG5ncz10aGlzLm9wdGlvbnMuc3VwcG9ydGVkTG5nc3x8ITEsdGhpcy5sb2dnZXI9cnQuY3JlYXRlKCJsYW5ndWFnZVV0aWxzIil9Z2V0U2NyaXB0UGFydEZyb21Db2RlKG4pe2lmKG49UXQobiksIW58fG4uaW5kZXhPZigiLSIpPDApcmV0dXJuIG51bGw7Y29uc3QgZT1uLnNwbGl0KCItIik7cmV0dXJuIGUubGVuZ3RoPT09Mnx8KGUucG9wKCksZVtlLmxlbmd0aC0xXS50b0xvd2VyQ2FzZSgpPT09IngiKT9udWxsOnRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKGUuam9pbigiLSIpKX1nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShuKXtpZihuPVF0KG4pLCFufHxuLmluZGV4T2YoIi0iKTwwKXJldHVybiBuO2NvbnN0IGU9bi5zcGxpdCgiLSIpO3JldHVybiB0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShlWzBdKX1mb3JtYXRMYW5ndWFnZUNvZGUobil7aWYodHlwZW9mIG49PSJzdHJpbmciJiZuLmluZGV4T2YoIi0iKT4tMSl7Y29uc3QgZT1bImhhbnMiLCJoYW50IiwibGF0biIsImN5cmwiLCJjYW5zIiwibW9uZyIsImFyYWIiXTtsZXQgYT1uLnNwbGl0KCItIik7cmV0dXJuIHRoaXMub3B0aW9ucy5sb3dlckNhc2VMbmc/YT1hLm1hcChpPT5pLnRvTG93ZXJDYXNlKCkpOmEubGVuZ3RoPT09Mj8oYVswXT1hWzBdLnRvTG93ZXJDYXNlKCksYVsxXT1hWzFdLnRvVXBwZXJDYXNlKCksZS5pbmRleE9mKGFbMV0udG9Mb3dlckNhc2UoKSk+LTEmJihhWzFdPWRlKGFbMV0udG9Mb3dlckNhc2UoKSkpKTphLmxlbmd0aD09PTMmJihhWzBdPWFbMF0udG9Mb3dlckNhc2UoKSxhWzFdLmxlbmd0aD09PTImJihhWzFdPWFbMV0udG9VcHBlckNhc2UoKSksYVswXSE9PSJzZ24iJiZhWzJdLmxlbmd0aD09PTImJihhWzJdPWFbMl0udG9VcHBlckNhc2UoKSksZS5pbmRleE9mKGFbMV0udG9Mb3dlckNhc2UoKSk+LTEmJihhWzFdPWRlKGFbMV0udG9Mb3dlckNhc2UoKSkpLGUuaW5kZXhPZihhWzJdLnRvTG93ZXJDYXNlKCkpPi0xJiYoYVsyXT1kZShhWzJdLnRvTG93ZXJDYXNlKCkpKSksYS5qb2luKCItIil9cmV0dXJuIHRoaXMub3B0aW9ucy5jbGVhbkNvZGV8fHRoaXMub3B0aW9ucy5sb3dlckNhc2VMbmc/bi50b0xvd2VyQ2FzZSgpOm59aXNTdXBwb3J0ZWRDb2RlKG4pe3JldHVybih0aGlzLm9wdGlvbnMubG9hZD09PSJsYW5ndWFnZU9ubHkifHx0aGlzLm9wdGlvbnMubm9uRXhwbGljaXRTdXBwb3J0ZWRMbmdzKSYmKG49dGhpcy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShuKSksIXRoaXMuc3VwcG9ydGVkTG5nc3x8IXRoaXMuc3VwcG9ydGVkTG5ncy5sZW5ndGh8fHRoaXMuc3VwcG9ydGVkTG5ncy5pbmRleE9mKG4pPi0xfWdldEJlc3RNYXRjaEZyb21Db2RlcyhuKXtpZighbilyZXR1cm4gbnVsbDtsZXQgZTtyZXR1cm4gbi5mb3JFYWNoKGE9PntpZihlKXJldHVybjtjb25zdCBpPXRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKGEpOyghdGhpcy5vcHRpb25zLnN1cHBvcnRlZExuZ3N8fHRoaXMuaXNTdXBwb3J0ZWRDb2RlKGkpKSYmKGU9aSl9KSwhZSYmdGhpcy5vcHRpb25zLnN1cHBvcnRlZExuZ3MmJm4uZm9yRWFjaChhPT57aWYoZSlyZXR1cm47Y29uc3QgaT10aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGEpO2lmKHRoaXMuaXNTdXBwb3J0ZWRDb2RlKGkpKXJldHVybiBlPWk7ZT10aGlzLm9wdGlvbnMuc3VwcG9ydGVkTG5ncy5maW5kKG89PntpZihvPT09aSlyZXR1cm4gbztpZighKG8uaW5kZXhPZigiLSIpPDAmJmkuaW5kZXhPZigiLSIpPDApJiYoby5pbmRleE9mKCItIik+MCYmaS5pbmRleE9mKCItIik8MCYmby5zdWJzdHJpbmcoMCxvLmluZGV4T2YoIi0iKSk9PT1pfHxvLmluZGV4T2YoaSk9PT0wJiZpLmxlbmd0aD4xKSlyZXR1cm4gb30pfSksZXx8KGU9dGhpcy5nZXRGYWxsYmFja0NvZGVzKHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZylbMF0pLGV9Z2V0RmFsbGJhY2tDb2RlcyhuLGUpe2lmKCFuKXJldHVybltdO2lmKHR5cGVvZiBuPT0iZnVuY3Rpb24iJiYobj1uKGUpKSx0eXBlb2Ygbj09InN0cmluZyImJihuPVtuXSksQXJyYXkuaXNBcnJheShuKSlyZXR1cm4gbjtpZighZSlyZXR1cm4gbi5kZWZhdWx0fHxbXTtsZXQgYT1uW2VdO3JldHVybiBhfHwoYT1uW3RoaXMuZ2V0U2NyaXB0UGFydEZyb21Db2RlKGUpXSksYXx8KGE9blt0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShlKV0pLGF8fChhPW5bdGhpcy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShlKV0pLGF8fChhPW4uZGVmYXVsdCksYXx8W119dG9SZXNvbHZlSGllcmFyY2h5KG4sZSl7Y29uc3QgYT10aGlzLmdldEZhbGxiYWNrQ29kZXMoZXx8dGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nfHxbXSxuKSxpPVtdLG89cj0+e3ImJih0aGlzLmlzU3VwcG9ydGVkQ29kZShyKT9pLnB1c2gocik6dGhpcy5sb2dnZXIud2FybihgcmVqZWN0aW5nIGxhbmd1YWdlIGNvZGUgbm90IGZvdW5kIGluIHN1cHBvcnRlZExuZ3M6ICR7cn1gKSl9O3JldHVybiB0eXBlb2Ygbj09InN0cmluZyImJihuLmluZGV4T2YoIi0iKT4tMXx8bi5pbmRleE9mKCJfIik+LTEpPyh0aGlzLm9wdGlvbnMubG9hZCE9PSJsYW5ndWFnZU9ubHkiJiZvKHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKG4pKSx0aGlzLm9wdGlvbnMubG9hZCE9PSJsYW5ndWFnZU9ubHkiJiZ0aGlzLm9wdGlvbnMubG9hZCE9PSJjdXJyZW50T25seSImJm8odGhpcy5nZXRTY3JpcHRQYXJ0RnJvbUNvZGUobikpLHRoaXMub3B0aW9ucy5sb2FkIT09ImN1cnJlbnRPbmx5IiYmbyh0aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKG4pKSk6dHlwZW9mIG49PSJzdHJpbmciJiZvKHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKG4pKSxhLmZvckVhY2gocj0+e2kuaW5kZXhPZihyKTwwJiZvKHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKHIpKX0pLGl9fWxldCBsaT1be2xuZ3M6WyJhY2giLCJhayIsImFtIiwiYXJuIiwiYnIiLCJmaWwiLCJndW4iLCJsbiIsIm1mZSIsIm1nIiwibWkiLCJvYyIsInB0IiwicHQtQlIiLCJ0ZyIsInRsIiwidGkiLCJ0ciIsInV6Iiwid2EiXSxucjpbMSwyXSxmYzoxfSx7bG5nczpbImFmIiwiYW4iLCJhc3QiLCJheiIsImJnIiwiYm4iLCJjYSIsImRhIiwiZGUiLCJkZXYiLCJlbCIsImVuIiwiZW8iLCJlcyIsImV0IiwiZXUiLCJmaSIsImZvIiwiZnVyIiwiZnkiLCJnbCIsImd1IiwiaGEiLCJoaSIsImh1IiwiaHkiLCJpYSIsIml0Iiwia2siLCJrbiIsImt1IiwibGIiLCJtYWkiLCJtbCIsIm1uIiwibXIiLCJuYWgiLCJuYXAiLCJuYiIsIm5lIiwibmwiLCJubiIsIm5vIiwibnNvIiwicGEiLCJwYXAiLCJwbXMiLCJwcyIsInB0LVBUIiwicm0iLCJzY28iLCJzZSIsInNpIiwic28iLCJzb24iLCJzcSIsInN2Iiwic3ciLCJ0YSIsInRlIiwidGsiLCJ1ciIsInlvIl0sbnI6WzEsMl0sZmM6Mn0se2xuZ3M6WyJheSIsImJvIiwiY2dnIiwiZmEiLCJodCIsImlkIiwiamEiLCJqYm8iLCJrYSIsImttIiwia28iLCJreSIsImxvIiwibXMiLCJzYWgiLCJzdSIsInRoIiwidHQiLCJ1ZyIsInZpIiwid28iLCJ6aCJdLG5yOlsxXSxmYzozfSx7bG5nczpbImJlIiwiYnMiLCJjbnIiLCJkeiIsImhyIiwicnUiLCJzciIsInVrIl0sbnI6WzEsMiw1XSxmYzo0fSx7bG5nczpbImFyIl0sbnI6WzAsMSwyLDMsMTEsMTAwXSxmYzo1fSx7bG5nczpbImNzIiwic2siXSxucjpbMSwyLDVdLGZjOjZ9LHtsbmdzOlsiY3NiIiwicGwiXSxucjpbMSwyLDVdLGZjOjd9LHtsbmdzOlsiY3kiXSxucjpbMSwyLDMsOF0sZmM6OH0se2xuZ3M6WyJmciJdLG5yOlsxLDJdLGZjOjl9LHtsbmdzOlsiZ2EiXSxucjpbMSwyLDMsNywxMV0sZmM6MTB9LHtsbmdzOlsiZ2QiXSxucjpbMSwyLDMsMjBdLGZjOjExfSx7bG5nczpbImlzIl0sbnI6WzEsMl0sZmM6MTJ9LHtsbmdzOlsianYiXSxucjpbMCwxXSxmYzoxM30se2xuZ3M6WyJrdyJdLG5yOlsxLDIsMyw0XSxmYzoxNH0se2xuZ3M6WyJsdCJdLG5yOlsxLDIsMTBdLGZjOjE1fSx7bG5nczpbImx2Il0sbnI6WzEsMiwwXSxmYzoxNn0se2xuZ3M6WyJtayJdLG5yOlsxLDJdLGZjOjE3fSx7bG5nczpbIm1uayJdLG5yOlswLDEsMl0sZmM6MTh9LHtsbmdzOlsibXQiXSxucjpbMSwyLDExLDIwXSxmYzoxOX0se2xuZ3M6WyJvciJdLG5yOlsyLDFdLGZjOjJ9LHtsbmdzOlsicm8iXSxucjpbMSwyLDIwXSxmYzoyMH0se2xuZ3M6WyJzbCJdLG5yOls1LDEsMiwzXSxmYzoyMX0se2xuZ3M6WyJoZSIsIml3Il0sbnI6WzEsMiwyMCwyMV0sZmM6MjJ9XSxjaT17MTp0PT4rKHQ+MSksMjp0PT4rKHQhPTEpLDM6dD0+MCw0OnQ9PnQlMTA9PTEmJnQlMTAwIT0xMT8wOnQlMTA+PTImJnQlMTA8PTQmJih0JTEwMDwxMHx8dCUxMDA+PTIwKT8xOjIsNTp0PT50PT0wPzA6dD09MT8xOnQ9PTI/Mjp0JTEwMD49MyYmdCUxMDA8PTEwPzM6dCUxMDA+PTExPzQ6NSw2OnQ9PnQ9PTE/MDp0Pj0yJiZ0PD00PzE6Miw3OnQ9PnQ9PTE/MDp0JTEwPj0yJiZ0JTEwPD00JiYodCUxMDA8MTB8fHQlMTAwPj0yMCk/MToyLDg6dD0+dD09MT8wOnQ9PTI/MTp0IT04JiZ0IT0xMT8yOjMsOTp0PT4rKHQ+PTIpLDEwOnQ9PnQ9PTE/MDp0PT0yPzE6dDw3PzI6dDwxMT8zOjQsMTE6dD0+dD09MXx8dD09MTE/MDp0PT0yfHx0PT0xMj8xOnQ+MiYmdDwyMD8yOjMsMTI6dD0+Kyh0JTEwIT0xfHx0JTEwMD09MTEpLDEzOnQ9PisodCE9PTApLDE0OnQ9PnQ9PTE/MDp0PT0yPzE6dD09Mz8yOjMsMTU6dD0+dCUxMD09MSYmdCUxMDAhPTExPzA6dCUxMD49MiYmKHQlMTAwPDEwfHx0JTEwMD49MjApPzE6MiwxNjp0PT50JTEwPT0xJiZ0JTEwMCE9MTE/MDp0IT09MD8xOjIsMTc6dD0+dD09MXx8dCUxMD09MSYmdCUxMDAhPTExPzA6MSwxODp0PT50PT0wPzA6dD09MT8xOjIsMTk6dD0+dD09MT8wOnQ9PTB8fHQlMTAwPjEmJnQlMTAwPDExPzE6dCUxMDA+MTAmJnQlMTAwPDIwPzI6MywyMDp0PT50PT0xPzA6dD09MHx8dCUxMDA+MCYmdCUxMDA8MjA/MToyLDIxOnQ9PnQlMTAwPT0xPzE6dCUxMDA9PTI/Mjp0JTEwMD09M3x8dCUxMDA9PTQ/MzowLDIyOnQ9PnQ9PTE/MDp0PT0yPzE6KHQ8MHx8dD4xMCkmJnQlMTA9PTA/MjozfTtjb25zdCB1aT1bInYxIiwidjIiLCJ2MyJdLGZpPVsidjQiXSxLZT17emVybzowLG9uZToxLHR3bzoyLGZldzozLG1hbnk6NCxvdGhlcjo1fSxkaT0oKT0+e2NvbnN0IHQ9e307cmV0dXJuIGxpLmZvckVhY2gobj0+e24ubG5ncy5mb3JFYWNoKGU9Pnt0W2VdPXtudW1iZXJzOm4ubnIscGx1cmFsczpjaVtuLmZjXX19KX0pLHR9O2NsYXNzIG1pe2NvbnN0cnVjdG9yKG4pe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fTt0aGlzLmxhbmd1YWdlVXRpbHM9bix0aGlzLm9wdGlvbnM9ZSx0aGlzLmxvZ2dlcj1ydC5jcmVhdGUoInBsdXJhbFJlc29sdmVyIiksKCF0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT058fGZpLmluY2x1ZGVzKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTikpJiYodHlwZW9mIEludGw+InUifHwhSW50bC5QbHVyYWxSdWxlcykmJih0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT049InYzIix0aGlzLmxvZ2dlci5lcnJvcigiWW91ciBlbnZpcm9ubWVudCBzZWVtcyBub3QgdG8gYmUgSW50bCBBUEkgY29tcGF0aWJsZSwgdXNlIGFuIEludGwuUGx1cmFsUnVsZXMgcG9seWZpbGwuIFdpbGwgZmFsbGJhY2sgdG8gdGhlIGNvbXBhdGliaWxpdHlKU09OIHYzIGZvcm1hdCBoYW5kbGluZy4iKSksdGhpcy5ydWxlcz1kaSgpLHRoaXMucGx1cmFsUnVsZXNDYWNoZT17fX1hZGRSdWxlKG4sZSl7dGhpcy5ydWxlc1tuXT1lfWNsZWFyQ2FjaGUoKXt0aGlzLnBsdXJhbFJ1bGVzQ2FjaGU9e319Z2V0UnVsZShuKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06e307aWYodGhpcy5zaG91bGRVc2VJbnRsQXBpKCkpdHJ5e2NvbnN0IGE9UXQobj09PSJkZXYiPyJlbiI6biksaT1lLm9yZGluYWw/Im9yZGluYWwiOiJjYXJkaW5hbCIsbz1KU09OLnN0cmluZ2lmeSh7Y2xlYW5lZENvZGU6YSx0eXBlOml9KTtpZihvIGluIHRoaXMucGx1cmFsUnVsZXNDYWNoZSlyZXR1cm4gdGhpcy5wbHVyYWxSdWxlc0NhY2hlW29dO2NvbnN0IHI9bmV3IEludGwuUGx1cmFsUnVsZXMoYSx7dHlwZTppfSk7cmV0dXJuIHRoaXMucGx1cmFsUnVsZXNDYWNoZVtvXT1yLHJ9Y2F0Y2h7cmV0dXJufXJldHVybiB0aGlzLnJ1bGVzW25dfHx0aGlzLnJ1bGVzW3RoaXMubGFuZ3VhZ2VVdGlscy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShuKV19bmVlZHNQbHVyYWwobil7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOnt9O2NvbnN0IGE9dGhpcy5nZXRSdWxlKG4sZSk7cmV0dXJuIHRoaXMuc2hvdWxkVXNlSW50bEFwaSgpP2EmJmEucmVzb2x2ZWRPcHRpb25zKCkucGx1cmFsQ2F0ZWdvcmllcy5sZW5ndGg+MTphJiZhLm51bWJlcnMubGVuZ3RoPjF9Z2V0UGx1cmFsRm9ybXNPZktleShuLGUpe2xldCBhPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dm9pZCAwP2FyZ3VtZW50c1syXTp7fTtyZXR1cm4gdGhpcy5nZXRTdWZmaXhlcyhuLGEpLm1hcChpPT5gJHtlfSR7aX1gKX1nZXRTdWZmaXhlcyhuKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06e307Y29uc3QgYT10aGlzLmdldFJ1bGUobixlKTtyZXR1cm4gYT90aGlzLnNob3VsZFVzZUludGxBcGkoKT9hLnJlc29sdmVkT3B0aW9ucygpLnBsdXJhbENhdGVnb3JpZXMuc29ydCgoaSxvKT0+S2VbaV0tS2Vbb10pLm1hcChpPT5gJHt0aGlzLm9wdGlvbnMucHJlcGVuZH0ke2Uub3JkaW5hbD9gb3JkaW5hbCR7dGhpcy5vcHRpb25zLnByZXBlbmR9YDoiIn0ke2l9YCk6YS5udW1iZXJzLm1hcChpPT50aGlzLmdldFN1ZmZpeChuLGksZSkpOltdfWdldFN1ZmZpeChuLGUpe2xldCBhPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dm9pZCAwP2FyZ3VtZW50c1syXTp7fTtjb25zdCBpPXRoaXMuZ2V0UnVsZShuLGEpO3JldHVybiBpP3RoaXMuc2hvdWxkVXNlSW50bEFwaSgpP2Ake3RoaXMub3B0aW9ucy5wcmVwZW5kfSR7YS5vcmRpbmFsP2BvcmRpbmFsJHt0aGlzLm9wdGlvbnMucHJlcGVuZH1gOiIifSR7aS5zZWxlY3QoZSl9YDp0aGlzLmdldFN1ZmZpeFJldHJvQ29tcGF0aWJsZShpLGUpOih0aGlzLmxvZ2dlci53YXJuKGBubyBwbHVyYWwgcnVsZSBmb3VuZCBmb3I6ICR7bn1gKSwiIil9Z2V0U3VmZml4UmV0cm9Db21wYXRpYmxlKG4sZSl7Y29uc3QgYT1uLm5vQWJzP24ucGx1cmFscyhlKTpuLnBsdXJhbHMoTWF0aC5hYnMoZSkpO2xldCBpPW4ubnVtYmVyc1thXTt0aGlzLm9wdGlvbnMuc2ltcGxpZnlQbHVyYWxTdWZmaXgmJm4ubnVtYmVycy5sZW5ndGg9PT0yJiZuLm51bWJlcnNbMF09PT0xJiYoaT09PTI/aT0icGx1cmFsIjppPT09MSYmKGk9IiIpKTtjb25zdCBvPSgpPT50aGlzLm9wdGlvbnMucHJlcGVuZCYmaS50b1N0cmluZygpP3RoaXMub3B0aW9ucy5wcmVwZW5kK2kudG9TdHJpbmcoKTppLnRvU3RyaW5nKCk7cmV0dXJuIHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTj09PSJ2MSI/aT09PTE/IiI6dHlwZW9mIGk9PSJudW1iZXIiP2BfcGx1cmFsXyR7aS50b1N0cmluZygpfWA6bygpOnRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTj09PSJ2MiJ8fHRoaXMub3B0aW9ucy5zaW1wbGlmeVBsdXJhbFN1ZmZpeCYmbi5udW1iZXJzLmxlbmd0aD09PTImJm4ubnVtYmVyc1swXT09PTE/bygpOnRoaXMub3B0aW9ucy5wcmVwZW5kJiZhLnRvU3RyaW5nKCk/dGhpcy5vcHRpb25zLnByZXBlbmQrYS50b1N0cmluZygpOmEudG9TdHJpbmcoKX1zaG91bGRVc2VJbnRsQXBpKCl7cmV0dXJuIXVpLmluY2x1ZGVzKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTil9fWNvbnN0IFZlPWZ1bmN0aW9uKHQsbixlKXtsZXQgYT1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXZvaWQgMD9hcmd1bWVudHNbM106Ii4iLGk9YXJndW1lbnRzLmxlbmd0aD40JiZhcmd1bWVudHNbNF0hPT12b2lkIDA/YXJndW1lbnRzWzRdOiEwLG89ZWkodCxuLGUpO3JldHVybiFvJiZpJiZ0eXBlb2YgZT09InN0cmluZyImJihvPWZlKHQsZSxhKSxvPT09dm9pZCAwJiYobz1mZShuLGUsYSkpKSxvfSxtZT10PT50LnJlcGxhY2UoL1wkL2csIiQkJCQiKTtjbGFzcyBTaXtjb25zdHJ1Y3Rvcigpe2xldCBuPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwP2FyZ3VtZW50c1swXTp7fTt0aGlzLmxvZ2dlcj1ydC5jcmVhdGUoImludGVycG9sYXRvciIpLHRoaXMub3B0aW9ucz1uLHRoaXMuZm9ybWF0PW4uaW50ZXJwb2xhdGlvbiYmbi5pbnRlcnBvbGF0aW9uLmZvcm1hdHx8KGU9PmUpLHRoaXMuaW5pdChuKX1pbml0KCl7bGV0IG49YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT12b2lkIDA/YXJndW1lbnRzWzBdOnt9O24uaW50ZXJwb2xhdGlvbnx8KG4uaW50ZXJwb2xhdGlvbj17ZXNjYXBlVmFsdWU6ITB9KTtjb25zdHtlc2NhcGU6ZSxlc2NhcGVWYWx1ZTphLHVzZVJhd1ZhbHVlVG9Fc2NhcGU6aSxwcmVmaXg6byxwcmVmaXhFc2NhcGVkOnIsc3VmZml4OmQsc3VmZml4RXNjYXBlZDpTLGZvcm1hdFNlcGFyYXRvcjpDLHVuZXNjYXBlU3VmZml4OnAsdW5lc2NhcGVQcmVmaXg6QixuZXN0aW5nUHJlZml4OnUsbmVzdGluZ1ByZWZpeEVzY2FwZWQ6YyxuZXN0aW5nU3VmZml4OmwsbmVzdGluZ1N1ZmZpeEVzY2FwZWQ6bSxuZXN0aW5nT3B0aW9uc1NlcGFyYXRvcjpmLG1heFJlcGxhY2VzOmcsYWx3YXlzRm9ybWF0Omh9PW4uaW50ZXJwb2xhdGlvbjt0aGlzLmVzY2FwZT1lIT09dm9pZCAwP2U6aWksdGhpcy5lc2NhcGVWYWx1ZT1hIT09dm9pZCAwP2E6ITAsdGhpcy51c2VSYXdWYWx1ZVRvRXNjYXBlPWkhPT12b2lkIDA/aTohMSx0aGlzLnByZWZpeD1vP0x0KG8pOnJ8fCJ7eyIsdGhpcy5zdWZmaXg9ZD9MdChkKTpTfHwifX0iLHRoaXMuZm9ybWF0U2VwYXJhdG9yPUN8fCIsIix0aGlzLnVuZXNjYXBlUHJlZml4PXA/IiI6Qnx8Ii0iLHRoaXMudW5lc2NhcGVTdWZmaXg9dGhpcy51bmVzY2FwZVByZWZpeD8iIjpwfHwiIix0aGlzLm5lc3RpbmdQcmVmaXg9dT9MdCh1KTpjfHxMdCgiJHQoIiksdGhpcy5uZXN0aW5nU3VmZml4PWw/THQobCk6bXx8THQoIikiKSx0aGlzLm5lc3RpbmdPcHRpb25zU2VwYXJhdG9yPWZ8fCIsIix0aGlzLm1heFJlcGxhY2VzPWd8fDFlMyx0aGlzLmFsd2F5c0Zvcm1hdD1oIT09dm9pZCAwP2g6ITEsdGhpcy5yZXNldFJlZ0V4cCgpfXJlc2V0KCl7dGhpcy5vcHRpb25zJiZ0aGlzLmluaXQodGhpcy5vcHRpb25zKX1yZXNldFJlZ0V4cCgpe2NvbnN0IG49KGUsYSk9PmUmJmUuc291cmNlPT09YT8oZS5sYXN0SW5kZXg9MCxlKTpuZXcgUmVnRXhwKGEsImciKTt0aGlzLnJlZ2V4cD1uKHRoaXMucmVnZXhwLGAke3RoaXMucHJlZml4fSguKz8pJHt0aGlzLnN1ZmZpeH1gKSx0aGlzLnJlZ2V4cFVuZXNjYXBlPW4odGhpcy5yZWdleHBVbmVzY2FwZSxgJHt0aGlzLnByZWZpeH0ke3RoaXMudW5lc2NhcGVQcmVmaXh9KC4rPykke3RoaXMudW5lc2NhcGVTdWZmaXh9JHt0aGlzLnN1ZmZpeH1gKSx0aGlzLm5lc3RpbmdSZWdleHA9bih0aGlzLm5lc3RpbmdSZWdleHAsYCR7dGhpcy5uZXN0aW5nUHJlZml4fSguKz8pJHt0aGlzLm5lc3RpbmdTdWZmaXh9YCl9aW50ZXJwb2xhdGUobixlLGEsaSl7bGV0IG8scixkO2NvbnN0IFM9dGhpcy5vcHRpb25zJiZ0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbiYmdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlc3x8e30sQz1jPT57aWYoYy5pbmRleE9mKHRoaXMuZm9ybWF0U2VwYXJhdG9yKTwwKXtjb25zdCBnPVZlKGUsUyxjLHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IsdGhpcy5vcHRpb25zLmlnbm9yZUpTT05TdHJ1Y3R1cmUpO3JldHVybiB0aGlzLmFsd2F5c0Zvcm1hdD90aGlzLmZvcm1hdChnLHZvaWQgMCxhLHsuLi5pLC4uLmUsaW50ZXJwb2xhdGlvbmtleTpjfSk6Z31jb25zdCBsPWMuc3BsaXQodGhpcy5mb3JtYXRTZXBhcmF0b3IpLG09bC5zaGlmdCgpLnRyaW0oKSxmPWwuam9pbih0aGlzLmZvcm1hdFNlcGFyYXRvcikudHJpbSgpO3JldHVybiB0aGlzLmZvcm1hdChWZShlLFMsbSx0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yLHRoaXMub3B0aW9ucy5pZ25vcmVKU09OU3RydWN0dXJlKSxmLGEsey4uLmksLi4uZSxpbnRlcnBvbGF0aW9ua2V5Om19KX07dGhpcy5yZXNldFJlZ0V4cCgpO2NvbnN0IHA9aSYmaS5taXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXJ8fHRoaXMub3B0aW9ucy5taXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXIsQj1pJiZpLmludGVycG9sYXRpb24mJmkuaW50ZXJwb2xhdGlvbi5za2lwT25WYXJpYWJsZXMhPT12b2lkIDA/aS5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlczp0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5za2lwT25WYXJpYWJsZXM7cmV0dXJuW3tyZWdleDp0aGlzLnJlZ2V4cFVuZXNjYXBlLHNhZmVWYWx1ZTpjPT5tZShjKX0se3JlZ2V4OnRoaXMucmVnZXhwLHNhZmVWYWx1ZTpjPT50aGlzLmVzY2FwZVZhbHVlP21lKHRoaXMuZXNjYXBlKGMpKTptZShjKX1dLmZvckVhY2goYz0+e2ZvcihkPTA7bz1jLnJlZ2V4LmV4ZWMobik7KXtjb25zdCBsPW9bMV0udHJpbSgpO2lmKHI9QyhsKSxyPT09dm9pZCAwKWlmKHR5cGVvZiBwPT0iZnVuY3Rpb24iKXtjb25zdCBmPXAobixvLGkpO3I9dHlwZW9mIGY9PSJzdHJpbmciP2Y6IiJ9ZWxzZSBpZihpJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxsKSlyPSIiO2Vsc2UgaWYoQil7cj1vWzBdO2NvbnRpbnVlfWVsc2UgdGhpcy5sb2dnZXIud2FybihgbWlzc2VkIHRvIHBhc3MgaW4gdmFyaWFibGUgJHtsfSBmb3IgaW50ZXJwb2xhdGluZyAke259YCkscj0iIjtlbHNlIHR5cGVvZiByIT0ic3RyaW5nIiYmIXRoaXMudXNlUmF3VmFsdWVUb0VzY2FwZSYmKHI9TWUocikpO2NvbnN0IG09Yy5zYWZlVmFsdWUocik7aWYobj1uLnJlcGxhY2Uob1swXSxtKSxCPyhjLnJlZ2V4Lmxhc3RJbmRleCs9ci5sZW5ndGgsYy5yZWdleC5sYXN0SW5kZXgtPW9bMF0ubGVuZ3RoKTpjLnJlZ2V4Lmxhc3RJbmRleD0wLGQrKyxkPj10aGlzLm1heFJlcGxhY2VzKWJyZWFrfX0pLG59bmVzdChuLGUpe2xldCBhPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dm9pZCAwP2FyZ3VtZW50c1syXTp7fSxpLG8scjtjb25zdCBkPShTLEMpPT57Y29uc3QgcD10aGlzLm5lc3RpbmdPcHRpb25zU2VwYXJhdG9yO2lmKFMuaW5kZXhPZihwKTwwKXJldHVybiBTO2NvbnN0IEI9Uy5zcGxpdChuZXcgUmVnRXhwKGAke3B9WyBdKntgKSk7bGV0IHU9YHske0JbMV19YDtTPUJbMF0sdT10aGlzLmludGVycG9sYXRlKHUscik7Y29uc3QgYz11Lm1hdGNoKC8nL2cpLGw9dS5tYXRjaCgvIi9nKTsoYyYmYy5sZW5ndGglMj09PTAmJiFsfHxsLmxlbmd0aCUyIT09MCkmJih1PXUucmVwbGFjZSgvJy9nLCciJykpO3RyeXtyPUpTT04ucGFyc2UodSksQyYmKHI9ey4uLkMsLi4ucn0pfWNhdGNoKG0pe3JldHVybiB0aGlzLmxvZ2dlci53YXJuKGBmYWlsZWQgcGFyc2luZyBvcHRpb25zIHN0cmluZyBpbiBuZXN0aW5nIGZvciBrZXkgJHtTfWAsbSksYCR7U30ke3B9JHt1fWB9cmV0dXJuIHIuZGVmYXVsdFZhbHVlJiZyLmRlZmF1bHRWYWx1ZS5pbmRleE9mKHRoaXMucHJlZml4KT4tMSYmZGVsZXRlIHIuZGVmYXVsdFZhbHVlLFN9O2Zvcig7aT10aGlzLm5lc3RpbmdSZWdleHAuZXhlYyhuKTspe2xldCBTPVtdO3I9ey4uLmF9LHI9ci5yZXBsYWNlJiZ0eXBlb2Ygci5yZXBsYWNlIT0ic3RyaW5nIj9yLnJlcGxhY2U6cixyLmFwcGx5UG9zdFByb2Nlc3Nvcj0hMSxkZWxldGUgci5kZWZhdWx0VmFsdWU7bGV0IEM9ITE7aWYoaVswXS5pbmRleE9mKHRoaXMuZm9ybWF0U2VwYXJhdG9yKSE9PS0xJiYhL3suKn0vLnRlc3QoaVsxXSkpe2NvbnN0IHA9aVsxXS5zcGxpdCh0aGlzLmZvcm1hdFNlcGFyYXRvcikubWFwKEI9PkIudHJpbSgpKTtpWzFdPXAuc2hpZnQoKSxTPXAsQz0hMH1pZihvPWUoZC5jYWxsKHRoaXMsaVsxXS50cmltKCksciksciksbyYmaVswXT09PW4mJnR5cGVvZiBvIT0ic3RyaW5nIilyZXR1cm4gbzt0eXBlb2YgbyE9InN0cmluZyImJihvPU1lKG8pKSxvfHwodGhpcy5sb2dnZXIud2FybihgbWlzc2VkIHRvIHJlc29sdmUgJHtpWzFdfSBmb3IgbmVzdGluZyAke259YCksbz0iIiksQyYmKG89Uy5yZWR1Y2UoKHAsQik9PnRoaXMuZm9ybWF0KHAsQixhLmxuZyx7Li4uYSxpbnRlcnBvbGF0aW9ua2V5OmlbMV0udHJpbSgpfSksby50cmltKCkpKSxuPW4ucmVwbGFjZShpWzBdLG8pLHRoaXMucmVnZXhwLmxhc3RJbmRleD0wfXJldHVybiBufX1jb25zdCBnaT10PT57bGV0IG49dC50b0xvd2VyQ2FzZSgpLnRyaW0oKTtjb25zdCBlPXt9O2lmKHQuaW5kZXhPZigiKCIpPi0xKXtjb25zdCBhPXQuc3BsaXQoIigiKTtuPWFbMF0udG9Mb3dlckNhc2UoKS50cmltKCk7Y29uc3QgaT1hWzFdLnN1YnN0cmluZygwLGFbMV0ubGVuZ3RoLTEpO249PT0iY3VycmVuY3kiJiZpLmluZGV4T2YoIjoiKTwwP2UuY3VycmVuY3l8fChlLmN1cnJlbmN5PWkudHJpbSgpKTpuPT09InJlbGF0aXZldGltZSImJmkuaW5kZXhPZigiOiIpPDA/ZS5yYW5nZXx8KGUucmFuZ2U9aS50cmltKCkpOmkuc3BsaXQoIjsiKS5mb3JFYWNoKHI9PntpZihyKXtjb25zdFtkLC4uLlNdPXIuc3BsaXQoIjoiKSxDPVMuam9pbigiOiIpLnRyaW0oKS5yZXBsYWNlKC9eJyt8JyskL2csIiIpLHA9ZC50cmltKCk7ZVtwXXx8KGVbcF09QyksQz09PSJmYWxzZSImJihlW3BdPSExKSxDPT09InRydWUiJiYoZVtwXT0hMCksaXNOYU4oQyl8fChlW3BdPXBhcnNlSW50KEMsMTApKX19KX1yZXR1cm57Zm9ybWF0TmFtZTpuLGZvcm1hdE9wdGlvbnM6ZX19LGt0PXQ9Pntjb25zdCBuPXt9O3JldHVybihlLGEsaSk9PntsZXQgbz1pO2kmJmkuaW50ZXJwb2xhdGlvbmtleSYmaS5mb3JtYXRQYXJhbXMmJmkuZm9ybWF0UGFyYW1zW2kuaW50ZXJwb2xhdGlvbmtleV0mJmlbaS5pbnRlcnBvbGF0aW9ua2V5XSYmKG89ey4uLm8sW2kuaW50ZXJwb2xhdGlvbmtleV06dm9pZCAwfSk7Y29uc3Qgcj1hK0pTT04uc3RyaW5naWZ5KG8pO2xldCBkPW5bcl07cmV0dXJuIGR8fChkPXQoUXQoYSksaSksbltyXT1kKSxkKGUpfX07Y2xhc3MgcGl7Y29uc3RydWN0b3IoKXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06e307dGhpcy5sb2dnZXI9cnQuY3JlYXRlKCJmb3JtYXR0ZXIiKSx0aGlzLm9wdGlvbnM9bix0aGlzLmZvcm1hdHM9e251bWJlcjprdCgoZSxhKT0+e2NvbnN0IGk9bmV3IEludGwuTnVtYmVyRm9ybWF0KGUsey4uLmF9KTtyZXR1cm4gbz0+aS5mb3JtYXQobyl9KSxjdXJyZW5jeTprdCgoZSxhKT0+e2NvbnN0IGk9bmV3IEludGwuTnVtYmVyRm9ybWF0KGUsey4uLmEsc3R5bGU6ImN1cnJlbmN5In0pO3JldHVybiBvPT5pLmZvcm1hdChvKX0pLGRhdGV0aW1lOmt0KChlLGEpPT57Y29uc3QgaT1uZXcgSW50bC5EYXRlVGltZUZvcm1hdChlLHsuLi5hfSk7cmV0dXJuIG89PmkuZm9ybWF0KG8pfSkscmVsYXRpdmV0aW1lOmt0KChlLGEpPT57Y29uc3QgaT1uZXcgSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXQoZSx7Li4uYX0pO3JldHVybiBvPT5pLmZvcm1hdChvLGEucmFuZ2V8fCJkYXkiKX0pLGxpc3Q6a3QoKGUsYSk9Pntjb25zdCBpPW5ldyBJbnRsLkxpc3RGb3JtYXQoZSx7Li4uYX0pO3JldHVybiBvPT5pLmZvcm1hdChvKX0pfSx0aGlzLmluaXQobil9aW5pdChuKXtjb25zdCBhPShhcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06e2ludGVycG9sYXRpb246e319KS5pbnRlcnBvbGF0aW9uO3RoaXMuZm9ybWF0U2VwYXJhdG9yPWEuZm9ybWF0U2VwYXJhdG9yP2EuZm9ybWF0U2VwYXJhdG9yOmEuZm9ybWF0U2VwYXJhdG9yfHwiLCJ9YWRkKG4sZSl7dGhpcy5mb3JtYXRzW24udG9Mb3dlckNhc2UoKS50cmltKCldPWV9YWRkQ2FjaGVkKG4sZSl7dGhpcy5mb3JtYXRzW24udG9Mb3dlckNhc2UoKS50cmltKCldPWt0KGUpfWZvcm1hdChuLGUsYSl7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT12b2lkIDA/YXJndW1lbnRzWzNdOnt9O2NvbnN0IG89ZS5zcGxpdCh0aGlzLmZvcm1hdFNlcGFyYXRvcik7aWYoby5sZW5ndGg+MSYmb1swXS5pbmRleE9mKCIoIik+MSYmb1swXS5pbmRleE9mKCIpIik8MCYmby5maW5kKGQ9PmQuaW5kZXhPZigiKSIpPi0xKSl7Y29uc3QgZD1vLmZpbmRJbmRleChTPT5TLmluZGV4T2YoIikiKT4tMSk7b1swXT1bb1swXSwuLi5vLnNwbGljZSgxLGQpXS5qb2luKHRoaXMuZm9ybWF0U2VwYXJhdG9yKX1yZXR1cm4gby5yZWR1Y2UoKGQsUyk9Pntjb25zdHtmb3JtYXROYW1lOkMsZm9ybWF0T3B0aW9uczpwfT1naShTKTtpZih0aGlzLmZvcm1hdHNbQ10pe2xldCBCPWQ7dHJ5e2NvbnN0IHU9aSYmaS5mb3JtYXRQYXJhbXMmJmkuZm9ybWF0UGFyYW1zW2kuaW50ZXJwb2xhdGlvbmtleV18fHt9LGM9dS5sb2NhbGV8fHUubG5nfHxpLmxvY2FsZXx8aS5sbmd8fGE7Qj10aGlzLmZvcm1hdHNbQ10oZCxjLHsuLi5wLC4uLmksLi4udX0pfWNhdGNoKHUpe3RoaXMubG9nZ2VyLndhcm4odSl9cmV0dXJuIEJ9ZWxzZSB0aGlzLmxvZ2dlci53YXJuKGB0aGVyZSB3YXMgbm8gZm9ybWF0IGZ1bmN0aW9uIGZvciAke0N9YCk7cmV0dXJuIGR9LG4pfX1jb25zdCBoaT0odCxuKT0+e3QucGVuZGluZ1tuXSE9PXZvaWQgMCYmKGRlbGV0ZSB0LnBlbmRpbmdbbl0sdC5wZW5kaW5nQ291bnQtLSl9O2NsYXNzIEJpIGV4dGVuZHMganR7Y29uc3RydWN0b3IobixlLGEpe2xldCBpPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dm9pZCAwP2FyZ3VtZW50c1szXTp7fTtzdXBlcigpLHRoaXMuYmFja2VuZD1uLHRoaXMuc3RvcmU9ZSx0aGlzLnNlcnZpY2VzPWEsdGhpcy5sYW5ndWFnZVV0aWxzPWEubGFuZ3VhZ2VVdGlscyx0aGlzLm9wdGlvbnM9aSx0aGlzLmxvZ2dlcj1ydC5jcmVhdGUoImJhY2tlbmRDb25uZWN0b3IiKSx0aGlzLndhaXRpbmdSZWFkcz1bXSx0aGlzLm1heFBhcmFsbGVsUmVhZHM9aS5tYXhQYXJhbGxlbFJlYWRzfHwxMCx0aGlzLnJlYWRpbmdDYWxscz0wLHRoaXMubWF4UmV0cmllcz1pLm1heFJldHJpZXM+PTA/aS5tYXhSZXRyaWVzOjUsdGhpcy5yZXRyeVRpbWVvdXQ9aS5yZXRyeVRpbWVvdXQ+PTE/aS5yZXRyeVRpbWVvdXQ6MzUwLHRoaXMuc3RhdGU9e30sdGhpcy5xdWV1ZT1bXSx0aGlzLmJhY2tlbmQmJnRoaXMuYmFja2VuZC5pbml0JiZ0aGlzLmJhY2tlbmQuaW5pdChhLGkuYmFja2VuZCxpKX1xdWV1ZUxvYWQobixlLGEsaSl7Y29uc3Qgbz17fSxyPXt9LGQ9e30sUz17fTtyZXR1cm4gbi5mb3JFYWNoKEM9PntsZXQgcD0hMDtlLmZvckVhY2goQj0+e2NvbnN0IHU9YCR7Q318JHtCfWA7IWEucmVsb2FkJiZ0aGlzLnN0b3JlLmhhc1Jlc291cmNlQnVuZGxlKEMsQik/dGhpcy5zdGF0ZVt1XT0yOnRoaXMuc3RhdGVbdV08MHx8KHRoaXMuc3RhdGVbdV09PT0xP3JbdV09PT12b2lkIDAmJihyW3VdPSEwKToodGhpcy5zdGF0ZVt1XT0xLHA9ITEsclt1XT09PXZvaWQgMCYmKHJbdV09ITApLG9bdV09PT12b2lkIDAmJihvW3VdPSEwKSxTW0JdPT09dm9pZCAwJiYoU1tCXT0hMCkpKX0pLHB8fChkW0NdPSEwKX0pLChPYmplY3Qua2V5cyhvKS5sZW5ndGh8fE9iamVjdC5rZXlzKHIpLmxlbmd0aCkmJnRoaXMucXVldWUucHVzaCh7cGVuZGluZzpyLHBlbmRpbmdDb3VudDpPYmplY3Qua2V5cyhyKS5sZW5ndGgsbG9hZGVkOnt9LGVycm9yczpbXSxjYWxsYmFjazppfSkse3RvTG9hZDpPYmplY3Qua2V5cyhvKSxwZW5kaW5nOk9iamVjdC5rZXlzKHIpLHRvTG9hZExhbmd1YWdlczpPYmplY3Qua2V5cyhkKSx0b0xvYWROYW1lc3BhY2VzOk9iamVjdC5rZXlzKFMpfX1sb2FkZWQobixlLGEpe2NvbnN0IGk9bi5zcGxpdCgifCIpLG89aVswXSxyPWlbMV07ZSYmdGhpcy5lbWl0KCJmYWlsZWRMb2FkaW5nIixvLHIsZSksIWUmJmEmJnRoaXMuc3RvcmUuYWRkUmVzb3VyY2VCdW5kbGUobyxyLGEsdm9pZCAwLHZvaWQgMCx7c2tpcENvcHk6ITB9KSx0aGlzLnN0YXRlW25dPWU/LTE6MixlJiZhJiYodGhpcy5zdGF0ZVtuXT0wKTtjb25zdCBkPXt9O3RoaXMucXVldWUuZm9yRWFjaChTPT57dGkoUy5sb2FkZWQsW29dLHIpLGhpKFMsbiksZSYmUy5lcnJvcnMucHVzaChlKSxTLnBlbmRpbmdDb3VudD09PTAmJiFTLmRvbmUmJihPYmplY3Qua2V5cyhTLmxvYWRlZCkuZm9yRWFjaChDPT57ZFtDXXx8KGRbQ109e30pO2NvbnN0IHA9Uy5sb2FkZWRbQ107cC5sZW5ndGgmJnAuZm9yRWFjaChCPT57ZFtDXVtCXT09PXZvaWQgMCYmKGRbQ11bQl09ITApfSl9KSxTLmRvbmU9ITAsUy5lcnJvcnMubGVuZ3RoP1MuY2FsbGJhY2soUy5lcnJvcnMpOlMuY2FsbGJhY2soKSl9KSx0aGlzLmVtaXQoImxvYWRlZCIsZCksdGhpcy5xdWV1ZT10aGlzLnF1ZXVlLmZpbHRlcihTPT4hUy5kb25lKX1yZWFkKG4sZSxhKXtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXZvaWQgMD9hcmd1bWVudHNbM106MCxvPWFyZ3VtZW50cy5sZW5ndGg+NCYmYXJndW1lbnRzWzRdIT09dm9pZCAwP2FyZ3VtZW50c1s0XTp0aGlzLnJldHJ5VGltZW91dCxyPWFyZ3VtZW50cy5sZW5ndGg+NT9hcmd1bWVudHNbNV06dm9pZCAwO2lmKCFuLmxlbmd0aClyZXR1cm4gcihudWxsLHt9KTtpZih0aGlzLnJlYWRpbmdDYWxscz49dGhpcy5tYXhQYXJhbGxlbFJlYWRzKXt0aGlzLndhaXRpbmdSZWFkcy5wdXNoKHtsbmc6bixuczplLGZjTmFtZTphLHRyaWVkOmksd2FpdDpvLGNhbGxiYWNrOnJ9KTtyZXR1cm59dGhpcy5yZWFkaW5nQ2FsbHMrKztjb25zdCBkPShDLHApPT57aWYodGhpcy5yZWFkaW5nQ2FsbHMtLSx0aGlzLndhaXRpbmdSZWFkcy5sZW5ndGg+MCl7Y29uc3QgQj10aGlzLndhaXRpbmdSZWFkcy5zaGlmdCgpO3RoaXMucmVhZChCLmxuZyxCLm5zLEIuZmNOYW1lLEIudHJpZWQsQi53YWl0LEIuY2FsbGJhY2spfWlmKEMmJnAmJmk8dGhpcy5tYXhSZXRyaWVzKXtzZXRUaW1lb3V0KCgpPT57dGhpcy5yZWFkLmNhbGwodGhpcyxuLGUsYSxpKzEsbyoyLHIpfSxvKTtyZXR1cm59cihDLHApfSxTPXRoaXMuYmFja2VuZFthXS5iaW5kKHRoaXMuYmFja2VuZCk7aWYoUy5sZW5ndGg9PT0yKXt0cnl7Y29uc3QgQz1TKG4sZSk7QyYmdHlwZW9mIEMudGhlbj09ImZ1bmN0aW9uIj9DLnRoZW4ocD0+ZChudWxsLHApKS5jYXRjaChkKTpkKG51bGwsQyl9Y2F0Y2goQyl7ZChDKX1yZXR1cm59cmV0dXJuIFMobixlLGQpfXByZXBhcmVMb2FkaW5nKG4sZSl7bGV0IGE9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT12b2lkIDA/YXJndW1lbnRzWzJdOnt9LGk9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDA7aWYoIXRoaXMuYmFja2VuZClyZXR1cm4gdGhpcy5sb2dnZXIud2FybigiTm8gYmFja2VuZCB3YXMgYWRkZWQgdmlhIGkxOG5leHQudXNlLiBXaWxsIG5vdCBsb2FkIHJlc291cmNlcy4iKSxpJiZpKCk7dHlwZW9mIG49PSJzdHJpbmciJiYobj10aGlzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KG4pKSx0eXBlb2YgZT09InN0cmluZyImJihlPVtlXSk7Y29uc3Qgbz10aGlzLnF1ZXVlTG9hZChuLGUsYSxpKTtpZighby50b0xvYWQubGVuZ3RoKXJldHVybiBvLnBlbmRpbmcubGVuZ3RofHxpKCksbnVsbDtvLnRvTG9hZC5mb3JFYWNoKHI9Pnt0aGlzLmxvYWRPbmUocil9KX1sb2FkKG4sZSxhKXt0aGlzLnByZXBhcmVMb2FkaW5nKG4sZSx7fSxhKX1yZWxvYWQobixlLGEpe3RoaXMucHJlcGFyZUxvYWRpbmcobixlLHtyZWxvYWQ6ITB9LGEpfWxvYWRPbmUobil7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT12b2lkIDA/YXJndW1lbnRzWzFdOiIiO2NvbnN0IGE9bi5zcGxpdCgifCIpLGk9YVswXSxvPWFbMV07dGhpcy5yZWFkKGksbywicmVhZCIsdm9pZCAwLHZvaWQgMCwocixkKT0+e3ImJnRoaXMubG9nZ2VyLndhcm4oYCR7ZX1sb2FkaW5nIG5hbWVzcGFjZSAke299IGZvciBsYW5ndWFnZSAke2l9IGZhaWxlZGAsciksIXImJmQmJnRoaXMubG9nZ2VyLmxvZyhgJHtlfWxvYWRlZCBuYW1lc3BhY2UgJHtvfSBmb3IgbGFuZ3VhZ2UgJHtpfWAsZCksdGhpcy5sb2FkZWQobixyLGQpfSl9c2F2ZU1pc3NpbmcobixlLGEsaSxvKXtsZXQgcj1hcmd1bWVudHMubGVuZ3RoPjUmJmFyZ3VtZW50c1s1XSE9PXZvaWQgMD9hcmd1bWVudHNbNV06e30sZD1hcmd1bWVudHMubGVuZ3RoPjYmJmFyZ3VtZW50c1s2XSE9PXZvaWQgMD9hcmd1bWVudHNbNl06KCk9Pnt9O2lmKHRoaXMuc2VydmljZXMudXRpbHMmJnRoaXMuc2VydmljZXMudXRpbHMuaGFzTG9hZGVkTmFtZXNwYWNlJiYhdGhpcy5zZXJ2aWNlcy51dGlscy5oYXNMb2FkZWROYW1lc3BhY2UoZSkpe3RoaXMubG9nZ2VyLndhcm4oYGRpZCBub3Qgc2F2ZSBrZXkgIiR7YX0iIGFzIHRoZSBuYW1lc3BhY2UgIiR7ZX0iIHdhcyBub3QgeWV0IGxvYWRlZGAsIlRoaXMgbWVhbnMgc29tZXRoaW5nIElTIFdST05HIGluIHlvdXIgc2V0dXAuIFlvdSBhY2Nlc3MgdGhlIHQgZnVuY3Rpb24gYmVmb3JlIGkxOG5leHQuaW5pdCAvIGkxOG5leHQubG9hZE5hbWVzcGFjZSAvIGkxOG5leHQuY2hhbmdlTGFuZ3VhZ2Ugd2FzIGRvbmUuIFdhaXQgZm9yIHRoZSBjYWxsYmFjayBvciBQcm9taXNlIHRvIHJlc29sdmUgYmVmb3JlIGFjY2Vzc2luZyBpdCEhISIpO3JldHVybn1pZighKGE9PW51bGx8fGE9PT0iIikpe2lmKHRoaXMuYmFja2VuZCYmdGhpcy5iYWNrZW5kLmNyZWF0ZSl7Y29uc3QgUz17Li4ucixpc1VwZGF0ZTpvfSxDPXRoaXMuYmFja2VuZC5jcmVhdGUuYmluZCh0aGlzLmJhY2tlbmQpO2lmKEMubGVuZ3RoPDYpdHJ5e2xldCBwO0MubGVuZ3RoPT09NT9wPUMobixlLGEsaSxTKTpwPUMobixlLGEsaSkscCYmdHlwZW9mIHAudGhlbj09ImZ1bmN0aW9uIj9wLnRoZW4oQj0+ZChudWxsLEIpKS5jYXRjaChkKTpkKG51bGwscCl9Y2F0Y2gocCl7ZChwKX1lbHNlIEMobixlLGEsaSxkLFMpfSFufHwhblswXXx8dGhpcy5zdG9yZS5hZGRSZXNvdXJjZShuWzBdLGUsYSxpKX19fWNvbnN0IHdlPSgpPT4oe2RlYnVnOiExLGluaXRJbW1lZGlhdGU6ITAsbnM6WyJ0cmFuc2xhdGlvbiJdLGRlZmF1bHROUzpbInRyYW5zbGF0aW9uIl0sZmFsbGJhY2tMbmc6WyJkZXYiXSxmYWxsYmFja05TOiExLHN1cHBvcnRlZExuZ3M6ITEsbm9uRXhwbGljaXRTdXBwb3J0ZWRMbmdzOiExLGxvYWQ6ImFsbCIscHJlbG9hZDohMSxzaW1wbGlmeVBsdXJhbFN1ZmZpeDohMCxrZXlTZXBhcmF0b3I6Ii4iLG5zU2VwYXJhdG9yOiI6IixwbHVyYWxTZXBhcmF0b3I6Il8iLGNvbnRleHRTZXBhcmF0b3I6Il8iLHBhcnRpYWxCdW5kbGVkTGFuZ3VhZ2VzOiExLHNhdmVNaXNzaW5nOiExLHVwZGF0ZU1pc3Npbmc6ITEsc2F2ZU1pc3NpbmdUbzoiZmFsbGJhY2siLHNhdmVNaXNzaW5nUGx1cmFsczohMCxtaXNzaW5nS2V5SGFuZGxlcjohMSxtaXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXI6ITEscG9zdFByb2Nlc3M6ITEscG9zdFByb2Nlc3NQYXNzUmVzb2x2ZWQ6ITEscmV0dXJuTnVsbDohMSxyZXR1cm5FbXB0eVN0cmluZzohMCxyZXR1cm5PYmplY3RzOiExLGpvaW5BcnJheXM6ITEscmV0dXJuZWRPYmplY3RIYW5kbGVyOiExLHBhcnNlTWlzc2luZ0tleUhhbmRsZXI6ITEsYXBwZW5kTmFtZXNwYWNlVG9NaXNzaW5nS2V5OiExLGFwcGVuZE5hbWVzcGFjZVRvQ0lNb2RlOiExLG92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyOnQ9PntsZXQgbj17fTtpZih0eXBlb2YgdFsxXT09Im9iamVjdCImJihuPXRbMV0pLHR5cGVvZiB0WzFdPT0ic3RyaW5nIiYmKG4uZGVmYXVsdFZhbHVlPXRbMV0pLHR5cGVvZiB0WzJdPT0ic3RyaW5nIiYmKG4udERlc2NyaXB0aW9uPXRbMl0pLHR5cGVvZiB0WzJdPT0ib2JqZWN0Inx8dHlwZW9mIHRbM109PSJvYmplY3QiKXtjb25zdCBlPXRbM118fHRbMl07T2JqZWN0LmtleXMoZSkuZm9yRWFjaChhPT57blthXT1lW2FdfSl9cmV0dXJuIG59LGludGVycG9sYXRpb246e2VzY2FwZVZhbHVlOiEwLGZvcm1hdDp0PT50LHByZWZpeDoie3siLHN1ZmZpeDoifX0iLGZvcm1hdFNlcGFyYXRvcjoiLCIsdW5lc2NhcGVQcmVmaXg6Ii0iLG5lc3RpbmdQcmVmaXg6IiR0KCIsbmVzdGluZ1N1ZmZpeDoiKSIsbmVzdGluZ09wdGlvbnNTZXBhcmF0b3I6IiwiLG1heFJlcGxhY2VzOjFlMyxza2lwT25WYXJpYWJsZXM6ITB9fSksemU9dD0+KHR5cGVvZiB0Lm5zPT0ic3RyaW5nIiYmKHQubnM9W3QubnNdKSx0eXBlb2YgdC5mYWxsYmFja0xuZz09InN0cmluZyImJih0LmZhbGxiYWNrTG5nPVt0LmZhbGxiYWNrTG5nXSksdHlwZW9mIHQuZmFsbGJhY2tOUz09InN0cmluZyImJih0LmZhbGxiYWNrTlM9W3QuZmFsbGJhY2tOU10pLHQuc3VwcG9ydGVkTG5ncyYmdC5zdXBwb3J0ZWRMbmdzLmluZGV4T2YoImNpbW9kZSIpPDAmJih0LnN1cHBvcnRlZExuZ3M9dC5zdXBwb3J0ZWRMbmdzLmNvbmNhdChbImNpbW9kZSJdKSksdCksWnQ9KCk9Pnt9LENpPXQ9PntPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmZvckVhY2goZT0+e3R5cGVvZiB0W2VdPT0iZnVuY3Rpb24iJiYodFtlXT10W2VdLmJpbmQodCkpfSl9O2NsYXNzIHh0IGV4dGVuZHMganR7Y29uc3RydWN0b3IoKXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06e30sZT1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDtpZihzdXBlcigpLHRoaXMub3B0aW9ucz16ZShuKSx0aGlzLnNlcnZpY2VzPXt9LHRoaXMubG9nZ2VyPXJ0LHRoaXMubW9kdWxlcz17ZXh0ZXJuYWw6W119LENpKHRoaXMpLGUmJiF0aGlzLmlzSW5pdGlhbGl6ZWQmJiFuLmlzQ2xvbmUpe2lmKCF0aGlzLm9wdGlvbnMuaW5pdEltbWVkaWF0ZSlyZXR1cm4gdGhpcy5pbml0KG4sZSksdGhpcztzZXRUaW1lb3V0KCgpPT57dGhpcy5pbml0KG4sZSl9LDApfX1pbml0KCl7dmFyIG49dGhpcztsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06e30sYT1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDt0aGlzLmlzSW5pdGlhbGl6aW5nPSEwLHR5cGVvZiBlPT0iZnVuY3Rpb24iJiYoYT1lLGU9e30pLCFlLmRlZmF1bHROUyYmZS5kZWZhdWx0TlMhPT0hMSYmZS5ucyYmKHR5cGVvZiBlLm5zPT0ic3RyaW5nIj9lLmRlZmF1bHROUz1lLm5zOmUubnMuaW5kZXhPZigidHJhbnNsYXRpb24iKTwwJiYoZS5kZWZhdWx0TlM9ZS5uc1swXSkpO2NvbnN0IGk9d2UoKTt0aGlzLm9wdGlvbnM9ey4uLmksLi4udGhpcy5vcHRpb25zLC4uLnplKGUpfSx0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUFQSSE9PSJ2MSImJih0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbj17Li4uaS5pbnRlcnBvbGF0aW9uLC4uLnRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9ufSksZS5rZXlTZXBhcmF0b3IhPT12b2lkIDAmJih0aGlzLm9wdGlvbnMudXNlckRlZmluZWRLZXlTZXBhcmF0b3I9ZS5rZXlTZXBhcmF0b3IpLGUubnNTZXBhcmF0b3IhPT12b2lkIDAmJih0aGlzLm9wdGlvbnMudXNlckRlZmluZWROc1NlcGFyYXRvcj1lLm5zU2VwYXJhdG9yKTtjb25zdCBvPXA9PnA/dHlwZW9mIHA9PSJmdW5jdGlvbiI/bmV3IHA6cDpudWxsO2lmKCF0aGlzLm9wdGlvbnMuaXNDbG9uZSl7dGhpcy5tb2R1bGVzLmxvZ2dlcj9ydC5pbml0KG8odGhpcy5tb2R1bGVzLmxvZ2dlciksdGhpcy5vcHRpb25zKTpydC5pbml0KG51bGwsdGhpcy5vcHRpb25zKTtsZXQgcDt0aGlzLm1vZHVsZXMuZm9ybWF0dGVyP3A9dGhpcy5tb2R1bGVzLmZvcm1hdHRlcjp0eXBlb2YgSW50bDwidSImJihwPXBpKTtjb25zdCBCPW5ldyB4ZSh0aGlzLm9wdGlvbnMpO3RoaXMuc3RvcmU9bmV3IFVlKHRoaXMub3B0aW9ucy5yZXNvdXJjZXMsdGhpcy5vcHRpb25zKTtjb25zdCB1PXRoaXMuc2VydmljZXM7dS5sb2dnZXI9cnQsdS5yZXNvdXJjZVN0b3JlPXRoaXMuc3RvcmUsdS5sYW5ndWFnZVV0aWxzPUIsdS5wbHVyYWxSZXNvbHZlcj1uZXcgbWkoQix7cHJlcGVuZDp0aGlzLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yLGNvbXBhdGliaWxpdHlKU09OOnRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTixzaW1wbGlmeVBsdXJhbFN1ZmZpeDp0aGlzLm9wdGlvbnMuc2ltcGxpZnlQbHVyYWxTdWZmaXh9KSxwJiYoIXRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdHx8dGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZm9ybWF0PT09aS5pbnRlcnBvbGF0aW9uLmZvcm1hdCkmJih1LmZvcm1hdHRlcj1vKHApLHUuZm9ybWF0dGVyLmluaXQodSx0aGlzLm9wdGlvbnMpLHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmZvcm1hdD11LmZvcm1hdHRlci5mb3JtYXQuYmluZCh1LmZvcm1hdHRlcikpLHUuaW50ZXJwb2xhdG9yPW5ldyBTaSh0aGlzLm9wdGlvbnMpLHUudXRpbHM9e2hhc0xvYWRlZE5hbWVzcGFjZTp0aGlzLmhhc0xvYWRlZE5hbWVzcGFjZS5iaW5kKHRoaXMpfSx1LmJhY2tlbmRDb25uZWN0b3I9bmV3IEJpKG8odGhpcy5tb2R1bGVzLmJhY2tlbmQpLHUucmVzb3VyY2VTdG9yZSx1LHRoaXMub3B0aW9ucyksdS5iYWNrZW5kQ29ubmVjdG9yLm9uKCIqIixmdW5jdGlvbihjKXtmb3IodmFyIGw9YXJndW1lbnRzLmxlbmd0aCxtPW5ldyBBcnJheShsPjE/bC0xOjApLGY9MTtmPGw7ZisrKW1bZi0xXT1hcmd1bWVudHNbZl07bi5lbWl0KGMsLi4ubSl9KSx0aGlzLm1vZHVsZXMubGFuZ3VhZ2VEZXRlY3RvciYmKHUubGFuZ3VhZ2VEZXRlY3Rvcj1vKHRoaXMubW9kdWxlcy5sYW5ndWFnZURldGVjdG9yKSx1Lmxhbmd1YWdlRGV0ZWN0b3IuaW5pdCYmdS5sYW5ndWFnZURldGVjdG9yLmluaXQodSx0aGlzLm9wdGlvbnMuZGV0ZWN0aW9uLHRoaXMub3B0aW9ucykpLHRoaXMubW9kdWxlcy5pMThuRm9ybWF0JiYodS5pMThuRm9ybWF0PW8odGhpcy5tb2R1bGVzLmkxOG5Gb3JtYXQpLHUuaTE4bkZvcm1hdC5pbml0JiZ1LmkxOG5Gb3JtYXQuaW5pdCh0aGlzKSksdGhpcy50cmFuc2xhdG9yPW5ldyBYdCh0aGlzLnNlcnZpY2VzLHRoaXMub3B0aW9ucyksdGhpcy50cmFuc2xhdG9yLm9uKCIqIixmdW5jdGlvbihjKXtmb3IodmFyIGw9YXJndW1lbnRzLmxlbmd0aCxtPW5ldyBBcnJheShsPjE/bC0xOjApLGY9MTtmPGw7ZisrKW1bZi0xXT1hcmd1bWVudHNbZl07bi5lbWl0KGMsLi4ubSl9KSx0aGlzLm1vZHVsZXMuZXh0ZXJuYWwuZm9yRWFjaChjPT57Yy5pbml0JiZjLmluaXQodGhpcyl9KX1pZih0aGlzLmZvcm1hdD10aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5mb3JtYXQsYXx8KGE9WnQpLHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZyYmIXRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3RvciYmIXRoaXMub3B0aW9ucy5sbmcpe2NvbnN0IHA9dGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmdldEZhbGxiYWNrQ29kZXModGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nKTtwLmxlbmd0aD4wJiZwWzBdIT09ImRldiImJih0aGlzLm9wdGlvbnMubG5nPXBbMF0pfSF0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3ImJiF0aGlzLm9wdGlvbnMubG5nJiZ0aGlzLmxvZ2dlci53YXJuKCJpbml0OiBubyBsYW5ndWFnZURldGVjdG9yIGlzIHVzZWQgYW5kIG5vIGxuZyBpcyBkZWZpbmVkIiksWyJnZXRSZXNvdXJjZSIsImhhc1Jlc291cmNlQnVuZGxlIiwiZ2V0UmVzb3VyY2VCdW5kbGUiLCJnZXREYXRhQnlMYW5ndWFnZSJdLmZvckVhY2gocD0+e3RoaXNbcF09ZnVuY3Rpb24oKXtyZXR1cm4gbi5zdG9yZVtwXSguLi5hcmd1bWVudHMpfX0pLFsiYWRkUmVzb3VyY2UiLCJhZGRSZXNvdXJjZXMiLCJhZGRSZXNvdXJjZUJ1bmRsZSIsInJlbW92ZVJlc291cmNlQnVuZGxlIl0uZm9yRWFjaChwPT57dGhpc1twXT1mdW5jdGlvbigpe3JldHVybiBuLnN0b3JlW3BdKC4uLmFyZ3VtZW50cyksbn19KTtjb25zdCBTPUZ0KCksQz0oKT0+e2NvbnN0IHA9KEIsdSk9Pnt0aGlzLmlzSW5pdGlhbGl6aW5nPSExLHRoaXMuaXNJbml0aWFsaXplZCYmIXRoaXMuaW5pdGlhbGl6ZWRTdG9yZU9uY2UmJnRoaXMubG9nZ2VyLndhcm4oImluaXQ6IGkxOG5leHQgaXMgYWxyZWFkeSBpbml0aWFsaXplZC4gWW91IHNob3VsZCBjYWxsIGluaXQganVzdCBvbmNlISIpLHRoaXMuaXNJbml0aWFsaXplZD0hMCx0aGlzLm9wdGlvbnMuaXNDbG9uZXx8dGhpcy5sb2dnZXIubG9nKCJpbml0aWFsaXplZCIsdGhpcy5vcHRpb25zKSx0aGlzLmVtaXQoImluaXRpYWxpemVkIix0aGlzLm9wdGlvbnMpLFMucmVzb2x2ZSh1KSxhKEIsdSl9O2lmKHRoaXMubGFuZ3VhZ2VzJiZ0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUFQSSE9PSJ2MSImJiF0aGlzLmlzSW5pdGlhbGl6ZWQpcmV0dXJuIHAobnVsbCx0aGlzLnQuYmluZCh0aGlzKSk7dGhpcy5jaGFuZ2VMYW5ndWFnZSh0aGlzLm9wdGlvbnMubG5nLHApfTtyZXR1cm4gdGhpcy5vcHRpb25zLnJlc291cmNlc3x8IXRoaXMub3B0aW9ucy5pbml0SW1tZWRpYXRlP0MoKTpzZXRUaW1lb3V0KEMsMCksU31sb2FkUmVzb3VyY2VzKG4pe2xldCBhPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTpadDtjb25zdCBpPXR5cGVvZiBuPT0ic3RyaW5nIj9uOnRoaXMubGFuZ3VhZ2U7aWYodHlwZW9mIG49PSJmdW5jdGlvbiImJihhPW4pLCF0aGlzLm9wdGlvbnMucmVzb3VyY2VzfHx0aGlzLm9wdGlvbnMucGFydGlhbEJ1bmRsZWRMYW5ndWFnZXMpe2lmKGkmJmkudG9Mb3dlckNhc2UoKT09PSJjaW1vZGUiJiYoIXRoaXMub3B0aW9ucy5wcmVsb2FkfHx0aGlzLm9wdGlvbnMucHJlbG9hZC5sZW5ndGg9PT0wKSlyZXR1cm4gYSgpO2NvbnN0IG89W10scj1kPT57aWYoIWR8fGQ9PT0iY2ltb2RlIilyZXR1cm47dGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShkKS5mb3JFYWNoKEM9PntDIT09ImNpbW9kZSImJm8uaW5kZXhPZihDKTwwJiZvLnB1c2goQyl9KX07aT9yKGkpOnRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy5nZXRGYWxsYmFja0NvZGVzKHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZykuZm9yRWFjaChTPT5yKFMpKSx0aGlzLm9wdGlvbnMucHJlbG9hZCYmdGhpcy5vcHRpb25zLnByZWxvYWQuZm9yRWFjaChkPT5yKGQpKSx0aGlzLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IubG9hZChvLHRoaXMub3B0aW9ucy5ucyxkPT57IWQmJiF0aGlzLnJlc29sdmVkTGFuZ3VhZ2UmJnRoaXMubGFuZ3VhZ2UmJnRoaXMuc2V0UmVzb2x2ZWRMYW5ndWFnZSh0aGlzLmxhbmd1YWdlKSxhKGQpfSl9ZWxzZSBhKG51bGwpfXJlbG9hZFJlc291cmNlcyhuLGUsYSl7Y29uc3QgaT1GdCgpO3JldHVybiB0eXBlb2Ygbj09ImZ1bmN0aW9uIiYmKGE9bixuPXZvaWQgMCksdHlwZW9mIGU9PSJmdW5jdGlvbiImJihhPWUsZT12b2lkIDApLG58fChuPXRoaXMubGFuZ3VhZ2VzKSxlfHwoZT10aGlzLm9wdGlvbnMubnMpLGF8fChhPVp0KSx0aGlzLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IucmVsb2FkKG4sZSxvPT57aS5yZXNvbHZlKCksYShvKX0pLGl9dXNlKG4pe2lmKCFuKXRocm93IG5ldyBFcnJvcigiWW91IGFyZSBwYXNzaW5nIGFuIHVuZGVmaW5lZCBtb2R1bGUhIFBsZWFzZSBjaGVjayB0aGUgb2JqZWN0IHlvdSBhcmUgcGFzc2luZyB0byBpMThuZXh0LnVzZSgpIik7aWYoIW4udHlwZSl0aHJvdyBuZXcgRXJyb3IoIllvdSBhcmUgcGFzc2luZyBhIHdyb25nIG1vZHVsZSEgUGxlYXNlIGNoZWNrIHRoZSBvYmplY3QgeW91IGFyZSBwYXNzaW5nIHRvIGkxOG5leHQudXNlKCkiKTtyZXR1cm4gbi50eXBlPT09ImJhY2tlbmQiJiYodGhpcy5tb2R1bGVzLmJhY2tlbmQ9biksKG4udHlwZT09PSJsb2dnZXIifHxuLmxvZyYmbi53YXJuJiZuLmVycm9yKSYmKHRoaXMubW9kdWxlcy5sb2dnZXI9biksbi50eXBlPT09Imxhbmd1YWdlRGV0ZWN0b3IiJiYodGhpcy5tb2R1bGVzLmxhbmd1YWdlRGV0ZWN0b3I9biksbi50eXBlPT09ImkxOG5Gb3JtYXQiJiYodGhpcy5tb2R1bGVzLmkxOG5Gb3JtYXQ9biksbi50eXBlPT09InBvc3RQcm9jZXNzb3IiJiZGZS5hZGRQb3N0UHJvY2Vzc29yKG4pLG4udHlwZT09PSJmb3JtYXR0ZXIiJiYodGhpcy5tb2R1bGVzLmZvcm1hdHRlcj1uKSxuLnR5cGU9PT0iM3JkUGFydHkiJiZ0aGlzLm1vZHVsZXMuZXh0ZXJuYWwucHVzaChuKSx0aGlzfXNldFJlc29sdmVkTGFuZ3VhZ2Uobil7aWYoISghbnx8IXRoaXMubGFuZ3VhZ2VzKSYmIShbImNpbW9kZSIsImRldiJdLmluZGV4T2Yobik+LTEpKWZvcihsZXQgZT0wO2U8dGhpcy5sYW5ndWFnZXMubGVuZ3RoO2UrKyl7Y29uc3QgYT10aGlzLmxhbmd1YWdlc1tlXTtpZighKFsiY2ltb2RlIiwiZGV2Il0uaW5kZXhPZihhKT4tMSkmJnRoaXMuc3RvcmUuaGFzTGFuZ3VhZ2VTb21lVHJhbnNsYXRpb25zKGEpKXt0aGlzLnJlc29sdmVkTGFuZ3VhZ2U9YTticmVha319fWNoYW5nZUxhbmd1YWdlKG4sZSl7dmFyIGE9dGhpczt0aGlzLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvPW47Y29uc3QgaT1GdCgpO3RoaXMuZW1pdCgibGFuZ3VhZ2VDaGFuZ2luZyIsbik7Y29uc3Qgbz1TPT57dGhpcy5sYW5ndWFnZT1TLHRoaXMubGFuZ3VhZ2VzPXRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkoUyksdGhpcy5yZXNvbHZlZExhbmd1YWdlPXZvaWQgMCx0aGlzLnNldFJlc29sdmVkTGFuZ3VhZ2UoUyl9LHI9KFMsQyk9PntDPyhvKEMpLHRoaXMudHJhbnNsYXRvci5jaGFuZ2VMYW5ndWFnZShDKSx0aGlzLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvPXZvaWQgMCx0aGlzLmVtaXQoImxhbmd1YWdlQ2hhbmdlZCIsQyksdGhpcy5sb2dnZXIubG9nKCJsYW5ndWFnZUNoYW5nZWQiLEMpKTp0aGlzLmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvPXZvaWQgMCxpLnJlc29sdmUoZnVuY3Rpb24oKXtyZXR1cm4gYS50KC4uLmFyZ3VtZW50cyl9KSxlJiZlKFMsZnVuY3Rpb24oKXtyZXR1cm4gYS50KC4uLmFyZ3VtZW50cyl9KX0sZD1TPT57IW4mJiFTJiZ0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3ImJihTPVtdKTtjb25zdCBDPXR5cGVvZiBTPT0ic3RyaW5nIj9TOnRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy5nZXRCZXN0TWF0Y2hGcm9tQ29kZXMoUyk7QyYmKHRoaXMubGFuZ3VhZ2V8fG8oQyksdGhpcy50cmFuc2xhdG9yLmxhbmd1YWdlfHx0aGlzLnRyYW5zbGF0b3IuY2hhbmdlTGFuZ3VhZ2UoQyksdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yJiZ0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuY2FjaGVVc2VyTGFuZ3VhZ2UmJnRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5jYWNoZVVzZXJMYW5ndWFnZShDKSksdGhpcy5sb2FkUmVzb3VyY2VzKEMscD0+e3IocCxDKX0pfTtyZXR1cm4hbiYmdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yJiYhdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmFzeW5jP2QodGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdCgpKTohbiYmdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yJiZ0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuYXN5bmM/dGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdC5sZW5ndGg9PT0wP3RoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5kZXRlY3QoKS50aGVuKGQpOnRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5kZXRlY3QoZCk6ZChuKSxpfWdldEZpeGVkVChuLGUsYSl7dmFyIGk9dGhpcztjb25zdCBvPWZ1bmN0aW9uKHIsZCl7bGV0IFM7aWYodHlwZW9mIGQhPSJvYmplY3QiKXtmb3IodmFyIEM9YXJndW1lbnRzLmxlbmd0aCxwPW5ldyBBcnJheShDPjI/Qy0yOjApLEI9MjtCPEM7QisrKXBbQi0yXT1hcmd1bWVudHNbQl07Uz1pLm9wdGlvbnMub3ZlcmxvYWRUcmFuc2xhdGlvbk9wdGlvbkhhbmRsZXIoW3IsZF0uY29uY2F0KHApKX1lbHNlIFM9ey4uLmR9O1MubG5nPVMubG5nfHxvLmxuZyxTLmxuZ3M9Uy5sbmdzfHxvLmxuZ3MsUy5ucz1TLm5zfHxvLm5zLFMua2V5UHJlZml4IT09IiImJihTLmtleVByZWZpeD1TLmtleVByZWZpeHx8YXx8by5rZXlQcmVmaXgpO2NvbnN0IHU9aS5vcHRpb25zLmtleVNlcGFyYXRvcnx8Ii4iO2xldCBjO3JldHVybiBTLmtleVByZWZpeCYmQXJyYXkuaXNBcnJheShyKT9jPXIubWFwKGw9PmAke1Mua2V5UHJlZml4fSR7dX0ke2x9YCk6Yz1TLmtleVByZWZpeD9gJHtTLmtleVByZWZpeH0ke3V9JHtyfWA6cixpLnQoYyxTKX07cmV0dXJuIHR5cGVvZiBuPT0ic3RyaW5nIj9vLmxuZz1uOm8ubG5ncz1uLG8ubnM9ZSxvLmtleVByZWZpeD1hLG99dCgpe3JldHVybiB0aGlzLnRyYW5zbGF0b3ImJnRoaXMudHJhbnNsYXRvci50cmFuc2xhdGUoLi4uYXJndW1lbnRzKX1leGlzdHMoKXtyZXR1cm4gdGhpcy50cmFuc2xhdG9yJiZ0aGlzLnRyYW5zbGF0b3IuZXhpc3RzKC4uLmFyZ3VtZW50cyl9c2V0RGVmYXVsdE5hbWVzcGFjZShuKXt0aGlzLm9wdGlvbnMuZGVmYXVsdE5TPW59aGFzTG9hZGVkTmFtZXNwYWNlKG4pe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTp7fTtpZighdGhpcy5pc0luaXRpYWxpemVkKXJldHVybiB0aGlzLmxvZ2dlci53YXJuKCJoYXNMb2FkZWROYW1lc3BhY2U6IGkxOG5leHQgd2FzIG5vdCBpbml0aWFsaXplZCIsdGhpcy5sYW5ndWFnZXMpLCExO2lmKCF0aGlzLmxhbmd1YWdlc3x8IXRoaXMubGFuZ3VhZ2VzLmxlbmd0aClyZXR1cm4gdGhpcy5sb2dnZXIud2FybigiaGFzTG9hZGVkTmFtZXNwYWNlOiBpMThuLmxhbmd1YWdlcyB3ZXJlIHVuZGVmaW5lZCBvciBlbXB0eSIsdGhpcy5sYW5ndWFnZXMpLCExO2NvbnN0IGE9ZS5sbmd8fHRoaXMucmVzb2x2ZWRMYW5ndWFnZXx8dGhpcy5sYW5ndWFnZXNbMF0saT10aGlzLm9wdGlvbnM/dGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nOiExLG89dGhpcy5sYW5ndWFnZXNbdGhpcy5sYW5ndWFnZXMubGVuZ3RoLTFdO2lmKGEudG9Mb3dlckNhc2UoKT09PSJjaW1vZGUiKXJldHVybiEwO2NvbnN0IHI9KGQsUyk9Pntjb25zdCBDPXRoaXMuc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5zdGF0ZVtgJHtkfXwke1N9YF07cmV0dXJuIEM9PT0tMXx8Qz09PTB8fEM9PT0yfTtpZihlLnByZWNoZWNrKXtjb25zdCBkPWUucHJlY2hlY2sodGhpcyxyKTtpZihkIT09dm9pZCAwKXJldHVybiBkfXJldHVybiEhKHRoaXMuaGFzUmVzb3VyY2VCdW5kbGUoYSxuKXx8IXRoaXMuc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5iYWNrZW5kfHx0aGlzLm9wdGlvbnMucmVzb3VyY2VzJiYhdGhpcy5vcHRpb25zLnBhcnRpYWxCdW5kbGVkTGFuZ3VhZ2VzfHxyKGEsbikmJighaXx8cihvLG4pKSl9bG9hZE5hbWVzcGFjZXMobixlKXtjb25zdCBhPUZ0KCk7cmV0dXJuIHRoaXMub3B0aW9ucy5ucz8odHlwZW9mIG49PSJzdHJpbmciJiYobj1bbl0pLG4uZm9yRWFjaChpPT57dGhpcy5vcHRpb25zLm5zLmluZGV4T2YoaSk8MCYmdGhpcy5vcHRpb25zLm5zLnB1c2goaSl9KSx0aGlzLmxvYWRSZXNvdXJjZXMoaT0+e2EucmVzb2x2ZSgpLGUmJmUoaSl9KSxhKTooZSYmZSgpLFByb21pc2UucmVzb2x2ZSgpKX1sb2FkTGFuZ3VhZ2VzKG4sZSl7Y29uc3QgYT1GdCgpO3R5cGVvZiBuPT0ic3RyaW5nIiYmKG49W25dKTtjb25zdCBpPXRoaXMub3B0aW9ucy5wcmVsb2FkfHxbXSxvPW4uZmlsdGVyKHI9PmkuaW5kZXhPZihyKTwwJiZ0aGlzLnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMuaXNTdXBwb3J0ZWRDb2RlKHIpKTtyZXR1cm4gby5sZW5ndGg/KHRoaXMub3B0aW9ucy5wcmVsb2FkPWkuY29uY2F0KG8pLHRoaXMubG9hZFJlc291cmNlcyhyPT57YS5yZXNvbHZlKCksZSYmZShyKX0pLGEpOihlJiZlKCksUHJvbWlzZS5yZXNvbHZlKCkpfWRpcihuKXtpZihufHwobj10aGlzLnJlc29sdmVkTGFuZ3VhZ2V8fCh0aGlzLmxhbmd1YWdlcyYmdGhpcy5sYW5ndWFnZXMubGVuZ3RoPjA/dGhpcy5sYW5ndWFnZXNbMF06dGhpcy5sYW5ndWFnZSkpLCFuKXJldHVybiJydGwiO2NvbnN0IGU9WyJhciIsInNodSIsInNxciIsInNzaCIsInhhYSIsInloZCIsInl1ZCIsImFhbyIsImFiaCIsImFidiIsImFjbSIsImFjcSIsImFjdyIsImFjeCIsImFjeSIsImFkZiIsImFkcyIsImFlYiIsImFlYyIsImFmYiIsImFqcCIsImFwYyIsImFwZCIsImFyYiIsImFycSIsImFycyIsImFyeSIsImFyeiIsImF1eiIsImF2bCIsImF5aCIsImF5bCIsImF5biIsImF5cCIsImJieiIsInBnYSIsImhlIiwiaXciLCJwcyIsInBidCIsInBidSIsInBzdCIsInBycCIsInByZCIsInVnIiwidXIiLCJ5ZGQiLCJ5ZHMiLCJ5aWgiLCJqaSIsInlpIiwiaGJvIiwibWVuIiwieG1uIiwiZmEiLCJqcHIiLCJwZW8iLCJwZXMiLCJwcnMiLCJkdiIsInNhbSIsImNrYiJdLGE9dGhpcy5zZXJ2aWNlcyYmdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzfHxuZXcgeGUod2UoKSk7cmV0dXJuIGUuaW5kZXhPZihhLmdldExhbmd1YWdlUGFydEZyb21Db2RlKG4pKT4tMXx8bi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoIi1hcmFiIik+MT8icnRsIjoibHRyIn1zdGF0aWMgY3JlYXRlSW5zdGFuY2UoKXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXZvaWQgMD9hcmd1bWVudHNbMF06e30sZT1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMDtyZXR1cm4gbmV3IHh0KG4sZSl9Y2xvbmVJbnN0YW5jZSgpe2xldCBuPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dm9pZCAwP2FyZ3VtZW50c1swXTp7fSxlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dm9pZCAwP2FyZ3VtZW50c1sxXTpadDtjb25zdCBhPW4uZm9ya1Jlc291cmNlU3RvcmU7YSYmZGVsZXRlIG4uZm9ya1Jlc291cmNlU3RvcmU7Y29uc3QgaT17Li4udGhpcy5vcHRpb25zLC4uLm4saXNDbG9uZTohMH0sbz1uZXcgeHQoaSk7cmV0dXJuKG4uZGVidWchPT12b2lkIDB8fG4ucHJlZml4IT09dm9pZCAwKSYmKG8ubG9nZ2VyPW8ubG9nZ2VyLmNsb25lKG4pKSxbInN0b3JlIiwic2VydmljZXMiLCJsYW5ndWFnZSJdLmZvckVhY2goZD0+e29bZF09dGhpc1tkXX0pLG8uc2VydmljZXM9ey4uLnRoaXMuc2VydmljZXN9LG8uc2VydmljZXMudXRpbHM9e2hhc0xvYWRlZE5hbWVzcGFjZTpvLmhhc0xvYWRlZE5hbWVzcGFjZS5iaW5kKG8pfSxhJiYoby5zdG9yZT1uZXcgVWUodGhpcy5zdG9yZS5kYXRhLGkpLG8uc2VydmljZXMucmVzb3VyY2VTdG9yZT1vLnN0b3JlKSxvLnRyYW5zbGF0b3I9bmV3IFh0KG8uc2VydmljZXMsaSksby50cmFuc2xhdG9yLm9uKCIqIixmdW5jdGlvbihkKXtmb3IodmFyIFM9YXJndW1lbnRzLmxlbmd0aCxDPW5ldyBBcnJheShTPjE/Uy0xOjApLHA9MTtwPFM7cCsrKUNbcC0xXT1hcmd1bWVudHNbcF07by5lbWl0KGQsLi4uQyl9KSxvLmluaXQoaSxlKSxvLnRyYW5zbGF0b3Iub3B0aW9ucz1pLG8udHJhbnNsYXRvci5iYWNrZW5kQ29ubmVjdG9yLnNlcnZpY2VzLnV0aWxzPXtoYXNMb2FkZWROYW1lc3BhY2U6by5oYXNMb2FkZWROYW1lc3BhY2UuYmluZChvKX0sb310b0pTT04oKXtyZXR1cm57b3B0aW9uczp0aGlzLm9wdGlvbnMsc3RvcmU6dGhpcy5zdG9yZSxsYW5ndWFnZTp0aGlzLmxhbmd1YWdlLGxhbmd1YWdlczp0aGlzLmxhbmd1YWdlcyxyZXNvbHZlZExhbmd1YWdlOnRoaXMucmVzb2x2ZWRMYW5ndWFnZX19fWNvbnN0IEE9eHQuY3JlYXRlSW5zdGFuY2UoKTtBLmNyZWF0ZUluc3RhbmNlPXh0LmNyZWF0ZUluc3RhbmNlLEEuY3JlYXRlSW5zdGFuY2UsQS5kaXIsQS5pbml0LEEubG9hZFJlc291cmNlcyxBLnJlbG9hZFJlc291cmNlcyxBLnVzZSxBLmNoYW5nZUxhbmd1YWdlLEEuZ2V0Rml4ZWRULEEudCxBLmV4aXN0cyxBLnNldERlZmF1bHROYW1lc3BhY2UsQS5oYXNMb2FkZWROYW1lc3BhY2UsQS5sb2FkTmFtZXNwYWNlcyxBLmxvYWRMYW5ndWFnZXM7ZnVuY3Rpb24gRGkodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsImRlZmF1bHQiKT90LmRlZmF1bHQ6dH12YXIgcXQ9e30sU2UsJGU7ZnVuY3Rpb24gX2koKXtpZigkZSlyZXR1cm4gU2U7JGU9MTt2YXIgdCxuLGU9eyciJzonIicsIlxcIjoiXFwiLCIvIjoiLyIsYjoiXGIiLGY6IlxmIixuOmAKYCxyOiJcciIsdDoiCSJ9LGE7ZnVuY3Rpb24gaShjKXt0aHJvd3tuYW1lOiJTeW50YXhFcnJvciIsbWVzc2FnZTpjLGF0OnQsdGV4dDphfX1mdW5jdGlvbiBvKGMpe3JldHVybiBjJiZjIT09biYmaSgiRXhwZWN0ZWQgJyIrYysiJyBpbnN0ZWFkIG9mICciK24rIiciKSxuPWEuY2hhckF0KHQpLHQrPTEsbn1mdW5jdGlvbiByKCl7dmFyIGMsbD0iIjtmb3Iobj09PSItIiYmKGw9Ii0iLG8oIi0iKSk7bj49IjAiJiZuPD0iOSI7KWwrPW4sbygpO2lmKG49PT0iLiIpZm9yKGwrPSIuIjtvKCkmJm4+PSIwIiYmbjw9IjkiOylsKz1uO2lmKG49PT0iZSJ8fG49PT0iRSIpZm9yKGwrPW4sbygpLChuPT09Ii0ifHxuPT09IisiKSYmKGwrPW4sbygpKTtuPj0iMCImJm48PSI5IjspbCs9bixvKCk7cmV0dXJuIGM9TnVtYmVyKGwpLGlzRmluaXRlKGMpfHxpKCJCYWQgbnVtYmVyIiksY31mdW5jdGlvbiBkKCl7dmFyIGMsbCxtPSIiLGY7aWYobj09PSciJylmb3IoO28oKTspe2lmKG49PT0nIicpcmV0dXJuIG8oKSxtO2lmKG49PT0iXFwiKWlmKG8oKSxuPT09InUiKXtmb3IoZj0wLGw9MDtsPDQmJihjPXBhcnNlSW50KG8oKSwxNiksISFpc0Zpbml0ZShjKSk7bCs9MSlmPWYqMTYrYzttKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGYpfWVsc2UgaWYodHlwZW9mIGVbbl09PSJzdHJpbmciKW0rPWVbbl07ZWxzZSBicmVhaztlbHNlIG0rPW59aSgiQmFkIHN0cmluZyIpfWZ1bmN0aW9uIFMoKXtmb3IoO24mJm48PSIgIjspbygpfWZ1bmN0aW9uIEMoKXtzd2l0Y2gobil7Y2FzZSJ0IjpyZXR1cm4gbygidCIpLG8oInIiKSxvKCJ1IiksbygiZSIpLCEwO2Nhc2UiZiI6cmV0dXJuIG8oImYiKSxvKCJhIiksbygibCIpLG8oInMiKSxvKCJlIiksITE7Y2FzZSJuIjpyZXR1cm4gbygibiIpLG8oInUiKSxvKCJsIiksbygibCIpLG51bGw7ZGVmYXVsdDppKCJVbmV4cGVjdGVkICciK24rIiciKX19ZnVuY3Rpb24gcCgpe3ZhciBjPVtdO2lmKG49PT0iWyIpe2lmKG8oIlsiKSxTKCksbj09PSJdIilyZXR1cm4gbygiXSIpLGM7Zm9yKDtuOyl7aWYoYy5wdXNoKHUoKSksUygpLG49PT0iXSIpcmV0dXJuIG8oIl0iKSxjO28oIiwiKSxTKCl9fWkoIkJhZCBhcnJheSIpfWZ1bmN0aW9uIEIoKXt2YXIgYyxsPXt9O2lmKG49PT0ieyIpe2lmKG8oInsiKSxTKCksbj09PSJ9IilyZXR1cm4gbygifSIpLGw7Zm9yKDtuOyl7aWYoYz1kKCksUygpLG8oIjoiKSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobCxjKSYmaSgnRHVwbGljYXRlIGtleSAiJytjKyciJyksbFtjXT11KCksUygpLG49PT0ifSIpcmV0dXJuIG8oIn0iKSxsO28oIiwiKSxTKCl9fWkoIkJhZCBvYmplY3QiKX1mdW5jdGlvbiB1KCl7c3dpdGNoKFMoKSxuKXtjYXNlInsiOnJldHVybiBCKCk7Y2FzZSJbIjpyZXR1cm4gcCgpO2Nhc2UnIic6cmV0dXJuIGQoKTtjYXNlIi0iOnJldHVybiByKCk7ZGVmYXVsdDpyZXR1cm4gbj49IjAiJiZuPD0iOSI/cigpOkMoKX19cmV0dXJuIFNlPWZ1bmN0aW9uKGMsbCl7dmFyIG07cmV0dXJuIGE9Yyx0PTAsbj0iICIsbT11KCksUygpLG4mJmkoIlN5bnRheCBlcnJvciIpLHR5cGVvZiBsPT0iZnVuY3Rpb24iP2Z1bmN0aW9uIGYoZyxoKXt2YXIgXyxFLFQ9Z1toXTtpZihUJiZ0eXBlb2YgVD09Im9iamVjdCIpZm9yKF8gaW4gdSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoVCxfKSYmKEU9ZihULF8pLHR5cGVvZiBFPiJ1Ij9kZWxldGUgVFtfXTpUW19dPUUpO3JldHVybiBsLmNhbGwoZyxoLFQpfSh7IiI6bX0sIiIpOm19LFNlfXZhciBnZSxXZTtmdW5jdGlvbiBBaSgpe2lmKFdlKXJldHVybiBnZTtXZT0xO3ZhciB0PS9bXFwiXHgwMC1ceDFmXHg3Zi1ceDlmXHUwMGFkXHUwNjAwLVx1MDYwNFx1MDcwZlx1MTdiNFx1MTdiNVx1MjAwYy1cdTIwMGZcdTIwMjgtXHUyMDJmXHUyMDYwLVx1MjA2Zlx1ZmVmZlx1ZmZmMC1cdWZmZmZdL2csbixlLGE9eyJcYiI6IlxcYiIsIgkiOiJcXHQiLCJcbiI6IlxcbiIsIlxmIjoiXFxmIiwiXHIiOiJcXHIiLCciJzonXFwiJywiXFwiOiJcXFxcIn0saTtmdW5jdGlvbiBvKGQpe3JldHVybiB0Lmxhc3RJbmRleD0wLHQudGVzdChkKT8nIicrZC5yZXBsYWNlKHQsZnVuY3Rpb24oUyl7dmFyIEM9YVtTXTtyZXR1cm4gdHlwZW9mIEM9PSJzdHJpbmciP0M6IlxcdSIrKCIwMDAwIitTLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNCl9KSsnIic6JyInK2QrJyInfWZ1bmN0aW9uIHIoZCxTKXt2YXIgQyxwLEIsdSxjPW4sbCxtPVNbZF07c3dpdGNoKG0mJnR5cGVvZiBtPT0ib2JqZWN0IiYmdHlwZW9mIG0udG9KU09OPT0iZnVuY3Rpb24iJiYobT1tLnRvSlNPTihkKSksdHlwZW9mIGk9PSJmdW5jdGlvbiImJihtPWkuY2FsbChTLGQsbSkpLHR5cGVvZiBtKXtjYXNlInN0cmluZyI6cmV0dXJuIG8obSk7Y2FzZSJudW1iZXIiOnJldHVybiBpc0Zpbml0ZShtKT9TdHJpbmcobSk6Im51bGwiO2Nhc2UiYm9vbGVhbiI6Y2FzZSJudWxsIjpyZXR1cm4gU3RyaW5nKG0pO2Nhc2Uib2JqZWN0IjppZighbSlyZXR1cm4ibnVsbCI7aWYobis9ZSxsPVtdLE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkobSk9PT0iW29iamVjdCBBcnJheV0iKXtmb3IodT1tLmxlbmd0aCxDPTA7Qzx1O0MrPTEpbFtDXT1yKEMsbSl8fCJudWxsIjtyZXR1cm4gQj1sLmxlbmd0aD09PTA/IltdIjpuP2BbCmArbitsLmpvaW4oYCwKYCtuKStgCmArYysiXSI6IlsiK2wuam9pbigiLCIpKyJdIixuPWMsQn1pZihpJiZ0eXBlb2YgaT09Im9iamVjdCIpZm9yKHU9aS5sZW5ndGgsQz0wO0M8dTtDKz0xKXA9aVtDXSx0eXBlb2YgcD09InN0cmluZyImJihCPXIocCxtKSxCJiZsLnB1c2gobyhwKSsobj8iOiAiOiI6IikrQikpO2Vsc2UgZm9yKHAgaW4gbSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobSxwKSYmKEI9cihwLG0pLEImJmwucHVzaChvKHApKyhuPyI6ICI6IjoiKStCKSk7cmV0dXJuIEI9bC5sZW5ndGg9PT0wPyJ7fSI6bj9gewpgK24rbC5qb2luKGAsCmArbikrYApgK2MrIn0iOiJ7IitsLmpvaW4oIiwiKSsifSIsbj1jLEJ9fXJldHVybiBnZT1mdW5jdGlvbihkLFMsQyl7dmFyIHA7aWYobj0iIixlPSIiLHR5cGVvZiBDPT0ibnVtYmVyIilmb3IocD0wO3A8QztwKz0xKWUrPSIgIjtlbHNlIHR5cGVvZiBDPT0ic3RyaW5nIiYmKGU9Qyk7aWYoaT1TLFMmJnR5cGVvZiBTIT0iZnVuY3Rpb24iJiYodHlwZW9mIFMhPSJvYmplY3QifHx0eXBlb2YgUy5sZW5ndGghPSJudW1iZXIiKSl0aHJvdyBuZXcgRXJyb3IoIkpTT04uc3RyaW5naWZ5Iik7cmV0dXJuIHIoIiIseyIiOmR9KX0sZ2V9dmFyIFllO2Z1bmN0aW9uIEVpKCl7cmV0dXJuIFllfHwoWWU9MSxxdC5wYXJzZT1faSgpLHF0LnN0cmluZ2lmeT1BaSgpKSxxdH12YXIgVGk9e30udG9TdHJpbmcsSWk9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24odCl7cmV0dXJuIFRpLmNhbGwodCk9PSJbb2JqZWN0IEFycmF5XSJ9LGplPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsSmU9ZnVuY3Rpb24obil7dmFyIGU9amUuY2FsbChuKSxhPWU9PT0iW29iamVjdCBBcmd1bWVudHNdIjtyZXR1cm4gYXx8KGE9ZSE9PSJbb2JqZWN0IEFycmF5XSImJm4hPT1udWxsJiZ0eXBlb2Ygbj09Im9iamVjdCImJnR5cGVvZiBuLmxlbmd0aD09Im51bWJlciImJm4ubGVuZ3RoPj0wJiZqZS5jYWxsKG4uY2FsbGVlKT09PSJbb2JqZWN0IEZ1bmN0aW9uXSIpLGF9LHBlLFFlO2Z1bmN0aW9uIExpKCl7aWYoUWUpcmV0dXJuIHBlO1FlPTE7dmFyIHQ7aWYoIU9iamVjdC5rZXlzKXt2YXIgbj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxhPUplLGk9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxvPSFpLmNhbGwoe3RvU3RyaW5nOm51bGx9LCJ0b1N0cmluZyIpLHI9aS5jYWxsKGZ1bmN0aW9uKCl7fSwicHJvdG90eXBlIiksZD1bInRvU3RyaW5nIiwidG9Mb2NhbGVTdHJpbmciLCJ2YWx1ZU9mIiwiaGFzT3duUHJvcGVydHkiLCJpc1Byb3RvdHlwZU9mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJjb25zdHJ1Y3RvciJdLFM9ZnVuY3Rpb24odSl7dmFyIGM9dS5jb25zdHJ1Y3RvcjtyZXR1cm4gYyYmYy5wcm90b3R5cGU9PT11fSxDPXskYXBwbGljYXRpb25DYWNoZTohMCwkY29uc29sZTohMCwkZXh0ZXJuYWw6ITAsJGZyYW1lOiEwLCRmcmFtZUVsZW1lbnQ6ITAsJGZyYW1lczohMCwkaW5uZXJIZWlnaHQ6ITAsJGlubmVyV2lkdGg6ITAsJG9ubW96ZnVsbHNjcmVlbmNoYW5nZTohMCwkb25tb3pmdWxsc2NyZWVuZXJyb3I6ITAsJG91dGVySGVpZ2h0OiEwLCRvdXRlcldpZHRoOiEwLCRwYWdlWE9mZnNldDohMCwkcGFnZVlPZmZzZXQ6ITAsJHBhcmVudDohMCwkc2Nyb2xsTGVmdDohMCwkc2Nyb2xsVG9wOiEwLCRzY3JvbGxYOiEwLCRzY3JvbGxZOiEwLCRzZWxmOiEwLCR3ZWJraXRJbmRleGVkREI6ITAsJHdlYmtpdFN0b3JhZ2VJbmZvOiEwLCR3aW5kb3c6ITB9LHA9ZnVuY3Rpb24oKXtpZih0eXBlb2Ygd2luZG93PiJ1IilyZXR1cm4hMTtmb3IodmFyIHUgaW4gd2luZG93KXRyeXtpZighQ1siJCIrdV0mJm4uY2FsbCh3aW5kb3csdSkmJndpbmRvd1t1XSE9PW51bGwmJnR5cGVvZiB3aW5kb3dbdV09PSJvYmplY3QiKXRyeXtTKHdpbmRvd1t1XSl9Y2F0Y2h7cmV0dXJuITB9fWNhdGNoe3JldHVybiEwfXJldHVybiExfSgpLEI9ZnVuY3Rpb24odSl7aWYodHlwZW9mIHdpbmRvdz4idSJ8fCFwKXJldHVybiBTKHUpO3RyeXtyZXR1cm4gUyh1KX1jYXRjaHtyZXR1cm4hMX19O3Q9ZnVuY3Rpb24oYyl7dmFyIGw9YyE9PW51bGwmJnR5cGVvZiBjPT0ib2JqZWN0IixtPWUuY2FsbChjKT09PSJbb2JqZWN0IEZ1bmN0aW9uXSIsZj1hKGMpLGc9bCYmZS5jYWxsKGMpPT09IltvYmplY3QgU3RyaW5nXSIsaD1bXTtpZighbCYmIW0mJiFmKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5rZXlzIGNhbGxlZCBvbiBhIG5vbi1vYmplY3QiKTt2YXIgXz1yJiZtO2lmKGcmJmMubGVuZ3RoPjAmJiFuLmNhbGwoYywwKSlmb3IodmFyIEU9MDtFPGMubGVuZ3RoOysrRSloLnB1c2goU3RyaW5nKEUpKTtpZihmJiZjLmxlbmd0aD4wKWZvcih2YXIgVD0wO1Q8Yy5sZW5ndGg7KytUKWgucHVzaChTdHJpbmcoVCkpO2Vsc2UgZm9yKHZhciBMIGluIGMpIShfJiZMPT09InByb3RvdHlwZSIpJiZuLmNhbGwoYyxMKSYmaC5wdXNoKFN0cmluZyhMKSk7aWYobylmb3IodmFyIFA9QihjKSwkPTA7JDxkLmxlbmd0aDsrKyQpIShQJiZkWyRdPT09ImNvbnN0cnVjdG9yIikmJm4uY2FsbChjLGRbJF0pJiZoLnB1c2goZFskXSk7cmV0dXJuIGh9fXJldHVybiBwZT10LHBlfXZhciBraT1BcnJheS5wcm90b3R5cGUuc2xpY2UsYmk9SmUsWGU9T2JqZWN0LmtleXMsdGU9WGU/ZnVuY3Rpb24obil7cmV0dXJuIFhlKG4pfTpMaSgpLFplPU9iamVjdC5rZXlzO3RlLnNoaW09ZnVuY3Rpb24oKXtpZihPYmplY3Qua2V5cyl7dmFyIG49ZnVuY3Rpb24oKXt2YXIgZT1PYmplY3Qua2V5cyhhcmd1bWVudHMpO3JldHVybiBlJiZlLmxlbmd0aD09PWFyZ3VtZW50cy5sZW5ndGh9KDEsMik7bnx8KE9iamVjdC5rZXlzPWZ1bmN0aW9uKGEpe3JldHVybiBiaShhKT9aZShraS5jYWxsKGEpKTpaZShhKX0pfWVsc2UgT2JqZWN0LmtleXM9dGU7cmV0dXJuIE9iamVjdC5rZXlzfHx0ZX07dmFyIHlpPXRlLHFlPXtleHBvcnRzOnt9fSxSaT0iRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgY2FsbGVkIG9uIGluY29tcGF0aWJsZSAiLEdpPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsTWk9TWF0aC5tYXgsdmk9IltvYmplY3QgRnVuY3Rpb25dIix0bj1mdW5jdGlvbihuLGUpe2Zvcih2YXIgYT1bXSxpPTA7aTxuLmxlbmd0aDtpKz0xKWFbaV09bltpXTtmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rPTEpYVtvK24ubGVuZ3RoXT1lW29dO3JldHVybiBhfSxOaT1mdW5jdGlvbihuLGUpe2Zvcih2YXIgYT1bXSxpPWUsbz0wO2k8bi5sZW5ndGg7aSs9MSxvKz0xKWFbb109bltpXTtyZXR1cm4gYX0sT2k9ZnVuY3Rpb24odCxuKXtmb3IodmFyIGU9IiIsYT0wO2E8dC5sZW5ndGg7YSs9MSllKz10W2FdLGErMTx0Lmxlbmd0aCYmKGUrPW4pO3JldHVybiBlfSxQaT1mdW5jdGlvbihuKXt2YXIgZT10aGlzO2lmKHR5cGVvZiBlIT0iZnVuY3Rpb24ifHxHaS5hcHBseShlKSE9PXZpKXRocm93IG5ldyBUeXBlRXJyb3IoUmkrZSk7Zm9yKHZhciBhPU5pKGFyZ3VtZW50cywxKSxpLG89ZnVuY3Rpb24oKXtpZih0aGlzIGluc3RhbmNlb2YgaSl7dmFyIHA9ZS5hcHBseSh0aGlzLHRuKGEsYXJndW1lbnRzKSk7cmV0dXJuIE9iamVjdChwKT09PXA/cDp0aGlzfXJldHVybiBlLmFwcGx5KG4sdG4oYSxhcmd1bWVudHMpKX0scj1NaSgwLGUubGVuZ3RoLWEubGVuZ3RoKSxkPVtdLFM9MDtTPHI7UysrKWRbU109IiQiK1M7aWYoaT1GdW5jdGlvbigiYmluZGVyIiwicmV0dXJuIGZ1bmN0aW9uICgiK09pKGQsIiwiKSsiKXsgcmV0dXJuIGJpbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7IH0iKShvKSxlLnByb3RvdHlwZSl7dmFyIEM9ZnVuY3Rpb24oKXt9O0MucHJvdG90eXBlPWUucHJvdG90eXBlLGkucHJvdG90eXBlPW5ldyBDLEMucHJvdG90eXBlPW51bGx9cmV0dXJuIGl9LFVpPVBpLGhlPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHxVaSxGaT1FcnJvcixIaT1FdmFsRXJyb3IseGk9UmFuZ2VFcnJvcixLaT1SZWZlcmVuY2VFcnJvcixlbj1TeW50YXhFcnJvcixlZT1UeXBlRXJyb3IsVmk9VVJJRXJyb3Isd2k9ZnVuY3Rpb24oKXtpZih0eXBlb2YgU3ltYm9sIT0iZnVuY3Rpb24ifHx0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyE9ImZ1bmN0aW9uIilyZXR1cm4hMTtpZih0eXBlb2YgU3ltYm9sLml0ZXJhdG9yPT0ic3ltYm9sIilyZXR1cm4hMDt2YXIgbj17fSxlPVN5bWJvbCgidGVzdCIpLGE9T2JqZWN0KGUpO2lmKHR5cGVvZiBlPT0ic3RyaW5nInx8T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpIT09IltvYmplY3QgU3ltYm9sXSJ8fE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKSE9PSJbb2JqZWN0IFN5bWJvbF0iKXJldHVybiExO3ZhciBpPTQyO25bZV09aTtmb3IoZSBpbiBuKXJldHVybiExO2lmKHR5cGVvZiBPYmplY3Qua2V5cz09ImZ1bmN0aW9uIiYmT2JqZWN0LmtleXMobikubGVuZ3RoIT09MHx8dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzPT0iZnVuY3Rpb24iJiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhuKS5sZW5ndGghPT0wKXJldHVybiExO3ZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMobik7aWYoby5sZW5ndGghPT0xfHxvWzBdIT09ZXx8IU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChuLGUpKXJldHVybiExO2lmKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yPT0iZnVuY3Rpb24iKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sZSk7aWYoci52YWx1ZSE9PWl8fHIuZW51bWVyYWJsZSE9PSEwKXJldHVybiExfXJldHVybiEwfSxubj10eXBlb2YgU3ltYm9sPCJ1IiYmU3ltYm9sLHppPXdpLCRpPWZ1bmN0aW9uKCl7cmV0dXJuIHR5cGVvZiBubiE9ImZ1bmN0aW9uInx8dHlwZW9mIFN5bWJvbCE9ImZ1bmN0aW9uInx8dHlwZW9mIG5uKCJmb28iKSE9InN5bWJvbCJ8fHR5cGVvZiBTeW1ib2woImJhciIpIT0ic3ltYm9sIj8hMTp6aSgpfSxCZT17X19wcm90b19fOm51bGwsZm9vOnt9fSxXaT1PYmplY3QsWWk9ZnVuY3Rpb24oKXtyZXR1cm57X19wcm90b19fOkJlfS5mb289PT1CZS5mb28mJiEoQmUgaW5zdGFuY2VvZiBXaSl9LGppPUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLEppPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksUWk9aGUsWGk9UWkuY2FsbChqaSxKaSksdixaaT1GaSxxaT1IaSx0YT14aSxlYT1LaSxidD1lbix5dD1lZSxuYT1WaSxhbj1GdW5jdGlvbixDZT1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIGFuKCcidXNlIHN0cmljdCI7IHJldHVybiAoJyt0KyIpLmNvbnN0cnVjdG9yOyIpKCl9Y2F0Y2h7fX0sQnQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtpZihCdCl0cnl7QnQoe30sIiIpfWNhdGNoe0J0PW51bGx9dmFyIERlPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IHl0fSxpYT1CdD9mdW5jdGlvbigpe3RyeXtyZXR1cm4gYXJndW1lbnRzLmNhbGxlZSxEZX1jYXRjaHt0cnl7cmV0dXJuIEJ0KGFyZ3VtZW50cywiY2FsbGVlIikuZ2V0fWNhdGNoe3JldHVybiBEZX19fSgpOkRlLFJ0PSRpKCksYWE9WWkoKSxKPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8KGFhP2Z1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX306bnVsbCksR3Q9e30sb2E9dHlwZW9mIFVpbnQ4QXJyYXk+InUifHwhSj92OkooVWludDhBcnJheSksQ3Q9e19fcHJvdG9fXzpudWxsLCIlQWdncmVnYXRlRXJyb3IlIjp0eXBlb2YgQWdncmVnYXRlRXJyb3I+InUiP3Y6QWdncmVnYXRlRXJyb3IsIiVBcnJheSUiOkFycmF5LCIlQXJyYXlCdWZmZXIlIjp0eXBlb2YgQXJyYXlCdWZmZXI+InUiP3Y6QXJyYXlCdWZmZXIsIiVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJSI6UnQmJko/SihbXVtTeW1ib2wuaXRlcmF0b3JdKCkpOnYsIiVBc3luY0Zyb21TeW5jSXRlcmF0b3JQcm90b3R5cGUlIjp2LCIlQXN5bmNGdW5jdGlvbiUiOkd0LCIlQXN5bmNHZW5lcmF0b3IlIjpHdCwiJUFzeW5jR2VuZXJhdG9yRnVuY3Rpb24lIjpHdCwiJUFzeW5jSXRlcmF0b3JQcm90b3R5cGUlIjpHdCwiJUF0b21pY3MlIjp0eXBlb2YgQXRvbWljcz4idSI/djpBdG9taWNzLCIlQmlnSW50JSI6dHlwZW9mIEJpZ0ludD4idSI/djpCaWdJbnQsIiVCaWdJbnQ2NEFycmF5JSI6dHlwZW9mIEJpZ0ludDY0QXJyYXk+InUiP3Y6QmlnSW50NjRBcnJheSwiJUJpZ1VpbnQ2NEFycmF5JSI6dHlwZW9mIEJpZ1VpbnQ2NEFycmF5PiJ1Ij92OkJpZ1VpbnQ2NEFycmF5LCIlQm9vbGVhbiUiOkJvb2xlYW4sIiVEYXRhVmlldyUiOnR5cGVvZiBEYXRhVmlldz4idSI/djpEYXRhVmlldywiJURhdGUlIjpEYXRlLCIlZGVjb2RlVVJJJSI6ZGVjb2RlVVJJLCIlZGVjb2RlVVJJQ29tcG9uZW50JSI6ZGVjb2RlVVJJQ29tcG9uZW50LCIlZW5jb2RlVVJJJSI6ZW5jb2RlVVJJLCIlZW5jb2RlVVJJQ29tcG9uZW50JSI6ZW5jb2RlVVJJQ29tcG9uZW50LCIlRXJyb3IlIjpaaSwiJWV2YWwlIjpldmFsLCIlRXZhbEVycm9yJSI6cWksIiVGbG9hdDMyQXJyYXklIjp0eXBlb2YgRmxvYXQzMkFycmF5PiJ1Ij92OkZsb2F0MzJBcnJheSwiJUZsb2F0NjRBcnJheSUiOnR5cGVvZiBGbG9hdDY0QXJyYXk+InUiP3Y6RmxvYXQ2NEFycmF5LCIlRmluYWxpemF0aW9uUmVnaXN0cnklIjp0eXBlb2YgRmluYWxpemF0aW9uUmVnaXN0cnk+InUiP3Y6RmluYWxpemF0aW9uUmVnaXN0cnksIiVGdW5jdGlvbiUiOmFuLCIlR2VuZXJhdG9yRnVuY3Rpb24lIjpHdCwiJUludDhBcnJheSUiOnR5cGVvZiBJbnQ4QXJyYXk+InUiP3Y6SW50OEFycmF5LCIlSW50MTZBcnJheSUiOnR5cGVvZiBJbnQxNkFycmF5PiJ1Ij92OkludDE2QXJyYXksIiVJbnQzMkFycmF5JSI6dHlwZW9mIEludDMyQXJyYXk+InUiP3Y6SW50MzJBcnJheSwiJWlzRmluaXRlJSI6aXNGaW5pdGUsIiVpc05hTiUiOmlzTmFOLCIlSXRlcmF0b3JQcm90b3R5cGUlIjpSdCYmSj9KKEooW11bU3ltYm9sLml0ZXJhdG9yXSgpKSk6diwiJUpTT04lIjp0eXBlb2YgSlNPTj09Im9iamVjdCI/SlNPTjp2LCIlTWFwJSI6dHlwZW9mIE1hcD4idSI/djpNYXAsIiVNYXBJdGVyYXRvclByb3RvdHlwZSUiOnR5cGVvZiBNYXA+InUifHwhUnR8fCFKP3Y6SihuZXcgTWFwKClbU3ltYm9sLml0ZXJhdG9yXSgpKSwiJU1hdGglIjpNYXRoLCIlTnVtYmVyJSI6TnVtYmVyLCIlT2JqZWN0JSI6T2JqZWN0LCIlcGFyc2VGbG9hdCUiOnBhcnNlRmxvYXQsIiVwYXJzZUludCUiOnBhcnNlSW50LCIlUHJvbWlzZSUiOnR5cGVvZiBQcm9taXNlPiJ1Ij92OlByb21pc2UsIiVQcm94eSUiOnR5cGVvZiBQcm94eT4idSI/djpQcm94eSwiJVJhbmdlRXJyb3IlIjp0YSwiJVJlZmVyZW5jZUVycm9yJSI6ZWEsIiVSZWZsZWN0JSI6dHlwZW9mIFJlZmxlY3Q+InUiP3Y6UmVmbGVjdCwiJVJlZ0V4cCUiOlJlZ0V4cCwiJVNldCUiOnR5cGVvZiBTZXQ+InUiP3Y6U2V0LCIlU2V0SXRlcmF0b3JQcm90b3R5cGUlIjp0eXBlb2YgU2V0PiJ1Inx8IVJ0fHwhSj92OkoobmV3IFNldCgpW1N5bWJvbC5pdGVyYXRvcl0oKSksIiVTaGFyZWRBcnJheUJ1ZmZlciUiOnR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlcj4idSI/djpTaGFyZWRBcnJheUJ1ZmZlciwiJVN0cmluZyUiOlN0cmluZywiJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJSI6UnQmJko/SigiIltTeW1ib2wuaXRlcmF0b3JdKCkpOnYsIiVTeW1ib2wlIjpSdD9TeW1ib2w6diwiJVN5bnRheEVycm9yJSI6YnQsIiVUaHJvd1R5cGVFcnJvciUiOmlhLCIlVHlwZWRBcnJheSUiOm9hLCIlVHlwZUVycm9yJSI6eXQsIiVVaW50OEFycmF5JSI6dHlwZW9mIFVpbnQ4QXJyYXk+InUiP3Y6VWludDhBcnJheSwiJVVpbnQ4Q2xhbXBlZEFycmF5JSI6dHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5PiJ1Ij92OlVpbnQ4Q2xhbXBlZEFycmF5LCIlVWludDE2QXJyYXklIjp0eXBlb2YgVWludDE2QXJyYXk+InUiP3Y6VWludDE2QXJyYXksIiVVaW50MzJBcnJheSUiOnR5cGVvZiBVaW50MzJBcnJheT4idSI/djpVaW50MzJBcnJheSwiJVVSSUVycm9yJSI6bmEsIiVXZWFrTWFwJSI6dHlwZW9mIFdlYWtNYXA+InUiP3Y6V2Vha01hcCwiJVdlYWtSZWYlIjp0eXBlb2YgV2Vha1JlZj4idSI/djpXZWFrUmVmLCIlV2Vha1NldCUiOnR5cGVvZiBXZWFrU2V0PiJ1Ij92OldlYWtTZXR9O2lmKEopdHJ5e251bGwuZXJyb3J9Y2F0Y2godCl7dmFyIHJhPUooSih0KSk7Q3RbIiVFcnJvci5wcm90b3R5cGUlIl09cmF9dmFyIHNhPWZ1bmN0aW9uIHQobil7dmFyIGU7aWYobj09PSIlQXN5bmNGdW5jdGlvbiUiKWU9Q2UoImFzeW5jIGZ1bmN0aW9uICgpIHt9Iik7ZWxzZSBpZihuPT09IiVHZW5lcmF0b3JGdW5jdGlvbiUiKWU9Q2UoImZ1bmN0aW9uKiAoKSB7fSIpO2Vsc2UgaWYobj09PSIlQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiUiKWU9Q2UoImFzeW5jIGZ1bmN0aW9uKiAoKSB7fSIpO2Vsc2UgaWYobj09PSIlQXN5bmNHZW5lcmF0b3IlIil7dmFyIGE9dCgiJUFzeW5jR2VuZXJhdG9yRnVuY3Rpb24lIik7YSYmKGU9YS5wcm90b3R5cGUpfWVsc2UgaWYobj09PSIlQXN5bmNJdGVyYXRvclByb3RvdHlwZSUiKXt2YXIgaT10KCIlQXN5bmNHZW5lcmF0b3IlIik7aSYmSiYmKGU9SihpLnByb3RvdHlwZSkpfXJldHVybiBDdFtuXT1lLGV9LG9uPXtfX3Byb3RvX186bnVsbCwiJUFycmF5QnVmZmVyUHJvdG90eXBlJSI6WyJBcnJheUJ1ZmZlciIsInByb3RvdHlwZSJdLCIlQXJyYXlQcm90b3R5cGUlIjpbIkFycmF5IiwicHJvdG90eXBlIl0sIiVBcnJheVByb3RvX2VudHJpZXMlIjpbIkFycmF5IiwicHJvdG90eXBlIiwiZW50cmllcyJdLCIlQXJyYXlQcm90b19mb3JFYWNoJSI6WyJBcnJheSIsInByb3RvdHlwZSIsImZvckVhY2giXSwiJUFycmF5UHJvdG9fa2V5cyUiOlsiQXJyYXkiLCJwcm90b3R5cGUiLCJrZXlzIl0sIiVBcnJheVByb3RvX3ZhbHVlcyUiOlsiQXJyYXkiLCJwcm90b3R5cGUiLCJ2YWx1ZXMiXSwiJUFzeW5jRnVuY3Rpb25Qcm90b3R5cGUlIjpbIkFzeW5jRnVuY3Rpb24iLCJwcm90b3R5cGUiXSwiJUFzeW5jR2VuZXJhdG9yJSI6WyJBc3luY0dlbmVyYXRvckZ1bmN0aW9uIiwicHJvdG90eXBlIl0sIiVBc3luY0dlbmVyYXRvclByb3RvdHlwZSUiOlsiQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiIsInByb3RvdHlwZSIsInByb3RvdHlwZSJdLCIlQm9vbGVhblByb3RvdHlwZSUiOlsiQm9vbGVhbiIsInByb3RvdHlwZSJdLCIlRGF0YVZpZXdQcm90b3R5cGUlIjpbIkRhdGFWaWV3IiwicHJvdG90eXBlIl0sIiVEYXRlUHJvdG90eXBlJSI6WyJEYXRlIiwicHJvdG90eXBlIl0sIiVFcnJvclByb3RvdHlwZSUiOlsiRXJyb3IiLCJwcm90b3R5cGUiXSwiJUV2YWxFcnJvclByb3RvdHlwZSUiOlsiRXZhbEVycm9yIiwicHJvdG90eXBlIl0sIiVGbG9hdDMyQXJyYXlQcm90b3R5cGUlIjpbIkZsb2F0MzJBcnJheSIsInByb3RvdHlwZSJdLCIlRmxvYXQ2NEFycmF5UHJvdG90eXBlJSI6WyJGbG9hdDY0QXJyYXkiLCJwcm90b3R5cGUiXSwiJUZ1bmN0aW9uUHJvdG90eXBlJSI6WyJGdW5jdGlvbiIsInByb3RvdHlwZSJdLCIlR2VuZXJhdG9yJSI6WyJHZW5lcmF0b3JGdW5jdGlvbiIsInByb3RvdHlwZSJdLCIlR2VuZXJhdG9yUHJvdG90eXBlJSI6WyJHZW5lcmF0b3JGdW5jdGlvbiIsInByb3RvdHlwZSIsInByb3RvdHlwZSJdLCIlSW50OEFycmF5UHJvdG90eXBlJSI6WyJJbnQ4QXJyYXkiLCJwcm90b3R5cGUiXSwiJUludDE2QXJyYXlQcm90b3R5cGUlIjpbIkludDE2QXJyYXkiLCJwcm90b3R5cGUiXSwiJUludDMyQXJyYXlQcm90b3R5cGUlIjpbIkludDMyQXJyYXkiLCJwcm90b3R5cGUiXSwiJUpTT05QYXJzZSUiOlsiSlNPTiIsInBhcnNlIl0sIiVKU09OU3RyaW5naWZ5JSI6WyJKU09OIiwic3RyaW5naWZ5Il0sIiVNYXBQcm90b3R5cGUlIjpbIk1hcCIsInByb3RvdHlwZSJdLCIlTnVtYmVyUHJvdG90eXBlJSI6WyJOdW1iZXIiLCJwcm90b3R5cGUiXSwiJU9iamVjdFByb3RvdHlwZSUiOlsiT2JqZWN0IiwicHJvdG90eXBlIl0sIiVPYmpQcm90b190b1N0cmluZyUiOlsiT2JqZWN0IiwicHJvdG90eXBlIiwidG9TdHJpbmciXSwiJU9ialByb3RvX3ZhbHVlT2YlIjpbIk9iamVjdCIsInByb3RvdHlwZSIsInZhbHVlT2YiXSwiJVByb21pc2VQcm90b3R5cGUlIjpbIlByb21pc2UiLCJwcm90b3R5cGUiXSwiJVByb21pc2VQcm90b190aGVuJSI6WyJQcm9taXNlIiwicHJvdG90eXBlIiwidGhlbiJdLCIlUHJvbWlzZV9hbGwlIjpbIlByb21pc2UiLCJhbGwiXSwiJVByb21pc2VfcmVqZWN0JSI6WyJQcm9taXNlIiwicmVqZWN0Il0sIiVQcm9taXNlX3Jlc29sdmUlIjpbIlByb21pc2UiLCJyZXNvbHZlIl0sIiVSYW5nZUVycm9yUHJvdG90eXBlJSI6WyJSYW5nZUVycm9yIiwicHJvdG90eXBlIl0sIiVSZWZlcmVuY2VFcnJvclByb3RvdHlwZSUiOlsiUmVmZXJlbmNlRXJyb3IiLCJwcm90b3R5cGUiXSwiJVJlZ0V4cFByb3RvdHlwZSUiOlsiUmVnRXhwIiwicHJvdG90eXBlIl0sIiVTZXRQcm90b3R5cGUlIjpbIlNldCIsInByb3RvdHlwZSJdLCIlU2hhcmVkQXJyYXlCdWZmZXJQcm90b3R5cGUlIjpbIlNoYXJlZEFycmF5QnVmZmVyIiwicHJvdG90eXBlIl0sIiVTdHJpbmdQcm90b3R5cGUlIjpbIlN0cmluZyIsInByb3RvdHlwZSJdLCIlU3ltYm9sUHJvdG90eXBlJSI6WyJTeW1ib2wiLCJwcm90b3R5cGUiXSwiJVN5bnRheEVycm9yUHJvdG90eXBlJSI6WyJTeW50YXhFcnJvciIsInByb3RvdHlwZSJdLCIlVHlwZWRBcnJheVByb3RvdHlwZSUiOlsiVHlwZWRBcnJheSIsInByb3RvdHlwZSJdLCIlVHlwZUVycm9yUHJvdG90eXBlJSI6WyJUeXBlRXJyb3IiLCJwcm90b3R5cGUiXSwiJVVpbnQ4QXJyYXlQcm90b3R5cGUlIjpbIlVpbnQ4QXJyYXkiLCJwcm90b3R5cGUiXSwiJVVpbnQ4Q2xhbXBlZEFycmF5UHJvdG90eXBlJSI6WyJVaW50OENsYW1wZWRBcnJheSIsInByb3RvdHlwZSJdLCIlVWludDE2QXJyYXlQcm90b3R5cGUlIjpbIlVpbnQxNkFycmF5IiwicHJvdG90eXBlIl0sIiVVaW50MzJBcnJheVByb3RvdHlwZSUiOlsiVWludDMyQXJyYXkiLCJwcm90b3R5cGUiXSwiJVVSSUVycm9yUHJvdG90eXBlJSI6WyJVUklFcnJvciIsInByb3RvdHlwZSJdLCIlV2Vha01hcFByb3RvdHlwZSUiOlsiV2Vha01hcCIsInByb3RvdHlwZSJdLCIlV2Vha1NldFByb3RvdHlwZSUiOlsiV2Vha1NldCIsInByb3RvdHlwZSJdfSxLdD1oZSxuZT1YaSxsYT1LdC5jYWxsKEZ1bmN0aW9uLmNhbGwsQXJyYXkucHJvdG90eXBlLmNvbmNhdCksY2E9S3QuY2FsbChGdW5jdGlvbi5hcHBseSxBcnJheS5wcm90b3R5cGUuc3BsaWNlKSxybj1LdC5jYWxsKEZ1bmN0aW9uLmNhbGwsU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlKSxpZT1LdC5jYWxsKEZ1bmN0aW9uLmNhbGwsU3RyaW5nLnByb3RvdHlwZS5zbGljZSksdWE9S3QuY2FsbChGdW5jdGlvbi5jYWxsLFJlZ0V4cC5wcm90b3R5cGUuZXhlYyksZmE9L1teJS5bXF1dK3xcWyg/OigtP1xkKyg/OlwuXGQrKT8pfChbIiddKSgoPzooPyFcMilbXlxcXXxcXC4pKj8pXDIpXF18KD89KD86XC58XFtcXSkoPzpcLnxcW1xdfCUkKSkvZyxkYT0vXFwoXFwpPy9nLG1hPWZ1bmN0aW9uKG4pe3ZhciBlPWllKG4sMCwxKSxhPWllKG4sLTEpO2lmKGU9PT0iJSImJmEhPT0iJSIpdGhyb3cgbmV3IGJ0KCJpbnZhbGlkIGludHJpbnNpYyBzeW50YXgsIGV4cGVjdGVkIGNsb3NpbmcgYCVgIik7aWYoYT09PSIlIiYmZSE9PSIlIil0aHJvdyBuZXcgYnQoImludmFsaWQgaW50cmluc2ljIHN5bnRheCwgZXhwZWN0ZWQgb3BlbmluZyBgJWAiKTt2YXIgaT1bXTtyZXR1cm4gcm4obixmYSxmdW5jdGlvbihvLHIsZCxTKXtpW2kubGVuZ3RoXT1kP3JuKFMsZGEsIiQxIik6cnx8b30pLGl9LFNhPWZ1bmN0aW9uKG4sZSl7dmFyIGE9bixpO2lmKG5lKG9uLGEpJiYoaT1vblthXSxhPSIlIitpWzBdKyIlIiksbmUoQ3QsYSkpe3ZhciBvPUN0W2FdO2lmKG89PT1HdCYmKG89c2EoYSkpLHR5cGVvZiBvPiJ1IiYmIWUpdGhyb3cgbmV3IHl0KCJpbnRyaW5zaWMgIituKyIgZXhpc3RzLCBidXQgaXMgbm90IGF2YWlsYWJsZS4gUGxlYXNlIGZpbGUgYW4gaXNzdWUhIik7cmV0dXJue2FsaWFzOmksbmFtZTphLHZhbHVlOm99fXRocm93IG5ldyBidCgiaW50cmluc2ljICIrbisiIGRvZXMgbm90IGV4aXN0ISIpfSxWdD1mdW5jdGlvbihuLGUpe2lmKHR5cGVvZiBuIT0ic3RyaW5nInx8bi5sZW5ndGg9PT0wKXRocm93IG5ldyB5dCgiaW50cmluc2ljIG5hbWUgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmciKTtpZihhcmd1bWVudHMubGVuZ3RoPjEmJnR5cGVvZiBlIT0iYm9vbGVhbiIpdGhyb3cgbmV3IHl0KCciYWxsb3dNaXNzaW5nIiBhcmd1bWVudCBtdXN0IGJlIGEgYm9vbGVhbicpO2lmKHVhKC9eJT9bXiVdKiU/JC8sbik9PT1udWxsKXRocm93IG5ldyBidCgiYCVgIG1heSBub3QgYmUgcHJlc2VudCBhbnl3aGVyZSBidXQgYXQgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIHRoZSBpbnRyaW5zaWMgbmFtZSIpO3ZhciBhPW1hKG4pLGk9YS5sZW5ndGg+MD9hWzBdOiIiLG89U2EoIiUiK2krIiUiLGUpLHI9by5uYW1lLGQ9by52YWx1ZSxTPSExLEM9by5hbGlhcztDJiYoaT1DWzBdLGNhKGEsbGEoWzAsMV0sQykpKTtmb3IodmFyIHA9MSxCPSEwO3A8YS5sZW5ndGg7cCs9MSl7dmFyIHU9YVtwXSxjPWllKHUsMCwxKSxsPWllKHUsLTEpO2lmKChjPT09JyInfHxjPT09IicifHxjPT09ImAifHxsPT09JyInfHxsPT09IicifHxsPT09ImAiKSYmYyE9PWwpdGhyb3cgbmV3IGJ0KCJwcm9wZXJ0eSBuYW1lcyB3aXRoIHF1b3RlcyBtdXN0IGhhdmUgbWF0Y2hpbmcgcXVvdGVzIik7aWYoKHU9PT0iY29uc3RydWN0b3IifHwhQikmJihTPSEwKSxpKz0iLiIrdSxyPSIlIitpKyIlIixuZShDdCxyKSlkPUN0W3JdO2Vsc2UgaWYoZCE9bnVsbCl7aWYoISh1IGluIGQpKXtpZighZSl0aHJvdyBuZXcgeXQoImJhc2UgaW50cmluc2ljIGZvciAiK24rIiBleGlzdHMsIGJ1dCB0aGUgcHJvcGVydHkgaXMgbm90IGF2YWlsYWJsZS4iKTtyZXR1cm59aWYoQnQmJnArMT49YS5sZW5ndGgpe3ZhciBtPUJ0KGQsdSk7Qj0hIW0sQiYmImdldCJpbiBtJiYhKCJvcmlnaW5hbFZhbHVlImluIG0uZ2V0KT9kPW0uZ2V0OmQ9ZFt1XX1lbHNlIEI9bmUoZCx1KSxkPWRbdV07QiYmIVMmJihDdFtyXT1kKX19cmV0dXJuIGR9LF9lLHNuO2Z1bmN0aW9uIEFlKCl7aWYoc24pcmV0dXJuIF9lO3NuPTE7dmFyIHQ9VnQsbj10KCIlT2JqZWN0LmRlZmluZVByb3BlcnR5JSIsITApfHwhMTtpZihuKXRyeXtuKHt9LCJhIix7dmFsdWU6MX0pfWNhdGNoe249ITF9cmV0dXJuIF9lPW4sX2V9dmFyIGdhPVZ0LGFlPWdhKCIlT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciUiLCEwKTtpZihhZSl0cnl7YWUoW10sImxlbmd0aCIpfWNhdGNoe2FlPW51bGx9dmFyIGxuPWFlLGNuPUFlKCkscGE9ZW4sTXQ9ZWUsdW49bG4saGE9ZnVuY3Rpb24obixlLGEpe2lmKCFufHx0eXBlb2YgbiE9Im9iamVjdCImJnR5cGVvZiBuIT0iZnVuY3Rpb24iKXRocm93IG5ldyBNdCgiYG9iamAgbXVzdCBiZSBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbmAiKTtpZih0eXBlb2YgZSE9InN0cmluZyImJnR5cGVvZiBlIT0ic3ltYm9sIil0aHJvdyBuZXcgTXQoImBwcm9wZXJ0eWAgbXVzdCBiZSBhIHN0cmluZyBvciBhIHN5bWJvbGAiKTtpZihhcmd1bWVudHMubGVuZ3RoPjMmJnR5cGVvZiBhcmd1bWVudHNbM10hPSJib29sZWFuIiYmYXJndW1lbnRzWzNdIT09bnVsbCl0aHJvdyBuZXcgTXQoImBub25FbnVtZXJhYmxlYCwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBib29sZWFuIG9yIG51bGwiKTtpZihhcmd1bWVudHMubGVuZ3RoPjQmJnR5cGVvZiBhcmd1bWVudHNbNF0hPSJib29sZWFuIiYmYXJndW1lbnRzWzRdIT09bnVsbCl0aHJvdyBuZXcgTXQoImBub25Xcml0YWJsZWAsIGlmIHByb3ZpZGVkLCBtdXN0IGJlIGEgYm9vbGVhbiBvciBudWxsIik7aWYoYXJndW1lbnRzLmxlbmd0aD41JiZ0eXBlb2YgYXJndW1lbnRzWzVdIT0iYm9vbGVhbiImJmFyZ3VtZW50c1s1XSE9PW51bGwpdGhyb3cgbmV3IE10KCJgbm9uQ29uZmlndXJhYmxlYCwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBib29sZWFuIG9yIG51bGwiKTtpZihhcmd1bWVudHMubGVuZ3RoPjYmJnR5cGVvZiBhcmd1bWVudHNbNl0hPSJib29sZWFuIil0aHJvdyBuZXcgTXQoImBsb29zZWAsIGlmIHByb3ZpZGVkLCBtdXN0IGJlIGEgYm9vbGVhbiIpO3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+Mz9hcmd1bWVudHNbM106bnVsbCxvPWFyZ3VtZW50cy5sZW5ndGg+ND9hcmd1bWVudHNbNF06bnVsbCxyPWFyZ3VtZW50cy5sZW5ndGg+NT9hcmd1bWVudHNbNV06bnVsbCxkPWFyZ3VtZW50cy5sZW5ndGg+Nj9hcmd1bWVudHNbNl06ITEsUz0hIXVuJiZ1bihuLGUpO2lmKGNuKWNuKG4sZSx7Y29uZmlndXJhYmxlOnI9PT1udWxsJiZTP1MuY29uZmlndXJhYmxlOiFyLGVudW1lcmFibGU6aT09PW51bGwmJlM/Uy5lbnVtZXJhYmxlOiFpLHZhbHVlOmEsd3JpdGFibGU6bz09PW51bGwmJlM/Uy53cml0YWJsZTohb30pO2Vsc2UgaWYoZHx8IWkmJiFvJiYhciluW2VdPWE7ZWxzZSB0aHJvdyBuZXcgcGEoIlRoaXMgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCBkZWZpbmluZyBhIHByb3BlcnR5IGFzIG5vbi1jb25maWd1cmFibGUsIG5vbi13cml0YWJsZSwgb3Igbm9uLWVudW1lcmFibGUuIil9LEVlPUFlKCksZm49ZnVuY3Rpb24oKXtyZXR1cm4hIUVlfTtmbi5oYXNBcnJheUxlbmd0aERlZmluZUJ1Zz1mdW5jdGlvbigpe2lmKCFFZSlyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIEVlKFtdLCJsZW5ndGgiLHt2YWx1ZToxfSkubGVuZ3RoIT09MX1jYXRjaHtyZXR1cm4hMH19O3ZhciBCYT1mbixDYT1WdCxkbj1oYSxEYT1CYSgpLG1uPWxuLFNuPWVlLF9hPUNhKCIlTWF0aC5mbG9vciUiKSxBYT1mdW5jdGlvbihuLGUpe2lmKHR5cGVvZiBuIT0iZnVuY3Rpb24iKXRocm93IG5ldyBTbigiYGZuYCBpcyBub3QgYSBmdW5jdGlvbiIpO2lmKHR5cGVvZiBlIT0ibnVtYmVyInx8ZTwwfHxlPjQyOTQ5NjcyOTV8fF9hKGUpIT09ZSl0aHJvdyBuZXcgU24oImBsZW5ndGhgIG11c3QgYmUgYSBwb3NpdGl2ZSAzMi1iaXQgaW50ZWdlciIpO3ZhciBhPWFyZ3VtZW50cy5sZW5ndGg+MiYmISFhcmd1bWVudHNbMl0saT0hMCxvPSEwO2lmKCJsZW5ndGgiaW4gbiYmbW4pe3ZhciByPW1uKG4sImxlbmd0aCIpO3ImJiFyLmNvbmZpZ3VyYWJsZSYmKGk9ITEpLHImJiFyLndyaXRhYmxlJiYobz0hMSl9cmV0dXJuKGl8fG98fCFhKSYmKERhP2RuKG4sImxlbmd0aCIsZSwhMCwhMCk6ZG4obiwibGVuZ3RoIixlKSksbn07KGZ1bmN0aW9uKHQpe3ZhciBuPWhlLGU9VnQsYT1BYSxpPWVlLG89ZSgiJUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSUiKSxyPWUoIiVGdW5jdGlvbi5wcm90b3R5cGUuY2FsbCUiKSxkPWUoIiVSZWZsZWN0LmFwcGx5JSIsITApfHxuLmNhbGwocixvKSxTPUFlKCksQz1lKCIlTWF0aC5tYXglIik7dC5leHBvcnRzPWZ1bmN0aW9uKHUpe2lmKHR5cGVvZiB1IT0iZnVuY3Rpb24iKXRocm93IG5ldyBpKCJhIGZ1bmN0aW9uIGlzIHJlcXVpcmVkIik7dmFyIGM9ZChuLHIsYXJndW1lbnRzKTtyZXR1cm4gYShjLDErQygwLHUubGVuZ3RoLShhcmd1bWVudHMubGVuZ3RoLTEpKSwhMCl9O3ZhciBwPWZ1bmN0aW9uKCl7cmV0dXJuIGQobixvLGFyZ3VtZW50cyl9O1M/Uyh0LmV4cG9ydHMsImFwcGx5Iix7dmFsdWU6cH0pOnQuZXhwb3J0cy5hcHBseT1wfSkocWUpO3ZhciBnbj1xZS5leHBvcnRzLHBuPVZ0LGhuPWduLEVhPWhuKHBuKCJTdHJpbmcucHJvdG90eXBlLmluZGV4T2YiKSksVGE9ZnVuY3Rpb24obixlKXt2YXIgYT1wbihuLCEhZSk7cmV0dXJuIHR5cGVvZiBhPT0iZnVuY3Rpb24iJiZFYShuLCIucHJvdG90eXBlLiIpPi0xP2huKGEpOmF9LG9lPSh0eXBlb2YgSlNPTjwidSI/SlNPTjpFaSgpKS5zdHJpbmdpZnksSWE9SWksTGE9eWksa2E9Z24sQm49VGEsQ249Qm4oIkFycmF5LnByb3RvdHlwZS5qb2luIiksVGU9Qm4oIkFycmF5LnByb3RvdHlwZS5wdXNoIiksRG49ZnVuY3Rpb24obixlKXtmb3IodmFyIGE9IiIsaT0wO2k8bjtpKz0xKWErPWU7cmV0dXJuIGF9LGJhPWZ1bmN0aW9uKHQsbixlKXtyZXR1cm4gZX0seWE9ZnVuY3Rpb24obil7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsYT1lJiZlLnNwYWNlfHwiIjt0eXBlb2YgYT09Im51bWJlciImJihhPURuKGEsIiAiKSk7dmFyIGk9ISFlJiZ0eXBlb2YgZS5jeWNsZXM9PSJib29sZWFuIiYmZS5jeWNsZXMsbz1lJiZlLnJlcGxhY2VyP2thKGUucmVwbGFjZXIpOmJhLHI9dHlwZW9mIGU9PSJmdW5jdGlvbiI/ZTplJiZlLmNtcCxkPXImJmZ1bmN0aW9uKEMpe3ZhciBwPXIubGVuZ3RoPjImJmZ1bmN0aW9uKHUpe3JldHVybiBDW3VdfTtyZXR1cm4gZnVuY3Rpb24oQix1KXtyZXR1cm4gcih7a2V5OkIsdmFsdWU6Q1tCXX0se2tleTp1LHZhbHVlOkNbdV19LHA/e19fcHJvdG9fXzpudWxsLGdldDpwfTp2b2lkIDApfX0sUz1bXTtyZXR1cm4gZnVuY3Rpb24gQyhwLEIsdSxjKXt2YXIgbD1hP2AKYCtEbihjLGEpOiIiLG09YT8iOiAiOiI6IjtpZih1JiZ1LnRvSlNPTiYmdHlwZW9mIHUudG9KU09OPT0iZnVuY3Rpb24iJiYodT11LnRvSlNPTigpKSx1PW8ocCxCLHUpLHUhPT12b2lkIDApe2lmKHR5cGVvZiB1IT0ib2JqZWN0Inx8dT09PW51bGwpcmV0dXJuIG9lKHUpO2lmKElhKHUpKXtmb3IodmFyIF89W10sZj0wO2Y8dS5sZW5ndGg7ZisrKXt2YXIgZz1DKHUsZix1W2ZdLGMrMSl8fG9lKG51bGwpO1RlKF8sbCthK2cpfXJldHVybiJbIitDbihfLCIsIikrbCsiXSJ9aWYoUy5pbmRleE9mKHUpIT09LTEpe2lmKGkpcmV0dXJuIG9lKCJfX2N5Y2xlX18iKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJDb252ZXJ0aW5nIGNpcmN1bGFyIHN0cnVjdHVyZSB0byBKU09OIil9ZWxzZSBUZShTLHUpO2Zvcih2YXIgaD1MYSh1KS5zb3J0KGQmJmQodSkpLF89W10sZj0wO2Y8aC5sZW5ndGg7ZisrKXt2YXIgQj1oW2ZdLEU9Qyh1LEIsdVtCXSxjKzEpO2lmKEUpe3ZhciBUPW9lKEIpK20rRTtUZShfLGwrYStUKX19cmV0dXJuIFMuc3BsaWNlKFMuaW5kZXhPZih1KSwxKSwieyIrQ24oXywiLCIpK2wrIn0ifX0oeyIiOm59LCIiLG4sMCl9LFJhPURpKHlhKTtjb25zdCBEPXtjbG9uZSh0KXtyZXR1cm4gdCYmSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0KSl9LG9iamVjdEhhc2godCl7cmV0dXJuIFJhKHQpfSxzdW1BcnJheTp0PT50LnJlZHVjZSgobixlKT0+bitlLDApLHByZWNpc2lvblJvdW5kOih0LG49NSk9Pntjb25zdCBlPU1hdGgucG93KDEwLG4pO3JldHVybiBNYXRoLnJvdW5kKHQqZSkvZX0sY2FsY3VsYXRlUmVsaWNNYWluU3RhdFZhbHVlOih0LG4sZSk9PnR0Lk1haW5TdGF0c1ZhbHVlc1t0XVtuXS5iYXNlK3R0Lk1haW5TdGF0c1ZhbHVlc1t0XVtuXS5pbmNyZW1lbnQqZX07dmFyIEdhPSh0LG4pPT57Y29uc3R7YmFzaWM6ZSxza2lsbDphLHVsdDppLHRhbGVudDpvfT1iLlNLSUxMX1RBTEVOVF8zX1VMVF9CQVNJQ181LHI9dD49ND8xMjoxMCxkPWUodCwxLDEuMSksUz1hKHQsMS4yLDEuMzIpLEM9aSh0LDEuNiwxLjcyOCkscD1pKHQsMi44LDMuMDI0KSxCPWkodCwuOTUsMS4wMjYpLHU9byh0LC4wMjUsLjAyOCksYz0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGw9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5BcmdlbnRpLkNvbnRlbnQiKTtyZXR1cm5be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ1bHRFbmhhbmNlZCIsbmFtZToidWx0RW5oYW5jZWQiLHRleHQ6bCgidWx0RW5oYW5jZWQudGV4dCIpLHRpdGxlOmwoInVsdEVuaGFuY2VkLnRpdGxlIiksY29udGVudDpsKCJ1bHRFbmhhbmNlZC5jb250ZW50Iix7dWx0RW5oYW5jZWRFeHRyYUhpdFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqQiksdWx0RW5oYW5jZWRTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKnApfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZW5lbXlIcDUwIixuYW1lOiJlbmVteUhwNTAiLHRleHQ6bCgiZW5lbXlIcDUwLnRleHQiKSx0aXRsZTpsKCJlbmVteUhwNTAudGl0bGUiKSxjb250ZW50OmwoImVuZW15SHA1MC5jb250ZW50Iil9LHtmb3JtSXRlbToic2xpZGVyIixpZDoidGFsZW50U3RhY2tzIixuYW1lOiJ0YWxlbnRTdGFja3MiLHRleHQ6bCgidGFsZW50U3RhY2tzLnRleHQiKSx0aXRsZTpsKCJ0YWxlbnRTdGFja3MudGl0bGUiKSxjb250ZW50OmwoInRhbGVudFN0YWNrcy5jb250ZW50Iix7dGFsZW50TWF4U3RhY2tzOkQucHJlY2lzaW9uUm91bmQoMTAwKnIpLHRhbGVudENyU3RhY2tWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCp1KX0pLG1pbjowLG1heDpyfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InVsdEVuaGFuY2VkRXh0cmFIaXRzIixuYW1lOiJ1bHRFbmhhbmNlZEV4dHJhSGl0cyIsdGV4dDpsKCJ1bHRFbmhhbmNlZEV4dHJhSGl0cy50ZXh0IiksdGl0bGU6bCgidWx0RW5oYW5jZWRFeHRyYUhpdHMudGl0bGUiKSxjb250ZW50OmwoInVsdEVuaGFuY2VkRXh0cmFIaXRzLmNvbnRlbnQiLHt1bHRFbmhhbmNlZEV4dHJhSGl0U2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpCKX0pLG1pbjowLG1heDo2fSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUyVWx0QXRrQnVmZiIsbmFtZToiZTJVbHRBdGtCdWZmIix0ZXh0OmwoImUyVWx0QXRrQnVmZi50ZXh0IiksdGl0bGU6bCgiZTJVbHRBdGtCdWZmLnRpdGxlIiksY29udGVudDpsKCJlMlVsdEF0a0J1ZmYuY29udGVudCIpLGRpc2FibGVkOnQ8Mn1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+Yyx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe3VsdEVuaGFuY2VkOiEwLHRhbGVudFN0YWNrczpyLHVsdEVuaGFuY2VkRXh0cmFIaXRzOjYsZTJVbHRBdGtCdWZmOiEwLGVuZW15SHA1MDohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KGwsbSk9Pntjb25zdCBmPW0uY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBsW3MuQ1JdKz1mLnRhbGVudFN0YWNrcyp1LGxbcy5DRF0rPXQ+PTE/Zi50YWxlbnRTdGFja3MqLjA0OjAsbFtzLkFUS19QXSs9dD49MiYmZi5lMlVsdEF0a0J1ZmY/LjQ6MCxsLkJBU0lDX1NDQUxJTkcrPWQsbC5TS0lMTF9TQ0FMSU5HKz1TLGwuVUxUX1NDQUxJTkcrPWYudWx0RW5oYW5jZWQ/cDpDLGwuVUxUX1NDQUxJTkcrPWYudWx0RW5oYW5jZWRFeHRyYUhpdHMqQixsLkVMRU1FTlRBTF9ETUcrPWYuZW5lbXlIcDUwPy4xNTowLG90KGwsTywuMyx0Pj02KSxsLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGwuU0tJTExfVE9VR0hORVNTX0RNRys9MzAsbC5VTFRfVE9VR0hORVNTX0RNRys9Zi51bHRFbmhhbmNlZD82MCsxNSpmLnVsdEVuaGFuY2VkRXh0cmFIaXRzOjYwLGx9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihsLG0pPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpsPT54KGwpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSxNYT0odCxuKT0+e2NvbnN0e2Jhc2ljOmUsc2tpbGw6YSx1bHQ6aSx0YWxlbnQ6b309Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxyPWUodCwxLDEuMSksZD1hKHQsMi40LDIuNjQpLFM9aSh0LDMuMiwzLjQ1NiksQz1vKHQsLjcyLC43OTIpLHA9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBCPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuQXJsYW4uQ29udGVudCIpO3JldHVyblt7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InNlbGZDdXJyZW50SHBQZXJjZW50IixuYW1lOiJzZWxmQ3VycmVudEhwUGVyY2VudCIsdGV4dDpCKCJzZWxmQ3VycmVudEhwUGVyY2VudC50ZXh0IiksdGl0bGU6Qigic2VsZkN1cnJlbnRIcFBlcmNlbnQudGl0bGUiKSxjb250ZW50OkIoInNlbGZDdXJyZW50SHBQZXJjZW50LmNvbnRlbnQiLHt0YWxlbnRNaXNzaW5nSHBEbWdCb29zdE1heDpELnByZWNpc2lvblJvdW5kKDEwMCpDKX0pLG1pbjouMDEsbWF4OjEscGVyY2VudDohMH1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+cCx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe3NlbGZDdXJyZW50SHBQZXJjZW50OjF9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOihCLHUpPT57Y29uc3QgYz11LmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gQi5FTEVNRU5UQUxfRE1HKz1NYXRoLm1pbihDLDEtYy5zZWxmQ3VycmVudEhwUGVyY2VudCksQi5CQVNJQ19TQ0FMSU5HKz1yLEIuU0tJTExfU0NBTElORys9ZCxCLlVMVF9TQ0FMSU5HKz1TLHkoQix6LC4xLHQ+PTEmJmMuc2VsZkN1cnJlbnRIcFBlcmNlbnQ8PS41KSx5KEIsTywuMix0Pj02JiZjLnNlbGZDdXJyZW50SHBQZXJjZW50PD0uNSksQi5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxCLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLEIuVUxUX1RPVUdITkVTU19ETUcrPTYwLEJ9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihCLHUpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpCPT54KEIpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSx2YT0odCxuKT0+e2NvbnN0e2Jhc2ljOmUsc2tpbGw6YSx1bHQ6aSx0YWxlbnQ6b309Yi5TS0lMTF9UQUxFTlRfM19VTFRfQkFTSUNfNSxyPWkodCw1MCw1Mi44KSxkPW8odCwuMTQsLjE1NCksUz0uMDYsQz10Pj0xPzU6NCxwPWUodCwxLDEuMSksQj1hKHQsLjUsLjU1KSx1PWkodCwwLDApLGM9ZSh0LC41LC41NSksbD0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGY9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5Bc3RhLkNvbnRlbnQiKTtyZXR1cm5be2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJza2lsbEV4dHJhRG1nSGl0cyIsbmFtZToic2tpbGxFeHRyYURtZ0hpdHMiLHRleHQ6Zigic2tpbGxFeHRyYURtZ0hpdHMudGV4dCIpLHRpdGxlOmYoInNraWxsRXh0cmFEbWdIaXRzLnRpdGxlIiksY29udGVudDpmKCJza2lsbEV4dHJhRG1nSGl0cy5jb250ZW50Iix7c2tpbGxFeHRyYURtZ0hpdHNNYXg6Q30pLG1pbjowLG1heDpDfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InRhbGVudEJ1ZmZTdGFja3MiLG5hbWU6InRhbGVudEJ1ZmZTdGFja3MiLHRleHQ6ZigidGFsZW50QnVmZlN0YWNrcy50ZXh0IiksdGl0bGU6ZigidGFsZW50QnVmZlN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6ZigidGFsZW50QnVmZlN0YWNrcy5jb250ZW50Iix7dGFsZW50U3RhY2tzQXRrQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpkKX0pLG1pbjowLG1heDo1fSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InVsdFNwZEJ1ZmYiLG5hbWU6InVsdFNwZEJ1ZmYiLHRleHQ6ZigidWx0U3BkQnVmZi50ZXh0IiksdGl0bGU6ZigidWx0U3BkQnVmZi50aXRsZSIpLGNvbnRlbnQ6ZigidWx0U3BkQnVmZi5jb250ZW50Iix7dWx0U3BkQnVmZlZhbHVlOnJ9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJmaXJlRG1nQm9vc3QiLG5hbWU6ImZpcmVEbWdCb29zdCIsdGV4dDpmKCJmaXJlRG1nQm9vc3QudGV4dCIpLHRpdGxlOmYoImZpcmVEbWdCb29zdC50aXRsZSIpLGNvbnRlbnQ6ZigiZmlyZURtZ0Jvb3N0LmNvbnRlbnQiKX1dfSkoKSxtPW4/W106W0kobCwidGFsZW50QnVmZlN0YWNrcyIpLEkobCwidWx0U3BkQnVmZiIpLEkobCwiZmlyZURtZ0Jvb3N0IildO3JldHVybntjb250ZW50OigpPT5sLHRlYW1tYXRlQ29udGVudDooKT0+bSxkZWZhdWx0czooKT0+KHt0YWxlbnRCdWZmU3RhY2tzOjUsc2tpbGxFeHRyYURtZ0hpdHM6Qyx1bHRTcGRCdWZmOiEwLGZpcmVEbWdCb29zdDohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7dGFsZW50QnVmZlN0YWNrczo1LHVsdFNwZEJ1ZmY6ITAsZmlyZURtZ0Jvb3N0OiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGYsZyk9Pntjb25zdCBoPWcuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBmW3MuREVGX1BdKz1oLnRhbGVudEJ1ZmZTdGFja3MqUyxmW3MuRVJSXSs9dD49NCYmaC50YWxlbnRCdWZmU3RhY2tzPj0yPy4xNTowLGYuQkFTSUNfU0NBTElORys9cCxmLlNLSUxMX1NDQUxJTkcrPUIraC5za2lsbEV4dHJhRG1nSGl0cypCLGYuVUxUX1NDQUxJTkcrPXUsZi5ET1RfU0NBTElORys9YyxmLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGYuU0tJTExfVE9VR0hORVNTX0RNRys9MzArMTUqaC5za2lsbEV4dHJhRG1nSGl0cyxmLkRPVF9DSEFOQ0U9LjgsZn0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGYsZyk9Pntjb25zdCBoPWcuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2Zbcy5TUERdKz1oLnVsdFNwZEJ1ZmY/cjowLGZbcy5BVEtfUF0rPWgudGFsZW50QnVmZlN0YWNrcypkLGZbcy5GaXJlX0RNR10rPWguZmlyZURtZ0Jvb3N0Py4xODowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpmPT54KGYpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSxOYT0odCxuKT0+e2NvbnN0e2Jhc2ljOmUsc2tpbGw6YSx1bHQ6aX09Yi5TS0lMTF9UQUxFTlRfM19VTFRfQkFTSUNfNSxvPWUodCwxLDEuMSkscj1hKHQsMCwwKSxkPWkodCwwLDApLFM9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBwPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuQmFpbHUuQ29udGVudCIpO3JldHVyblt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImhlYWxpbmdNYXhIcEJ1ZmYiLG5hbWU6ImhlYWxpbmdNYXhIcEJ1ZmYiLHRleHQ6cCgiaGVhbGluZ01heEhwQnVmZi50ZXh0IiksdGl0bGU6cCgiaGVhbGluZ01heEhwQnVmZi50aXRsZSIpLGNvbnRlbnQ6cCgiaGVhbGluZ01heEhwQnVmZi5jb250ZW50Iil9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidGFsZW50RG1nUmVkdWN0aW9uQnVmZiIsbmFtZToidGFsZW50RG1nUmVkdWN0aW9uQnVmZiIsdGV4dDpwKCJ0YWxlbnREbWdSZWR1Y3Rpb25CdWZmLnRleHQiKSx0aXRsZTpwKCJ0YWxlbnREbWdSZWR1Y3Rpb25CdWZmLnRpdGxlIiksY29udGVudDpwKCJ0YWxlbnREbWdSZWR1Y3Rpb25CdWZmLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMlVsdEhlYWxpbmdCdWZmIixuYW1lOiJlMlVsdEhlYWxpbmdCdWZmIix0ZXh0OnAoImUyVWx0SGVhbGluZ0J1ZmYudGV4dCIpLHRpdGxlOnAoImUyVWx0SGVhbGluZ0J1ZmYudGl0bGUiKSxjb250ZW50OnAoImUyVWx0SGVhbGluZ0J1ZmYuY29udGVudCIpLGRpc2FibGVkOnQ8Mn0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJlNFNraWxsSGVhbGluZ0RtZ0J1ZmZTdGFja3MiLG5hbWU6ImU0U2tpbGxIZWFsaW5nRG1nQnVmZlN0YWNrcyIsdGV4dDpwKCJlNFNraWxsSGVhbGluZ0RtZ0J1ZmZTdGFja3MudGV4dCIpLHRpdGxlOnAoImU0U2tpbGxIZWFsaW5nRG1nQnVmZlN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6cCgiZTRTa2lsbEhlYWxpbmdEbWdCdWZmU3RhY2tzLmNvbnRlbnQiKSxtaW46MCxtYXg6MyxkaXNhYmxlZDp0PDR9XX0pKCksQz1uP1tdOltJKFMsImhlYWxpbmdNYXhIcEJ1ZmYiKSxJKFMsInRhbGVudERtZ1JlZHVjdGlvbkJ1ZmYiKSxJKFMsImU0U2tpbGxIZWFsaW5nRG1nQnVmZlN0YWNrcyIpXTtyZXR1cm57Y29udGVudDooKT0+Uyx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PkMsZGVmYXVsdHM6KCk9Pih7aGVhbGluZ01heEhwQnVmZjohMCx0YWxlbnREbWdSZWR1Y3Rpb25CdWZmOiEwLGUyVWx0SGVhbGluZ0J1ZmY6ITAsZTRTa2lsbEhlYWxpbmdEbWdCdWZmU3RhY2tzOjB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2hlYWxpbmdNYXhIcEJ1ZmY6ITAsdGFsZW50RG1nUmVkdWN0aW9uQnVmZjohMCxlNFNraWxsSGVhbGluZ0RtZ0J1ZmZTdGFja3M6M30pLHByZWNvbXB1dGVFZmZlY3RzOihwLEIpPT57Y29uc3QgdT1CLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gcFtzLk9IQl0rPXQ+PTImJnUuZTJVbHRIZWFsaW5nQnVmZj8uMTU6MCxwLkJBU0lDX1NDQUxJTkcrPW8scC5TS0lMTF9TQ0FMSU5HKz1yLHAuVUxUX1NDQUxJTkcrPWQscC5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxwfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoocCxCKT0+e2NvbnN0IHU9Qi5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cFtzLkhQX1BdKz11LmhlYWxpbmdNYXhIcEJ1ZmY/LjE6MCxwLkVMRU1FTlRBTF9ETUcrPXQ+PTQ/dS5lNFNraWxsSGVhbGluZ0RtZ0J1ZmZTdGFja3MqLjE6MCxwLkRNR19SRURfTVVMVEkqPXUudGFsZW50RG1nUmVkdWN0aW9uQnVmZj8xLS4xOjF9LGZpbmFsaXplQ2FsY3VsYXRpb25zOnA9PngocCksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19O2NvbnN0IFU9e1NFVDowLEFCSUxJVFk6MX0sTj17U0lOR0xFOjAsQ09OVElOVU9VUzoxfSxfbj17aWQ6IlJ1dGlsYW50QXJlbmFDb25kaXRpb25hbCIsdHlwZTpVLlNFVCxhY3RpdmF0aW9uOk4uU0lOR0xFLGRlcGVuZHNPbjpbcy5DUl0sY29uZGl0aW9uOmZ1bmN0aW9uKHQsbixlKXtyZXR1cm4gayh0LnNldHMuUnV0aWxhbnRBcmVuYSkmJnRbcy5DUl0+PS43fSxlZmZlY3Q6dD0+e3kodCxXfHosLjIpfSxncHU6ZnVuY3Rpb24oKXtyZXR1cm4gRih0aGlzLGAKaWYgKAogIHAyKCgqcF94KS5zZXRzLlJ1dGlsYW50QXJlbmEpID49IDEgJiYKICAoKnBfc3RhdGUpLlJ1dGlsYW50QXJlbmFDb25kaXRpb25hbCA9PSAwLjAgJiYKICAoKnBfeCkuQ1IgPj0gMC43MAopIHsKICAoKnBfc3RhdGUpLlJ1dGlsYW50QXJlbmFDb25kaXRpb25hbCA9IDEuMDsKCiAgYnVmZkFiaWxpdHlEbWcocF94LCBCQVNJQ19UWVBFIHwgU0tJTExfVFlQRSwgMC4yMCwgMSk7Cn0KICAgIGApfX0sQW49e2lkOiJJbmVydFNhbHNvdHRvQ29uZGl0aW9uYWwiLHR5cGU6VS5TRVQsYWN0aXZhdGlvbjpOLlNJTkdMRSxkZXBlbmRzT246W3MuQ1JdLGNvbmRpdGlvbjpmdW5jdGlvbih0LG4sZSl7cmV0dXJuIGsodC5zZXRzLkluZXJ0U2Fsc290dG8pJiZ0W3MuQ1JdPj0uNX0sZWZmZWN0OnQ9Pnt5KHQsT3xNLC4xNSl9LGdwdTpmdW5jdGlvbigpe3JldHVybiBGKHRoaXMsYAppZiAoCiAgcDIoKCpwX3gpLnNldHMuSW5lcnRTYWxzb3R0bykgPj0gMSAmJgogICgqcF9zdGF0ZSkuSW5lcnRTYWxzb3R0b0NvbmRpdGlvbmFsID09IDAuMCAmJgogICgqcF94KS5DUiA+PSAwLjUwCikgewogICgqcF9zdGF0ZSkuSW5lcnRTYWxzb3R0b0NvbmRpdGlvbmFsID0gMS4wOwoKICBidWZmQWJpbGl0eURtZyhwX3gsIFVMVF9UWVBFIHwgRlVBX1RZUEUsIDAuMTUsIDEpOwp9CiAgICBgKX19LEVuPXtpZDoiU3BhY2VTZWFsaW5nU3RhdGlvbkNvbmRpdGlvbmFsIix0eXBlOlUuU0VULGFjdGl2YXRpb246Ti5TSU5HTEUsZGVwZW5kc09uOltzLlNQRF0sY29uZGl0aW9uOmZ1bmN0aW9uKHQsbixlKXtyZXR1cm4gayh0LnNldHMuU3BhY2VTZWFsaW5nU3RhdGlvbikmJnRbcy5TUERdPj0xMjB9LGVmZmVjdDoodCxuLGUpPT57dyh0LG4sZSxzLkFUSywuMTIqZS5iYXNlQVRLKX0sZ3B1OmZ1bmN0aW9uKCl7cmV0dXJuIEYodGhpcyxgCmlmICgKICBwMigoKnBfeCkuc2V0cy5TcGFjZVNlYWxpbmdTdGF0aW9uKSA+PSAxICYmCiAgKCpwX3N0YXRlKS5TcGFjZVNlYWxpbmdTdGF0aW9uQ29uZGl0aW9uYWwgPT0gMC4wICYmCiAgKCpwX3gpLlNQRCA+PSAxMjAKKSB7CiAgKCpwX3N0YXRlKS5TcGFjZVNlYWxpbmdTdGF0aW9uQ29uZGl0aW9uYWwgPSAxLjA7CiAgYnVmZk5vbkR5bmFtaWNBVEtfUCgwLjEyLCBwX3gsIHBfc3RhdGUpOwp9CiAgICBgKX19LFRuPXtpZDoiRmxlZXRPZlRoZUFnZWxlc3NDb25kaXRpb25hbCIsdHlwZTpVLlNFVCxhY3RpdmF0aW9uOk4uU0lOR0xFLGRlcGVuZHNPbjpbcy5TUERdLGNvbmRpdGlvbjpmdW5jdGlvbih0LG4sZSl7cmV0dXJuIGsodC5zZXRzLkZsZWV0T2ZUaGVBZ2VsZXNzKSYmdFtzLlNQRF0+PTEyMH0sZWZmZWN0Oih0LG4sZSk9Pnt3KHQsbixlLHMuQVRLLC4wOCplLmJhc2VBVEspfSxncHU6ZnVuY3Rpb24oKXtyZXR1cm4gRih0aGlzLGAKaWYgKAogIHAyKCgqcF94KS5zZXRzLkZsZWV0T2ZUaGVBZ2VsZXNzKSA+PSAxICYmCiAgKCpwX3N0YXRlKS5GbGVldE9mVGhlQWdlbGVzc0NvbmRpdGlvbmFsID09IDAuMCAmJgogICgqcF94KS5TUEQgPj0gMTIwCikgewogICgqcF9zdGF0ZSkuRmxlZXRPZlRoZUFnZWxlc3NDb25kaXRpb25hbCA9IDEuMDsKICBidWZmTm9uRHluYW1pY0FUS19QKDAuMDgsIHBfeCwgcF9zdGF0ZSk7Cn0KICAgIGApfX0sSW49e2lkOiJCZWxvYm9nT2ZUaGVBcmNoaXRlY3RzQ29uZGl0aW9uYWwiLHR5cGU6VS5TRVQsYWN0aXZhdGlvbjpOLlNJTkdMRSxkZXBlbmRzT246W3MuRUhSXSxjb25kaXRpb246ZnVuY3Rpb24odCxuLGUpe3JldHVybiBrKHQuc2V0cy5CZWxvYm9nT2ZUaGVBcmNoaXRlY3RzKSYmdFtzLkVIUl0+PS41fSxlZmZlY3Q6KHQsbixlKT0+e3codCxuLGUscy5ERUYsLjE1KmUuYmFzZURFRil9LGdwdTpmdW5jdGlvbigpe3JldHVybiBGKHRoaXMsYAppZiAoCiAgcDIoKCpwX3gpLnNldHMuQmVsb2JvZ09mVGhlQXJjaGl0ZWN0cykgPj0gMSAmJgogICgqcF9zdGF0ZSkuQmVsb2JvZ09mVGhlQXJjaGl0ZWN0c0NvbmRpdGlvbmFsID09IDAuMCAmJgogICgqcF94KS5FSFIgPj0gMC41MAopIHsKICAoKnBfc3RhdGUpLkJlbG9ib2dPZlRoZUFyY2hpdGVjdHNDb25kaXRpb25hbCA9IDEuMDsKICBidWZmTm9uRHluYW1pY0RFRl9QKDAuMTUsIHBfeCwgcF9zdGF0ZSk7Cn0KICAgIGApfX0sTG49e2lkOiJJcm9uQ2F2YWxyeUFnYWluc3RUaGVTY291cmdlMTUwQ29uZGl0aW9uYWwiLHR5cGU6VS5TRVQsYWN0aXZhdGlvbjpOLlNJTkdMRSxkZXBlbmRzT246W3MuQkVdLGNvbmRpdGlvbjpmdW5jdGlvbih0LG4sZSl7cmV0dXJuIFYodC5zZXRzLklyb25DYXZhbHJ5QWdhaW5zdFRoZVNjb3VyZ2UpJiZ0W3MuQkVdPj0xLjV9LGVmZmVjdDp0PT57b3QodCxUdCwuMSl9LGdwdTpmdW5jdGlvbigpe3JldHVybiBGKHRoaXMsYAppZiAoCiAgcDQoKCpwX3gpLnNldHMuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZSkgPj0gMSAmJgogICgqcF9zdGF0ZSkuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZTE1MENvbmRpdGlvbmFsID09IDAuMCAmJgogICgqcF94KS5CRSA+PSAxLjUwCikgewogICgqcF9zdGF0ZSkuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZTE1MENvbmRpdGlvbmFsID0gMS4wOwogIGJ1ZmZBYmlsaXR5RGVmU2hyZWQocF94LCBCUkVBS19UWVBFLCAwLjEwLCAxKTsKfQogICAgYCl9fSxrbj17aWQ6Iklyb25DYXZhbHJ5QWdhaW5zdFRoZVNjb3VyZ2UyNTBDb25kaXRpb25hbCIsdHlwZTpVLlNFVCxhY3RpdmF0aW9uOk4uU0lOR0xFLGRlcGVuZHNPbjpbcy5CRV0sY29uZGl0aW9uOmZ1bmN0aW9uKHQsbixlKXtyZXR1cm4gVih0LnNldHMuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZSkmJnRbcy5CRV0+PTIuNX0sZWZmZWN0OnQ9PntvdCh0LGJlLC4xNSl9LGdwdTpmdW5jdGlvbigpe3JldHVybiBGKHRoaXMsYAppZiAoCiAgcDQoKCpwX3gpLnNldHMuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZSkgPj0gMSAmJgogICgqcF9zdGF0ZSkuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZTI1MENvbmRpdGlvbmFsID09IDAuMCAmJgogICgqcF94KS5CRSA+PSAyLjUwCikgewogICgqcF9zdGF0ZSkuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZTI1MENvbmRpdGlvbmFsID0gMS4wOwogIGJ1ZmZBYmlsaXR5RGVmU2hyZWQocF94LCBTVVBFUl9CUkVBS19UWVBFLCAwLjE1LCAxKTsKfQogICAgYCl9fSxibj17aWQ6IlBhbkNvc21pY0NvbW1lcmNpYWxFbnRlcnByaXNlQ29uZGl0aW9uYWwiLHR5cGU6VS5TRVQsYWN0aXZhdGlvbjpOLkNPTlRJTlVPVVMsZGVwZW5kc09uOltzLkVIUl0sY29uZGl0aW9uOmZ1bmN0aW9uKHQsbixlKXtyZXR1cm4gayh0LnNldHMuUGFuQ29zbWljQ29tbWVyY2lhbEVudGVycHJpc2UpfSxlZmZlY3Q6ZnVuY3Rpb24odCxuLGUpe2NvbnN0IGE9ZS5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdfHwwLGk9TWF0aC5taW4oLjI1LC4yNSp0W3MuRUhSXSkqZS5iYXNlQVRLO3JldHVybiBlLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09aSx3KHQsbixlLHMuQVRLLGktYSksaX0sZ3B1OmZ1bmN0aW9uKCl7cmV0dXJuIEYodGhpcyxgCmlmICgKICBwMigoKnBfeCkuc2V0cy5QYW5Db3NtaWNDb21tZXJjaWFsRW50ZXJwcmlzZSkgPj0gMQopIHsKICBsZXQgc3RhdGVWYWx1ZTogZjMyID0gKCpwX3N0YXRlKS5QYW5Db3NtaWNDb21tZXJjaWFsRW50ZXJwcmlzZUNvbmRpdGlvbmFsOwogIGxldCBidWZmVmFsdWU6IGYzMiA9IG1pbigwLjI1LCAwLjI1ICogKCpwX3gpLkVIUikgKiBiYXNlQVRLOwoKICAoKnBfc3RhdGUpLlBhbkNvc21pY0NvbW1lcmNpYWxFbnRlcnByaXNlQ29uZGl0aW9uYWwgPSBidWZmVmFsdWU7CiAgYnVmZk5vbkR5bmFtaWNBVEsoYnVmZlZhbHVlIC0gc3RhdGVWYWx1ZSwgcF94LCBwX3N0YXRlKTsKfQogICAgYCl9fSx5bj17aWQ6IkJyb2tlbktlZWxDb25kaXRpb25hbCIsdHlwZTpVLlNFVCxhY3RpdmF0aW9uOk4uU0lOR0xFLGRlcGVuZHNPbjpbcy5SRVNdLGNvbmRpdGlvbjpmdW5jdGlvbih0LG4sZSl7cmV0dXJuIGsodC5zZXRzLkJyb2tlbktlZWwpJiZ0W3MuUkVTXT49LjN9LGVmZmVjdDpmdW5jdGlvbih0LG4sZSl7dyh0LG4sZSxzLkNELC4xKX0sZ3B1OmZ1bmN0aW9uKCl7cmV0dXJuIEYodGhpcyxgCmlmICgKICBwMigoKnBfeCkuc2V0cy5Ccm9rZW5LZWVsKSA+PSAxICYmCiAgKCpwX3N0YXRlKS5Ccm9rZW5LZWVsQ29uZGl0aW9uYWwgPT0gMC4wICYmCiAgKCpwX3gpLlJFUyA+PSAwLjMwCikgewogICgqcF9zdGF0ZSkuQnJva2VuS2VlbENvbmRpdGlvbmFsID0gMS4wOwogIGJ1ZmZOb25EeW5hbWljQ0QoMC4xMCwgcF94LCBwX3N0YXRlKTsKfQogICAgYCl9fSxSbj17aWQ6IkNlbGVzdGlhbERpZmZlcmVudGlhdG9yQ29uZGl0aW9uYWwiLHR5cGU6VS5TRVQsYWN0aXZhdGlvbjpOLlNJTkdMRSxkZXBlbmRzT246W3MuQ0RdLGNvbmRpdGlvbjpmdW5jdGlvbih0LG4sZSl7cmV0dXJuIGsodC5zZXRzLkNlbGVzdGlhbERpZmZlcmVudGlhdG9yKSYmZS5lbmFibGVkQ2VsZXN0aWFsRGlmZmVyZW50aWF0b3ImJnRbcy5DRF0+PTEuMn0sZWZmZWN0OmZ1bmN0aW9uKHQsbixlKXt3KHQsbixlLHMuQ1IsLjYpfSxncHU6ZnVuY3Rpb24oKXtyZXR1cm4gRih0aGlzLGAKaWYgKAogIHAyKCgqcF94KS5zZXRzLkNlbGVzdGlhbERpZmZlcmVudGlhdG9yKSA+PSAxICYmCiAgZW5hYmxlZENlbGVzdGlhbERpZmZlcmVudGlhdG9yID49IDEgJiYKICAoKnBfc3RhdGUpLkNlbGVzdGlhbERpZmZlcmVudGlhdG9yQ29uZGl0aW9uYWwgPT0gMC4wICYmCiAgKCpwX3gpLkNEID49IDEuMjAKKSB7CiAgKCpwX3N0YXRlKS5DZWxlc3RpYWxEaWZmZXJlbnRpYXRvckNvbmRpdGlvbmFsID0gMS4wOwogIGJ1ZmZOb25EeW5hbWljQ1IoMC42MCwgcF94LCBwX3N0YXRlKTsKfQogICAgYCl9fSxHbj17aWQ6IlRhbGlhS2luZ2RvbU9mQmFuZGl0cnlDb25kaXRpb25hbCIsdHlwZTpVLlNFVCxhY3RpdmF0aW9uOk4uU0lOR0xFLGRlcGVuZHNPbjpbcy5TUERdLGNvbmRpdGlvbjpmdW5jdGlvbih0LG4sZSl7cmV0dXJuIGsodC5zZXRzLlRhbGlhS2luZ2RvbU9mQmFuZGl0cnkpJiZ0W3MuU1BEXT49MTQ1fSxlZmZlY3Q6ZnVuY3Rpb24odCxuLGUpe3codCxuLGUscy5CRSwuMil9LGdwdTpmdW5jdGlvbigpe3JldHVybiBGKHRoaXMsYAppZiAoCiAgcDIoKCpwX3gpLnNldHMuVGFsaWFLaW5nZG9tT2ZCYW5kaXRyeSkgPj0gMSAmJgogICgqcF9zdGF0ZSkuVGFsaWFLaW5nZG9tT2ZCYW5kaXRyeUNvbmRpdGlvbmFsID09IDAuMCAmJgogICgqcF94KS5TUEQgPj0gMTQ1CikgewogICgqcF9zdGF0ZSkuVGFsaWFLaW5nZG9tT2ZCYW5kaXRyeUNvbmRpdGlvbmFsID0gMS4wOwogIGJ1ZmZOb25EeW5hbWljQkUoMC4yMCwgcF94LCBwX3N0YXRlKTsKfQogICAgYCl9fSxNbj17aWQ6IkZpcm1hbWVudEZyb250bGluZUdsYW1vdGgxMzVDb25kaXRpb25hbCIsdHlwZTpVLlNFVCxhY3RpdmF0aW9uOk4uU0lOR0xFLGRlcGVuZHNPbjpbcy5TUERdLGNvbmRpdGlvbjpmdW5jdGlvbih0LG4sZSl7cmV0dXJuIGsodC5zZXRzLkZpcm1hbWVudEZyb250bGluZUdsYW1vdGgpJiZ0W3MuU1BEXT49MTM1fSxlZmZlY3Q6ZnVuY3Rpb24odCl7dC5FTEVNRU5UQUxfRE1HKz0uMTJ9LGdwdTpmdW5jdGlvbigpe3JldHVybiBGKHRoaXMsYAppZiAoCiAgcDIoKCpwX3gpLnNldHMuRmlybWFtZW50RnJvbnRsaW5lR2xhbW90aCkgPj0gMSAmJgogICgqcF9zdGF0ZSkuRmlybWFtZW50RnJvbnRsaW5lR2xhbW90aDEzNUNvbmRpdGlvbmFsID09IDAuMCAmJgogICgqcF94KS5TUEQgPj0gMTM1CikgewogICgqcF9zdGF0ZSkuRmlybWFtZW50RnJvbnRsaW5lR2xhbW90aDEzNUNvbmRpdGlvbmFsID0gMS4wOwogICgqcF94KS5FTEVNRU5UQUxfRE1HICs9IDAuMTI7Cn0KICAgIGApfX0sdm49e2lkOiJGaXJtYW1lbnRGcm9udGxpbmVHbGFtb3RoMTYwQ29uZGl0aW9uYWwiLHR5cGU6VS5TRVQsYWN0aXZhdGlvbjpOLlNJTkdMRSxkZXBlbmRzT246W3MuU1BEXSxjb25kaXRpb246ZnVuY3Rpb24odCxuLGUpe3JldHVybiBrKHQuc2V0cy5GaXJtYW1lbnRGcm9udGxpbmVHbGFtb3RoKSYmdFtzLlNQRF0+PTE2MH0sZWZmZWN0OmZ1bmN0aW9uKHQpe3QuRUxFTUVOVEFMX0RNRys9LjA2fSxncHU6ZnVuY3Rpb24oKXtyZXR1cm4gRih0aGlzLGAKaWYgKAogIHAyKCgqcF94KS5zZXRzLkZpcm1hbWVudEZyb250bGluZUdsYW1vdGgpID49IDEgJiYKICAoKnBfc3RhdGUpLkZpcm1hbWVudEZyb250bGluZUdsYW1vdGgxNjBDb25kaXRpb25hbCA9PSAwLjAgJiYKICAoKnBfeCkuU1BEID49IDE2MAopIHsKICAoKnBfc3RhdGUpLkZpcm1hbWVudEZyb250bGluZUdsYW1vdGgxNjBDb25kaXRpb25hbCA9IDEuMDsKICAoKnBfeCkuRUxFTUVOVEFMX0RNRyArPSAwLjA2Owp9CiAgICBgKX19LE9hPVtFbixfbixBbixUbixJbixMbixrbixibix5bixSbixHbixNbix2bl07ZnVuY3Rpb24gUGEodCxuKXtjb25zdCBlPSIgIi5yZXBlYXQobioyKTtyZXR1cm4gdC5zcGxpdChgCmApLm1hcChhPT5lK2EpLmpvaW4oYApgKX1mdW5jdGlvbiBqKHQpe3JldHVybiB0PyJ0cnVlIjoiZmFsc2UifWZ1bmN0aW9uIGl0KHQpe3JldHVybiB0PyJmYWxzZSI6InRydWUifWZ1bmN0aW9uIFEodCxuLGUsYSl7dC5hY3RpdmF0aW9uPT1OLlNJTkdMRT8hYS5jb25kaXRpb25hbFN0YXRlW3QuaWRdJiZ0LmNvbmRpdGlvbihuLGUsYSkmJihhLmNvbmRpdGlvbmFsU3RhdGVbdC5pZF09MSx0LmVmZmVjdChuLGUsYSkpOnQuYWN0aXZhdGlvbj09Ti5DT05USU5VT1VTJiZ0LmNvbmRpdGlvbihuLGUsYSkmJnQuZWZmZWN0KG4sZSxhKX1mdW5jdGlvbiBGKHQsbil7cmV0dXJuYApmbiBldmFsdWF0ZSR7dC5pZH0ocF94OiBwdHI8ZnVuY3Rpb24sIENvbXB1dGVkU3RhdHM+LCBwX3N0YXRlOiBwdHI8ZnVuY3Rpb24sIENvbmRpdGlvbmFsU3RhdGU+KSB7CiAgbGV0IHggPSAqcF94Owoke1BhKG4udHJpbSgpLDEpfQp9CiAgYH1mdW5jdGlvbiB3KHQsbixlLGEsaSl7aWYoIShpPDFlLTQpKXt0W2FdKz1pO2Zvcihjb25zdCBvIG9mIGUuY29uZGl0aW9uYWxSZWdpc3RyeVthXXx8W10pUShvLHQsbixlKX19Y29uc3QgVWE9e2lkOiJBdmVudHVyaW5lQ29udmVyc2lvbkNvbmRpdGlvbmFsIix0eXBlOlUuQUJJTElUWSxhY3RpdmF0aW9uOk4uQ09OVElOVU9VUyxkZXBlbmRzT246W3MuREVGXSxjb25kaXRpb246ZnVuY3Rpb24odCxuLGUpe3JldHVybiBuLmNoYXJhY3RlckNvbmRpdGlvbmFscy5kZWZUb0NyQm9vc3QmJnRbcy5ERUZdPjE2MDB9LGVmZmVjdDpmdW5jdGlvbih0LG4sZSl7Y29uc3QgYT1lLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF18fDAsaT1NYXRoLm1pbiguNDgsLjAyKk1hdGguZmxvb3IoKHRbcy5ERUZdLTE2MDApLzEwMCkpO3JldHVybiBlLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09aSx3KHQsbixlLHMuQ1IsaS1hKSxpfSxncHU6ZnVuY3Rpb24odCxuKXtjb25zdCBlPXQuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBGKHRoaXMsYAppZiAoJHtpdChlLmRlZlRvQ3JCb29zdCl9KSB7CiAgcmV0dXJuOwp9CmxldCBkZWYgPSAoKnBfeCkuREVGOwpsZXQgc3RhdGVWYWx1ZTogZjMyID0gKCpwX3N0YXRlKS5BdmVudHVyaW5lQ29udmVyc2lvbkNvbmRpdGlvbmFsOwoKaWYgKGRlZiA+IDE2MDApIHsKICBsZXQgYnVmZlZhbHVlOiBmMzIgPSBtaW4oMC40OCwgMC4wMiAqIGZsb29yKChkZWYgLSAxNjAwKSAvIDEwMCkpOwoKICAoKnBfc3RhdGUpLkF2ZW50dXJpbmVDb252ZXJzaW9uQ29uZGl0aW9uYWwgPSBidWZmVmFsdWU7CiAgYnVmZkR5bmFtaWNDUihidWZmVmFsdWUgLSBzdGF0ZVZhbHVlLCBwX3gsIHBfc3RhdGUpOwp9CiAgICBgKX19LEZhPXtpZDoiWHVleWlDb252ZXJzaW9uQ29uZGl0aW9uYWwiLHR5cGU6VS5BQklMSVRZLGFjdGl2YXRpb246Ti5DT05USU5VT1VTLGRlcGVuZHNPbjpbcy5CRV0sY29uZGl0aW9uOmZ1bmN0aW9uKHQsbixlKXtyZXR1cm4gbi5jaGFyYWN0ZXJDb25kaXRpb25hbHMuYmVUb0RtZ0Jvb3N0fSxlZmZlY3Q6ZnVuY3Rpb24odCxuLGUpe2NvbnN0IGE9ZS5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdfHwwLGk9TWF0aC5taW4oMi40LHRbcy5CRV0pO2UuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXT1pLHQuRUxFTUVOVEFMX0RNRys9aS1hfSxncHU6ZnVuY3Rpb24odCxuKXtjb25zdCBlPXQuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBGKHRoaXMsYAppZiAoJHtpdChlLmJlVG9EbWdCb29zdCl9KSB7CiAgcmV0dXJuOwp9CmxldCBiZSA9ICgqcF94KS5CRTsKbGV0IHN0YXRlVmFsdWU6IGYzMiA9ICgqcF9zdGF0ZSkuWHVleWlDb252ZXJzaW9uQ29uZGl0aW9uYWw7CmxldCBidWZmVmFsdWU6IGYzMiA9IG1pbigyLjQwLCBiZSk7CgooKnBfc3RhdGUpLlh1ZXlpQ29udmVyc2lvbkNvbmRpdGlvbmFsID0gYnVmZlZhbHVlOwooKnBfeCkuRUxFTUVOVEFMX0RNRyArPSBidWZmVmFsdWUgLSBzdGF0ZVZhbHVlOwogICAgYCl9fSxIYT17aWQ6IkZpcmVmbHlDb252ZXJzaW9uQ29uZGl0aW9uYWwiLHR5cGU6VS5BQklMSVRZLGFjdGl2YXRpb246Ti5DT05USU5VT1VTLGRlcGVuZHNPbjpbcy5BVEtdLGNvbmRpdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdFtzLkFUS10+MTgwMH0sZWZmZWN0OmZ1bmN0aW9uKHQsbixlKXtjb25zdCBhPWUuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXXx8MCxpPXRbcy5BVEtdLXQuUkFUSU9fQkFTRURfQVRLX0JVRkYtdC5SQVRJT19CQVNFRF9BVEtfUF9CVUZGKmUuYmFzZUFUSyxvPS4wMDgqTWF0aC5mbG9vcigoaS0xODAwKS8xMCk7cmV0dXJuIGUuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXT1vLHcodCxuLGUscy5CRSxvLWEpLG99LGdwdTpmdW5jdGlvbih0LG4pe2NvbnN0IGU9dC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIEYodGhpcyxgCmlmICgke2l0KGUuYXRrVG9CZUNvbnZlcnNpb24pfSkgewogIHJldHVybjsKfQpsZXQgYXRrID0gKCpwX3gpLkFUSzsKbGV0IHN0YXRlVmFsdWUgPSAoKnBfc3RhdGUpLkZpcmVmbHlDb252ZXJzaW9uQ29uZGl0aW9uYWw7CmxldCB0cnVlQXRrID0gYXRrIC0gKCpwX3gpLlJBVElPX0JBU0VEX0FUS19CVUZGIC0gKCpwX3gpLlJBVElPX0JBU0VEX0FUS19QX0JVRkYgKiBiYXNlQVRLOwoKaWYgKHRydWVBdGsgPiAxODAwKSB7CiAgbGV0IGJ1ZmZWYWx1ZTogZjMyID0gMC4wMDggKiBmbG9vcigodHJ1ZUF0ayAtIDE4MDApIC8gMTApOwoKICAoKnBfc3RhdGUpLkZpcmVmbHlDb252ZXJzaW9uQ29uZGl0aW9uYWwgPSBidWZmVmFsdWU7CiAgYnVmZkR5bmFtaWNCRShidWZmVmFsdWUgLSBzdGF0ZVZhbHVlLCBwX3gsIHBfc3RhdGUpOwp9CiAgICBgKX19LHhhPXtpZDoiQm9vdGhpbGxDb252ZXJzaW9uQ29uZGl0aW9uYWwiLHR5cGU6VS5BQklMSVRZLGFjdGl2YXRpb246Ti5DT05USU5VT1VTLGRlcGVuZHNPbjpbcy5CRV0sY29uZGl0aW9uOmZ1bmN0aW9uKHQsbixlKXtyZXR1cm4gbi5jaGFyYWN0ZXJDb25kaXRpb25hbHMuYmVUb0NyaXRCb29zdH0sZWZmZWN0OmZ1bmN0aW9uKHQsbixlKXtjb25zdCBhPWUuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXXx8MCxpPU1hdGgubWluKC4zLC4xKmEpLG89TWF0aC5taW4oMS41LC41KmEpLHI9TWF0aC5taW4oLjMsLjEqdFtzLkJFXSksZD1NYXRoLm1pbigxLjUsLjUqdFtzLkJFXSk7ZS5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdPXRbcy5CRV0sdyh0LG4sZSxzLkNSLHItaSksdyh0LG4sZSxzLkNELGQtbyl9LGdwdTpmdW5jdGlvbih0LG4pe2NvbnN0IGU9dC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIEYodGhpcyxgCmlmICgke2l0KGUuYmVUb0NyaXRCb29zdCl9KSB7CiAgcmV0dXJuOwp9CgpsZXQgYmUgPSAoKnBfeCkuQkU7CmxldCBzdGF0ZVZhbHVlID0gKCpwX3N0YXRlKS5Cb290aGlsbENvbnZlcnNpb25Db25kaXRpb25hbDsKCmxldCBzdGF0ZUNyQnVmZlZhbHVlID0gbWluKDAuMzAsIDAuMTAgKiBzdGF0ZVZhbHVlKTsKbGV0IHN0YXRlQ2RCdWZmVmFsdWUgPSBtaW4oMS41MCwgMC41MCAqIHN0YXRlVmFsdWUpOwoKbGV0IGNyQnVmZlZhbHVlID0gbWluKDAuMzAsIDAuMTAgKiBiZSk7CmxldCBjZEJ1ZmZWYWx1ZSA9IG1pbigxLjUwLCAwLjUwICogYmUpOwoKKCpwX3N0YXRlKS5Cb290aGlsbENvbnZlcnNpb25Db25kaXRpb25hbCA9IGJlOwoKYnVmZkR5bmFtaWNDUihjckJ1ZmZWYWx1ZSAtIHN0YXRlQ3JCdWZmVmFsdWUsIHBfeCwgcF9zdGF0ZSk7CmJ1ZmZEeW5hbWljQ0QoY2RCdWZmVmFsdWUgLSBzdGF0ZUNkQnVmZlZhbHVlLCBwX3gsIHBfc3RhdGUpOwogICAgYCl9fSxLYT17aWQ6IkdlcGFyZENvbnZlcnNpb25Db25kaXRpb25hbCIsdHlwZTpVLkFCSUxJVFksYWN0aXZhdGlvbjpOLkNPTlRJTlVPVVMsZGVwZW5kc09uOltzLkRFRl0sY29uZGl0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuITB9LGVmZmVjdDpmdW5jdGlvbih0LG4sZSl7Y29uc3QgYT1lLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF18fDAsaT0uMzUqdFtzLkRFRl07ZS5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdPWksdyh0LG4sZSxzLkFUSyxpLWEpfSxncHU6ZnVuY3Rpb24oKXtyZXR1cm4gRih0aGlzLGAKbGV0IGRlZiA9ICgqcF94KS5ERUY7CmxldCBzdGF0ZVZhbHVlOiBmMzIgPSAoKnBfc3RhdGUpLkdlcGFyZENvbnZlcnNpb25Db25kaXRpb25hbDsKbGV0IGJ1ZmZWYWx1ZTogZjMyID0gMC4zNSAqIGRlZjsKCigqcF9zdGF0ZSkuR2VwYXJkQ29udmVyc2lvbkNvbmRpdGlvbmFsID0gYnVmZlZhbHVlOwpidWZmRHluYW1pY0FUSyhidWZmVmFsdWUgLSBzdGF0ZVZhbHVlLCBwX3gsIHBfc3RhdGUpOwogICAgYCl9fSxWYT17aWQ6IkJsYWNrU3dhbkNvbnZlcnNpb25Db25kaXRpb25hbCIsdHlwZTpVLkFCSUxJVFksYWN0aXZhdGlvbjpOLkNPTlRJTlVPVVMsZGVwZW5kc09uOltzLkVIUl0sY29uZGl0aW9uOmZ1bmN0aW9uKHQsbixlKXtyZXR1cm4hMH0sZWZmZWN0OmZ1bmN0aW9uKHQsbixlKXtpZighbi5jaGFyYWN0ZXJDb25kaXRpb25hbHMuZWhyVG9EbWdCb29zdClyZXR1cm47Y29uc3QgaT1lLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF18fDAsbz1NYXRoLm1pbiguNzIsLjYqdFtzLkVIUl0pO2UuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXT1vLHQuRUxFTUVOVEFMX0RNRys9by1pfSxncHU6ZnVuY3Rpb24odCxuKXtjb25zdCBlPXQuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBGKHRoaXMsYAppZiAoJHtpdChlLmVoclRvRG1nQm9vc3QpfSkgewogIHJldHVybjsKfQpsZXQgZWhyID0gKCpwX3gpLkVIUjsKbGV0IHN0YXRlVmFsdWU6IGYzMiA9ICgqcF9zdGF0ZSkuQmxhY2tTd2FuQ29udmVyc2lvbkNvbmRpdGlvbmFsOwpsZXQgYnVmZlZhbHVlOiBmMzIgPSBtaW4oMC43MiwgMC42MCAqIGVocik7CgooKnBfc3RhdGUpLkJsYWNrU3dhbkNvbnZlcnNpb25Db25kaXRpb25hbCA9IGJ1ZmZWYWx1ZTsKKCpwX3gpLkVMRU1FTlRBTF9ETUcgKz0gYnVmZlZhbHVlIC0gc3RhdGVWYWx1ZTsKICAgIGApfX0sd2E9e2lkOiJSYXBwYUNvbnZlcnNpb25Db25kaXRpb25hbCIsdHlwZTpVLkFCSUxJVFksYWN0aXZhdGlvbjpOLkNPTlRJTlVPVVMsZGVwZW5kc09uOltzLkFUS10sY29uZGl0aW9uOmZ1bmN0aW9uKHQsbixlKXtyZXR1cm4hMH0sZWZmZWN0OmZ1bmN0aW9uKHQsbixlKXtpZighbi5jaGFyYWN0ZXJDb25kaXRpb25hbHMuYXRrVG9CcmVha1Z1bG5lcmFiaWxpdHkpcmV0dXJuO2NvbnN0IGk9ZS5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdfHwwLG89TWF0aC5mbG9vcih5ZSgodFtzLkFUS10tMjQwMCkvMTAwKSkscj1NYXRoLm1pbiguMDgsTWF0aC5tYXgoMCxvKSouMDEpKy4wMjtlLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09cix0LkJSRUFLX1ZVTE5FUkFCSUxJVFkrPXItaX0sZ3B1OmZ1bmN0aW9uKHQsbil7Y29uc3QgZT10LmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gRih0aGlzLGAKaWYgKCR7aXQoZS5hdGtUb0JyZWFrVnVsbmVyYWJpbGl0eSl9KSB7CiAgcmV0dXJuOwp9CmxldCBhdGsgPSAoKnBfeCkuQVRLOwpsZXQgc3RhdGVWYWx1ZTogZjMyID0gKCpwX3N0YXRlKS5SYXBwYUNvbnZlcnNpb25Db25kaXRpb25hbDsKbGV0IGF0a092ZXJTdGFja3M6IGYzMiA9IGZsb29yKCh4LkFUSyAtIDI0MDApIC8gMTAwKTsKbGV0IGJ1ZmZWYWx1ZTogZjMyID0gbWluKDAuMDgsIG1heCgwLCBhdGtPdmVyU3RhY2tzKSAqIDAuMDEpICsgMC4wMjsKCigqcF9zdGF0ZSkuUmFwcGFDb252ZXJzaW9uQ29uZGl0aW9uYWwgPSBidWZmVmFsdWU7CigqcF94KS5CUkVBS19WVUxORVJBQklMSVRZICs9IGJ1ZmZWYWx1ZSAtIHN0YXRlVmFsdWU7CiAgICBgKX19LHphPXtpZDoiR2FsbGFnaGVyQ29udmVyc2lvbkNvbmRpdGlvbmFsIix0eXBlOlUuQUJJTElUWSxhY3RpdmF0aW9uOk4uQ09OVElOVU9VUyxkZXBlbmRzT246W3MuQkVdLGNvbmRpdGlvbjpmdW5jdGlvbih0LG4sZSl7cmV0dXJuITB9LGVmZmVjdDpmdW5jdGlvbih0LG4sZSl7bi5jaGFyYWN0ZXJDb25kaXRpb25hbHM7Y29uc3QgYT1lLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF18fDAsaT1NYXRoLm1pbiguNzUsLjUqdFtzLkJFXSk7ZS5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdPWksdyh0LG4sZSxzLk9IQixpLWEpfSxncHU6ZnVuY3Rpb24odCxuKXtyZXR1cm4gdC5jaGFyYWN0ZXJDb25kaXRpb25hbHMsRih0aGlzLGAKbGV0IGJlID0gKCpwX3gpLkJFOwpsZXQgc3RhdGVWYWx1ZTogZjMyID0gKCpwX3N0YXRlKS5HYWxsYWdoZXJDb252ZXJzaW9uQ29uZGl0aW9uYWw7CmxldCBidWZmVmFsdWU6IGYzMiA9IG1pbigwLjc1LCAwLjUwICogKCpwX3gpLkJFKTsKCigqcF9zdGF0ZSkuR2FsbGFnaGVyQ29udmVyc2lvbkNvbmRpdGlvbmFsID0gYnVmZlZhbHVlOwpidWZmRHluYW1pY09IQihidWZmVmFsdWUgLSBzdGF0ZVZhbHVlLCBwX3gsIHBfc3RhdGUpOwogICAgYCl9fSwkYT17aWQ6IlJ1YW5NZWlDb252ZXJzaW9uQ29uZGl0aW9uYWwiLHR5cGU6VS5BQklMSVRZLGFjdGl2YXRpb246Ti5DT05USU5VT1VTLGRlcGVuZHNPbjpbcy5CRV0sY29uZGl0aW9uOmZ1bmN0aW9uKHQsbixlKXtyZXR1cm4hMH0sZWZmZWN0OmZ1bmN0aW9uKHQsbixlKXtuLmNoYXJhY3RlckNvbmRpdGlvbmFscztjb25zdCBhPWUuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXXx8MCxpPU1hdGguZmxvb3IoeWUoKHRbcy5CRV0qMTAwLTEyMCkvMTApKSxvPU1hdGgubWluKC4zNixNYXRoLm1heCgwLGkpKi4wNik7ZS5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdPW8sdC5FTEVNRU5UQUxfRE1HKz1vLWF9LGdwdTpmdW5jdGlvbih0LG4pe3JldHVybiB0LmNoYXJhY3RlckNvbmRpdGlvbmFscyxGKHRoaXMsYApsZXQgYmUgPSAoKnBfeCkuQkU7CmxldCBzdGF0ZVZhbHVlOiBmMzIgPSAoKnBfc3RhdGUpLlJ1YW5NZWlDb252ZXJzaW9uQ29uZGl0aW9uYWw7CmxldCBiZU92ZXIgPSAoKCpwX3gpLkJFICogMTAwIC0gMTIwKSAvIDEwOwpsZXQgYnVmZlZhbHVlOiBmMzIgPSBmbG9vcihtYXgoMCwgYmVPdmVyKSkgKiAwLjA2OwoKKCpwX3N0YXRlKS5SdWFuTWVpQ29udmVyc2lvbkNvbmRpdGlvbmFsID0gYnVmZlZhbHVlOwooKnBfeCkuRUxFTUVOVEFMX0RNRyArPSBidWZmVmFsdWUgLSBzdGF0ZVZhbHVlOwogICAgYCl9fSxXYT17aWQ6IkppYW9xaXVDb252ZXJzaW9uQ29uZGl0aW9uYWwiLHR5cGU6VS5BQklMSVRZLGFjdGl2YXRpb246Ti5DT05USU5VT1VTLGRlcGVuZHNPbjpbcy5FSFJdLGNvbmRpdGlvbjpmdW5jdGlvbih0LG4sZSl7cmV0dXJuITB9LGVmZmVjdDpmdW5jdGlvbih0LG4sZSl7aWYoIW4uY2hhcmFjdGVyQ29uZGl0aW9uYWxzLmVoclRvQXRrQm9vc3R8fHRbcy5FSFJdPD0uOClyZXR1cm47Y29uc3QgaT1lLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF18fDAsbz1NYXRoLm1pbigyLjQsLjYqTWF0aC5mbG9vcigodFtzLkVIUl0tLjgpLy4xNSkpKm4uYmFzZUF0aztlLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09byx3KHQsbixlLHMuQVRLLG8taSl9LGdwdTpmdW5jdGlvbih0LG4pe3JldHVybiB0LmNoYXJhY3RlckNvbmRpdGlvbmFscyxGKHRoaXMsYApsZXQgZWhyID0gKCpwX3gpLkVIUjsKbGV0IHN0YXRlVmFsdWU6IGYzMiA9ICgqcF9zdGF0ZSkuSmlhb3FpdUNvbnZlcnNpb25Db25kaXRpb25hbDsKbGV0IGJ1ZmZWYWx1ZTogZjMyID0gbWluKDIuNDAsIDAuNjAgKiBmbG9vcigoKCpwX3gpLkVIUiAtIDAuODApIC8gMC4xNSkpOwoKKCpwX3N0YXRlKS5KaWFvcWl1Q29udmVyc2lvbkNvbmRpdGlvbmFsID0gYnVmZlZhbHVlOwpidWZmRHluYW1pY0FUS19QKGJ1ZmZWYWx1ZSAtIHN0YXRlVmFsdWUsIHBfeCwgcF9zdGF0ZSk7CiAgICBgKX19LFlhPXtpZDoiTGluZ3NoYUNvbnZlcnNpb25Db25kaXRpb25hbCIsdHlwZTpVLkFCSUxJVFksYWN0aXZhdGlvbjpOLkNPTlRJTlVPVVMsZGVwZW5kc09uOltzLkJFXSxjb25kaXRpb246ZnVuY3Rpb24odCxuLGUpe3JldHVybiEwfSxlZmZlY3Q6ZnVuY3Rpb24odCxuLGUpe2lmKCFuLmNoYXJhY3RlckNvbmRpdGlvbmFscy5iZUNvbnZlcnNpb24pcmV0dXJuO2NvbnN0IGk9ZS5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdfHwwLG89TWF0aC5taW4oLjUsLjI1KnRbcy5CRV0pKm4uYmFzZUF0ayxyPU1hdGgubWluKC4yLC4xKnRbcy5CRV0pLGQ9TWF0aC5taW4oLjUsLjI1KmkpKm4uYmFzZUF0ayxTPU1hdGgubWluKC4yLC4xKmkpO2UuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXT10W3MuQkVdO2NvbnN0IEM9by0oaT9kOjApLHA9ci0oaT9TOjApO3codCxuLGUscy5BVEssQyksdyh0LG4sZSxzLk9IQixwKX0sZ3B1OmZ1bmN0aW9uKHQsbil7Y29uc3QgZT10LmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gRih0aGlzLGAKaWYgKCR7aXQoZS5iZUNvbnZlcnNpb24pfSkgewogIHJldHVybjsKfQoKbGV0IHN0YXRlVmFsdWU6IGYzMiA9ICgqcF9zdGF0ZSkuTGluZ3NoYUNvbnZlcnNpb25Db25kaXRpb25hbDsKCmxldCBidWZmVmFsdWVBdGsgPSBtaW4oMC41MCwgMC4yNSAqIHguQkUpICogYmFzZUFUSzsKbGV0IGJ1ZmZWYWx1ZU9oYiA9IG1pbigwLjIwLCAwLjEwICogeC5CRSk7CgpsZXQgc3RhdGVCdWZmVmFsdWVBdGsgPSBtaW4oMC41MCwgMC4yNSAqIHN0YXRlVmFsdWUpICogYmFzZUFUSzsKbGV0IHN0YXRlQnVmZlZhbHVlT2hiID0gbWluKDAuMjAsIDAuMTAgKiBzdGF0ZVZhbHVlKTsKCigqcF9zdGF0ZSkuTGluZ3NoYUNvbnZlcnNpb25Db25kaXRpb25hbCA9ICgqcF94KS5CRTsKCmxldCBmaW5hbEJ1ZmZBdGsgPSBidWZmVmFsdWVBdGsgLSBzZWxlY3QoMCwgc3RhdGVCdWZmVmFsdWVBdGssIHN0YXRlVmFsdWUgPiAwKTsKbGV0IGZpbmFsQnVmZk9oYiA9IGJ1ZmZWYWx1ZU9oYiAtIHNlbGVjdCgwLCBzdGF0ZUJ1ZmZWYWx1ZU9oYiwgc3RhdGVWYWx1ZSA+IDApOwoKYnVmZkR5bmFtaWNBVEsoZmluYWxCdWZmQXRrLCBwX3gsIHBfc3RhdGUpOwpidWZmRHluYW1pY09IQihmaW5hbEJ1ZmZPaGIsIHBfeCwgcF9zdGF0ZSk7CiAgICBgKX19O3ZhciBqYT0odCxuKT0+e2NvbnN0e2Jhc2ljOmUsc2tpbGw6YSx1bHQ6aSx0YWxlbnQ6b309Yi5TS0lMTF9UQUxFTlRfM19VTFRfQkFTSUNfNSxyPW8odCwuMTIsLjEzMiksZD1pKHQsLjI1LC4yNyksUz1hKHQsLjIwOCwuMjIpLEM9ZSh0LC42LC42NikscD1hKHQsLjksLjk5KSxCPWkodCwxLjIsMS4zKSx1PW8odCwyLjQsMi42NCksYz1vKHQsLjY1LC42OCksbD0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGY9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5CbGFja1N3YW4uQ29udGVudCIpO3JldHVyblt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVoclRvRG1nQm9vc3QiLG5hbWU6ImVoclRvRG1nQm9vc3QiLHRleHQ6ZigiZWhyVG9EbWdCb29zdC50ZXh0IiksdGl0bGU6ZigiZWhyVG9EbWdCb29zdC50aXRsZSIpLGNvbnRlbnQ6ZigiZWhyVG9EbWdCb29zdC5jb250ZW50Iil9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZXBpcGhhbnlEZWJ1ZmYiLG5hbWU6ImVwaXBoYW55RGVidWZmIix0ZXh0OmYoImVwaXBoYW55RGVidWZmLnRleHQiKSx0aXRsZTpmKCJlcGlwaGFueURlYnVmZi50aXRsZSIpLGNvbnRlbnQ6ZigiZXBpcGhhbnlEZWJ1ZmYuY29udGVudCIse2VwaXBoYW55RG1nVGFrZW5Cb29zdDpELnByZWNpc2lvblJvdW5kKDEwMCpkKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImRlZkRlY3JlYXNlRGVidWZmIixuYW1lOiJkZWZEZWNyZWFzZURlYnVmZiIsdGV4dDpmKCJkZWZEZWNyZWFzZURlYnVmZi50ZXh0IiksdGl0bGU6ZigiZGVmRGVjcmVhc2VEZWJ1ZmYudGl0bGUiKSxjb250ZW50OmYoImRlZkRlY3JlYXNlRGVidWZmLmNvbnRlbnQiLHtkZWZTaHJlZFZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKlMpfSl9LHtmb3JtSXRlbToic2xpZGVyIixpZDoiYXJjYW5hU3RhY2tzIixuYW1lOiJhcmNhbmFTdGFja3MiLHRleHQ6ZigiYXJjYW5hU3RhY2tzLnRleHQiKSx0aXRsZTpmKCJhcmNhbmFTdGFja3MudGl0bGUiKSxjb250ZW50OmYoImFyY2FuYVN0YWNrcy5jb250ZW50Iix7ZG90U2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCp1KSxhcmNhbmFTdGFja011bHRpcGxpZXI6RC5wcmVjaXNpb25Sb3VuZCgxMDAqcil9KSxtaW46MSxtYXg6NTB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTFSZXNSZWR1Y3Rpb24iLG5hbWU6ImUxUmVzUmVkdWN0aW9uIix0ZXh0OmYoImUxUmVzUmVkdWN0aW9uLnRleHQiKSx0aXRsZTpmKCJlMVJlc1JlZHVjdGlvbi50aXRsZSIpLGNvbnRlbnQ6ZigiZTFSZXNSZWR1Y3Rpb24uY29udGVudCIpLGRpc2FibGVkOnQ8MX1dfSkoKSxtPW4/W106W0kobCwiZXBpcGhhbnlEZWJ1ZmYiKSxJKGwsImRlZkRlY3JlYXNlRGVidWZmIiksSShsLCJlMVJlc1JlZHVjdGlvbiIpXTtyZXR1cm57Y29udGVudDooKT0+bCx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pm0sZGVmYXVsdHM6KCk9Pih7ZWhyVG9EbWdCb29zdDohMCxlcGlwaGFueURlYnVmZjohMCxkZWZEZWNyZWFzZURlYnVmZjohMCxhcmNhbmFTdGFja3M6NyxlMVJlc1JlZHVjdGlvbjohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7ZXBpcGhhbnlEZWJ1ZmY6ITAsZGVmRGVjcmVhc2VEZWJ1ZmY6ITAsZTFSZXNSZWR1Y3Rpb246ITB9KSxwcmVjb21wdXRlRWZmZWN0czooZixnKT0+e2NvbnN0IGg9Zy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGYuQkFTSUNfU0NBTElORys9QyxmLlNLSUxMX1NDQUxJTkcrPXAsZi5VTFRfU0NBTElORys9QixmLkRPVF9TQ0FMSU5HKz11K3IqaC5hcmNhbmFTdGFja3Msb3QoZix1dCwuMixoLmFyY2FuYVN0YWNrcz49NyksZi5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxmLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLGYuVUxUX1RPVUdITkVTU19ETUcrPTYwLGYuRE9UX0NIQU5DRT1jLGYuRE9UX1NQTElUPS4wNSxmLkRPVF9TVEFDS1M9aC5hcmNhbmFTdGFja3MsZn0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGYsZyk9Pntjb25zdCBoPWcuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2F0KGYsdXQsZCxoLmVwaXBoYW55RGVidWZmKSxmLkRFRl9QRU4rPWguZGVmRGVjcmVhc2VEZWJ1ZmY/UzowLGYuV0lORF9SRVNfUEVOKz10Pj0xJiZoLmUxUmVzUmVkdWN0aW9uPy4yNTowLGYuRklSRV9SRVNfUEVOKz10Pj0xJiZoLmUxUmVzUmVkdWN0aW9uPy4yNTowLGYuUEhZU0lDQUxfUkVTX1BFTis9dD49MSYmaC5lMVJlc1JlZHVjdGlvbj8uMjU6MCxmLkxJR0hUTklOR19SRVNfUEVOKz10Pj0xJiZoLmUxUmVzUmVkdWN0aW9uPy4yNTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpmPT54KGYpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCksZHluYW1pY0NvbmRpdGlvbmFsczpbVmFdfX0sSmE9KHQsbik9Pntjb25zdHtiYXNpYzplLHNraWxsOmEsdWx0OmksdGFsZW50Om99PWIuVUxUX1RBTEVOVF8zX1NLSUxMX0JBU0lDXzUscj1hKHQsLjQsLjQ1NiksZD0uOSxTPWUodCwxLDEuMSksQz1hKHQsLjQsLjQ0KSxwPWEodCwxLDEuMSksQj1pKHQsLjQsLjQzMiksdT1pKHQsMSwxLjA4KSxjPWkodCwxLDEuMDgpLGw9byh0LC40NCwuNDg0KSxtPW8odCwxLjEsMS4yMSksZj17MTpSKigxKi4zMysyKi4zMyszKi4zNCksMzpSKigyKi4zMys1Ki4zMys4Ki4zNCksNTpSKigzKi4zMys4Ki4zMys4Ki4zNCl9LGc9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBoPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuQmxhZGUuQ29udGVudCIpO3JldHVyblt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVuaGFuY2VkU3RhdGVBY3RpdmUiLG5hbWU6ImVuaGFuY2VkU3RhdGVBY3RpdmUiLHRleHQ6aCgiZW5oYW5jZWRTdGF0ZUFjdGl2ZS50ZXh0IiksdGl0bGU6aCgiZW5oYW5jZWRTdGF0ZUFjdGl2ZS50aXRsZSIpLGNvbnRlbnQ6aCgiZW5oYW5jZWRTdGF0ZUFjdGl2ZS5jb250ZW50Iix7ZW5oYW5jZWRTdGF0ZURtZ0Jvb3N0OkQucHJlY2lzaW9uUm91bmQoMTAwKnIpfSl9LHtmb3JtSXRlbToic2xpZGVyIixpZDoiaHBQZXJjZW50TG9zdFRvdGFsIixuYW1lOiJocFBlcmNlbnRMb3N0VG90YWwiLHRleHQ6aCgiaHBQZXJjZW50TG9zdFRvdGFsLnRleHQiKSx0aXRsZTpoKCJocFBlcmNlbnRMb3N0VG90YWwudGl0bGUiKSxjb250ZW50OmgoImhwUGVyY2VudExvc3RUb3RhbC5jb250ZW50Iix7aHBQZXJjZW50TG9zdFRvdGFsTWF4OkQucHJlY2lzaW9uUm91bmQoMTAwKmQpfSksbWluOjAsbWF4OmQscGVyY2VudDohMH0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJlNE1heEhwSW5jcmVhc2VTdGFja3MiLG5hbWU6ImU0TWF4SHBJbmNyZWFzZVN0YWNrcyIsdGV4dDpoKCJlNE1heEhwSW5jcmVhc2VTdGFja3MudGV4dCIpLHRpdGxlOmgoImU0TWF4SHBJbmNyZWFzZVN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6aCgiZTRNYXhIcEluY3JlYXNlU3RhY2tzLmNvbnRlbnQiKSxtaW46MCxtYXg6MixkaXNhYmxlZDp0PDR9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmcsdGVhbW1hdGVDb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHtlbmhhbmNlZFN0YXRlQWN0aXZlOiEwLGhwUGVyY2VudExvc3RUb3RhbDpkLGU0TWF4SHBJbmNyZWFzZVN0YWNrczoyfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooaCxfKT0+e2NvbnN0IEU9Xy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGhbcy5DUl0rPXQ+PTImJkUuZW5oYW5jZWRTdGF0ZUFjdGl2ZT8uMTU6MCxoW3MuSFBfUF0rPXQ+PTQ/RS5lNE1heEhwSW5jcmVhc2VTdGFja3MqLjI6MCxoLkJBU0lDX1NDQUxJTkcrPVMsaC5FTEVNRU5UQUxfRE1HKz1FLmVuaGFuY2VkU3RhdGVBY3RpdmU/cjowLHkoaCxNLC4yKSxoLkJBU0lDX1RPVUdITkVTU19ETUcrPUUuZW5oYW5jZWRTdGF0ZUFjdGl2ZT82MDozMCxoLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxoLkZVQV9UT1VHSE5FU1NfRE1HKz0zMCxofSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooaCxfKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KGgsXyk9Pntjb25zdCBFPV8uY2hhcmFjdGVyQ29uZGl0aW9uYWxzO0UuZW5oYW5jZWRTdGF0ZUFjdGl2ZT8oaC5CQVNJQ19ETUcrPUMqaFtzLkFUS10saC5CQVNJQ19ETUcrPXAqaFtzLkhQXSk6aC5CQVNJQ19ETUcrPWguQkFTSUNfU0NBTElORypoW3MuQVRLXSxoLlVMVF9ETUcrPUIqaFtzLkFUS10saC5VTFRfRE1HKz11Kmhbcy5IUF0saC5VTFRfRE1HKz1jKkUuaHBQZXJjZW50TG9zdFRvdGFsKmhbcy5IUF0saC5VTFRfRE1HKz10Pj0xJiZfLmVuZW15Q291bnQ9PTE/MS41KkUuaHBQZXJjZW50TG9zdFRvdGFsKmhbcy5IUF06MDtjb25zdCBUPWZbXy5lbmVteUNvdW50XSxMPWh0KGgsXyxUKTtoLkZVQV9ETUcrPWwqKGhbcy5BVEtdK0wpLGguRlVBX0RNRys9bSpoW3MuSFBdLGguRlVBX0RNRys9dD49Nj8uNSpoW3MuSFBdOjB9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOmg9Pntjb25zdCBfPWguY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybmAKaWYgKCR7aihfLmVuaGFuY2VkU3RhdGVBY3RpdmUpfSkgewogIHguQkFTSUNfRE1HICs9ICR7Q30gKiB4LkFUSzsKICB4LkJBU0lDX0RNRyArPSAke3B9ICogeC5IUDsKfSBlbHNlIHsKICB4LkJBU0lDX0RNRyArPSB4LkJBU0lDX1NDQUxJTkcgKiB4LkFUSzsKfQoKeC5VTFRfRE1HICs9ICR7Qn0gKiB4LkFUSzsKeC5VTFRfRE1HICs9ICR7dX0gKiB4LkhQOwp4LlVMVF9ETUcgKz0gJHtjKl8uaHBQZXJjZW50TG9zdFRvdGFsfSAqIHguSFA7CgppZiAoJHtqKHQ+PTEmJmguZW5lbXlDb3VudD09MSl9KSB7CiAgeC5VTFRfRE1HICs9IDEuNTAgKiAke18uaHBQZXJjZW50TG9zdFRvdGFsfSAqIHguSFA7Cn0KCnguRlVBX0RNRyArPSAke2x9ICogKHguQVRLICsgY2FsY3VsYXRlQXNoYmxhemluZ1NldChwX3gsIHBfc3RhdGUsICR7ZltoLmVuZW15Q291bnRdfSkpOwp4LkZVQV9ETUcgKz0gJHttfSAqIHguSFA7CgppZiAoZSA+PSA2KSB7CiAgeC5GVUFfRE1HICs9IDAuNTAgKiB4LkhQOwp9CiAgICBgfX19LFFhPSh0LG4pPT57Y29uc3R7YmFzaWM6ZSxza2lsbDphLHVsdDppfT1iLlVMVF9UQUxFTlRfM19TS0lMTF9CQVNJQ181LG89YSh0LC42NiwuNzI2KSxyPWkodCwuNTUsLjU5NCksZD1pKHQsLjE2LC4xNjgpLFM9aSh0LC4yLC4yMTYpLEM9ZSh0LDEsMS4xKSxwPUMqLjgsQj1SKigxKjEvMSksdT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IG09QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5Ccm9ueWEuQ29udGVudCIpO3JldHVyblt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRlYW1EbWdCdWZmIixuYW1lOiJ0ZWFtRG1nQnVmZiIsdGV4dDptKCJ0ZWFtRG1nQnVmZi50ZXh0IiksdGl0bGU6bSgidGVhbURtZ0J1ZmYudGl0bGUiKSxjb250ZW50Om0oInRlYW1EbWdCdWZmLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJza2lsbEJ1ZmYiLG5hbWU6InNraWxsQnVmZiIsdGV4dDptKCJza2lsbEJ1ZmYudGV4dCIpLHRpdGxlOm0oInNraWxsQnVmZi50aXRsZSIpLGNvbnRlbnQ6bSgic2tpbGxCdWZmLmNvbnRlbnQiLHtza2lsbERtZ0Jvb3N0VmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbyl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ1bHRCdWZmIixuYW1lOiJ1bHRCdWZmIix0ZXh0Om0oInVsdEJ1ZmYudGV4dCIpLHRpdGxlOm0oInVsdEJ1ZmYudGl0bGUiKSxjb250ZW50Om0oInVsdEJ1ZmYuY29udGVudCIse3VsdEF0a0Jvb3N0VmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqciksdWx0Q2RCb29zdFZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKmQpLHVsdENkQm9vc3RCYXNlVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqUyl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJiYXR0bGVTdGFydERlZkJ1ZmYiLG5hbWU6ImJhdHRsZVN0YXJ0RGVmQnVmZiIsdGV4dDptKCJiYXR0bGVTdGFydERlZkJ1ZmYudGV4dCIpLHRpdGxlOm0oImJhdHRsZVN0YXJ0RGVmQnVmZi50aXRsZSIpLGNvbnRlbnQ6bSgiYmF0dGxlU3RhcnREZWZCdWZmLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0ZWNobmlxdWVCdWZmIixuYW1lOiJ0ZWNobmlxdWVCdWZmIix0ZXh0Om0oInRlY2huaXF1ZUJ1ZmYudGV4dCIpLHRpdGxlOm0oInRlY2huaXF1ZUJ1ZmYudGl0bGUiKSxjb250ZW50Om0oInRlY2huaXF1ZUJ1ZmYuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUyU2tpbGxTcGRCdWZmIixuYW1lOiJlMlNraWxsU3BkQnVmZiIsdGV4dDptKCJlMlNraWxsU3BkQnVmZi50ZXh0IiksdGl0bGU6bSgiZTJTa2lsbFNwZEJ1ZmYudGl0bGUiKSxjb250ZW50Om0oImUyU2tpbGxTcGRCdWZmLmNvbnRlbnQiKSxkaXNhYmxlZDp0PDJ9XX0pKCksYz0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IG09QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5Ccm9ueWEuVGVhbW1hdGVDb250ZW50Iik7cmV0dXJuW0kodSwidGVhbURtZ0J1ZmYiKSxJKHUsInNraWxsQnVmZiIpLEkodSwidWx0QnVmZiIpLEkodSwiYmF0dGxlU3RhcnREZWZCdWZmIiksSSh1LCJ0ZWNobmlxdWVCdWZmIikse2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0ZWFtbWF0ZUNEVmFsdWUiLG5hbWU6InRlYW1tYXRlQ0RWYWx1ZSIsdGV4dDptKCJ0ZWFtbWF0ZUNEVmFsdWUudGV4dCIpLHRpdGxlOm0oInRlYW1tYXRlQ0RWYWx1ZS50aXRsZSIpLGNvbnRlbnQ6bSgidGVhbW1hdGVDRFZhbHVlLmNvbnRlbnQiLHt1bHRBdGtCb29zdFZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKnIpLHVsdENkQm9vc3RWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpkKSx1bHRDZEJvb3N0QmFzZVZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKlMpfSksbWluOjAsbWF4OjMscGVyY2VudDohMH0sSSh1LCJlMlNraWxsU3BkQnVmZiIpXX0pKCksbD17dGVhbURtZ0J1ZmY6ITAsc2tpbGxCdWZmOiEwLHVsdEJ1ZmY6ITAsYmF0dGxlU3RhcnREZWZCdWZmOiExLHRlY2huaXF1ZUJ1ZmY6ITEsZTJTa2lsbFNwZEJ1ZmY6ITF9O3JldHVybntjb250ZW50OigpPT51LHRlYW1tYXRlQ29udGVudDooKT0+YyxkZWZhdWx0czooKT0+bCx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oey4uLmwsdGVhbW1hdGVDRFZhbHVlOjIuNX0pLHByZWNvbXB1dGVFZmZlY3RzOihtLGYpPT57dWUobSxXLDEpLG0uQkFTSUNfU0NBTElORys9QyxtLkZVQV9TQ0FMSU5HKz10Pj00P3A6MCxtLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLG0uRlVBX1RPVUdITkVTU19ETUcrPXQ+PTQ/MzA6MH0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KG0sZik9Pntjb25zdCBnPWYuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO21bcy5ERUZfUF0rPWcuYmF0dGxlU3RhcnREZWZCdWZmPy4yOjAsbVtzLlNQRF9QXSs9Zy5lMlNraWxsU3BkQnVmZj8uMzowLG1bcy5BVEtfUF0rPWcudGVjaG5pcXVlQnVmZj8uMTU6MCxtW3MuQVRLX1BdKz1nLnVsdEJ1ZmY/cjowLG0uRUxFTUVOVEFMX0RNRys9Zy50ZWFtRG1nQnVmZj8uMTowLG0uRUxFTUVOVEFMX0RNRys9Zy5za2lsbEJ1ZmY/bzowfSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihtLGYpPT57Y29uc3QgZz1mLmNoYXJhY3RlckNvbmRpdGlvbmFsczttW3MuQ0RdKz1nLnVsdEJ1ZmY/ZCpnLnRlYW1tYXRlQ0RWYWx1ZTowLG1bcy5DRF0rPWcudWx0QnVmZj9TOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihtLGYpPT57WihtLGYsQil9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOm09PnEoQiksZHluYW1pY0NvbmRpdGlvbmFsczpbe2lkOiJCcm9ueWFDZENvbmRpdGlvbmFsIix0eXBlOlUuQUJJTElUWSxhY3RpdmF0aW9uOk4uQ09OVElOVU9VUyxkZXBlbmRzT246W3MuQ0RdLHJhdGlvQ29udmVyc2lvbjohMCxjb25kaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZWZmZWN0OmZ1bmN0aW9uKG0sZixnKXtpZighZi5jaGFyYWN0ZXJDb25kaXRpb25hbHMudWx0QnVmZilyZXR1cm47Y29uc3QgXz1nLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF18fDAsRT1tW3MuQ0RdLW0uUkFUSU9fQkFTRURfQ0RfQlVGRixUPWQqRStTLEw9ZCpfK1M7Zy5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdPW1bcy5DRF07Y29uc3QgUD1ULShfP0w6MCk7bS5SQVRJT19CQVNFRF9DRF9CVUZGKz1QLHcobSxmLGcscy5DRCxQKX0sZ3B1OmZ1bmN0aW9uKG0sZil7Y29uc3QgZz1tLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gRih0aGlzLGAKaWYgKCR7aXQoZy51bHRCdWZmKX0pIHsKICByZXR1cm47Cn0KCmxldCBzdGF0ZVZhbHVlOiBmMzIgPSAoKnBfc3RhdGUpLkJyb255YUNkQ29uZGl0aW9uYWw7CmxldCBjb252ZXJ0aWJsZUNkVmFsdWU6IGYzMiA9ICgqcF94KS5DRCAtICgqcF94KS5SQVRJT19CQVNFRF9DRF9CVUZGOwoKdmFyIGJ1ZmZDRDogZjMyID0gJHtkfSAqIGNvbnZlcnRpYmxlQ2RWYWx1ZSArICR7U307CnZhciBzdGF0ZUJ1ZmZDRDogZjMyID0gJHtkfSAqIHN0YXRlVmFsdWUgKyAke1N9OwoKKCpwX3N0YXRlKS5Ccm9ueWFDZENvbmRpdGlvbmFsID0gKCpwX3gpLkNEOwoKbGV0IGZpbmFsQnVmZkNkID0gYnVmZkNEIC0gc2VsZWN0KDAsIHN0YXRlQnVmZkNELCBzdGF0ZVZhbHVlID4gMCk7CigqcF94KS5SQVRJT19CQVNFRF9DRF9CVUZGICs9IGZpbmFsQnVmZkNkOwoKYnVmZk5vblJhdGlvRHluYW1pY0NEKGZpbmFsQnVmZkNkLCBwX3gsIHBfc3RhdGUpOwogICAgYCl9fV19fSxYYT0odCxuKT0+e2NvbnN0e2Jhc2ljOmUsc2tpbGw6YSx1bHQ6aSx0YWxlbnQ6b309Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxyPWkodCwuMjUsLjI3KSxkPWkodCwxLjYsMS43MjgpLFM9ZSh0LDEsMS4xKSxDPWEodCwxLjIsMS4zMikscD1vKHQsMS42LDEuNzYpLEI9ezE6UiooMSoxLzEpLDM6UiooMioxLzEpLDU6UiooMioxLzEpfSx1PVIqKDEqMS8xKSxjPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgbD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkNsYXJhLkNvbnRlbnQiKTtyZXR1cm5be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ1bHRCdWZmIixuYW1lOiJ1bHRCdWZmIix0ZXh0OmwoInVsdEJ1ZmYudGV4dCIpLHRpdGxlOmwoInVsdEJ1ZmYudGl0bGUiKSxjb250ZW50OmwoInVsdEJ1ZmYuY29udGVudCIse3VsdEZ1YUV4dHJhU2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpkKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRhbGVudEVuZW15TWFya2VkIixuYW1lOiJ0YWxlbnRFbmVteU1hcmtlZCIsdGV4dDpsKCJ0YWxlbnRFbmVteU1hcmtlZC50ZXh0IiksdGl0bGU6bCgidGFsZW50RW5lbXlNYXJrZWQudGl0bGUiKSxjb250ZW50OmwoInRhbGVudEVuZW15TWFya2VkLmNvbnRlbnQiLHtza2lsbFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqQyl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMlVsdEF0a0J1ZmYiLG5hbWU6ImUyVWx0QXRrQnVmZiIsdGV4dDpsKCJlMlVsdEF0a0J1ZmYudGV4dCIpLHRpdGxlOmwoImUyVWx0QXRrQnVmZi50aXRsZSIpLGNvbnRlbnQ6bCgiZTJVbHRBdGtCdWZmLmNvbnRlbnQiKSxkaXNhYmxlZDp0PDJ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTREbWdSZWR1Y3Rpb25CdWZmIixuYW1lOiJlNERtZ1JlZHVjdGlvbkJ1ZmYiLHRleHQ6bCgiZTREbWdSZWR1Y3Rpb25CdWZmLnRleHQiKSx0aXRsZTpsKCJlNERtZ1JlZHVjdGlvbkJ1ZmYudGl0bGUiKSxjb250ZW50OmwoImU0RG1nUmVkdWN0aW9uQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6dDw0fV19KSgpO3JldHVybntjb250ZW50OigpPT5jLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7dWx0QnVmZjohMCx0YWxlbnRFbmVteU1hcmtlZDohMCxlMlVsdEF0a0J1ZmY6ITAsZTREbWdSZWR1Y3Rpb25CdWZmOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czoobCxtKT0+e2NvbnN0IGY9bS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGxbcy5BVEtfUF0rPXQ+PTImJmYuZTJVbHRBdGtCdWZmPy4zOjAsbC5CQVNJQ19TQ0FMSU5HKz1TLGwuU0tJTExfU0NBTElORys9QyxsLlNLSUxMX1NDQUxJTkcrPWYudGFsZW50RW5lbXlNYXJrZWQ/QzowLGwuRlVBX1NDQUxJTkcrPXAsbC5GVUFfU0NBTElORys9Zi51bHRCdWZmP2Q6MCxsLkRNR19SRURfTVVMVEkqPTEtLjEsbC5ETUdfUkVEX01VTFRJKj1mLnVsdEJ1ZmY/MS1yOjEsbC5ETUdfUkVEX01VTFRJKj10Pj00JiZmLmU0RG1nUmVkdWN0aW9uQnVmZj8xLS4zOjEseShsLE0sLjMpLGwuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsbC5TS0lMTF9UT1VHSE5FU1NfRE1HKz0zMCxsLkZVQV9UT1VHSE5FU1NfRE1HKz0zMCxsfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoobCxtKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KGwsbSk9Pntjb25zdCBnPW0uY2hhcmFjdGVyQ29uZGl0aW9uYWxzLnVsdEJ1ZmY/QlttLmVuZW15Q291bnRdOnU7WihsLG0sZyl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOmw9Pntjb25zdCBmPWwuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLnVsdEJ1ZmY/QltsLmVuZW15Q291bnRdOnU7cmV0dXJuIHEoZil9fX0sWmE9KHQsbik9Pntjb25zdHtiYXNpYzplLHNraWxsOmEsdWx0OmksdGFsZW50Om99PWIuU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzUscj1vKHQsLjM2LC4zOTYpLGQ9ZSh0LDEsMS4xKSxTPWEodCwyLjYsMi44NiksQz1pKHQsNCw0LjMyKSxwPWkodCwxLjIsMS4yOTYpLEI9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCB1PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuRGFuSGVuZy5Db250ZW50Iik7cmV0dXJuW3tmb3JtSXRlbToic3dpdGNoIixpZDoidGFsZW50UGVuQnVmZiIsbmFtZToidGFsZW50UGVuQnVmZiIsdGV4dDp1KCJ0YWxlbnRQZW5CdWZmLnRleHQiKSx0aXRsZTp1KCJ0YWxlbnRQZW5CdWZmLnRpdGxlIiksY29udGVudDp1KCJ0YWxlbnRQZW5CdWZmLmNvbnRlbnQiLHtleHRyYVBlblZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKnIpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZW5lbXlTbG93ZWQiLG5hbWU6ImVuZW15U2xvd2VkIix0ZXh0OnUoImVuZW15U2xvd2VkLnRleHQiKSx0aXRsZTp1KCJlbmVteVNsb3dlZC50aXRsZSIpLGNvbnRlbnQ6dSgiZW5lbXlTbG93ZWQuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUxRW5lbXlIcDUwIixuYW1lOiJlMUVuZW15SHA1MCIsdGV4dDp1KCJlMUVuZW15SHA1MC50ZXh0IiksdGl0bGU6dSgiZTFFbmVteUhwNTAudGl0bGUiKSxjb250ZW50OnUoImUxRW5lbXlIcDUwLmNvbnRlbnQiKSxkaXNhYmxlZDp0PDF9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PkIsdGVhbW1hdGVDb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt0YWxlbnRQZW5CdWZmOiEwLGVuZW15U2xvd2VkOiEwLGUxRW5lbXlIcDUwOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czoodSxjKT0+e2NvbnN0IGw9Yy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIHVbcy5DUl0rPXQ+PTEmJmwuZTFFbmVteUhwNTA/LjEyOjAsdS5CQVNJQ19TQ0FMSU5HKz1kLHUuU0tJTExfU0NBTElORys9Uyx1LlVMVF9TQ0FMSU5HKz1DLHUuVUxUX1NDQUxJTkcrPWwuZW5lbXlTbG93ZWQ/cDowLHUuUkVTX1BFTis9bC50YWxlbnRQZW5CdWZmP3I6MCx5KHUsVywuNCxsLmVuZW15U2xvd2VkKSx1LkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLHUuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsdS5VTFRfVE9VR0hORVNTX0RNRys9OTAsdX0sZmluYWxpemVDYWxjdWxhdGlvbnM6dT0+eCh1KSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpfX07Y29uc3QgcWE9KHQsbik9Pntjb25zdHtiYXNpYzplLHNraWxsOmEsdWx0OmksdGFsZW50Om99PWIuVUxUX0JBU0lDXzNfU0tJTExfVEFMRU5UXzUscj01LGQ9dD49MT8xMDo2LFM9ZSh0LDEsMS4xKSxDPWEodCwxLjUsMS42NSkscD1pKHQsMi40LDIuNTkyKSxCPW8odCwyLjcsMi45Nyk7ZnVuY3Rpb24gdShnLGg9ITApe3JldHVybiBoP0IvKEIrLjIqZyk6LjIvKEIrLjIqZyl9Y29uc3QgYz1SKigxKjEvMSksbD17MDpSKigxKjEvMSksMTpSKigxKnUoMSwhMCkrMip1KDEsITEpKSwyOlIqKDEqdSgyLCEwKSs1KnUoMiwhMSkpLDM6UiooMSp1KDMsITApKzkqdSgzLCExKSksNDpSKigxKnUoNCwhMCkrMTQqdSg0LCExKSl9O2Z1bmN0aW9uIG0oZyl7Y29uc3QgaD1nLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gdD49Mj9sW01hdGgubWluKDQsaC5lbmVteURlYnVmZlN0YWNrcyldOmN9Y29uc3QgZj0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGc9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5EclJhdGlvLkNvbnRlbnQiKTtyZXR1cm5be2lkOiJzdW1tYXRpb25TdGFja3MiLG5hbWU6InN1bW1hdGlvblN0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDpnKCJzdW1tYXRpb25TdGFja3MudGV4dCIpLHRpdGxlOmcoInN1bW1hdGlvblN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6Zygic3VtbWF0aW9uU3RhY2tzLmNvbnRlbnQiLHtzdW1tYXRpb25TdGFja3NNYXg6ZH0pLG1pbjowLG1heDpkfSx7aWQ6ImVuZW15RGVidWZmU3RhY2tzIixuYW1lOiJlbmVteURlYnVmZlN0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDpnKCJlbmVteURlYnVmZlN0YWNrcy50ZXh0IiksdGl0bGU6ZygiZW5lbXlEZWJ1ZmZTdGFja3MudGl0bGUiKSxjb250ZW50OmcoImVuZW15RGVidWZmU3RhY2tzLmNvbnRlbnQiLHtGdWFTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKkIpfSksbWluOjAsbWF4OnJ9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmYsdGVhbW1hdGVDb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHtlbmVteURlYnVmZlN0YWNrczpyLHN1bW1hdGlvblN0YWNrczpkfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooZyxoKT0+e2NvbnN0IF89aC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGdbcy5DUl0rPV8uc3VtbWF0aW9uU3RhY2tzKi4wMjUsZ1tzLkNEXSs9Xy5zdW1tYXRpb25TdGFja3MqLjA1LGcuQkFTSUNfU0NBTElORys9UyxnLlNLSUxMX1NDQUxJTkcrPUMsZy5VTFRfU0NBTElORys9cCxnLkZVQV9TQ0FMSU5HKz1CLGcuRUxFTUVOVEFMX0RNRys9Xy5lbmVteURlYnVmZlN0YWNrcz49Mz9NYXRoLm1pbiguNSxfLmVuZW15RGVidWZmU3RhY2tzKi4xKTowLHkoZyxNLC41LHQ+PTYpLGcuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsZy5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxnLlVMVF9UT1VHSE5FU1NfRE1HKz05MCxnLkZVQV9UT1VHSE5FU1NfRE1HKz0zMCxnfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooZyxoKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KGcsaCk9PntaKGcsaCxtKGgpKX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6Zz0+cShtKGcpKX19O3ZhciB0bz0odCxuKT0+e2NvbnN0e2Jhc2ljOmUsc2tpbGw6YSx1bHQ6aSx0YWxlbnQ6b309Yi5TS0lMTF9UQUxFTlRfM19VTFRfQkFTSUNfNSxyPWEodCwuMTIsLjEzMiksZD1hKHQsLjA2LC4wNjYpLFM9byh0LC4xOCwuMTk2KSxDPWUodCwuNSwuNTUpLHA9YSh0LDAsMCksQj1pKHQsMSwxLjA4KSx1PSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgbD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkZ1WHVhbi5Db250ZW50Iik7cmV0dXJuW3tmb3JtSXRlbToic3dpdGNoIixpZDoidGFsZW50QWN0aXZlIixuYW1lOiJ0YWxlbnRBY3RpdmUiLHRleHQ6bCgidGFsZW50QWN0aXZlLnRleHQiKSx0aXRsZTpsKCJ0YWxlbnRBY3RpdmUudGl0bGUiKSxjb250ZW50OmwoInRhbGVudEFjdGl2ZS5jb250ZW50Iix7dGFsZW50RG1nUmVkdWN0aW9uVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqUyl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJza2lsbEFjdGl2ZSIsbmFtZToic2tpbGxBY3RpdmUiLHRleHQ6bCgic2tpbGxBY3RpdmUudGV4dCIpLHRpdGxlOmwoInNraWxsQWN0aXZlLnRpdGxlIiksY29udGVudDpsKCJza2lsbEFjdGl2ZS5jb250ZW50Iix7c2tpbGxIcEJ1ZmZWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpkKSxza2lsbENyQnVmZlZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKnIpfSl9LHtmb3JtSXRlbToic2xpZGVyIixpZDoiZTZUZWFtSHBMb3N0UGVyY2VudCIsbmFtZToiZTZUZWFtSHBMb3N0UGVyY2VudCIsdGV4dDpsKCJlNlRlYW1IcExvc3RQZXJjZW50LnRleHQiKSx0aXRsZTpsKCJlNlRlYW1IcExvc3RQZXJjZW50LnRpdGxlIiksY29udGVudDpsKCJlNlRlYW1IcExvc3RQZXJjZW50LmNvbnRlbnQiKSxtaW46MCxtYXg6MS4yLHBlcmNlbnQ6ITAsZGlzYWJsZWQ6dDw2fV19KSgpLGM9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBsPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuRnVYdWFuLlRlYW1tYXRlQ29udGVudCIpO3JldHVybltJKHUsInRhbGVudEFjdGl2ZSIpLEkodSwic2tpbGxBY3RpdmUiKSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InRlYW1tYXRlSFBWYWx1ZSIsbmFtZToidGVhbW1hdGVIUFZhbHVlIix0ZXh0OmwoInRlYW1tYXRlSFBWYWx1ZS50ZXh0IiksdGl0bGU6bCgidGVhbW1hdGVIUFZhbHVlLnRpdGxlIiksY29udGVudDpsKCJ0ZWFtbWF0ZUhQVmFsdWUuY29udGVudCIse3NraWxsSHBCdWZmVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZCl9KSxtaW46MCxtYXg6MWU0fV19KSgpO3JldHVybntjb250ZW50OigpPT51LHRlYW1tYXRlQ29udGVudDooKT0+YyxkZWZhdWx0czooKT0+KHtza2lsbEFjdGl2ZTohMCx0YWxlbnRBY3RpdmU6ITAsZTZUZWFtSHBMb3N0UGVyY2VudDoxLjJ9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3NraWxsQWN0aXZlOiEwLHRhbGVudEFjdGl2ZTohMCx0ZWFtbWF0ZUhQVmFsdWU6OGUzfSkscHJlY29tcHV0ZUVmZmVjdHM6KGwsbSk9Pntjb25zdCBmPW0uY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBsLkJBU0lDX1NDQUxJTkcrPUMsbC5TS0lMTF9TQ0FMSU5HKz1wLGwuVUxUX1NDQUxJTkcrPUIrKHQ+PTY/MipmLmU2VGVhbUhwTG9zdFBlcmNlbnQ6MCksbC5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxsLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxsfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoobCxtKT0+e2NvbnN0IGY9bS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7bFtzLkNSXSs9Zi5za2lsbEFjdGl2ZT9yOjAsbFtzLkNEXSs9dD49MSYmZi5za2lsbEFjdGl2ZT8uMzowLGwuRE1HX1JFRF9NVUxUSSo9Zi50YWxlbnRBY3RpdmU/MS1TOjF9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KGwsbSk9Pntjb25zdCBmPW0uY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2xbcy5IUF0rPWYuc2tpbGxBY3RpdmU/ZCpmLnRlYW1tYXRlSFBWYWx1ZTowLGwuRE1HX1JFRF9NVUxUSSo9Zi5za2lsbEFjdGl2ZT8xLS42NToxfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczoobCxtKT0+e1JlKGwpfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+R2UoKSxkeW5hbWljQ29uZGl0aW9uYWxzOlt7aWQ6IkZ1WHVhbkhwQ29uZGl0aW9uYWwiLHR5cGU6VS5BQklMSVRZLGFjdGl2YXRpb246Ti5DT05USU5VT1VTLGRlcGVuZHNPbjpbcy5IUF0scmF0aW9Db252ZXJzaW9uOiEwLGNvbmRpdGlvbjpmdW5jdGlvbigpe3JldHVybiEwfSxlZmZlY3Q6ZnVuY3Rpb24obCxtLGYpe2lmKCFtLmNoYXJhY3RlckNvbmRpdGlvbmFscy5za2lsbEFjdGl2ZSlyZXR1cm47Y29uc3QgaD1mLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF18fDAsXz1sW3MuSFBdLWwuUkFUSU9fQkFTRURfSFBfQlVGRixFPWQqXyxUPWQqaDtmLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09bFtzLkhQXTtjb25zdCBMPUUtKGg/VDowKTtsLlJBVElPX0JBU0VEX0hQX0JVRkYrPUwsdyhsLG0sZixzLkhQLEwpfSxncHU6ZnVuY3Rpb24obCxtKXtjb25zdCBmPWwuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBGKHRoaXMsYAppZiAoJHtpdChmLnNraWxsQWN0aXZlKX0pIHsKICByZXR1cm47Cn0KCmxldCBzdGF0ZVZhbHVlOiBmMzIgPSAoKnBfc3RhdGUpLkZ1WHVhbkhwQ29uZGl0aW9uYWw7CmxldCBjb252ZXJ0aWJsZUhwVmFsdWU6IGYzMiA9ICgqcF94KS5IUCAtICgqcF94KS5SQVRJT19CQVNFRF9IUF9CVUZGOwoKdmFyIGJ1ZmZIUDogZjMyID0gJHtkfSAqIGNvbnZlcnRpYmxlSHBWYWx1ZTsKdmFyIHN0YXRlQnVmZkhQOiBmMzIgPSAke2R9ICogc3RhdGVWYWx1ZTsKCigqcF9zdGF0ZSkuRnVYdWFuSHBDb25kaXRpb25hbCA9ICgqcF94KS5IUDsKCmxldCBmaW5hbEJ1ZmZIcCA9IGJ1ZmZIUCAtIHNlbGVjdCgwLCBzdGF0ZUJ1ZmZIUCwgc3RhdGVWYWx1ZSA+IDApOwooKnBfeCkuUkFUSU9fQkFTRURfSFBfQlVGRiArPSBmaW5hbEJ1ZmZIcDsKCmJ1ZmZOb25SYXRpb0R5bmFtaWNIUChmaW5hbEJ1ZmZIcCwgcF94LCBwX3N0YXRlKTsKICAgIGApfX1dfX0sZW89KHQsbik9Pntjb25zdHtiYXNpYzplLHNraWxsOmF9PWIuVUxUX1RBTEVOVF8zX1NLSUxMX0JBU0lDXzUsaT1lKHQsMSwxLjEpLG89YSh0LDIsMi4yKSxyPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgZD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkdlcGFyZC5Db250ZW50Iik7cmV0dXJuW3tmb3JtSXRlbToic3dpdGNoIixpZDoiZTRUZWFtUmVzQnVmZiIsbmFtZToiZTRUZWFtUmVzQnVmZiIsdGV4dDpkKCJlNFRlYW1SZXNCdWZmLnRleHQiKSx0aXRsZTpkKCJlNFRlYW1SZXNCdWZmLnRpdGxlIiksY29udGVudDpkKCJlNFRlYW1SZXNCdWZmLmNvbnRlbnQiKSxkaXNhYmxlZDp0PDR9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PnIsdGVhbW1hdGVDb250ZW50OigpPT5yLGRlZmF1bHRzOigpPT4oe2U0VGVhbVJlc0J1ZmY6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2U0VGVhbVJlc0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooZCxTKT0+KGQuQkFTSUNfU0NBTElORys9aSxkLlNLSUxMX1NDQUxJTkcrPW8sZC5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxkLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLGQpLHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihkLFMpPT57Y29uc3QgQz1TLmNoYXJhY3RlckNvbmRpdGlvbmFscztkW3MuUkVTXSs9dD49NCYmQy5lNFRlYW1SZXNCdWZmPy4yOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOmQ9PngoZCksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKSxkeW5hbWljQ29uZGl0aW9uYWxzOltLYV19fSxubz0odCxuKT0+e2NvbnN0e2Jhc2ljOmUsc2tpbGw6YSx1bHQ6aSx0YWxlbnQ6b309Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxyPW8odCwuMDcsLjA3NiksZD10Pj02PzQ6MyxTPWUodCwxLDEuMSksQz1hKHQsMS4yLDEuMzIpLHA9aSh0LDEuMiwxLjI5NiksQj1hKHQsMi4xODIsMi40KSx1PSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgbD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkd1aW5haWZlbi5Db250ZW50Iik7cmV0dXJuW3tmb3JtSXRlbToic2xpZGVyIixpZDoidGFsZW50RGVidWZmU3RhY2tzIixuYW1lOiJ0YWxlbnREZWJ1ZmZTdGFja3MiLHRleHQ6bCgidGFsZW50RGVidWZmU3RhY2tzLnRleHQiKSx0aXRsZTpsKCJ0YWxlbnREZWJ1ZmZTdGFja3MudGl0bGUiKSxjb250ZW50OmwoInRhbGVudERlYnVmZlN0YWNrcy5jb250ZW50Iix7dGFsZW50RGVidWZmRG1nSW5jcmVhc2VWYWx1ZTpELnByZWNpc2lvblJvdW5kKHIpLHRhbGVudERlYnVmZk1heDpkfSksbWluOjAsbWF4OmR9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZW5lbXlCdXJuZWQiLG5hbWU6ImVuZW15QnVybmVkIix0ZXh0OmwoImVuZW15QnVybmVkLnRleHQiKSx0aXRsZTpsKCJlbmVteUJ1cm5lZC50aXRsZSIpLGNvbnRlbnQ6bCgiZW5lbXlCdXJuZWQuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InNraWxsRG90IixuYW1lOiJza2lsbERvdCIsdGV4dDpsKCJza2lsbERvdC50ZXh0IiksdGl0bGU6bCgic2tpbGxEb3QudGl0bGUiKSxjb250ZW50OmwoInNraWxsRG90LmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMUVmZmVjdFJlc1NocmVkIixuYW1lOiJlMUVmZmVjdFJlc1NocmVkIix0ZXh0OmwoImUxRWZmZWN0UmVzU2hyZWQudGV4dCIpLHRpdGxlOmwoImUxRWZmZWN0UmVzU2hyZWQudGl0bGUiKSxjb250ZW50OmwoImUxRWZmZWN0UmVzU2hyZWQuY29udGVudCIpLGRpc2FibGVkOnQ8MX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMkJ1cm5NdWx0aUJvb3N0IixuYW1lOiJlMkJ1cm5NdWx0aUJvb3N0Iix0ZXh0OmwoImUyQnVybk11bHRpQm9vc3QudGV4dCIpLHRpdGxlOmwoImUyQnVybk11bHRpQm9vc3QudGl0bGUiKSxjb250ZW50OmwoImUyQnVybk11bHRpQm9vc3QuY29udGVudCIpLGRpc2FibGVkOnQ8Mn1dfSkoKSxjPW4/W106W0kodSwidGFsZW50RGVidWZmU3RhY2tzIiksSSh1LCJlMUVmZmVjdFJlc1NocmVkIildO3JldHVybntjb250ZW50OigpPT51LHRlYW1tYXRlQ29udGVudDooKT0+YyxkZWZhdWx0czooKT0+KHt0YWxlbnREZWJ1ZmZTdGFja3M6ZCxlbmVteUJ1cm5lZDohMCxza2lsbERvdDohMCxlMUVmZmVjdFJlc1NocmVkOiEwLGUyQnVybk11bHRpQm9vc3Q6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3RhbGVudERlYnVmZlN0YWNrczpkLGUxRWZmZWN0UmVzU2hyZWQ6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoobCxtKT0+e2NvbnN0IGY9bS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGwuQkFTSUNfU0NBTElORys9UyxsLlNLSUxMX1NDQUxJTkcrPUMsbC5VTFRfU0NBTElORys9cCxsLkRPVF9TQ0FMSU5HKz1CLGwuRE9UX1NDQUxJTkcrPXQ+PTImJmYuZTJCdXJuTXVsdGlCb29zdD8uNDowLGwuRUxFTUVOVEFMX0RNRys9Zi5lbmVteUJ1cm5lZD8uMjowLGwuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsbC5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxsLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxsLkRPVF9DSEFOQ0U9Zi5za2lsbERvdD8xOi44LGx9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihsLG0pPT57Y29uc3QgZj1tLmNoYXJhY3RlckNvbmRpdGlvbmFscztsLlZVTE5FUkFCSUxJVFkrPWYudGFsZW50RGVidWZmU3RhY2tzKnIsbC5FRkZFQ1RfUkVTX1BFTis9Zi5lMUVmZmVjdFJlc1NocmVkPy4xOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOmw9PngobCksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19LGlvPSh0LG4pPT57Y29uc3R7YmFzaWM6ZSxza2lsbDphLHVsdDppLHRhbGVudDpvfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LHI9aSh0LC4yLC4yMSksZD1pKHQsLjYsLjY0OCk7bGV0IFM9byh0LC4zLC4zMyk7Uys9dD49Nj8uMTowO2NvbnN0IEM9ZSh0LDEsMS4xKSxwPWEodCwyLjQsMi42NCksQj1pKHQsMCwwKSx1PSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgbD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkhhbnlhLkNvbnRlbnQiKTtyZXR1cm5be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ1bHRCdWZmIixuYW1lOiJ1bHRCdWZmIix0ZXh0OmwoInVsdEJ1ZmYudGV4dCIpLHRpdGxlOmwoInVsdEJ1ZmYudGl0bGUiKSxjb250ZW50OmwoInVsdEJ1ZmYuY29udGVudCIse3VsdFNwZEJ1ZmZWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpyKSx1bHRBdGtCdWZmVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZCl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0YXJnZXRCdXJkZW5BY3RpdmUiLG5hbWU6InRhcmdldEJ1cmRlbkFjdGl2ZSIsdGV4dDpsKCJ0YXJnZXRCdXJkZW5BY3RpdmUudGV4dCIpLHRpdGxlOmwoInRhcmdldEJ1cmRlbkFjdGl2ZS50aXRsZSIpLGNvbnRlbnQ6bCgidGFyZ2V0QnVyZGVuQWN0aXZlLmNvbnRlbnQiLHt0YWxlbnREbWdCb29zdFZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKlMpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiYnVyZGVuQXRrQnVmZiIsbmFtZToiYnVyZGVuQXRrQnVmZiIsdGV4dDpsKCJidXJkZW5BdGtCdWZmLnRleHQiKSx0aXRsZTpsKCJidXJkZW5BdGtCdWZmLnRpdGxlIiksY29udGVudDpsKCJidXJkZW5BdGtCdWZmLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMlNraWxsU3BkQnVmZiIsbmFtZToiZTJTa2lsbFNwZEJ1ZmYiLHRleHQ6bCgiZTJTa2lsbFNwZEJ1ZmYudGV4dCIpLHRpdGxlOmwoImUyU2tpbGxTcGRCdWZmLnRpdGxlIiksY29udGVudDpsKCJlMlNraWxsU3BkQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6dDwyfV19KSgpLGM9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBsPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuSGFueWEuVGVhbW1hdGVDb250ZW50Iik7cmV0dXJuW0kodSwidWx0QnVmZiIpLHtmb3JtSXRlbToic2xpZGVyIixpZDoidGVhbW1hdGVTUERWYWx1ZSIsbmFtZToidGVhbW1hdGVTUERWYWx1ZSIsdGV4dDpsKCJ0ZWFtbWF0ZVNQRFZhbHVlLnRleHQiKSx0aXRsZTpsKCJ0ZWFtbWF0ZVNQRFZhbHVlLnRpdGxlIiksY29udGVudDpsKCJ0ZWFtbWF0ZVNQRFZhbHVlLmNvbnRlbnQiLHt1bHRTcGRCdWZmVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqciksdWx0QXRrQnVmZlZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKmQpfSksbWluOjAsbWF4OjIwMH0sSSh1LCJ0YXJnZXRCdXJkZW5BY3RpdmUiKSxJKHUsImJ1cmRlbkF0a0J1ZmYiKV19KSgpO3JldHVybntjb250ZW50OigpPT51LHRlYW1tYXRlQ29udGVudDooKT0+YyxkZWZhdWx0czooKT0+KHt1bHRCdWZmOiEwLHRhcmdldEJ1cmRlbkFjdGl2ZTohMCxidXJkZW5BdGtCdWZmOiEwLGUyU2tpbGxTcGRCdWZmOiExfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt1bHRCdWZmOiEwLHRhcmdldEJ1cmRlbkFjdGl2ZTohMCxidXJkZW5BdGtCdWZmOiEwLHRlYW1tYXRlU1BEVmFsdWU6MTYwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGwsbSk9Pntjb25zdCBmPW0uY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBsLkJBU0lDX1NDQUxJTkcrPUMsbC5TS0lMTF9TQ0FMSU5HKz1wLGwuVUxUX1NDQUxJTkcrPUIsbFtzLlNQRF9QXSs9dD49MiYmZi5lMlNraWxsU3BkQnVmZj8uMjowLGwuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsbC5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxsfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoobCxtKT0+e2NvbnN0IGY9bS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7bFtzLkFUS19QXSs9Zi51bHRCdWZmP2Q6MCxsW3MuQVRLX1BdKz1mLmJ1cmRlbkF0a0J1ZmY/LjE6MCxsLkVMRU1FTlRBTF9ETUcrPWYudGFyZ2V0QnVyZGVuQWN0aXZlP1M6MH0scHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0czoobCxtKT0+e2NvbnN0IGY9bS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7bFtzLlNQRF0rPWYudWx0QnVmZj9yKmYudGVhbW1hdGVTUERWYWx1ZTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpsPT54KGwpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCksZHluYW1pY0NvbmRpdGlvbmFsczpbe2lkOiJIYW55YVNwZENvbmRpdGlvbmFsIix0eXBlOlUuQUJJTElUWSxhY3RpdmF0aW9uOk4uQ09OVElOVU9VUyxkZXBlbmRzT246W3MuU1BEXSxyYXRpb0NvbnZlcnNpb246ITAsY29uZGl0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuITB9LGVmZmVjdDpmdW5jdGlvbihsLG0sZil7aWYoIW0uY2hhcmFjdGVyQ29uZGl0aW9uYWxzLnVsdEJ1ZmYpcmV0dXJuO2NvbnN0IGg9Zi5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdfHwwLF89bFtzLlNQRF0tbC5SQVRJT19CQVNFRF9TUERfQlVGRixFPXIqXyxUPXIqaDtmLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09bFtzLlNQRF07Y29uc3QgTD1FLShoP1Q6MCk7bC5SQVRJT19CQVNFRF9TUERfQlVGRis9TCx3KGwsbSxmLHMuU1BELEwpfSxncHU6ZnVuY3Rpb24obCxtKXtjb25zdCBmPWwuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBGKHRoaXMsYAppZiAoJHtpdChmLnVsdEJ1ZmYpfSkgewogIHJldHVybjsKfQoKbGV0IHN0YXRlVmFsdWU6IGYzMiA9ICgqcF9zdGF0ZSkuSGFueWFTcGRDb25kaXRpb25hbDsKbGV0IGNvbnZlcnRpYmxlU3BkVmFsdWU6IGYzMiA9ICgqcF94KS5TUEQgLSAoKnBfeCkuUkFUSU9fQkFTRURfU1BEX0JVRkY7Cgp2YXIgYnVmZlNQRDogZjMyID0gJHtyfSAqIGNvbnZlcnRpYmxlU3BkVmFsdWU7CnZhciBzdGF0ZUJ1ZmZTUEQ6IGYzMiA9ICR7cn0gKiBzdGF0ZVZhbHVlOwoKKCpwX3N0YXRlKS5IYW55YVNwZENvbmRpdGlvbmFsID0gKCpwX3gpLlNQRDsKCmxldCBmaW5hbEJ1ZmZTcGQgPSBidWZmU1BEIC0gc2VsZWN0KDAsIHN0YXRlQnVmZlNQRCwgc3RhdGVWYWx1ZSA+IDApOwooKnBfeCkuUkFUSU9fQkFTRURfU1BEX0JVRkYgKz0gZmluYWxCdWZmU3BkOwoKYnVmZk5vblJhdGlvRHluYW1pY1NQRChmaW5hbEJ1ZmZTcGQsIHBfeCwgcF9zdGF0ZSk7CiAgICBgKX19XX19LGFvPSh0LG4pPT57Y29uc3R7YmFzaWM6ZSxza2lsbDphLHVsdDppLHRhbGVudDpvfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LHI9ZSh0LDEsMS4xKSxkPWEodCwxLDEuMSksUz1pKHQsMiwyLjE2KSxDPW8odCwuNCwuNDMpO2Z1bmN0aW9uIHAoYyxsKXtjb25zdCBtPTEvYztpZihsLmVuZW15Q291bnQ9PTEpe2xldCBmPTEsZz0wO2ZvcihsZXQgaD0wO2g8YztoKyspZys9bSpmLGY9TWF0aC5taW4oOCxmKzEpO3JldHVybiBnfWlmKGwuZW5lbXlDb3VudD09Myl7bGV0IGY9MixnPTA7Zm9yKGxldCBoPTA7aDxjO2grKylnKz1tKmYsZj1NYXRoLm1pbig4LGYrMyk7cmV0dXJuIGd9aWYobC5lbmVteUNvdW50PT01KXtsZXQgZj0zLGc9MDtmb3IobGV0IGg9MDtoPGM7aCsrKWcrPW0qZixmPU1hdGgubWluKDgsZis1KTtyZXR1cm4gZ31yZXR1cm4gMX1mdW5jdGlvbiBCKGMpe2NvbnN0IGw9Yy5jaGFyYWN0ZXJDb25kaXRpb25hbHMsbT1wKGwuZnVhU3RhY2tzLGMpO3JldHVybnsxOlIqbSwzOlIqbSw1OlIqbX1bYy5lbmVteUNvdW50XX1jb25zdCB1PSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgYz1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkhlcnRhLkNvbnRlbnQiKTtyZXR1cm5be2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJmdWFTdGFja3MiLG5hbWU6ImZ1YVN0YWNrcyIsdGV4dDpjKCJmdWFTdGFja3MudGV4dCIpLHRpdGxlOmMoImZ1YVN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6YygiZnVhU3RhY2tzLmNvbnRlbnQiKSxtaW46MSxtYXg6NX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0YXJnZXRGcm96ZW4iLG5hbWU6InRhcmdldEZyb3plbiIsdGV4dDpjKCJ0YXJnZXRGcm96ZW4udGV4dCIpLHRpdGxlOmMoInRhcmdldEZyb3plbi50aXRsZSIpLGNvbnRlbnQ6YygidGFyZ2V0RnJvemVuLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlbmVteUhwR3RlNTAiLG5hbWU6ImVuZW15SHBHdGU1MCIsdGV4dDpjKCJlbmVteUhwR3RlNTAudGV4dCIpLHRpdGxlOmMoImVuZW15SHBHdGU1MC50aXRsZSIpLGNvbnRlbnQ6YygiZW5lbXlIcEd0ZTUwLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0ZWNobmlxdWVCdWZmIixuYW1lOiJ0ZWNobmlxdWVCdWZmIix0ZXh0OmMoInRlY2huaXF1ZUJ1ZmYudGV4dCIpLHRpdGxlOmMoInRlY2huaXF1ZUJ1ZmYudGl0bGUiKSxjb250ZW50OmMoInRlY2huaXF1ZUJ1ZmYuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVuZW15SHBMdGU1MCIsbmFtZToiZW5lbXlIcEx0ZTUwIix0ZXh0OmMoImVuZW15SHBMdGU1MC50ZXh0IiksdGl0bGU6YygiZW5lbXlIcEx0ZTUwLnRpdGxlIiksY29udGVudDpjKCJlbmVteUhwTHRlNTAuY29udGVudCIpLGRpc2FibGVkOnQ8MX0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJlMlRhbGVudENyaXRTdGFja3MiLG5hbWU6ImUyVGFsZW50Q3JpdFN0YWNrcyIsdGV4dDpjKCJlMlRhbGVudENyaXRTdGFja3MudGV4dCIpLHRpdGxlOmMoImUyVGFsZW50Q3JpdFN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6YygiZTJUYWxlbnRDcml0U3RhY2tzLmNvbnRlbnQiKSxtaW46MCxtYXg6NSxkaXNhYmxlZDp0PDJ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTZVbHRBdGtCdWZmIixuYW1lOiJlNlVsdEF0a0J1ZmYiLHRleHQ6YygiZTZVbHRBdGtCdWZmLnRleHQiKSx0aXRsZTpjKCJlNlVsdEF0a0J1ZmYudGl0bGUiKSxjb250ZW50OmMoImU2VWx0QXRrQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6dDw2fV19KSgpO3JldHVybntjb250ZW50OigpPT51LHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7ZnVhU3RhY2tzOjUsdGVjaG5pcXVlQnVmZjohMSx0YXJnZXRGcm96ZW46ITAsZTJUYWxlbnRDcml0U3RhY2tzOjUsZTZVbHRBdGtCdWZmOiEwLGVuZW15SHBHdGU1MDohMCxlbmVteUhwTHRlNTA6ITF9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOihjLGwpPT57Y29uc3QgbT1sLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gY1tzLkFUS19QXSs9bS50ZWNobmlxdWVCdWZmPy40OjAsY1tzLkNSXSs9dD49Mj9tLmUyVGFsZW50Q3JpdFN0YWNrcyouMDM6MCxjW3MuQVRLX1BdKz10Pj02JiZtLmU2VWx0QXRrQnVmZj8uMjU6MCxjLkJBU0lDX1NDQUxJTkcrPXIsYy5CQVNJQ19TQ0FMSU5HKz10Pj0xJiZtLmVuZW15SHBMdGU1MD8uNDowLGMuU0tJTExfU0NBTElORys9ZCxjLlVMVF9TQ0FMSU5HKz1TLGMuRlVBX1NDQUxJTkcrPUMqbS5mdWFTdGFja3MseShjLHosLjIsbS5lbmVteUhwR3RlNTApLHkoYyxPLC4yLG0udGFyZ2V0RnJvemVuKSx5KGMsTSwuMSx0Pj00KSxjLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGMuU0tJTExfVE9VR0hORVNTX0RNRys9MzAsYy5VTFRfVE9VR0hORVNTX0RNRys9NjAsYy5GVUFfVE9VR0hORVNTX0RNRys9MTUsY30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGMsbCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihjLGwpPT57WihjLGwsQihsKSl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOmM9PnEoQihjKSl9fSxvbz0odCxuKT0+e2NvbnN0e2Jhc2ljOmUsc2tpbGw6YSx1bHQ6aSx0YWxlbnQ6b309Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxyPWUodCwxLDEuMSksZD1hKHQsMiwyLjIpLFM9aSh0LDIuMywyLjQ4NCksQz1vKHQsMS40LDEuNTQpLHA9LjMsQj17MTpSKigxKi4yKzIqLjIrMyouMis0Ki40KSwzOlIqKDIqLjIrNSouMis4Ki4yKzgqLjQpLDU6UiooMyouMis4Ki4yKzgqLjIrOCouNCl9LHU9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBjPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuSGltZWtvLkNvbnRlbnQiKTtyZXR1cm5be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0YXJnZXRCdXJuZWQiLG5hbWU6InRhcmdldEJ1cm5lZCIsdGV4dDpjKCJ0YXJnZXRCdXJuZWQudGV4dCIpLHRpdGxlOmMoInRhcmdldEJ1cm5lZC50aXRsZSIpLGNvbnRlbnQ6YygidGFyZ2V0QnVybmVkLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJzZWxmQ3VycmVudEhwODBQZXJjZW50IixuYW1lOiJzZWxmQ3VycmVudEhwODBQZXJjZW50Iix0ZXh0OmMoInNlbGZDdXJyZW50SHA4MFBlcmNlbnQudGV4dCIpLHRpdGxlOmMoInNlbGZDdXJyZW50SHA4MFBlcmNlbnQudGl0bGUiKSxjb250ZW50OmMoInNlbGZDdXJyZW50SHA4MFBlcmNlbnQuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUxVGFsZW50U3BkQnVmZiIsbmFtZToiZTFUYWxlbnRTcGRCdWZmIix0ZXh0OmMoImUxVGFsZW50U3BkQnVmZi50ZXh0IiksdGl0bGU6YygiZTFUYWxlbnRTcGRCdWZmLnRpdGxlIiksY29udGVudDpjKCJlMVRhbGVudFNwZEJ1ZmYuY29udGVudCIpLGRpc2FibGVkOnQ8MX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMkVuZW15SHA1MERtZ0Jvb3N0IixuYW1lOiJlMkVuZW15SHA1MERtZ0Jvb3N0Iix0ZXh0OmMoImUyRW5lbXlIcDUwRG1nQm9vc3QudGV4dCIpLHRpdGxlOmMoImUyRW5lbXlIcDUwRG1nQm9vc3QudGl0bGUiKSxjb250ZW50OmMoImUyRW5lbXlIcDUwRG1nQm9vc3QuY29udGVudCIpLGRpc2FibGVkOnQ8Mn0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJlNlVsdEV4dHJhSGl0cyIsbmFtZToiZTZVbHRFeHRyYUhpdHMiLHRleHQ6YygiZTZVbHRFeHRyYUhpdHMudGV4dCIpLHRpdGxlOmMoImU2VWx0RXh0cmFIaXRzLnRpdGxlIiksY29udGVudDpjKCJlNlVsdEV4dHJhSGl0cy5jb250ZW50IiksbWluOjAsbWF4OjIsZGlzYWJsZWQ6dDw2fV19KSgpO3JldHVybntjb250ZW50OigpPT51LHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7dGFyZ2V0QnVybmVkOiEwLHNlbGZDdXJyZW50SHA4MFBlcmNlbnQ6ITAsZTFUYWxlbnRTcGRCdWZmOiExLGU2VWx0RXh0cmFIaXRzOjJ9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOihjLGwpPT57Y29uc3QgbT1sLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gY1tzLkNSXSs9bS5zZWxmQ3VycmVudEhwODBQZXJjZW50Py4xNTowLGNbcy5TUERfUF0rPXQ+PTEmJm0uZTFUYWxlbnRTcGRCdWZmPy4yOjAsYy5CQVNJQ19TQ0FMSU5HKz1yLGMuU0tJTExfU0NBTElORys9ZCxjLlVMVF9TQ0FMSU5HKz1TLGMuVUxUX1NDQUxJTkcrPXQ+PTY/bS5lNlVsdEV4dHJhSGl0cypTKi40OjAsYy5GVUFfU0NBTElORys9QyxjLkRPVF9TQ0FMSU5HKz1wLHkoYyx6LC4yLG0udGFyZ2V0QnVybmVkKSxjLkVMRU1FTlRBTF9ETUcrPXQ+PTImJm0uZTJFbmVteUhwNTBEbWdCb29zdD8uMTU6MCxjLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGMuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsYy5VTFRfVE9VR0hORVNTX0RNRys9NjAsYy5GVUFfVE9VR0hORVNTX0RNRys9MzAsYy5ET1RfQ0hBTkNFPS41LGN9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihjLGwpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooYyxsKT0+e1ooYyxsLEJbbC5lbmVteUNvdW50XSl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOmM9PnEoQltjLmVuZW15Q291bnRdKX19LHJvPSh0LG4pPT57Y29uc3R7YmFzaWM6ZSxza2lsbDphLHVsdDppLHRhbGVudDpvfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LHI9byh0LDEsMS4xKSxkPWUodCwxLDEuMSksUz1hKHQsMi40LDIuNjQpLEM9YSh0LDIuOCwzLjA4KSxwPWkodCw0LDQuMzIpLEI9YSh0LC42NSwuNzE1KSx1PSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgYz1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkhvb2suQ29udGVudCIpO3JldHVyblt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVuaGFuY2VkU2tpbGwiLG5hbWU6ImVuaGFuY2VkU2tpbGwiLHRleHQ6YygiZW5oYW5jZWRTa2lsbC50ZXh0IiksdGl0bGU6YygiZW5oYW5jZWRTa2lsbC50aXRsZSIpLGNvbnRlbnQ6YygiZW5oYW5jZWRTa2lsbC5jb250ZW50Iix7c2tpbGxFbmhhbmNlZFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqQyl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0YXJnZXRCdXJuZWQiLG5hbWU6InRhcmdldEJ1cm5lZCIsdGV4dDpjKCJ0YXJnZXRCdXJuZWQudGV4dCIpLHRpdGxlOmMoInRhcmdldEJ1cm5lZC50aXRsZSIpLGNvbnRlbnQ6YygidGFyZ2V0QnVybmVkLmNvbnRlbnQiLHt0YXJnZXRCdXJuZWRFeHRyYVNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqcil9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+dSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe2VuaGFuY2VkU2tpbGw6ITAsdGFyZ2V0QnVybmVkOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooYyxsKT0+e2NvbnN0IG09bC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGMuQkFTSUNfU0NBTElORys9ZCxjLlNLSUxMX1NDQUxJTkcrPW0uZW5oYW5jZWRTa2lsbD9DOlMsYy5VTFRfU0NBTElORys9cCxjLkJBU0lDX1NDQUxJTkcrPW0udGFyZ2V0QnVybmVkP3I6MCxjLlNLSUxMX1NDQUxJTkcrPW0udGFyZ2V0QnVybmVkP3I6MCxjLlVMVF9TQ0FMSU5HKz1tLnRhcmdldEJ1cm5lZD9yOjAsYy5ET1RfU0NBTElORys9Qix5KGMseiwuMix0Pj0xJiZtLmVuaGFuY2VkU2tpbGwpLGMuRUxFTUVOVEFMX0RNRys9dD49NiYmbS50YXJnZXRCdXJuZWQ/LjI6MCxjLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGMuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsYy5VTFRfVE9VR0hORVNTX0RNRys9OTAsYy5ET1RfQ0hBTkNFPTEsY30sZmluYWxpemVDYWxjdWxhdGlvbnM6Yz0+eChjKSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpfX0sc289KHQsbik9Pntjb25zdHtiYXNpYzplLHVsdDphfT1iLlVMVF9UQUxFTlRfM19TS0lMTF9CQVNJQ181LGk9YSh0LC40LC40MzIpLG89ZSh0LC41LC41NSkscj0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IFM9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5IdW9odW8uQ29udGVudCIpO3JldHVyblt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InVsdEJ1ZmYiLG5hbWU6InVsdEJ1ZmYiLHRleHQ6UygidWx0QnVmZi50ZXh0IiksdGl0bGU6UygidWx0QnVmZi50aXRsZSIpLGNvbnRlbnQ6UygidWx0QnVmZi5jb250ZW50Iix7dWx0QnVmZlZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKmkpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoic2tpbGxCdWZmIixuYW1lOiJza2lsbEJ1ZmYiLHRleHQ6Uygic2tpbGxCdWZmLnRleHQiKSx0aXRsZTpTKCJza2lsbEJ1ZmYudGl0bGUiKSxjb250ZW50OlMoInNraWxsQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6dDwxfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2RG1nQnVmZiIsbmFtZToiZTZEbWdCdWZmIix0ZXh0OlMoImU2RG1nQnVmZi50ZXh0IiksdGl0bGU6UygiZTZEbWdCdWZmLnRpdGxlIiksY29udGVudDpTKCJlNkRtZ0J1ZmYuY29udGVudCIpLGRpc2FibGVkOnQ8Nn1dfSkoKSxkPW4/W106W0kociwidWx0QnVmZiIpLEkociwic2tpbGxCdWZmIiksSShyLCJlNkRtZ0J1ZmYiKV07cmV0dXJue2NvbnRlbnQ6KCk9PnIsdGVhbW1hdGVDb250ZW50OigpPT5kLGRlZmF1bHRzOigpPT4oe3VsdEJ1ZmY6ITAsc2tpbGxCdWZmOiEwLGU2RG1nQnVmZjohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7dWx0QnVmZjohMCxza2lsbEJ1ZmY6ITAsZTZEbWdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KFMsQyk9PihTLkJBU0lDX1NDQUxJTkcrPW8sUy5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxTKSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooUyxDKT0+e2NvbnN0IHA9Qy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7U1tzLkFUS19QXSs9cC51bHRCdWZmP2k6MCxTW3MuU1BEX1BdKz10Pj0xJiZwLnNraWxsQnVmZj8uMTI6MCxTLkVMRU1FTlRBTF9ETUcrPXQ+PTYmJnAuZTZEbWdCdWZmPy41OjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihTLEMpPT57UmUoUyl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5HZSgpfX0sbG89KHQsbik9Pntjb25zdHtiYXNpYzplLHNraWxsOmEsdWx0OmksdGFsZW50Om99PWIuU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzUscj10Pj0xPzEwOjYsZD1hKHQsLjEyLC4xMzIpLFM9byh0LC4xLC4xMSksQz1lKHQsMSwxLjEpLHA9ZSh0LDIuNiwyLjg2KSxCPWUodCwzLjgsNC4xOCksdT1lKHQsNSw1LjUpLGM9YSh0LDAsMCksbD1pKHQsMywzLjI0KSxtPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgZj1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkltYmliaXRvckx1bmFlLkNvbnRlbnQiKTtyZXR1cm5be2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJiYXNpY0VuaGFuY2VkIixuYW1lOiJiYXNpY0VuaGFuY2VkIix0ZXh0OmYoImJhc2ljRW5oYW5jZWQudGV4dCIpLHRpdGxlOmYoImJhc2ljRW5oYW5jZWQudGl0bGUiKSxjb250ZW50OmYoImJhc2ljRW5oYW5jZWQuY29udGVudCIse2Jhc2ljU2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpDKSxiYXNpY0VuaGFuY2VkMVNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqcCksYmFzaWNFbmhhbmNlZDJTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKkIpLGJhc2ljRW5oYW5jZWQzU2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCp1KX0pLG1pbjowLG1heDozfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InNraWxsT3V0cm9hclN0YWNrcyIsbmFtZToic2tpbGxPdXRyb2FyU3RhY2tzIix0ZXh0OmYoInNraWxsT3V0cm9hclN0YWNrcy50ZXh0IiksdGl0bGU6Zigic2tpbGxPdXRyb2FyU3RhY2tzLnRpdGxlIiksY29udGVudDpmKCJza2lsbE91dHJvYXJTdGFja3MuY29udGVudCIse291dHJvYXJTdGFja0NkVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZCl9KSxtaW46MCxtYXg6NH0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0YWxlbnRSaWdodGVvdXNIZWFydFN0YWNrcyIsbmFtZToidGFsZW50UmlnaHRlb3VzSGVhcnRTdGFja3MiLHRleHQ6ZigidGFsZW50UmlnaHRlb3VzSGVhcnRTdGFja3MudGV4dCIpLHRpdGxlOmYoInRhbGVudFJpZ2h0ZW91c0hlYXJ0U3RhY2tzLnRpdGxlIiksY29udGVudDpmKCJ0YWxlbnRSaWdodGVvdXNIZWFydFN0YWNrcy5jb250ZW50Iix7cmlnaHRlb3VzSGVhcnREbWdWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpTKX0pLG1pbjowLG1heDpyfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6ImU2UmVzUGVuU3RhY2tzIixuYW1lOiJlNlJlc1BlblN0YWNrcyIsdGV4dDpmKCJlNlJlc1BlblN0YWNrcy50ZXh0IiksdGl0bGU6ZigiZTZSZXNQZW5TdGFja3MudGl0bGUiKSxjb250ZW50OmYoImU2UmVzUGVuU3RhY2tzLmNvbnRlbnQiKSxtaW46MCxtYXg6MyxkaXNhYmxlZDp0PDZ9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9Pm0sdGVhbW1hdGVDb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHtiYXNpY0VuaGFuY2VkOjMsc2tpbGxPdXRyb2FyU3RhY2tzOjQsdGFsZW50UmlnaHRlb3VzSGVhcnRTdGFja3M6cixlNlJlc1BlblN0YWNrczozfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooZixnKT0+e2NvbnN0IGg9Zy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGZbcy5DRF0rPWcuZW5lbXlFbGVtZW50YWxXZWFrPy4yNDowLGZbcy5DRF0rPWguc2tpbGxPdXRyb2FyU3RhY2tzKmQsZi5CQVNJQ19TQ0FMSU5HKz17MDpDLDE6cCwyOkIsMzp1fVtoLmJhc2ljRW5oYW5jZWRdPz8wLGYuU0tJTExfU0NBTElORys9YyxmLlVMVF9TQ0FMSU5HKz1sLGYuRUxFTUVOVEFMX0RNRys9aC50YWxlbnRSaWdodGVvdXNIZWFydFN0YWNrcypTLEl0KGYsVywuMipoLmU2UmVzUGVuU3RhY2tzLHQ+PTYmJmguYmFzaWNFbmhhbmNlZD09MyksZi5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCszMCpoLmJhc2ljRW5oYW5jZWQsZi5VTFRfVE9VR0hORVNTX0RNRys9NjAsZn0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGYsZyk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOmY9PngoZiksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19LGNvPSh0LG4pPT57Y29uc3R7YmFzaWM6ZSxza2lsbDphLHVsdDppLHRhbGVudDpvfT1iLlVMVF9UQUxFTlRfM19TS0lMTF9CQVNJQ181LHI9byh0LC41LC41Mik7bGV0IGQ9byh0LDEuOCwxLjk4KTtkKz10Pj00Py4zOjA7Y29uc3QgUz1lKHQsMSwxLjEpLEM9YSh0LDIsMi4yKSxwPWEodCwyLjUsMi43NSksQj1pKHQsMywzLjI0KSx1PSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgYz1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkppbmdsaXUuQ29udGVudCIpO3JldHVyblt7bmFtZToidGFsZW50RW5oYW5jZWRTdGF0ZSIsaWQ6InRhbGVudEVuaGFuY2VkU3RhdGUiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6YygidGFsZW50RW5oYW5jZWRTdGF0ZS50ZXh0IiksdGl0bGU6YygidGFsZW50RW5oYW5jZWRTdGF0ZS50aXRsZSIpLGNvbnRlbnQ6YygidGFsZW50RW5oYW5jZWRTdGF0ZS5jb250ZW50Iix7dGFsZW50Q3JCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKnIpfSl9LHtuYW1lOiJ0YWxlbnRIcERyYWluQXRrQnVmZiIsaWQ6InRhbGVudEhwRHJhaW5BdGtCdWZmIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OmMoInRhbGVudEhwRHJhaW5BdGtCdWZmLnRleHQiKSx0aXRsZTpjKCJ0YWxlbnRIcERyYWluQXRrQnVmZi50aXRsZSIpLGNvbnRlbnQ6YygidGFsZW50SHBEcmFpbkF0a0J1ZmYuY29udGVudCIse3RhbGVudEhwRHJhaW5BdGtCdWZmTWF4OkQucHJlY2lzaW9uUm91bmQoMTAwKmQpfSksbWluOjAsbWF4OmQscGVyY2VudDohMH0se2lkOiJlMUNkQnVmZiIsbmFtZToiZTFDZEJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6YygiZTFDZEJ1ZmYudGV4dCIpLHRpdGxlOmMoImUxQ2RCdWZmLnRpdGxlIiksY29udGVudDpjKCJlMUNkQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6dDwxfSx7aWQ6ImUyU2tpbGxEbWdCdWZmIixuYW1lOiJlMlNraWxsRG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpjKCJlMlNraWxsRG1nQnVmZi50ZXh0IiksdGl0bGU6YygiZTJTa2lsbERtZ0J1ZmYudGl0bGUiKSxjb250ZW50OmMoImUyU2tpbGxEbWdCdWZmLmNvbnRlbnQiKSxkaXNhYmxlZDp0PDJ9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PnUsdGVhbW1hdGVDb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt0YWxlbnRFbmhhbmNlZFN0YXRlOiEwLHRhbGVudEhwRHJhaW5BdGtCdWZmOmQsZTFDZEJ1ZmY6ITAsZTJTa2lsbERtZ0J1ZmY6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOihjLGwpPT57Y29uc3QgbT1sLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gY1tzLkNSXSs9bS50YWxlbnRFbmhhbmNlZFN0YXRlP3I6MCxjW3MuQVRLX1BdKz1tLnRhbGVudEVuaGFuY2VkU3RhdGU/bS50YWxlbnRIcERyYWluQXRrQnVmZjowLGNbcy5SRVNdKz1tLnRhbGVudEVuaGFuY2VkU3RhdGU/LjM1OjAseShjLE8sLjIsbS50YWxlbnRFbmhhbmNlZFN0YXRlKSxjW3MuQ0RdKz10Pj0xJiZtLmUxQ2RCdWZmPy4yNDowLGNbcy5DRF0rPXQ+PTYmJm0udGFsZW50RW5oYW5jZWRTdGF0ZT8uNTowLGMuQkFTSUNfU0NBTElORys9UyxjLlNLSUxMX1NDQUxJTkcrPW0udGFsZW50RW5oYW5jZWRTdGF0ZT9wOkMsYy5TS0lMTF9TQ0FMSU5HKz10Pj0xJiZtLnRhbGVudEVuaGFuY2VkU3RhdGUmJmwuZW5lbXlDb3VudD09MT8xOjAsYy5VTFRfU0NBTElORys9QixjLlVMVF9TQ0FMSU5HKz10Pj0xJiZsLmVuZW15Q291bnQ9PTE/MTowLGMuRlVBX1NDQUxJTkcrPTAseShjLHosLjgsdD49MiYmbS50YWxlbnRFbmhhbmNlZFN0YXRlJiZtLmUyU2tpbGxEbWdCdWZmKSxjLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGMuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsYy5VTFRfVE9VR0hORVNTX0RNRys9NjAsY30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGMsbCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOmM9PngoYyksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19LHVvPSh0LG4pPT57Y29uc3R7YmFzaWM6ZSxza2lsbDphLHVsdDppLHRhbGVudDpvfT1iLlVMVF9CQVNJQ18zX1NLSUxMX1RBTEVOVF81LHI9ZSh0LDEsMS4xKSxkPWEodCwxLDEuMSksUz1pKHQsMiwyLjE2KSxDPW8odCwuNjYsLjcyNik7ZnVuY3Rpb24gcCh1KXtjb25zdCBjPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2xldCBsPTA7Y29uc3QgbT1jLnRhbGVudEhpdHNQZXJBY3Rpb24sZj1jLnRhbGVudEF0dGFja3MsZz11LmVuZW15Q291bnQ+PTM/MjowLGg9dS5lbmVteUNvdW50Pj0zPzM6MSxfPXUuZW5lbXlDb3VudD49Mz8yOjE7bGV0IEU9ZyoobS1mKTtFKz1fO2xldCBUPTA7Zm9yKGxldCBMPTA7TDxmO0wrKylUKz1NYXRoLm1pbig4LEUpKigxL2YpLEUrPWg7cmV0dXJuIGw9VCpSLGx9Y29uc3QgQj0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IHU9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5KaW5nWXVhbi5Db250ZW50Iik7cmV0dXJuW3tmb3JtSXRlbToic3dpdGNoIixpZDoic2tpbGxDcml0QnVmZiIsbmFtZToic2tpbGxDcml0QnVmZiIsdGV4dDp1KCJza2lsbENyaXRCdWZmLnRleHQiKSx0aXRsZTp1KCJza2lsbENyaXRCdWZmLnRpdGxlIiksY29udGVudDp1KCJza2lsbENyaXRCdWZmLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0YWxlbnRIaXRzUGVyQWN0aW9uIixuYW1lOiJ0YWxlbnRIaXRzUGVyQWN0aW9uIix0ZXh0OnUoInRhbGVudEhpdHNQZXJBY3Rpb24udGV4dCIpLHRpdGxlOnUoInRhbGVudEhpdHNQZXJBY3Rpb24udGl0bGUiKSxjb250ZW50OnUoInRhbGVudEhpdHNQZXJBY3Rpb24uY29udGVudCIpLG1pbjozLG1heDoxMH0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0YWxlbnRBdHRhY2tzIixuYW1lOiJ0YWxlbnRBdHRhY2tzIix0ZXh0OnUoInRhbGVudEF0dGFja3MudGV4dCIpLHRpdGxlOnUoInRhbGVudEF0dGFja3MudGl0bGUiKSxjb250ZW50OnUoInRhbGVudEF0dGFja3MuY29udGVudCIpLG1pbjowLG1heDoxMH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMkRtZ0J1ZmYiLG5hbWU6ImUyRG1nQnVmZiIsdGV4dDp1KCJlMkRtZ0J1ZmYudGV4dCIpLHRpdGxlOnUoImUyRG1nQnVmZi50aXRsZSIpLGNvbnRlbnQ6dSgiZTJEbWdCdWZmLmNvbnRlbnQiKSxkaXNhYmxlZDp0PDJ9LHtmb3JtSXRlbToic2xpZGVyIixpZDoiZTZGdWFWdWxuZXJhYmlsaXR5U3RhY2tzIixuYW1lOiJlNkZ1YVZ1bG5lcmFiaWxpdHlTdGFja3MiLHRleHQ6dSgiZTZGdWFWdWxuZXJhYmlsaXR5U3RhY2tzLnRleHQiKSx0aXRsZTp1KCJlNkZ1YVZ1bG5lcmFiaWxpdHlTdGFja3MudGl0bGUiKSxjb250ZW50OnUoImU2RnVhVnVsbmVyYWJpbGl0eVN0YWNrcy5jb250ZW50IiksbWluOjAsbWF4OjMsZGlzYWJsZWQ6dDw2fV19KSgpO3JldHVybntjb250ZW50OigpPT5CLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7c2tpbGxDcml0QnVmZjohMCx0YWxlbnRIaXRzUGVyQWN0aW9uOjEwLHRhbGVudEF0dGFja3M6MTAsZTJEbWdCdWZmOiEwLGU2RnVhVnVsbmVyYWJpbGl0eVN0YWNrczozfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czoodSxjKT0+e2NvbnN0IGw9Yy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7bC50YWxlbnRIaXRzUGVyQWN0aW9uPU1hdGgubWF4KGwudGFsZW50SGl0c1BlckFjdGlvbixsLnRhbGVudEF0dGFja3MpLHVbcy5DUl0rPWwuc2tpbGxDcml0QnVmZj8uMTowLHUuQkFTSUNfU0NBTElORys9cix1LlNLSUxMX1NDQUxJTkcrPWQsdS5VTFRfU0NBTElORys9Uyx1LkZVQV9TQ0FMSU5HKz1DKmwudGFsZW50QXR0YWNrcyxmdCh1LE0sLjI1LGwudGFsZW50SGl0c1BlckFjdGlvbj49NikseSh1LFd8enxPLC4yLHQ+PTImJmwuZTJEbWdCdWZmKSxhdCh1LE0sbC5lNkZ1YVZ1bG5lcmFiaWxpdHlTdGFja3MqLjEyLHQ+PTYpO2NvbnN0IG09bC50YWxlbnRBdHRhY2tzO3JldHVybiB1LkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLHUuU0tJTExfVE9VR0hORVNTX0RNRys9MzAsdS5VTFRfVE9VR0hORVNTX0RNRys9NjAsdS5GVUFfVE9VR0hORVNTX0RNRys9MTUqbSx1fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoodSxjKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KHUsYyk9PntaKHUsYyxwKGMpKX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6dT0+cShwKHUpKX19LGZvPSh0LG4pPT57Y29uc3R7YmFzaWM6ZSxza2lsbDphLHVsdDppLHRhbGVudDpvfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LHI9ZSh0LDEsMS4xKSxkPWEodCwxLjYsMS43NiksUz1pKHQsLjgsLjg2NCksQz1vKHQsMS40LDEuNTk2KSxwPWkodCwyLjksMy4xODMpLEI9UiooMSouMTUrMiouMTUrMyouMTUrNCouMTUrNSouMTUrNiouMjUpLHU9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBsPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuS2Fma2EuQ29udGVudCIpO3JldHVyblt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUxRG90RG1nUmVjZWl2ZWREZWJ1ZmYiLG5hbWU6ImUxRG90RG1nUmVjZWl2ZWREZWJ1ZmYiLHRleHQ6bCgiZTFEb3REbWdSZWNlaXZlZERlYnVmZi50ZXh0IiksdGl0bGU6bCgiZTFEb3REbWdSZWNlaXZlZERlYnVmZi50aXRsZSIpLGNvbnRlbnQ6bCgiZTFEb3REbWdSZWNlaXZlZERlYnVmZi5jb250ZW50IiksZGlzYWJsZWQ6dDwxfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUyVGVhbURvdEJvb3N0IixuYW1lOiJlMlRlYW1Eb3RCb29zdCIsdGV4dDpsKCJlMlRlYW1Eb3RCb29zdC50ZXh0IiksdGl0bGU6bCgiZTJUZWFtRG90Qm9vc3QudGl0bGUiKSxjb250ZW50OmwoImUyVGVhbURvdEJvb3N0LmNvbnRlbnQiKSxkaXNhYmxlZDp0PDJ9XX0pKCksYz1uP1tdOltJKHUsImUxRG90RG1nUmVjZWl2ZWREZWJ1ZmYiKSxJKHUsImUyVGVhbURvdEJvb3N0IildO3JldHVybntjb250ZW50OigpPT51LHRlYW1tYXRlQ29udGVudDooKT0+YyxkZWZhdWx0czooKT0+KHtlMURvdERtZ1JlY2VpdmVkRGVidWZmOiEwLGUyVGVhbURvdEJvb3N0OiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtlMURvdERtZ1JlY2VpdmVkRGVidWZmOiEwLGUyVGVhbURvdEJvb3N0OiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGwsbSk9PihsLkJBU0lDX1NDQUxJTkcrPXIsbC5TS0lMTF9TQ0FMSU5HKz1kLGwuVUxUX1NDQUxJTkcrPVMsbC5GVUFfU0NBTElORys9QyxsLkRPVF9TQ0FMSU5HKz1wLGwuRE9UX1NDQUxJTkcrPXQ+PTY/MS41NjowLGwuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsbC5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxsLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxsLkZVQV9UT1VHSE5FU1NfRE1HKz0zMCxsLkRPVF9DSEFOQ0U9MS4zLGwpLHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihsLG0pPT57Y29uc3QgZj1tLmNoYXJhY3RlckNvbmRpdGlvbmFsczthdChsLHV0LC4zLHQ+PTEmJmYuZTFEb3REbWdSZWNlaXZlZERlYnVmZikseShsLHV0LC4yNSx0Pj0yJiZmLmUyVGVhbURvdEJvb3N0KX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KGwsbSk9PntaKGwsbSxCKX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6bD0+cShCKX19LG1vPSh0LG4pPT57Y29uc3R7YmFzaWM6ZSxza2lsbDphLHVsdDppfT1iLlNLSUxMX1RBTEVOVF8zX1VMVF9CQVNJQ181LG89ZSh0LC4yLC4yMikscj1pKHQsLjIsLjIxNiksZD1lKHQsMSwxLjEpLFM9ZSh0LC4yKjMrLjgsLjIyKjMrLjg4KSxDPWEodCwxLjIsMS4zMikscD1pKHQsMy4zLDMuNTY0KSxCPWEodCwzLjM4LDMuNzE4KSx1PSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgbD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkx1a2EuQ29udGVudCIpO3JldHVyblt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImJhc2ljRW5oYW5jZWQiLG5hbWU6ImJhc2ljRW5oYW5jZWQiLHRleHQ6bCgiYmFzaWNFbmhhbmNlZC50ZXh0IiksdGl0bGU6bCgiYmFzaWNFbmhhbmNlZC50aXRsZSIpLGNvbnRlbnQ6bCgiYmFzaWNFbmhhbmNlZC5jb250ZW50Iil9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidGFyZ2V0VWx0RGVidWZmZWQiLG5hbWU6InRhcmdldFVsdERlYnVmZmVkIix0ZXh0OmwoInRhcmdldFVsdERlYnVmZmVkLnRleHQiKSx0aXRsZTpsKCJ0YXJnZXRVbHREZWJ1ZmZlZC50aXRsZSIpLGNvbnRlbnQ6bCgidGFyZ2V0VWx0RGVidWZmZWQuY29udGVudCIse3RhcmdldFVsdERlYnVmZkRtZ1Rha2VuVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqcil9KX0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJiYXNpY0VuaGFuY2VkRXh0cmFIaXRzIixuYW1lOiJiYXNpY0VuaGFuY2VkRXh0cmFIaXRzIix0ZXh0OmwoImJhc2ljRW5oYW5jZWRFeHRyYUhpdHMudGV4dCIpLHRpdGxlOmwoImJhc2ljRW5oYW5jZWRFeHRyYUhpdHMudGl0bGUiKSxjb250ZW50OmwoImJhc2ljRW5oYW5jZWRFeHRyYUhpdHMuY29udGVudCIpLG1pbjowLG1heDozfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUxVGFyZ2V0QmxlZWRpbmciLG5hbWU6ImUxVGFyZ2V0QmxlZWRpbmciLHRleHQ6bCgiZTFUYXJnZXRCbGVlZGluZy50ZXh0IiksdGl0bGU6bCgiZTFUYXJnZXRCbGVlZGluZy50aXRsZSIpLGNvbnRlbnQ6bCgiZTFUYXJnZXRCbGVlZGluZy5jb250ZW50IiksZGlzYWJsZWQ6dDwxfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6ImU0VGFsZW50U3RhY2tzIixuYW1lOiJlNFRhbGVudFN0YWNrcyIsdGV4dDpsKCJlNFRhbGVudFN0YWNrcy50ZXh0IiksdGl0bGU6bCgiZTRUYWxlbnRTdGFja3MudGl0bGUiKSxjb250ZW50OmwoImU0VGFsZW50U3RhY2tzLmNvbnRlbnQiKSxtaW46MCxtYXg6NCxkaXNhYmxlZDp0PDR9XX0pKCksYz1uP1tdOltJKHUsInRhcmdldFVsdERlYnVmZmVkIildO3JldHVybntjb250ZW50OigpPT51LHRlYW1tYXRlQ29udGVudDooKT0+YyxkZWZhdWx0czooKT0+KHtiYXNpY0VuaGFuY2VkOiEwLHRhcmdldFVsdERlYnVmZmVkOiEwLGUxVGFyZ2V0QmxlZWRpbmc6ITAsYmFzaWNFbmhhbmNlZEV4dHJhSGl0czozLGU0VGFsZW50U3RhY2tzOjR9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3RhcmdldFVsdERlYnVmZmVkOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGwsbSk9Pntjb25zdCBmPW0uY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBsW3MuQVRLX1BdKz10Pj00P2YuZTRUYWxlbnRTdGFja3MqLjA1OjAsbC5CQVNJQ19TQ0FMSU5HKz1mLmJhc2ljRW5oYW5jZWQ/UzpkLGwuQkFTSUNfU0NBTElORys9KGYuYmFzaWNFbmhhbmNlZCYmZi5iYXNpY0VuaGFuY2VkRXh0cmFIaXRzKSpvLGwuU0tJTExfU0NBTElORys9QyxsLlVMVF9TQ0FMSU5HKz1wLGwuRE9UX1NDQUxJTkcrPUIsbC5FTEVNRU5UQUxfRE1HKz10Pj0xJiZmLmUxVGFyZ2V0QmxlZWRpbmc/LjE1OjAsbC5CQVNJQ19UT1VHSE5FU1NfRE1HKz1mLmJhc2ljRW5oYW5jZWQ/NjA6MzAsbC5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxsLlVMVF9UT1VHSE5FU1NfRE1HKz05MCxsLkRPVF9DSEFOQ0U9MSxsfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoobCxtKT0+e2NvbnN0IGY9bS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7bC5WVUxORVJBQklMSVRZKz1mLnRhcmdldFVsdERlYnVmZmVkP3I6MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6bD0+eChsKSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpfX0sU289KHQsbik9Pntjb25zdHtiYXNpYzplLHNraWxsOmEsdWx0Oml9PWIuU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzUsbz1lKHQsMSwxLjEpLHI9YSh0LDAsMCksZD1pKHQsMiwyLjE2KSxTPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgcD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkx1b2NoYS5Db250ZW50Iik7cmV0dXJuW3tmb3JtSXRlbToic3dpdGNoIixpZDoiZmllbGRBY3RpdmUiLG5hbWU6ImZpZWxkQWN0aXZlIix0ZXh0OnAoImZpZWxkQWN0aXZlLnRleHQiKSx0aXRsZTpwKCJmaWVsZEFjdGl2ZS50aXRsZSIpLGNvbnRlbnQ6cCgiZmllbGRBY3RpdmUuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2UmVzUmVkdWN0aW9uIixuYW1lOiJlNlJlc1JlZHVjdGlvbiIsdGV4dDpwKCJlNlJlc1JlZHVjdGlvbi50ZXh0IiksdGl0bGU6cCgiZTZSZXNSZWR1Y3Rpb24udGl0bGUiKSxjb250ZW50OnAoImU2UmVzUmVkdWN0aW9uLmNvbnRlbnQiKSxkaXNhYmxlZDp0PDZ9XX0pKCksQz1uP1tdOltJKFMsImZpZWxkQWN0aXZlIiksSShTLCJlNlJlc1JlZHVjdGlvbiIpXTtyZXR1cm57Y29udGVudDooKT0+Uyx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PkMsZGVmYXVsdHM6KCk9Pih7ZmllbGRBY3RpdmU6ITAsZTZSZXNSZWR1Y3Rpb246ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2ZpZWxkQWN0aXZlOiEwLGU2UmVzUmVkdWN0aW9uOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHAsQik9PihwLkJBU0lDX1NDQUxJTkcrPW8scC5TS0lMTF9TQ0FMSU5HKz1yLHAuVUxUX1NDQUxJTkcrPWQscC5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxwLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxwKSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoocCxCKT0+e2NvbnN0IHU9Qi5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cFtzLkFUS19QXSs9dD49MSYmdS5maWVsZEFjdGl2ZT8uMjowLHAuUkVTX1BFTis9dD49NiYmdS5lNlJlc1JlZHVjdGlvbj8uMjowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpwPT54KHApLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSxnbz0odCxuKT0+e2NvbnN0e2Jhc2ljOmUsc2tpbGw6YSx1bHQ6aX09Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxvPWEodCwuMDc1LC4wOCkscj1hKHQsMjAwLDIyMyksZD1lKHQsLjUsLjU1KSxTPWEodCwwLDApLEM9aSh0LDAsMCkscD0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IHU9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5MeW54LkNvbnRlbnQiKTtyZXR1cm5be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJza2lsbEJ1ZmYiLG5hbWU6InNraWxsQnVmZiIsdGV4dDp1KCJza2lsbEJ1ZmYudGV4dCIpLHRpdGxlOnUoInNraWxsQnVmZi50aXRsZSIpLGNvbnRlbnQ6dSgic2tpbGxCdWZmLmNvbnRlbnQiLHtza2lsbEhwUGVyY2VudEJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbyksc2tpbGxIcEZsYXRCdWZmOnJ9KX1dfSkoKSxCPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgdT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkx5bnguVGVhbW1hdGVDb250ZW50Iik7cmV0dXJuW0kocCwic2tpbGxCdWZmIikse2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0ZWFtbWF0ZUhQVmFsdWUiLG5hbWU6InRlYW1tYXRlSFBWYWx1ZSIsdGV4dDp1KCJ0ZWFtbWF0ZUhQVmFsdWUudGV4dCIpLHRpdGxlOnUoInRlYW1tYXRlSFBWYWx1ZS50aXRsZSIpLGNvbnRlbnQ6dSgidGVhbW1hdGVIUFZhbHVlLmNvbnRlbnQiLHtza2lsbEhwUGVyY2VudEJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqbyksc2tpbGxIcEZsYXRCdWZmOnJ9KSxtaW46MCxtYXg6MWU0fV19KSgpO3JldHVybntjb250ZW50OigpPT5wLHRlYW1tYXRlQ29udGVudDooKT0+QixkZWZhdWx0czooKT0+KHtza2lsbEJ1ZmY6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3NraWxsQnVmZjohMCx0ZWFtbWF0ZUhQVmFsdWU6NmUzfSkscHJlY29tcHV0ZUVmZmVjdHM6KHUsYyk9Pih1LkJBU0lDX1NDQUxJTkcrPWQsdS5TS0lMTF9TQ0FMSU5HKz1TLHUuVUxUX1NDQUxJTkcrPUMsdS5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCx1KSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoodSxjKT0+e2NvbnN0IGw9Yy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7dVtzLlJFU10rPXQ+PTYmJmwuc2tpbGxCdWZmPy4zOjB9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KHUsYyk9Pntjb25zdCBsPWMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3Vbcy5IUF0rPWwuc2tpbGxCdWZmP28qbC50ZWFtbWF0ZUhQVmFsdWU6MCx1W3MuSFBdKz10Pj02JiZsLnNraWxsQnVmZj8uMDYqbC50ZWFtbWF0ZUhQVmFsdWU6MCx1W3MuSFBdKz1sLnNraWxsQnVmZj9yOjA7Y29uc3QgbT10Pj00JiZsLnNraWxsQnVmZj8uMDMqbC50ZWFtbWF0ZUhQVmFsdWU6MDt1W3MuQVRLXSs9bX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KHUsYyk9Pnt1LkJBU0lDX0RNRys9dS5CQVNJQ19TQ0FMSU5HKnVbcy5IUF19LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOih1LGMpPT4odS5jaGFyYWN0ZXJDb25kaXRpb25hbHMsYAp4LkJBU0lDX0RNRyArPSB4LkJBU0lDX1NDQUxJTkcgKiB4LkhQOwogICAgICBgKSxkeW5hbWljQ29uZGl0aW9uYWxzOlt7aWQ6Ikx5bnhDb252ZXJzaW9uQ29uZGl0aW9uYWwiLHR5cGU6VS5BQklMSVRZLGFjdGl2YXRpb246Ti5DT05USU5VT1VTLGRlcGVuZHNPbjpbcy5IUF0scmF0aW9Db252ZXJzaW9uOiEwLGNvbmRpdGlvbjpmdW5jdGlvbigpe3JldHVybiEwfSxlZmZlY3Q6ZnVuY3Rpb24odSxjLGwpe2lmKCFjLmNoYXJhY3RlckNvbmRpdGlvbmFscy5za2lsbEJ1ZmYpcmV0dXJuO2NvbnN0IGY9bC5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdfHwwO2xldCBnPTAsaD0wLF89MCxFPTA7Y29uc3QgVD11W3MuSFBdLXUuUkFUSU9fQkFTRURfSFBfQlVGRjtnKz1vKlQrcixfKz1vKmYrcix0Pj00JiYoaCs9LjAzKlQsRSs9LjAzKmYpLHQ+PTYmJihnKz0uMDYqVCxfKz0uMDYqZiksbC5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdPXVbcy5IUF07Y29uc3QgTD1nLShmP186MCksUD1oLShmP0U6MCk7dS5SQVRJT19CQVNFRF9IUF9CVUZGKz1MLHcodSxjLGwscy5IUCxMKSx3KHUsYyxsLHMuQVRLLFApfSxncHU6ZnVuY3Rpb24odSxjKXtjb25zdCBsPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBGKHRoaXMsYAppZiAoJHtpdChsLnNraWxsQnVmZil9KSB7CiAgcmV0dXJuOwp9CgpsZXQgc3RhdGVWYWx1ZTogZjMyID0gKCpwX3N0YXRlKS5MeW54Q29udmVyc2lvbkNvbmRpdGlvbmFsOwpsZXQgY29udmVydGlibGVIcFZhbHVlOiBmMzIgPSAoKnBfeCkuSFAgLSAoKnBfeCkuUkFUSU9fQkFTRURfSFBfQlVGRjsKCnZhciBidWZmQVRLOiBmMzIgPSAwOwp2YXIgc3RhdGVCdWZmQVRLOiBmMzIgPSAwOwoKdmFyIGJ1ZmZIUDogZjMyID0gJHtvfSAqIGNvbnZlcnRpYmxlSHBWYWx1ZSArICR7cn07CnZhciBzdGF0ZUJ1ZmZIUDogZjMyID0gJHtvfSAqIHN0YXRlVmFsdWUgKyAke3J9OwoKaWYgKCR7aih0Pj00KX0pIHsKICBidWZmQVRLICs9IDAuMDMgKiBjb252ZXJ0aWJsZUhwVmFsdWU7CiAgc3RhdGVCdWZmQVRLICs9IDAuMDMgKiBzdGF0ZVZhbHVlOwp9CgppZiAoJHtqKHQ+PTYpfSkgewogIGJ1ZmZIUCArPSAwLjA2ICogY29udmVydGlibGVIcFZhbHVlOwogIHN0YXRlQnVmZkhQICs9IDAuMDYgKiBzdGF0ZVZhbHVlOwp9CgooKnBfc3RhdGUpLkx5bnhDb252ZXJzaW9uQ29uZGl0aW9uYWwgPSAoKnBfeCkuSFA7CgpsZXQgZmluYWxCdWZmSHAgPSBidWZmSFAgLSBzZWxlY3QoMCwgc3RhdGVCdWZmSFAsIHN0YXRlVmFsdWUgPiAwKTsKbGV0IGZpbmFsQnVmZkF0ayA9IGJ1ZmZBVEsgLSBzZWxlY3QoMCwgc3RhdGVCdWZmQVRLLCBzdGF0ZVZhbHVlID4gMCk7CigqcF94KS5SQVRJT19CQVNFRF9IUF9CVUZGICs9IGZpbmFsQnVmZkhwOwoKYnVmZk5vblJhdGlvRHluYW1pY0hQKGZpbmFsQnVmZkhwLCBwX3gsIHBfc3RhdGUpOwpidWZmRHluYW1pY0FUSyhmaW5hbEJ1ZmZBdGssIHBfeCwgcF9zdGF0ZSk7CiAgICBgKX19XX19LHBvPXQ9Pntjb25zdHtiYXNpYzpuLHNraWxsOmUsdWx0OmEsdGFsZW50Oml9PWIuVUxUX0JBU0lDXzNfU0tJTExfVEFMRU5UXzUsbz1uKHQsMSwxLjEpLHI9ZSh0LDAsMCksZD1hKHQsMS41LDEuNjIpLFM9aSh0LDEsMS4xKSxDPVIqKDEqMS8xKTtyZXR1cm57Y29udGVudDooKT0+W10sdGVhbW1hdGVDb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOihwLEIpPT4ocC5CQVNJQ19TQ0FMSU5HKz1vLHAuU0tJTExfU0NBTElORys9cixwLlVMVF9TQ0FMSU5HKz1kLHAuRlVBX1NDQUxJTkcrPVMscC5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxwLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxwLkZVQV9UT1VHSE5FU1NfRE1HKz0zMCxwKSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoocCxCKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KHAsQik9Pntjb25zdCB1PWh0KHAsQixDKTtwLkJBU0lDX0RNRys9cC5CQVNJQ19TQ0FMSU5HKnBbcy5BVEtdLHAuU0tJTExfRE1HKz1wLlNLSUxMX1NDQUxJTkcqcFtzLkFUS10scC5VTFRfRE1HKz1wLlVMVF9TQ0FMSU5HKnBbcy5BVEtdLHAuRlVBX0RNRys9cC5GVUFfU0NBTElORyoocFtzLkFUS10rdSkscC5GVUFfRE1HKz10Pj00Py4zKnBbcy5ERUZdOjB9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5gCnguQkFTSUNfRE1HICs9IHguQkFTSUNfU0NBTElORyAqIHguQVRLOwp4LlNLSUxMX0RNRyArPSB4LlNLSUxMX1NDQUxJTkcgKiB4LkFUSzsKeC5VTFRfRE1HICs9IHguVUxUX1NDQUxJTkcgKiB4LkFUSzsKeC5GVUFfRE1HICs9IHguRlVBX1NDQUxJTkcgKiAoeC5BVEsgKyBjYWxjdWxhdGVBc2hibGF6aW5nU2V0KHBfeCwgcF9zdGF0ZSwgJHtDfSkpOwppZiAoJHtqKHQ+PTQpfSkgewogIHguRlVBX0RNRyArPSAwLjMwICogeC5ERUY7Cn0KICAgIGB9fSxobz0odCxuKT0+e2NvbnN0e2Jhc2ljOmUsc2tpbGw6YSx1bHQ6aX09Yi5VTFRfQkFTSUNfM19TS0lMTF9UQUxFTlRfNSxvPWUodCwxLDEuMSkscj1hKHQsMiwyLjIpO2xldCBkPWkodCwuNiwuNjUpO2QrPXQ+PTQ/LjA2OjA7Y29uc3QgUz0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IHA9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5NaXNoYS5Db250ZW50Iik7cmV0dXJuW3tmb3JtSXRlbToic2xpZGVyIixpZDoidWx0SGl0c09uVGFyZ2V0IixuYW1lOiJ1bHRIaXRzT25UYXJnZXQiLHRleHQ6cCgidWx0SGl0c09uVGFyZ2V0LnRleHQiKSx0aXRsZTpwKCJ1bHRIaXRzT25UYXJnZXQudGl0bGUiKSxjb250ZW50OnAoInVsdEhpdHNPblRhcmdldC5jb250ZW50Iix7dWx0U3RhY2tTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKmQpfSksbWluOjEsbWF4OjEwfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVuZW15RnJvemVuIixuYW1lOiJlbmVteUZyb3plbiIsdGV4dDpwKCJlbmVteUZyb3plbi50ZXh0IiksdGl0bGU6cCgiZW5lbXlGcm96ZW4udGl0bGUiKSxjb250ZW50OnAoImVuZW15RnJvemVuLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMkRlZlJlZHVjdGlvbiIsbmFtZToiZTJEZWZSZWR1Y3Rpb24iLHRleHQ6cCgiZTJEZWZSZWR1Y3Rpb24udGV4dCIpLHRpdGxlOnAoImUyRGVmUmVkdWN0aW9uLnRpdGxlIiksY29udGVudDpwKCJlMkRlZlJlZHVjdGlvbi5jb250ZW50IiksZGlzYWJsZWQ6dDwyfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2VWx0RG1nQm9vc3QiLG5hbWU6ImU2VWx0RG1nQm9vc3QiLHRleHQ6cCgiZTZVbHREbWdCb29zdC50ZXh0IiksdGl0bGU6cCgiZTZVbHREbWdCb29zdC50aXRsZSIpLGNvbnRlbnQ6cCgiZTZVbHREbWdCb29zdC5jb250ZW50IiksZGlzYWJsZWQ6dDw2fV19KSgpLEM9bj9bXTpbSShTLCJlMkRlZlJlZHVjdGlvbiIpXTtyZXR1cm57Y29udGVudDooKT0+Uyx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PkMsZGVmYXVsdHM6KCk9Pih7dWx0SGl0c09uVGFyZ2V0OjEwLGVuZW15RnJvemVuOiEwLGUyRGVmUmVkdWN0aW9uOiEwLGU2VWx0RG1nQm9vc3Q6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2UyRGVmUmVkdWN0aW9uOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHAsQik9Pntjb25zdCB1PUIuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBwW3MuQ0RdKz11LmVuZW15RnJvemVuPy4zOjAscC5FTEVNRU5UQUxfRE1HKz10Pj02JiZ1LmU2VWx0RG1nQm9vc3Q/LjM6MCxwLkJBU0lDX1NDQUxJTkcrPW8scC5TS0lMTF9TQ0FMSU5HKz1yLHAuVUxUX1NDQUxJTkcrPWQqdS51bHRIaXRzT25UYXJnZXQscC5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxwLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLHAuVUxUX1RPVUdITkVTU19ETUcrPTMwKzE1Kih1LnVsdEhpdHNPblRhcmdldC0xKSxwfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoocCxCKT0+e2NvbnN0IHU9Qi5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cC5ERUZfUEVOKz10Pj0yJiZ1LmUyRGVmUmVkdWN0aW9uPy4xNjowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpwPT54KHApLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSxCbz10PT57Y29uc3R7YmFzaWM6bn09Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxlPW4odCwxLDEuMSk7cmV0dXJue2NvbnRlbnQ6KCk9PltdLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooYSxpKT0+KGEuQkFTSUNfU0NBTElORys9ZSxhLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGEpLHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihhLGkpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooYSxpKT0+e2EuQkFTSUNfRE1HKz1hLkJBU0lDX1NDQUxJTkcqYVtzLkFUS10sYS5CQVNJQ19ETUcrPXQ+PTY/LjQqYVtzLkhQXTowfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+YAp4LkJBU0lDX0RNRyArPSB4LkJBU0lDX1NDQUxJTkcgKiB4LkFUSzsKaWYgKCR7aih0Pj02KX0pIHsKICB4LkJBU0lDX0RNRyArPSAwLjQwICogeC5IUDsKfQogICAgYH19LENvPSh0LG4pPT57Y29uc3R7YmFzaWM6ZSxza2lsbDphLHVsdDppfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LG89aSh0LC40LC40Mikscj1lKHQsMSwxLjEpLGQ9YSh0LDIuMSwyLjMxKSxTPWkodCwxLDEuMDgpLEM9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBCPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuUGVsYS5Db250ZW50Iik7cmV0dXJuW3tmb3JtSXRlbToic3dpdGNoIixpZDoidGVhbUVockJ1ZmYiLG5hbWU6InRlYW1FaHJCdWZmIix0ZXh0OkIoInRlYW1FaHJCdWZmLnRleHQiKSx0aXRsZTpCKCJ0ZWFtRWhyQnVmZi50aXRsZSIpLGNvbnRlbnQ6QigidGVhbUVockJ1ZmYuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVuZW15RGVidWZmZWQiLG5hbWU6ImVuZW15RGVidWZmZWQiLHRleHQ6QigiZW5lbXlEZWJ1ZmZlZC50ZXh0IiksdGl0bGU6QigiZW5lbXlEZWJ1ZmZlZC50aXRsZSIpLGNvbnRlbnQ6QigiZW5lbXlEZWJ1ZmZlZC5jb250ZW50Iil9LHtmb3JtSXRlbToic3dpdGNoIixpZDoic2tpbGxSZW1vdmVkQnVmZiIsbmFtZToic2tpbGxSZW1vdmVkQnVmZiIsdGV4dDpCKCJza2lsbFJlbW92ZWRCdWZmLnRleHQiKSx0aXRsZTpCKCJza2lsbFJlbW92ZWRCdWZmLnRpdGxlIiksY29udGVudDpCKCJza2lsbFJlbW92ZWRCdWZmLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ1bHREZWZQZW5EZWJ1ZmYiLG5hbWU6InVsdERlZlBlbkRlYnVmZiIsdGV4dDpCKCJ1bHREZWZQZW5EZWJ1ZmYudGV4dCIpLHRpdGxlOkIoInVsdERlZlBlbkRlYnVmZi50aXRsZSIpLGNvbnRlbnQ6QigidWx0RGVmUGVuRGVidWZmLmNvbnRlbnQiLHt1bHREZWZQZW5WYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpvKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU0U2tpbGxSZXNTaHJlZCIsbmFtZToiZTRTa2lsbFJlc1NocmVkIix0ZXh0OkIoImU0U2tpbGxSZXNTaHJlZC50ZXh0IiksdGl0bGU6QigiZTRTa2lsbFJlc1NocmVkLnRpdGxlIiksY29udGVudDpCKCJlNFNraWxsUmVzU2hyZWQuY29udGVudCIpLGRpc2FibGVkOnQ8NH1dfSkoKSxwPW4/W106W0koQywidGVhbUVockJ1ZmYiKSxJKEMsInVsdERlZlBlbkRlYnVmZiIpLEkoQywiZTRTa2lsbFJlc1NocmVkIildO3JldHVybntjb250ZW50OigpPT5DLHRlYW1tYXRlQ29udGVudDooKT0+cCxkZWZhdWx0czooKT0+KHt0ZWFtRWhyQnVmZjohMCxlbmVteURlYnVmZmVkOiEwLHNraWxsUmVtb3ZlZEJ1ZmY6ITEsdWx0RGVmUGVuRGVidWZmOiEwLGU0U2tpbGxSZXNTaHJlZDohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7dGVhbUVockJ1ZmY6ITAsdWx0RGVmUGVuRGVidWZmOiEwLGU0U2tpbGxSZXNTaHJlZDohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihCLHUpPT57Y29uc3QgYz11LmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gQltzLlNQRF9QXSs9dD49MiYmYy5za2lsbFJlbW92ZWRCdWZmPy4xOjAsQi5CQVNJQ19TQ0FMSU5HKz1yLEIuU0tJTExfU0NBTElORys9ZCxCLlVMVF9TQ0FMSU5HKz1TLHkoQixXfHp8TywuMixjLnNraWxsUmVtb3ZlZEJ1ZmYpLEIuRUxFTUVOVEFMX0RNRys9Yy5lbmVteURlYnVmZmVkPy4yOjAsQi5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxCLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLEIuVUxUX1RPVUdITkVTU19ETUcrPTYwLEJ9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihCLHUpPT57Y29uc3QgYz11LmNoYXJhY3RlckNvbmRpdGlvbmFscztCW3MuRUhSXSs9Yy50ZWFtRWhyQnVmZj8uMTowLEIuREVGX1BFTis9Yy51bHREZWZQZW5EZWJ1ZmY/bzowLEIuSUNFX1JFU19QRU4rPXQ+PTQmJmMuZTRTa2lsbFJlc1NocmVkPy4xMjowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooQix1KT0+e0IuQkFTSUNfRE1HKz1CLkJBU0lDX1NDQUxJTkcqQltzLkFUS10sQi5TS0lMTF9ETUcrPUIuU0tJTExfU0NBTElORypCW3MuQVRLXSxCLlVMVF9ETUcrPUIuVUxUX1NDQUxJTkcqQltzLkFUS10sQi5CQVNJQ19ETUcrPXQ+PTY/LjQqQltzLkFUS106MCxCLlNLSUxMX0RNRys9dD49Nj8uNCpCW3MuQVRLXTowLEIuVUxUX0RNRys9dD49Nj8uNCpCW3MuQVRLXTowfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+YAp4LkJBU0lDX0RNRyArPSB4LkJBU0lDX1NDQUxJTkcgKiB4LkFUSzsKeC5TS0lMTF9ETUcgKz0geC5TS0lMTF9TQ0FMSU5HICogeC5BVEs7CnguVUxUX0RNRyArPSB4LlVMVF9TQ0FMSU5HICogeC5BVEs7CgppZiAoJHtqKHQ+PTYpfSkgewogIHguQkFTSUNfRE1HICs9IDAuNDAgKiB4LkFUSzsKICB4LlNLSUxMX0RNRyArPSAwLjQwICogeC5BVEs7CiAgeC5VTFRfRE1HICs9IDAuNDAgKiB4LkFUSzsKfQogICAgYH19LE5uPSh0LG4pPT57Y29uc3R7YmFzaWM6ZSxza2lsbDphLHVsdDppLHRhbGVudDpvfT1iLlNLSUxMX1RBTEVOVF8zX1VMVF9CQVNJQ181LHI9byh0LC4yLC4yMiksZD1lKHQsMSwxLjEpLFM9YSh0LDEuMjUsMS4zNzUpLEM9aSh0LDQuNSw0LjgpLHA9aSh0LDIuNywyLjg4KSxCPWkodCwxLjYyLDEuNzI4KSx1PSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgYz1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLlRyYWlsYmxhemVyRGVzdHJ1Y3Rpb24uQ29udGVudCIpO3JldHVyblt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVuaGFuY2VkVWx0IixuYW1lOiJFbmhhbmNlZCBVbHQiLHRleHQ6YygiZW5oYW5jZWRVbHQudGV4dCIpLHRpdGxlOmMoImVuaGFuY2VkVWx0LnRpdGxlIiksY29udGVudDpjKCJlbmhhbmNlZFVsdC5jb250ZW50Iix7dWx0U2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpDKSx1bHRFbmhhbmNlZFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqcCksdWx0RW5oYW5jZWRTY2FsaW5nMjpELnByZWNpc2lvblJvdW5kKDEwMCpCKX0pfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InRhbGVudFN0YWNrcyIsbmFtZToiVGFsZW50IHN0YWNrcyIsdGV4dDpjKCJ0YWxlbnRTdGFja3MudGV4dCIpLHRpdGxlOmMoInRhbGVudFN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6YygidGFsZW50U3RhY2tzLmNvbnRlbnQiLHt0YWxlbnRBdGtTY2FsaW5nVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqcil9KSxtaW46MCxtYXg6Mn1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+dSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe2VuaGFuY2VkVWx0OiEwLHRhbGVudFN0YWNrczoyfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooYyxsKT0+e2NvbnN0IG09bC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGNbcy5BVEtfUF0rPW0udGFsZW50U3RhY2tzKnIsY1tzLkRFRl9QXSs9bS50YWxlbnRTdGFja3MqLjEsY1tzLkNSXSs9Yy5FTkVNWV9XRUFLTkVTU19CUk9LRU4/LjI1OjAsYy5CQVNJQ19TQ0FMSU5HKz1kLGMuU0tJTExfU0NBTElORys9UyxjLlVMVF9TQ0FMSU5HKz1tLmVuaGFuY2VkVWx0P3A6Qyx5KGMseiwuMjUpLHkoYyxPLC4yNSxtLmVuaGFuY2VkVWx0KSxjLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGMuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsYy5VTFRfVE9VR0hORVNTX0RNRys9bS5lbmhhbmNlZFVsdD82MDo5MCxjfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooYyxsKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6Yz0+eChjKSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpfX0sT249KHQsbik9Pntjb25zdHtiYXNpYzplLHNraWxsOmEsdWx0Oml9PWIuU0tJTExfVEFMRU5UXzNfVUxUX0JBU0lDXzUsbz1lKHQsMSwxLjEpLHI9YSh0LC41LC41NSksZD1pKHQsLjMsLjMzKSxTPXQ+PTY/Njo0LEM9ezE6MS42LDM6MS40LDU6MS4yfSxwPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgYz1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLlRyYWlsYmxhemVySGFybW9ueS5Db250ZW50Iik7cmV0dXJuW3tmb3JtSXRlbToic3dpdGNoIixpZDoiYmFja3VwRGFuY2VyIixuYW1lOiJiYWNrdXBEYW5jZXIiLHRleHQ6YygiYmFja3VwRGFuY2VyLnRleHQiKSx0aXRsZTpjKCJiYWNrdXBEYW5jZXIudGl0bGUiKSxjb250ZW50OmMoImJhY2t1cERhbmNlci5jb250ZW50Iix7dWx0QmVTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKmQpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoic3VwZXJCcmVha0RtZyIsbmFtZToic3VwZXJCcmVha0RtZyIsdGV4dDpjKCJzdXBlckJyZWFrRG1nLnRleHQiKSx0aXRsZTpjKCJzdXBlckJyZWFrRG1nLnRpdGxlIiksY29udGVudDpjKCJzdXBlckJyZWFrRG1nLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJza2lsbEhpdHNPblRhcmdldCIsbmFtZToic2tpbGxIaXRzT25UYXJnZXQiLHRleHQ6Yygic2tpbGxIaXRzT25UYXJnZXQudGV4dCIpLHRpdGxlOmMoInNraWxsSGl0c09uVGFyZ2V0LnRpdGxlIiksY29udGVudDpjKCJza2lsbEhpdHNPblRhcmdldC5jb250ZW50IiksbWluOjAsbWF4OlN9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJFbmVyZ3lSZWdlbkJ1ZmYiLG5hbWU6ImUyRW5lcmd5UmVnZW5CdWZmIix0ZXh0OmMoImUyRW5lcmd5UmVnZW5CdWZmLnRleHQiKSx0aXRsZTpjKCJlMkVuZXJneVJlZ2VuQnVmZi50aXRsZSIpLGNvbnRlbnQ6YygiZTJFbmVyZ3lSZWdlbkJ1ZmYuY29udGVudCIpLGRpc2FibGVkOnQ8Mn1dfSkoKSxCPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgYz1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLlRyYWlsYmxhemVySGFybW9ueS5UZWFtbWF0ZUNvbnRlbnQiKTtyZXR1cm5bSShwLCJiYWNrdXBEYW5jZXIiKSxJKHAsInN1cGVyQnJlYWtEbWciKSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InRlYW1tYXRlQmVWYWx1ZSIsbmFtZToidGVhbW1hdGVCZVZhbHVlIix0ZXh0OmMoInRlYW1tYXRlQmVWYWx1ZS50ZXh0IiksdGl0bGU6YygidGVhbW1hdGVCZVZhbHVlLnRpdGxlIiksY29udGVudDpjKCJ0ZWFtbWF0ZUJlVmFsdWUuY29udGVudCIpLG1pbjowLG1heDo0LHBlcmNlbnQ6ITAsZGlzYWJsZWQ6dDw0fV19KSgpLHU9e3NraWxsSGl0c09uVGFyZ2V0OlMsYmFja3VwRGFuY2VyOiEwLHN1cGVyQnJlYWtEbWc6ITAsZTJFbmVyZ3lSZWdlbkJ1ZmY6ITF9O3JldHVybntjb250ZW50OigpPT5wLHRlYW1tYXRlQ29udGVudDooKT0+QixkZWZhdWx0czooKT0+dSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2JhY2t1cERhbmNlcjohMCxzdXBlckJyZWFrRG1nOiEwLHRlYW1tYXRlQmVWYWx1ZToyfSksaW5pdGlhbGl6ZUNvbmZpZ3VyYXRpb25zOihjLGwpPT57bC5jaGFyYWN0ZXJDb25kaXRpb25hbHMuc3VwZXJCcmVha0RtZyYmKGMuRU5FTVlfV0VBS05FU1NfQlJPS0VOPTEpfSxpbml0aWFsaXplVGVhbW1hdGVDb25maWd1cmF0aW9uczooYyxsKT0+e2wuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLnN1cGVyQnJlYWtEbWcmJihjLkVORU1ZX1dFQUtORVNTX0JST0tFTj0xKX0scHJlY29tcHV0ZUVmZmVjdHM6KGMsbCk9Pntjb25zdCBtPWwuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBjW3MuRVJSXSs9dD49MiYmbS5lMkVuZXJneVJlZ2VuQnVmZj8uMjU6MCxjLkJBU0lDX1NDQUxJTkcrPW8sYy5TS0lMTF9TQ0FMSU5HKz1yLGMuU0tJTExfU0NBTElORys9bS5za2lsbEhpdHNPblRhcmdldCpyLGMuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsYy5TS0lMTF9UT1VHSE5FU1NfRE1HKz0zMCptLnNraWxsSGl0c09uVGFyZ2V0LGN9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihjLGwpPT57Y29uc3QgbT1sLmNoYXJhY3RlckNvbmRpdGlvbmFscztjW3MuQkVdKz1tLmJhY2t1cERhbmNlcj9kOjAsYy5TVVBFUl9CUkVBS19ITUNfTU9ESUZJRVIrPW0uYmFja3VwRGFuY2VyJiZtLnN1cGVyQnJlYWtEbWc/Q1tsLmVuZW15Q291bnRdOjB9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KGMsbCk9Pntjb25zdCBtPWwuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2Nbcy5CRV0rPXQ+PTQ/LjE1Km0udGVhbW1hdGVCZVZhbHVlOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOmM9PngoYyksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19LFBuPSh0LG4pPT57Y29uc3R7YmFzaWM6ZSxza2lsbDphLHVsdDppfT1iLlNLSUxMX1RBTEVOVF8zX1VMVF9CQVNJQ181LG89YSh0LC41LC41Mikscj1lKHQsMSwxLjEpLGQ9dD49MT8uMjU6MCxTPWUodCwxLjM1LDEuNDYzKSxDPXQ+PTE/LjU6MCxwPWEodCwwLDApLEI9aSh0LDEsMS4xKSx1PWkodCwxLjUsMS42NSksYz0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IG09QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5UcmFpbGJsYXplclByZXNlcnZhdGlvbi5Db250ZW50Iik7cmV0dXJuW3tmb3JtSXRlbToic3dpdGNoIixpZDoiZW5oYW5jZWRCYXNpYyIsbmFtZToiZW5oYW5jZWRCYXNpYyIsdGV4dDptKCJlbmhhbmNlZEJhc2ljLnRleHQiKSx0aXRsZTptKCJlbmhhbmNlZEJhc2ljLnRpdGxlIiksY29udGVudDptKCJlbmhhbmNlZEJhc2ljLmNvbnRlbnQiLHtiYXNpY0VuaGFuY2VkQXRrU2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpTKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InNraWxsQWN0aXZlIixuYW1lOiJza2lsbEFjdGl2ZSIsdGV4dDptKCJza2lsbEFjdGl2ZS50ZXh0IiksdGl0bGU6bSgic2tpbGxBY3RpdmUudGl0bGUiKSxjb250ZW50Om0oInNraWxsQWN0aXZlLmNvbnRlbnQiLHtza2lsbERhbWFnZVJlZHVjdGlvblZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKm8pfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoic2hpZWxkQWN0aXZlIixuYW1lOiJzaGllbGRBY3RpdmUiLHRleHQ6bSgic2hpZWxkQWN0aXZlLnRleHQiKSx0aXRsZTptKCJzaGllbGRBY3RpdmUudGl0bGUiKSxjb250ZW50Om0oInNoaWVsZEFjdGl2ZS5jb250ZW50Iil9LHtmb3JtSXRlbToic2xpZGVyIixpZDoiZTZEZWZTdGFja3MiLG5hbWU6ImU2RGVmU3RhY2tzIix0ZXh0Om0oImU2RGVmU3RhY2tzLnRleHQiKSx0aXRsZTptKCJlNkRlZlN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6bSgiZTZEZWZTdGFja3MuY29udGVudCIpLG1pbjowLG1heDozLGRpc2FibGVkOnQ8Nn1dfSkoKSxsPW4/W106W0koYywic2tpbGxBY3RpdmUiKV07cmV0dXJue2NvbnRlbnQ6KCk9PmMsdGVhbW1hdGVDb250ZW50OigpPT5sLGRlZmF1bHRzOigpPT4oe2VuaGFuY2VkQmFzaWM6ITAsc2tpbGxBY3RpdmU6ITAsc2hpZWxkQWN0aXZlOiEwLGU2RGVmU3RhY2tzOjN9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3NraWxsQWN0aXZlOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KG0sZik9Pntjb25zdCBnPWYuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBtW3MuREVGX1BdKz10Pj02P2cuZTZEZWZTdGFja3MqLjE6MCxtW3MuQVRLX1BdKz1nLnNoaWVsZEFjdGl2ZT8uMTU6MCxtLlNLSUxMX1NDQUxJTkcrPXAsbS5ETUdfUkVEX01VTFRJKj1nLnNraWxsQWN0aXZlPzEtbzoxLG0uQkFTSUNfVE9VR0hORVNTX0RNRys9Zy5iYXNpY0VuaGFuY2VkPzYwOjMwLG0uVUxUX1RPVUdITkVTU19ETUcrPTYwLG19LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihtLGYpPT57Y29uc3QgZz1mLmNoYXJhY3RlckNvbmRpdGlvbmFsczttLkRNR19SRURfTVVMVEkqPWcuc2tpbGxBY3RpdmU/MS0uMTU6MX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KG0sZik9PntmLmNoYXJhY3RlckNvbmRpdGlvbmFscy5lbmhhbmNlZEJhc2ljPyhtLkJBU0lDX0RNRys9UyptW3MuQVRLXSxtLkJBU0lDX0RNRys9QyptW3MuREVGXSk6KG0uQkFTSUNfRE1HKz1yKm1bcy5BVEtdLG0uQkFTSUNfRE1HKz1kKm1bcy5ERUZdKSxtLlNLSUxMX0RNRys9bS5TS0lMTF9TQ0FMSU5HKm1bcy5BVEtdLG0uVUxUX0RNRys9QiptW3MuQVRLXSxtLlVMVF9ETUcrPXUqbVtzLkRFRl19LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOm09Pntjb25zdCBmPW0uY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybmAKaWYgKCR7aihmLmVuaGFuY2VkQmFzaWMpfSkgewogIHguQkFTSUNfRE1HICs9ICR7U30gKiB4LkFUSzsKICB4LkJBU0lDX0RNRyArPSAke0N9ICogeC5ERUY7Cn0gZWxzZSB7CiAgeC5CQVNJQ19ETUcgKz0gJHtyfSAqIHguQVRLOwogIHguQkFTSUNfRE1HICs9ICR7ZH0gKiB4LkRFRjsKfSAgICAgIAoKeC5TS0lMTF9ETUcgKz0geC5TS0lMTF9TQ0FMSU5HICogeC5BVEs7Cgp4LlVMVF9ETUcgKz0gJHtCfSAqIHguQVRLOwp4LlVMVF9ETUcgKz0gJHt1fSAqIHguREVGOwogICAgYH19fSxEbz0odCxuKT0+e2NvbnN0e2Jhc2ljOmUsc2tpbGw6YSx1bHQ6aSx0YWxlbnQ6b309Yi5VTFRfVEFMRU5UXzNfU0tJTExfQkFTSUNfNSxyPWEodCwuMzgsLjQwOCksZD1vKHQsLjcyLC43OTIpLFM9ZSh0LDEsMS4xKSxDPWUodCwyLjQsMi42NCkscD1hKHQsMCwwKSxCPWkodCwyLDIuMTYpLHU9ezE6UiooMSoxLzEpLDM6UiooMioxLzEpLDU6UiooMioxLzEpfSxjPVIqKDEqMS8xKTtmdW5jdGlvbiBsKGYpe3JldHVybiBmLmNoYXJhY3RlckNvbmRpdGlvbmFscy5iYXNpY0VuaGFuY2VkP3VbZi5lbmVteUNvdW50XTpjfWNvbnN0IG09KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBmPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuUWluZ3F1ZS5Db250ZW50Iik7cmV0dXJuW3tmb3JtSXRlbToic3dpdGNoIixpZDoiYmFzaWNFbmhhbmNlZCIsbmFtZToiYmFzaWNFbmhhbmNlZCIsdGV4dDpmKCJiYXNpY0VuaGFuY2VkLnRleHQiKSx0aXRsZTpmKCJiYXNpY0VuaGFuY2VkLnRpdGxlIiksY29udGVudDpmKCJiYXNpY0VuaGFuY2VkLmNvbnRlbnQiLHt0YWxlbnRBdGtCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmQpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiYmFzaWNFbmhhbmNlZFNwZEJ1ZmYiLG5hbWU6ImJhc2ljRW5oYW5jZWRTcGRCdWZmIix0ZXh0OmYoImJhc2ljRW5oYW5jZWRTcGRCdWZmLnRleHQiKSx0aXRsZTpmKCJiYXNpY0VuaGFuY2VkU3BkQnVmZi50aXRsZSIpLGNvbnRlbnQ6ZigiYmFzaWNFbmhhbmNlZFNwZEJ1ZmYuY29udGVudCIpfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InNraWxsRG1nSW5jcmVhc2VTdGFja3MiLG5hbWU6InNraWxsRG1nSW5jcmVhc2VTdGFja3MiLHRleHQ6Zigic2tpbGxEbWdJbmNyZWFzZVN0YWNrcy50ZXh0IiksdGl0bGU6Zigic2tpbGxEbWdJbmNyZWFzZVN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6Zigic2tpbGxEbWdJbmNyZWFzZVN0YWNrcy5jb250ZW50Iix7c2tpbGxTdGFja0RtZzpELnByZWNpc2lvblJvdW5kKDEwMCpyKX0pLG1pbjowLG1heDo0fV19KSgpO3JldHVybntjb250ZW50OigpPT5tLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7YmFzaWNFbmhhbmNlZDohMCxiYXNpY0VuaGFuY2VkU3BkQnVmZjohMSxza2lsbERtZ0luY3JlYXNlU3RhY2tzOjR9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOihmLGcpPT57Y29uc3QgaD1nLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gZltzLkFUS19QXSs9aC5iYXNpY0VuaGFuY2VkP2Q6MCxmW3MuU1BEX1BdKz1oLmJhc2ljRW5oYW5jZWRTcGRCdWZmPy4xOjAsZi5CQVNJQ19TQ0FMSU5HKz1oLmJhc2ljRW5oYW5jZWQ/QzpTLGYuU0tJTExfU0NBTElORys9cCxmLlVMVF9TQ0FMSU5HKz1CLGYuRlVBX1NDQUxJTkcrPXQ+PTQ/Zi5CQVNJQ19TQ0FMSU5HOjAsZi5FTEVNRU5UQUxfRE1HKz1oLnNraWxsRG1nSW5jcmVhc2VTdGFja3Mqcix5KGYsTywuMSx0Pj0xKSxmLkJBU0lDX1RPVUdITkVTU19ETUcrPWguYmFzaWNFbmhhbmNlZD82MDozMCxmLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxmLkZVQV9UT1VHSE5FU1NfRE1HKz1oLmJhc2ljRW5oYW5jZWQ/NjA6MzAsZn0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGYsZyk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihmLGcpPT57WihmLGcsbChnKSl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOmY9PnEobChmKSl9fSxfbz0odCxuKT0+e2NvbnN0e2Jhc2ljOmUsc2tpbGw6YSx1bHQ6aSx0YWxlbnQ6b309Yi5VTFRfVEFMRU5UXzNfU0tJTExfQkFTSUNfNSxyPWkodCwuMjUsLjI3KSxkPWUodCwxLDEuMSksUz1hKHQsLjMyLC4zNTIpLEM9byh0LC4xLC4xMDQpLHA9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCB1PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuUnVhbk1laS5Db250ZW50Iik7cmV0dXJuW3tmb3JtSXRlbToic3dpdGNoIixpZDoic2tpbGxPdmVydG9uZUJ1ZmYiLG5hbWU6InNraWxsT3ZlcnRvbmVCdWZmIix0ZXh0OnUoInNraWxsT3ZlcnRvbmVCdWZmLnRleHQiKSx0aXRsZTp1KCJza2lsbE92ZXJ0b25lQnVmZi50aXRsZSIpLGNvbnRlbnQ6dSgic2tpbGxPdmVydG9uZUJ1ZmYuY29udGVudCIse3NraWxsU2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpTKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRlYW1CRUJ1ZmYiLG5hbWU6InRlYW1CRUJ1ZmYiLHRleHQ6dSgidGVhbUJFQnVmZi50ZXh0IiksdGl0bGU6dSgidGVhbUJFQnVmZi50aXRsZSIpLGNvbnRlbnQ6dSgidGVhbUJFQnVmZi5jb250ZW50Iil9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidWx0RmllbGRBY3RpdmUiLG5hbWU6InVsdEZpZWxkQWN0aXZlIix0ZXh0OnUoInVsdEZpZWxkQWN0aXZlLnRleHQiKSx0aXRsZTp1KCJ1bHRGaWVsZEFjdGl2ZS50aXRsZSIpLGNvbnRlbnQ6dSgidWx0RmllbGRBY3RpdmUuY29udGVudCIse2ZpZWxkUmVzUGVuVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqcil9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMkF0a0Jvb3N0IixuYW1lOiJlMkF0a0Jvb3N0Iix0ZXh0OnUoImUyQXRrQm9vc3QudGV4dCIpLHRpdGxlOnUoImUyQXRrQm9vc3QudGl0bGUiKSxjb250ZW50OnUoImUyQXRrQm9vc3QuY29udGVudCIpLGRpc2FibGVkOnQ8Mn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNEJlQnVmZiIsbmFtZToiZTRCZUJ1ZmYiLHRleHQ6dSgiZTRCZUJ1ZmYudGV4dCIpLHRpdGxlOnUoImU0QmVCdWZmLnRpdGxlIiksY29udGVudDp1KCJlNEJlQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6dDw0fV19KSgpLEI9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCB1PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuUnVhbk1laS5UZWFtbWF0ZUNvbnRlbnQiKTtyZXR1cm5bSShwLCJza2lsbE92ZXJ0b25lQnVmZiIpLHtmb3JtSXRlbToic3dpdGNoIixpZDoidGVhbVNwZEJ1ZmYiLG5hbWU6InRlYW1TcGRCdWZmIix0ZXh0OnUoInRlYW1TcGRCdWZmLnRleHQiKSx0aXRsZTp1KCJ0ZWFtU3BkQnVmZi50aXRsZSIpLGNvbnRlbnQ6dSgidGVhbVNwZEJ1ZmYuY29udGVudCIse3RhbGVudFNwZFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqQyl9KX0sSShwLCJ0ZWFtQkVCdWZmIikse2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0ZWFtRG1nQnVmZiIsbmFtZToidGVhbURtZ0J1ZmYiLHRleHQ6dSgidGVhbURtZ0J1ZmYudGV4dCIpLHRpdGxlOnUoInRlYW1EbWdCdWZmLnRpdGxlIiksY29udGVudDp1KCJ0ZWFtRG1nQnVmZi5jb250ZW50IiksbWluOjAsbWF4Oi4zNixwZXJjZW50OiEwfSxJKHAsInVsdEZpZWxkQWN0aXZlIiksSShwLCJlMkF0a0Jvb3N0IildfSkoKTtyZXR1cm57Y29udGVudDooKT0+cCx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PkIsZGVmYXVsdHM6KCk9Pih7c2tpbGxPdmVydG9uZUJ1ZmY6ITAsdGVhbUJFQnVmZjohMCx1bHRGaWVsZEFjdGl2ZTohMCxlMkF0a0Jvb3N0OiExLGU0QmVCdWZmOiExfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtza2lsbE92ZXJ0b25lQnVmZjohMCx0ZWFtU3BkQnVmZjohMCx0ZWFtQkVCdWZmOiEwLHVsdEZpZWxkQWN0aXZlOiEwLGUyQXRrQm9vc3Q6ITEsdGVhbURtZ0J1ZmY6LjM2fSkscHJlY29tcHV0ZUVmZmVjdHM6KHUsYyk9Pntjb25zdCBsPWMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiB1W3MuQVRLX1BdKz10Pj0yJiZsLmUyQXRrQm9vc3Q/LjQ6MCx1W3MuQkVdKz10Pj00JiZsLmU0QmVCdWZmPzE6MCx1LkJBU0lDX1NDQUxJTkcrPWQsdS5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCx1fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoodSxjKT0+e2NvbnN0IGw9Yy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7dVtzLkJFXSs9bC50ZWFtQkVCdWZmPy4yOjAsdS5FTEVNRU5UQUxfRE1HKz1sLnNraWxsT3ZlcnRvbmVCdWZmP1M6MCx1LkJSRUFLX0VGRklDSUVOQ1lfQk9PU1QrPWwuc2tpbGxPdmVydG9uZUJ1ZmY/LjU6MCx1LlJFU19QRU4rPWwudWx0RmllbGRBY3RpdmU/cjowLHUuREVGX1BFTis9dD49MSYmbC51bHRGaWVsZEFjdGl2ZT8uMjowfSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOih1LGMpPT57Y29uc3QgbD1jLmNoYXJhY3RlckNvbmRpdGlvbmFsczt1W3MuU1BEX1BdKz1sLnRlYW1TcGRCdWZmP0M6MCx1LkVMRU1FTlRBTF9ETUcrPWwudGVhbURtZ0J1ZmYsdVtzLkFUS19QXSs9dD49MiYmbC5lMkF0a0Jvb3N0Py40OjAsdS5SQVRJT19CQVNFRF9BVEtfUF9CVUZGKz10Pj0yJiZsLmUyQXRrQm9vc3Q/LjQ6MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6dT0+eCh1KSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpLGR5bmFtaWNDb25kaXRpb25hbHM6WyRhXX19LEFvPSh0LG4pPT57Y29uc3R7YmFzaWM6ZSxza2lsbDphLHVsdDppLHRhbGVudDpvfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LHI9aSh0LC4zLC4zMiksZD1lKHQsMSwxLjEpLFM9YSh0LC41NiwuNjE2KSxDPWkodCwxLjYsMS43MjgpLHA9byh0LC41MiwuNTcyKSxCPXQ8MT80OjUsdT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGw9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5TYW1wby5Db250ZW50Iik7cmV0dXJuW3tmb3JtSXRlbToic3dpdGNoIixpZDoidGFyZ2V0RG90VGFrZW5EZWJ1ZmYiLG5hbWU6InRhcmdldERvdFRha2VuRGVidWZmIix0ZXh0OmwoInRhcmdldERvdFRha2VuRGVidWZmLnRleHQiKSx0aXRsZTpsKCJ0YXJnZXREb3RUYWtlbkRlYnVmZi50aXRsZSIpLGNvbnRlbnQ6bCgidGFyZ2V0RG90VGFrZW5EZWJ1ZmYuY29udGVudCIse2RvdFZ1bG5lcmFiaWxpdHlWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpyKX0pfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InNraWxsRXh0cmFIaXRzIixuYW1lOiJza2lsbEV4dHJhSGl0cyIsdGV4dDpsKCJza2lsbEV4dHJhSGl0cy50ZXh0IiksdGl0bGU6bCgic2tpbGxFeHRyYUhpdHMudGl0bGUiKSxjb250ZW50OmwoInNraWxsRXh0cmFIaXRzLmNvbnRlbnQiKSxtaW46MSxtYXg6Qn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0YXJnZXRXaW5kU2hlYXIiLG5hbWU6InRhcmdldFdpbmRTaGVhciIsdGV4dDpsKCJ0YXJnZXRXaW5kU2hlYXIudGV4dCIpLHRpdGxlOmwoInRhcmdldFdpbmRTaGVhci50aXRsZSIpLGNvbnRlbnQ6bCgidGFyZ2V0V2luZFNoZWFyLmNvbnRlbnQiKX1dfSkoKSxjPW4/W106W0kodSwidGFyZ2V0RG90VGFrZW5EZWJ1ZmYiKV07cmV0dXJue2NvbnRlbnQ6KCk9PnUsdGVhbW1hdGVDb250ZW50OigpPT5jLGRlZmF1bHRzOigpPT4oe3RhcmdldERvdFRha2VuRGVidWZmOiEwLHNraWxsRXh0cmFIaXRzOkIsdGFyZ2V0V2luZFNoZWFyOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt0YXJnZXREb3RUYWtlbkRlYnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihsLG0pPT57Y29uc3QgZj1tLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gbC5CQVNJQ19TQ0FMSU5HKz1kLGwuU0tJTExfU0NBTElORys9UyxsLlNLSUxMX1NDQUxJTkcrPWYuc2tpbGxFeHRyYUhpdHMqUyxsLlVMVF9TQ0FMSU5HKz1DLGwuRE9UX1NDQUxJTkcrPXAsbC5ET1RfU0NBTElORys9dD49Nj8uMTU6MCxsLkRNR19SRURfTVVMVEkqPWYudGFyZ2V0V2luZFNoZWFyPzEtLjE1OjEsbC5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxsLlNLSUxMX1RPVUdITkVTU19ETUcrPTMwKzE1KmYuc2tpbGxFeHRyYUhpdHMsbC5VTFRfVE9VR0hORVNTX0RNRys9NjAsbC5ET1RfQ0hBTkNFPS42NSxsfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoobCxtKT0+e2NvbnN0IGY9bS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7YXQobCx1dCxyLGYudGFyZ2V0RG90VGFrZW5EZWJ1ZmYpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpsPT54KGwpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSxFbz0odCxuKT0+e2NvbnN0e2Jhc2ljOmUsc2tpbGw6YSx1bHQ6aSx0YWxlbnQ6b309Yi5TS0lMTF9UQUxFTlRfM19VTFRfQkFTSUNfNSxyPW8odCwuOCwuODgpLGQ9dD49Mj8yOjEsUz1lKHQsMSwxLjEpLEM9YSh0LDIuMiwyLjQyKSxwPWkodCw0LjI1LDQuNTkpLEI9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCB1PUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuU2VlbGUuQ29udGVudCIpO3JldHVyblt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImJ1ZmZlZFN0YXRlIixuYW1lOiJidWZmZWRTdGF0ZSIsdGV4dDp1KCJidWZmZWRTdGF0ZS50ZXh0IiksdGl0bGU6dSgiYnVmZmVkU3RhdGUudGl0bGUiKSxjb250ZW50OnUoImJ1ZmZlZFN0YXRlLmNvbnRlbnQiLHtidWZmZWRTdGF0ZURtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqcil9KX0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJzcGVlZEJvb3N0U3RhY2tzIixuYW1lOiJzcGVlZEJvb3N0U3RhY2tzIix0ZXh0OnUoInNwZWVkQm9vc3RTdGFja3MudGV4dCIpLHRpdGxlOnUoInNwZWVkQm9vc3RTdGFja3MudGl0bGUiKSxjb250ZW50OnUoInNwZWVkQm9vc3RTdGFja3MuY29udGVudCIse3NwZWVkQm9vc3RTdGFja3NNYXg6ZH0pLG1pbjowLG1heDpkfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUxRW5lbXlIcDgwQ3JCb29zdCIsbmFtZToiZTFFbmVteUhwODBDckJvb3N0Iix0ZXh0OnUoImUxRW5lbXlIcDgwQ3JCb29zdC50ZXh0IiksdGl0bGU6dSgiZTFFbmVteUhwODBDckJvb3N0LnRpdGxlIiksY29udGVudDp1KCJlMUVuZW15SHA4MENyQm9vc3QuY29udGVudCIpLGRpc2FibGVkOnQ8MX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNlVsdFRhcmdldERlYnVmZiIsbmFtZToiZTZVbHRUYXJnZXREZWJ1ZmYiLHRleHQ6dSgiZTZVbHRUYXJnZXREZWJ1ZmYudGV4dCIpLHRpdGxlOnUoImU2VWx0VGFyZ2V0RGVidWZmLnRpdGxlIiksY29udGVudDp1KCJlNlVsdFRhcmdldERlYnVmZi5jb250ZW50IiksZGlzYWJsZWQ6dDw2fV19KSgpO3JldHVybntjb250ZW50OigpPT5CLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7YnVmZmVkU3RhdGU6ITAsc3BlZWRCb29zdFN0YWNrczpkLGUxRW5lbXlIcDgwQ3JCb29zdDohMSxlNlVsdFRhcmdldERlYnVmZjohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KHUsYyk9Pntjb25zdCBsPWMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiB1W3MuQ1JdKz10Pj0xJiZsLmUxRW5lbXlIcDgwQ3JCb29zdD8uMTU6MCx1W3MuU1BEX1BdKz0uMjUqbC5zcGVlZEJvb3N0U3RhY2tzLHUuQkFTSUNfU0NBTElORys9Uyx1LlNLSUxMX1NDQUxJTkcrPUMsdS5VTFRfU0NBTElORys9cCx1LkVMRU1FTlRBTF9ETUcrPWwuYnVmZmVkU3RhdGU/cjowLHUuUkVTX1BFTis9bC5idWZmZWRTdGF0ZT8uMjowLHUuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsdS5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCx1LlVMVF9UT1VHSE5FU1NfRE1HKz05MCx1fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoodSxjKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KHUsYyk9Pntjb25zdCBsPWMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3UuQkFTSUNfRE1HKz11LkJBU0lDX1NDQUxJTkcqdVtzLkFUS10sdS5TS0lMTF9ETUcrPXUuU0tJTExfU0NBTElORyp1W3MuQVRLXSx1LlVMVF9ETUcrPXUuVUxUX1NDQUxJTkcqdVtzLkFUS10sdS5CQVNJQ19ETUcrPXQ+PTYmJmwuZTZVbHRUYXJnZXREZWJ1ZmY/LjE1KnUuVUxUX0RNRzowLHUuU0tJTExfRE1HKz10Pj02JiZsLmU2VWx0VGFyZ2V0RGVidWZmPy4xNSp1LlVMVF9ETUc6MCx1LlVMVF9ETUcrPXQ+PTYmJmwuZTZVbHRUYXJnZXREZWJ1ZmY/LjE1KnUuVUxUX0RNRzowfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczp1PT57Y29uc3QgYz11LmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm5gCnguQkFTSUNfRE1HICs9IHguQkFTSUNfU0NBTElORyAqIHguQVRLOwp4LlNLSUxMX0RNRyArPSB4LlNLSUxMX1NDQUxJTkcgKiB4LkFUSzsKeC5VTFRfRE1HICs9IHguVUxUX1NDQUxJTkcgKiB4LkFUSzsKCmlmICgke2oodD49NiYmYy5lNlVsdFRhcmdldERlYnVmZil9KSB7CiAgeC5CQVNJQ19ETUcgKz0gMC4xNSAqIHguVUxUX0RNRzsKICB4LlNLSUxMX0RNRyArPSAwLjE1ICogeC5VTFRfRE1HOwogIHguVUxUX0RNRyArPSAwLjE1ICogeC5VTFRfRE1HOwp9CiAgICBgfX19LFRvPSh0LG4pPT57Y29uc3R7YmFzaWM6ZSxza2lsbDphLHVsdDppLHRhbGVudDpvfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LHI9byh0LC43MiwuNzkyKSxkPWUodCwxLDEuMSksUz1hKHQsMS40LDEuNTQpLEM9aSh0LDEuOCwxLjk0NCkscD1hKHQsMS4wNCwxLjE0NCksQj0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IHU9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5TZXJ2YWwuQ29udGVudCIpO3JldHVyblt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRhcmdldFNob2NrZWQiLG5hbWU6InRhcmdldFNob2NrZWQiLHRleHQ6dSgidGFyZ2V0U2hvY2tlZC50ZXh0IiksdGl0bGU6dSgidGFyZ2V0U2hvY2tlZC50aXRsZSIpLGNvbnRlbnQ6dSgidGFyZ2V0U2hvY2tlZC5jb250ZW50Iix7dGFsZW50RXh0cmFEbWdTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKnIpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZW5lbXlEZWZlYXRlZEJ1ZmYiLG5hbWU6ImVuZW15RGVmZWF0ZWRCdWZmIix0ZXh0OnUoImVuZW15RGVmZWF0ZWRCdWZmLnRleHQiKSx0aXRsZTp1KCJlbmVteURlZmVhdGVkQnVmZi50aXRsZSIpLGNvbnRlbnQ6dSgiZW5lbXlEZWZlYXRlZEJ1ZmYuY29udGVudCIpfV19KSgpO3JldHVybntjb250ZW50OigpPT5CLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7dGFyZ2V0U2hvY2tlZDohMCxlbmVteURlZmVhdGVkQnVmZjohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KHUsYyk9Pntjb25zdCBsPWMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiB1W3MuQVRLX1BdKz1sLmVuZW15RGVmZWF0ZWRCdWZmPy4yOjAsdS5CQVNJQ19TQ0FMSU5HKz1kLHUuU0tJTExfU0NBTElORys9Uyx1LlVMVF9TQ0FMSU5HKz1DLHUuRE9UX1NDQUxJTkcrPXAsdS5CQVNJQ19TQ0FMSU5HKz1sLnRhcmdldFNob2NrZWQ/cjowLHUuU0tJTExfU0NBTElORys9bC50YXJnZXRTaG9ja2VkP3I6MCx1LlVMVF9TQ0FMSU5HKz1sLnRhcmdldFNob2NrZWQ/cjowLHUuRUxFTUVOVEFMX0RNRys9dD49NiYmbC50YXJnZXRTaG9ja2VkPy4zOjAsdS5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCx1LlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLHUuVUxUX1RPVUdITkVTU19ETUcrPTYwLHUuRE9UX0NIQU5DRT0uNjUsdX0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KHUsYyk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOnU9PngodSksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19O2NvbnN0IElvPSh0LG4pPT57Y29uc3R7YmFzaWM6ZSxza2lsbDphLHVsdDppLHRhbGVudDpvfT1iLlNLSUxMX1RBTEVOVF8zX1VMVF9CQVNJQ181LHI9YSh0LC4xLC4xMDUpLGQ9byh0LC4wOCwuMDg4KSxTPWkodCwuNDUsLjQ2OCksQz1lKHQsMSwxLjEpLHA9YSh0LDEuOTYsMi4xNTYpLEI9aSh0LDMuOCw0LjEwNCksdT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGw9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5TaWx2ZXJXb2xmLkNvbnRlbnQiKTtyZXR1cm5be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJza2lsbFJlc1NocmVkRGVidWZmIixuYW1lOiJza2lsbFJlc1NocmVkRGVidWZmIix0ZXh0OmwoInNraWxsUmVzU2hyZWREZWJ1ZmYudGV4dCIpLHRpdGxlOmwoInNraWxsUmVzU2hyZWREZWJ1ZmYudGl0bGUiKSxjb250ZW50OmwoInNraWxsUmVzU2hyZWREZWJ1ZmYuY29udGVudCIse3NraWxsUmVzU2hyZWRWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpyKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InNraWxsV2Vha25lc3NSZXNTaHJlZERlYnVmZiIsbmFtZToic2tpbGxXZWFrbmVzc1Jlc1NocmVkRGVidWZmIix0ZXh0OmwoInNraWxsV2Vha25lc3NSZXNTaHJlZERlYnVmZi50ZXh0IiksdGl0bGU6bCgic2tpbGxXZWFrbmVzc1Jlc1NocmVkRGVidWZmLnRpdGxlIiksY29udGVudDpsKCJza2lsbFdlYWtuZXNzUmVzU2hyZWREZWJ1ZmYuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRhbGVudERlZlNocmVkRGVidWZmIixuYW1lOiJ0YWxlbnREZWZTaHJlZERlYnVmZiIsdGV4dDpsKCJ0YWxlbnREZWZTaHJlZERlYnVmZi50ZXh0IiksdGl0bGU6bCgidGFsZW50RGVmU2hyZWREZWJ1ZmYudGl0bGUiKSxjb250ZW50OmwoInRhbGVudERlZlNocmVkRGVidWZmLmNvbnRlbnQiLHt0YWxlbnREZWZTaHJlZERlYnVmZlZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKmQpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidWx0RGVmU2hyZWREZWJ1ZmYiLG5hbWU6InVsdERlZlNocmVkRGVidWZmIix0ZXh0OmwoInVsdERlZlNocmVkRGVidWZmLnRleHQiKSx0aXRsZTpsKCJ1bHREZWZTaHJlZERlYnVmZi50aXRsZSIpLGNvbnRlbnQ6bCgidWx0RGVmU2hyZWREZWJ1ZmYuY29udGVudCIse3VsdERlZlNocmVkVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqUyl9KX0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0YXJnZXREZWJ1ZmZzIixuYW1lOiJ0YXJnZXREZWJ1ZmZzIix0ZXh0OmwoInRhcmdldERlYnVmZnMudGV4dCIpLHRpdGxlOmwoInRhcmdldERlYnVmZnMudGl0bGUiKSxjb250ZW50OmwoInRhcmdldERlYnVmZnMuY29udGVudCIpLG1pbjowLG1heDo1fV19KSgpLGM9bj9bXTpbSSh1LCJza2lsbFJlc1NocmVkRGVidWZmIiksSSh1LCJza2lsbFdlYWtuZXNzUmVzU2hyZWREZWJ1ZmYiKSxJKHUsInRhbGVudERlZlNocmVkRGVidWZmIiksSSh1LCJ1bHREZWZTaHJlZERlYnVmZiIpLEkodSwidGFyZ2V0RGVidWZmcyIpXTtyZXR1cm57Y29udGVudDooKT0+dSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmMsZGVmYXVsdHM6KCk9Pih7c2tpbGxXZWFrbmVzc1Jlc1NocmVkRGVidWZmOiExLHNraWxsUmVzU2hyZWREZWJ1ZmY6ITAsdGFsZW50RGVmU2hyZWREZWJ1ZmY6ITAsdWx0RGVmU2hyZWREZWJ1ZmY6ITAsdGFyZ2V0RGVidWZmczo1fSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtza2lsbFdlYWtuZXNzUmVzU2hyZWREZWJ1ZmY6ITEsc2tpbGxSZXNTaHJlZERlYnVmZjohMCx0YWxlbnREZWZTaHJlZERlYnVmZjohMCx1bHREZWZTaHJlZERlYnVmZjohMCx0YXJnZXREZWJ1ZmZzOjV9KSxwcmVjb21wdXRlRWZmZWN0czoobCxtKT0+e2NvbnN0IGY9bS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGwuQkFTSUNfU0NBTElORys9QyxsLlNLSUxMX1NDQUxJTkcrPXAsbC5VTFRfU0NBTElORys9QixsLlVMVF9TQ0FMSU5HKz10Pj00P2YudGFyZ2V0RGVidWZmcyouMjowLGwuRUxFTUVOVEFMX0RNRys9dD49Nj9mLnRhcmdldERlYnVmZnMqLjI6MCxsLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGwuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsbC5VTFRfVE9VR0hORVNTX0RNRys9OTAsbH0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGwsbSk9Pntjb25zdCBmPW0uY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2wuUkVTX1BFTis9Zi5za2lsbFdlYWtuZXNzUmVzU2hyZWREZWJ1ZmY/LjI6MCxsLlJFU19QRU4rPWYuc2tpbGxSZXNTaHJlZERlYnVmZj9yOjAsbC5SRVNfUEVOKz1mLnNraWxsUmVzU2hyZWREZWJ1ZmYmJmYudGFyZ2V0RGVidWZmcz49Mz8uMDM6MCxsLkRFRl9QRU4rPWYudWx0RGVmU2hyZWREZWJ1ZmY/UzowLGwuREVGX1BFTis9Zi50YWxlbnREZWZTaHJlZERlYnVmZj9kOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOmw9PngobCksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19O3ZhciBMbz0odCxuKT0+e2NvbnN0e2Jhc2ljOmUsc2tpbGw6YSx1bHQ6aSx0YWxlbnQ6b309Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxyPWEodCwuMjQsLjI2NCksZD1hKHQsLjQ1LC40ODYpLFM9aSh0LC4xLC4xMDgpLEM9byh0LC4wNiwuMDY2KSxwPWUodCwxLDEuMSksQj1hKHQsMCwwKSx1PWkodCwwLDApLGM9ezA6MCwxOi4wNSwyOi4xNSwzOi4zfSxsPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgZz1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLlNwYXJrbGUuQ29udGVudCIpO3JldHVyblt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InNraWxsQ2RCdWZmIixuYW1lOiJza2lsbENkQnVmZiIsdGV4dDpnKCJza2lsbENkQnVmZi50ZXh0IiksdGl0bGU6Zygic2tpbGxDZEJ1ZmYudGl0bGUiKSxjb250ZW50OmcoInNraWxsQ2RCdWZmLmNvbnRlbnQiLHtza2lsbENkQnVmZlNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqciksc2tpbGxDZEJ1ZmZCYXNlOkQucHJlY2lzaW9uUm91bmQoMTAwKmQpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiY2lwaGVyQnVmZiIsbmFtZToiY2lwaGVyQnVmZiIsdGV4dDpnKCJjaXBoZXJCdWZmLnRleHQiKSx0aXRsZTpnKCJjaXBoZXJCdWZmLnRpdGxlIiksY29udGVudDpnKCJjaXBoZXJCdWZmLmNvbnRlbnQiLHtjaXBoZXJUYWxlbnRTdGFja0Jvb3N0OkQucHJlY2lzaW9uUm91bmQoMTAwKlMpfSl9LHtmb3JtSXRlbToic2xpZGVyIixpZDoidGFsZW50U3RhY2tzIixuYW1lOiJ0YWxlbnRTdGFja3MiLHRleHQ6ZygidGFsZW50U3RhY2tzLnRleHQiKSx0aXRsZTpnKCJ0YWxlbnRTdGFja3MudGl0bGUiKSxjb250ZW50OmcoInRhbGVudFN0YWNrcy5jb250ZW50Iix7dGFsZW50QmFzZVN0YWNrQm9vc3Q6RC5wcmVjaXNpb25Sb3VuZCgxMDAqQyl9KSxtaW46MCxtYXg6M30se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJxdWFudHVtQWxsaWVzIixuYW1lOiJxdWFudHVtQWxsaWVzIix0ZXh0OmcoInF1YW50dW1BbGxpZXMudGV4dCIpLHRpdGxlOmcoInF1YW50dW1BbGxpZXMudGl0bGUiKSxjb250ZW50OmcoInF1YW50dW1BbGxpZXMuY29udGVudCIpLG1pbjowLG1heDozfV19KSgpLG09KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBnPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuU3BhcmtsZS5UZWFtbWF0ZUNvbnRlbnQiKTtyZXR1cm5bSShsLCJza2lsbENkQnVmZiIpLHtmb3JtSXRlbToic2xpZGVyIixpZDoidGVhbW1hdGVDRFZhbHVlIixuYW1lOiJ0ZWFtbWF0ZUNEVmFsdWUiLHRleHQ6ZygidGVhbW1hdGVDRFZhbHVlLnRleHQiKSx0aXRsZTpnKCJ0ZWFtbWF0ZUNEVmFsdWUudGl0bGUiKSxjb250ZW50OmcoInRlYW1tYXRlQ0RWYWx1ZS5jb250ZW50Iix7c2tpbGxDZEJ1ZmZTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKnIpLHNraWxsQ2RCdWZmQmFzZTpELnByZWNpc2lvblJvdW5kKDEwMCpkKX0pLG1pbjowLG1heDozLjUscGVyY2VudDohMH0sSShsLCJjaXBoZXJCdWZmIiksSShsLCJ0YWxlbnRTdGFja3MiKSxJKGwsInF1YW50dW1BbGxpZXMiKV19KSgpLGY9e3NraWxsQ2RCdWZmOiExLGNpcGhlckJ1ZmY6ITAsdGFsZW50U3RhY2tzOjMscXVhbnR1bUFsbGllczozfTtyZXR1cm57Y29udGVudDooKT0+bCx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pm0sZGVmYXVsdHM6KCk9PmYsdGVhbW1hdGVEZWZhdWx0czooKT0+KHsuLi5mLHNraWxsQ2RCdWZmOiEwLHRlYW1tYXRlQ0RWYWx1ZToyLjV9KSxwcmVjb21wdXRlRWZmZWN0czooZyxoKT0+KGcuQkFTSUNfU0NBTElORys9cCxnLlNLSUxMX1NDQUxJTkcrPUIsZy5VTFRfU0NBTElORys9dSxnLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGcpLHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihnLGgpPT57Y29uc3QgXz1oLmNoYXJhY3RlckNvbmRpdGlvbmFscztnW3MuQVRLX1BdKz0uMTUrKGguUFJJTUFSWV9FTEVNRU5UQUxfRE1HX1RZUEU9PXMuUXVhbnR1bV9ETUcmJmNbXy5xdWFudHVtQWxsaWVzXXx8MCksZ1tzLkFUS19QXSs9dD49MSYmXy5jaXBoZXJCdWZmPy40OjAsZy5FTEVNRU5UQUxfRE1HKz1fLmNpcGhlckJ1ZmY/Xy50YWxlbnRTdGFja3MqKEMrUyk6Xy50YWxlbnRTdGFja3MqQyxnLkRFRl9QRU4rPXQ+PTI/LjA4Kl8udGFsZW50U3RhY2tzOjB9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KGcsaCk9Pntjb25zdCBfPWguY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2dbcy5DRF0rPV8uc2tpbGxDZEJ1ZmY/ZCsocisodD49Nj8uMzowKSkqXy50ZWFtbWF0ZUNEVmFsdWU6MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6Zz0+eChnKSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpLGR5bmFtaWNDb25kaXRpb25hbHM6W3tpZDoiU3BhcmtsZUNkQ29uZGl0aW9uYWwiLHR5cGU6VS5BQklMSVRZLGFjdGl2YXRpb246Ti5DT05USU5VT1VTLGRlcGVuZHNPbjpbcy5DRF0scmF0aW9Db252ZXJzaW9uOiEwLGNvbmRpdGlvbjpmdW5jdGlvbigpe3JldHVybiEwfSxlZmZlY3Q6ZnVuY3Rpb24oZyxoLF8pe2lmKCFoLmNoYXJhY3RlckNvbmRpdGlvbmFscy5za2lsbENkQnVmZilyZXR1cm47Y29uc3QgVD1yKyh0Pj02Py4zOjApLEw9Xy5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdfHwwLFA9Z1tzLkNEXS1nLlJBVElPX0JBU0VEX0NEX0JVRkYsJD1UKlArZCxEdD1UKkwrZDtfLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09Z1tzLkNEXTtjb25zdCBtdD0kLShMP0R0OjApO2cuUkFUSU9fQkFTRURfQ0RfQlVGRis9bXQsdyhnLGgsXyxzLkNELG10KX0sZ3B1OmZ1bmN0aW9uKGcsaCl7Y29uc3QgXz1nLmNoYXJhY3RlckNvbmRpdGlvbmFscyxFPXIrKHQ+PTY/LjM6MCk7cmV0dXJuIEYodGhpcyxgCmlmICgke2l0KF8uc2tpbGxDZEJ1ZmYpfSkgewogIHJldHVybjsKfQoKbGV0IHN0YXRlVmFsdWU6IGYzMiA9ICgqcF9zdGF0ZSkuU3BhcmtsZUNkQ29uZGl0aW9uYWw7CmxldCBjb252ZXJ0aWJsZUNkVmFsdWU6IGYzMiA9ICgqcF94KS5DRCAtICgqcF94KS5SQVRJT19CQVNFRF9DRF9CVUZGOwoKdmFyIGJ1ZmZDRDogZjMyID0gJHtFfSAqIGNvbnZlcnRpYmxlQ2RWYWx1ZSArICR7ZH07CnZhciBzdGF0ZUJ1ZmZDRDogZjMyID0gJHtFfSAqIHN0YXRlVmFsdWUgKyAke2R9OwoKKCpwX3N0YXRlKS5TcGFya2xlQ2RDb25kaXRpb25hbCA9ICgqcF94KS5DRDsKCmxldCBmaW5hbEJ1ZmZDZCA9IGJ1ZmZDRCAtIHNlbGVjdCgwLCBzdGF0ZUJ1ZmZDRCwgc3RhdGVWYWx1ZSA+IDApOwooKnBfeCkuUkFUSU9fQkFTRURfQ0RfQlVGRiArPSBmaW5hbEJ1ZmZDZDsKCmJ1ZmZOb25SYXRpb0R5bmFtaWNDRChmaW5hbEJ1ZmZDZCwgcF94LCBwX3N0YXRlKTsKICAgIGApfX1dfX0sa289KHQsbik9Pntjb25zdHtiYXNpYzplLHNraWxsOmEsdWx0OmksdGFsZW50Om99PWIuVUxUX1RBTEVOVF8zX1NLSUxMX0JBU0lDXzUscj1vKHQsLjIsLjIxKSxkPWkodCwuMywuMzI0KSxTPXQ+PTY/MjoxLEM9ZSh0LDEsMS4xKSxwPWEodCwyLjEsMi4zMSksQj1hKHQsMSwxLjEpLHU9aSh0LDMuMiwzLjQ1NiksYz0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGw9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5TdXNoYW5nLkNvbnRlbnQiKTtyZXR1cm5be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ1bHRCdWZmZWRTdGF0ZSIsbmFtZToidWx0QnVmZmVkU3RhdGUiLHRleHQ6bCgidWx0QnVmZmVkU3RhdGUudGV4dCIpLHRpdGxlOmwoInVsdEJ1ZmZlZFN0YXRlLnRpdGxlIiksY29udGVudDpsKCJ1bHRCdWZmZWRTdGF0ZS5jb250ZW50Iix7dWx0QnVmZmVkQXRrOkQucHJlY2lzaW9uUm91bmQoMTAwKmQpfSl9LHtmb3JtSXRlbToic2xpZGVyIixpZDoic2tpbGxFeHRyYUhpdHMiLG5hbWU6InNraWxsRXh0cmFIaXRzIix0ZXh0OmwoInNraWxsRXh0cmFIaXRzLnRleHQiKSx0aXRsZTpsKCJza2lsbEV4dHJhSGl0cy50aXRsZSIpLGNvbnRlbnQ6bCgic2tpbGxFeHRyYUhpdHMuY29udGVudCIpLG1pbjowLG1heDozfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InNraWxsVHJpZ2dlclN0YWNrcyIsbmFtZToic2tpbGxUcmlnZ2VyU3RhY2tzIix0ZXh0OmwoInNraWxsVHJpZ2dlclN0YWNrcy50ZXh0IiksdGl0bGU6bCgic2tpbGxUcmlnZ2VyU3RhY2tzLnRpdGxlIiksY29udGVudDpsKCJza2lsbFRyaWdnZXJTdGFja3MuY29udGVudCIpLG1pbjowLG1heDoxMH0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0YWxlbnRTcGRCdWZmU3RhY2tzIixuYW1lOiJ0YWxlbnRTcGRCdWZmU3RhY2tzIix0ZXh0OmwoInRhbGVudFNwZEJ1ZmZTdGFja3MudGV4dCIpLHRpdGxlOmwoInRhbGVudFNwZEJ1ZmZTdGFja3MudGl0bGUiKSxjb250ZW50OmwoInRhbGVudFNwZEJ1ZmZTdGFja3MuY29udGVudCIse3RhbGVudFNwZEJ1ZmZWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpyKX0pLG1pbjowLG1heDpTfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUyRG1nUmVkdWN0aW9uQnVmZiIsbmFtZToiZTJEbWdSZWR1Y3Rpb25CdWZmIix0ZXh0OmwoImUyRG1nUmVkdWN0aW9uQnVmZi50ZXh0IiksdGl0bGU6bCgiZTJEbWdSZWR1Y3Rpb25CdWZmLnRpdGxlIiksY29udGVudDpsKCJlMkRtZ1JlZHVjdGlvbkJ1ZmYuY29udGVudCIpLGRpc2FibGVkOnQ8Mn1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+Yyx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe3VsdEJ1ZmZlZFN0YXRlOiEwLGUyRG1nUmVkdWN0aW9uQnVmZjohMCxza2lsbEV4dHJhSGl0czozLHNraWxsVHJpZ2dlclN0YWNrczoxMCx0YWxlbnRTcGRCdWZmU3RhY2tzOlN9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOihsLG0pPT57Y29uc3QgZj1tLmNoYXJhY3RlckNvbmRpdGlvbmFscztsW3MuQkVdKz10Pj00Py40OjAsbFtzLkFUS19QXSs9Zi51bHRCdWZmZWRTdGF0ZT9kOjAsbFtzLlNQRF9QXSs9Zi50YWxlbnRTcGRCdWZmU3RhY2tzKnI7Y29uc3QgZz1wO2xldCBoPTA7aCs9Zi5za2lsbEV4dHJhSGl0cz49MT9COjAsaCs9Zi51bHRCdWZmZWRTdGF0ZSYmZi5za2lsbEV4dHJhSGl0cz49Mj9CKi41OjAsaCs9Zi51bHRCdWZmZWRTdGF0ZSYmZi5za2lsbEV4dHJhSGl0cz49Mz9CKi41OjA7Y29uc3QgXz1oLyhoK2cpO3JldHVybiBsLkJBU0lDX1NDQUxJTkcrPUMsbC5TS0lMTF9TQ0FMSU5HKz1nLGwuU0tJTExfU0NBTElORys9aCxsLlVMVF9TQ0FMSU5HKz11LHkobCx6LGYuc2tpbGxUcmlnZ2VyU3RhY2tzKi4wMjUqXyksbC5ETUdfUkVEX01VTFRJKj10Pj0yJiZmLmUyRG1nUmVkdWN0aW9uQnVmZj8xLS4yOjEsbC5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxsLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLGwuVUxUX1RPVUdITkVTU19ETUcrPTkwLGx9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihsLG0pPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpsPT54KGwpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSxibz0odCxuKT0+e2NvbnN0e2Jhc2ljOmUsc2tpbGw6YSx1bHQ6aSx0YWxlbnQ6b309Yi5VTFRfQkFTSUNfM19TS0lMTF9UQUxFTlRfNSxyPWEodCwuMjUsLjI3KSxkPWkodCwuNSwuNTYpLFM9YSh0LC41LC41NSksQz1hKHQsLjQsLjQ0KSsodD49ND8uMjowKSxwPW8odCwuNiwuNjYpKyh0Pj00Py4yOjApLEI9ZSh0LDEsMS4xKSx1PWEodCwwLDApLGM9aSh0LDAsMCksbD0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGY9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5UaW5neXVuLkNvbnRlbnQiKTtyZXR1cm5be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJiZW5lZGljdGlvbkJ1ZmYiLG5hbWU6ImJlbmVkaWN0aW9uQnVmZiIsdGV4dDpmKCJiZW5lZGljdGlvbkJ1ZmYudGV4dCIpLHRpdGxlOmYoImJlbmVkaWN0aW9uQnVmZi50aXRsZSIpLGNvbnRlbnQ6ZigiYmVuZWRpY3Rpb25CdWZmLmNvbnRlbnQiLHtza2lsbEF0a0Jvb3N0U2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpTKSxza2lsbEF0a0Jvb3N0TWF4OkQucHJlY2lzaW9uUm91bmQoMTAwKnIpLHNraWxsTGlnaHRuaW5nRG1nQm9vc3RTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKkMpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoic2tpbGxTcGRCdWZmIixuYW1lOiJza2lsbFNwZEJ1ZmYiLHRleHQ6Zigic2tpbGxTcGRCdWZmLnRleHQiKSx0aXRsZTpmKCJza2lsbFNwZEJ1ZmYudGl0bGUiKSxjb250ZW50OmYoInNraWxsU3BkQnVmZi5jb250ZW50Iil9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidWx0RG1nQnVmZiIsbmFtZToidWx0RG1nQnVmZiIsdGV4dDpmKCJ1bHREbWdCdWZmLnRleHQiKSx0aXRsZTpmKCJ1bHREbWdCdWZmLnRpdGxlIiksY29udGVudDpmKCJ1bHREbWdCdWZmLmNvbnRlbnQiLHt1bHREbWdCb29zdDpELnByZWNpc2lvblJvdW5kKDEwMCpkKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InVsdFNwZEJ1ZmYiLG5hbWU6InVsdFNwZEJ1ZmYiLHRleHQ6ZigidWx0U3BkQnVmZi50ZXh0IiksdGl0bGU6ZigidWx0U3BkQnVmZi50aXRsZSIpLGNvbnRlbnQ6ZigidWx0U3BkQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6dDwxfV19KSgpLG09KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBmPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuVGluZ3l1bi5UZWFtbWF0ZUNvbnRlbnQiKTtyZXR1cm5bSShsLCJiZW5lZGljdGlvbkJ1ZmYiKSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InRlYW1tYXRlQXRrQnVmZlZhbHVlIixuYW1lOiJ0ZWFtbWF0ZUF0a0J1ZmZWYWx1ZSIsdGV4dDpmKCJ0ZWFtbWF0ZUF0a0J1ZmZWYWx1ZS50ZXh0IiksdGl0bGU6ZigidGVhbW1hdGVBdGtCdWZmVmFsdWUudGl0bGUiKSxjb250ZW50OmYoInRlYW1tYXRlQXRrQnVmZlZhbHVlLmNvbnRlbnQiLHtza2lsbEF0a0Jvb3N0U2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpTKSxza2lsbEF0a0Jvb3N0TWF4OkQucHJlY2lzaW9uUm91bmQoMTAwKnIpLHNraWxsTGlnaHRuaW5nRG1nQm9vc3RTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKkMpfSksbWluOjAsbWF4OlMscGVyY2VudDohMH0sSShsLCJ1bHREbWdCdWZmIiksSShsLCJ1bHRTcGRCdWZmIildfSkoKTtyZXR1cm57Y29udGVudDooKT0+bCx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pm0sZGVmYXVsdHM6KCk9Pih7YmVuZWRpY3Rpb25CdWZmOiExLHNraWxsU3BkQnVmZjohMSx1bHRTcGRCdWZmOiExLHVsdERtZ0J1ZmY6ITF9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2JlbmVkaWN0aW9uQnVmZjohMCx1bHRTcGRCdWZmOiExLHVsdERtZ0J1ZmY6ITAsdGVhbW1hdGVBdGtCdWZmVmFsdWU6U30pLHByZWNvbXB1dGVFZmZlY3RzOihmLGcpPT57Y29uc3QgaD1nLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gZltzLlNQRF9QXSs9aC5za2lsbFNwZEJ1ZmY/LjI6MCxmLkJBU0lDX1NDQUxJTkcrPUIsZi5TS0lMTF9TQ0FMSU5HKz11LGYuVUxUX1NDQUxJTkcrPWMseShmLFcsLjQpLGYuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsZn0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGYsZyk9Pntjb25zdCBoPWcuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2Zbcy5TUERfUF0rPXQ+PTEmJmgudWx0U3BkQnVmZj8uMjowLGYuRUxFTUVOVEFMX0RNRys9aC51bHREbWdCdWZmP2Q6MH0scHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0czooZixnKT0+e2NvbnN0IGg9Zy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7ZltzLkFUS19QXSs9aC5iZW5lZGljdGlvbkJ1ZmY/aC50ZWFtbWF0ZUF0a0J1ZmZWYWx1ZTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooZixnKT0+e2NvbnN0IGg9Zy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7Zi5CQVNJQ19ETUcrPWYuQkFTSUNfU0NBTElORypmW3MuQVRLXSsoaC5iZW5lZGljdGlvbkJ1ZmY/QytwOjApKmZbcy5BVEtdLGYuU0tJTExfRE1HKz1mLlNLSUxMX1NDQUxJTkcqZltzLkFUS10sZi5VTFRfRE1HKz1mLlVMVF9TQ0FMSU5HKmZbcy5BVEtdfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczpmPT57Y29uc3QgZz1mLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm5gCnguQkFTSUNfRE1HICs9IHguQkFTSUNfU0NBTElORyAqIHguQVRLOwppZiAoJHtqKGcuYmVuZWRpY3Rpb25CdWZmKX0pIHsKICB4LkJBU0lDX0RNRyArPSAoJHtDK3B9KSAqIHguQVRLOwp9Cgp4LlNLSUxMX0RNRyArPSB4LlNLSUxMX1NDQUxJTkcgKiB4LkFUSzsKeC5VTFRfRE1HICs9IHguVUxUX1NDQUxJTkcgKiB4LkFUSzsKICAgIGB9LGR5bmFtaWNDb25kaXRpb25hbHM6W3tpZDoiVGluZ3l1bkF0a0NvbmRpdGlvbmFsIix0eXBlOlUuQUJJTElUWSxhY3RpdmF0aW9uOk4uQ09OVElOVU9VUyxkZXBlbmRzT246W3MuQVRLXSxyYXRpb0NvbnZlcnNpb246ITAsY29uZGl0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuITB9LGVmZmVjdDpmdW5jdGlvbihmLGcsaCl7aWYoIWcuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLmJlbmVkaWN0aW9uQnVmZilyZXR1cm47Y29uc3QgRT1oLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF18fDAsVD1mW3MuQVRLXS1mLlJBVElPX0JBU0VEX0FUS19CVUZGLEw9cipULFA9cipFO2guY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXT1mW3MuQVRLXTtjb25zdCAkPUwtKEU/UDowKTtmLlJBVElPX0JBU0VEX0FUS19CVUZGKz0kLHcoZixnLGgscy5BVEssJCl9LGdwdTpmdW5jdGlvbihmLGcpe2NvbnN0IGg9Zi5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIEYodGhpcyxgCmlmICgke2l0KGguYmVuZWRpY3Rpb25CdWZmKX0pIHsKICByZXR1cm47Cn0KCmxldCBzdGF0ZVZhbHVlOiBmMzIgPSAoKnBfc3RhdGUpLlRpbmd5dW5BdGtDb25kaXRpb25hbDsKbGV0IGNvbnZlcnRpYmxlQXRrVmFsdWU6IGYzMiA9ICgqcF94KS5BVEsgLSAoKnBfeCkuUkFUSU9fQkFTRURfQVRLX0JVRkY7Cgp2YXIgYnVmZkFUSzogZjMyID0gJHtyfSAqIGNvbnZlcnRpYmxlQXRrVmFsdWU7CnZhciBzdGF0ZUJ1ZmZBVEs6IGYzMiA9ICR7cn0gKiBzdGF0ZVZhbHVlOwoKKCpwX3N0YXRlKS5UaW5neXVuQXRrQ29uZGl0aW9uYWwgPSAoKnBfeCkuQVRLOwoKbGV0IGZpbmFsQnVmZkF0ayA9IGJ1ZmZBVEsgLSBzZWxlY3QoMCwgc3RhdGVCdWZmQVRLLCBzdGF0ZVZhbHVlID4gMCk7CigqcF94KS5SQVRJT19CQVNFRF9BVEtfQlVGRiArPSBmaW5hbEJ1ZmZBdGs7CgpidWZmTm9uUmF0aW9EeW5hbWljQVRLKGZpbmFsQnVmZkF0aywgcF94LCBwX3N0YXRlKTsKICAgIGApfX1dfX0seW89KHQsbik9Pntjb25zdHtiYXNpYzplLHNraWxsOmEsdWx0OmksdGFsZW50Om99PWIuU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzUscj10Pj02PzM6MixkPWUodCwxLDEuMSksUz1hKHQsLjcyLC43OTIpLEM9aSh0LDEuNSwxLjYyKSxwPW8odCwuNiwuNjYpLEI9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBjPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuV2VsdC5Db250ZW50Iik7cmV0dXJuW3tmb3JtSXRlbToic3dpdGNoIixpZDoiZW5lbXlEbWdUYWtlbkRlYnVmZiIsbmFtZToiZW5lbXlEbWdUYWtlbkRlYnVmZiIsdGV4dDpjKCJlbmVteURtZ1Rha2VuRGVidWZmLnRleHQiKSx0aXRsZTpjKCJlbmVteURtZ1Rha2VuRGVidWZmLnRpdGxlIiksY29udGVudDpjKCJlbmVteURtZ1Rha2VuRGVidWZmLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlbmVteVNsb3dlZCIsbmFtZToiZW5lbXlTbG93ZWQiLHRleHQ6YygiZW5lbXlTbG93ZWQudGV4dCIpLHRpdGxlOmMoImVuZW15U2xvd2VkLnRpdGxlIiksY29udGVudDpjKCJlbmVteVNsb3dlZC5jb250ZW50Iix7dGFsZW50U2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpwKX0pfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InNraWxsRXh0cmFIaXRzIixuYW1lOiJza2lsbEV4dHJhSGl0cyIsdGV4dDpjKCJza2lsbEV4dHJhSGl0cy50ZXh0IiksdGl0bGU6Yygic2tpbGxFeHRyYUhpdHMudGl0bGUiKSxjb250ZW50OmMoInNraWxsRXh0cmFIaXRzLmNvbnRlbnQiLHtza2lsbFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqUyl9KSxtaW46MCxtYXg6cn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMUVuaGFuY2VkU3RhdGUiLG5hbWU6ImUxRW5oYW5jZWRTdGF0ZSIsdGV4dDpjKCJlMUVuaGFuY2VkU3RhdGUudGV4dCIpLHRpdGxlOmMoImUxRW5oYW5jZWRTdGF0ZS50aXRsZSIpLGNvbnRlbnQ6YygiZTFFbmhhbmNlZFN0YXRlLmNvbnRlbnQiKSxkaXNhYmxlZDp0PDF9XX0pKCksdT1bSShCLCJlbmVteURtZ1Rha2VuRGVidWZmIildO3JldHVybntjb250ZW50OigpPT5CLHRlYW1tYXRlQ29udGVudDooKT0+dSxkZWZhdWx0czooKT0+KHtlbmVteVNsb3dlZDohMCxlbmVteURtZ1Rha2VuRGVidWZmOiEwLHNraWxsRXh0cmFIaXRzOnIsZTFFbmhhbmNlZFN0YXRlOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtlbmVteURtZ1Rha2VuRGVidWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGMsbCk9Pntjb25zdCBtPWwuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBjLkVMRU1FTlRBTF9ETUcrPWMuRU5FTVlfV0VBS05FU1NfQlJPS0VOPy4yOjAsYy5CQVNJQ19TQ0FMSU5HKz1kLGMuU0tJTExfU0NBTElORys9UyxjLlVMVF9TQ0FMSU5HKz1DLGMuQkFTSUNfU0NBTElORys9bS5lbmVteVNsb3dlZD9wOjAsYy5TS0lMTF9TQ0FMSU5HKz1tLmVuZW15U2xvd2VkP3A6MCxjLlVMVF9TQ0FMSU5HKz1tLmVuZW15U2xvd2VkP3A6MCxjLkJBU0lDX1NDQUxJTkcrPXQ+PTEmJm0uZTFFbmhhbmNlZFN0YXRlPy41KmQ6MCxjLlNLSUxMX1NDQUxJTkcrPXQ+PTEmJm0uZTFFbmhhbmNlZFN0YXRlPy44KlM6MCxjLlNLSUxMX1NDQUxJTkcrPW0uc2tpbGxFeHRyYUhpdHMqUyxjLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGMuU0tJTExfVE9VR0hORVNTX0RNRys9MzArMzAqbS5za2lsbEV4dHJhSGl0cyxjLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxjfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooYyxsKT0+e2NvbnN0IG09bC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7Yy5WVUxORVJBQklMSVRZKz1tLmVuZW15RG1nVGFrZW5EZWJ1ZmY/LjEyOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOmM9PngoYyksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19LFJvPSh0LG4pPT57Y29uc3R7YmFzaWM6ZSxza2lsbDphLHVsdDppLHRhbGVudDpvfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LHI9aSh0LC42LC42NDgpLGQ9ZSh0LDEsMS4xKSxTPWEodCwxLjQsMS41NCksQz1pKHQsMi41LDIuNykscD1vKHQsLjksLjk5KSxCPXswOjAsMTpSKigxKjEvMSksMjpSKigxKjEvMisyKjEvMiksMzpSKigxKjEvMysyKjEvMyszKjEvMyl9LHU9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBjPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuWHVleWkuQ29udGVudCIpO3JldHVyblt7aWQ6ImJlVG9EbWdCb29zdCIsbmFtZToiYmVUb0RtZ0Jvb3N0Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmMoImJlVG9EbWdCb29zdC50ZXh0IiksdGl0bGU6YygiYmVUb0RtZ0Jvb3N0LnRpdGxlIiksY29udGVudDpjKCJiZVRvRG1nQm9vc3QuY29udGVudCIpfSx7aWQ6ImVuZW15VG91Z2huZXNzNTAiLG5hbWU6ImVuZW15VG91Z2huZXNzNTAiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6YygiZW5lbXlUb3VnaG5lc3M1MC50ZXh0IiksdGl0bGU6YygiZW5lbXlUb3VnaG5lc3M1MC50aXRsZSIpLGNvbnRlbnQ6YygiZW5lbXlUb3VnaG5lc3M1MC5jb250ZW50Iil9LHtpZDoidG91Z2huZXNzUmVkdWN0aW9uRG1nQm9vc3QiLG5hbWU6InRvdWdobmVzc1JlZHVjdGlvbkRtZ0Jvb3N0Iixmb3JtSXRlbToic2xpZGVyIix0ZXh0OmMoInRvdWdobmVzc1JlZHVjdGlvbkRtZ0Jvb3N0LnRleHQiKSx0aXRsZTpjKCJ0b3VnaG5lc3NSZWR1Y3Rpb25EbWdCb29zdC50aXRsZSIpLGNvbnRlbnQ6YygidG91Z2huZXNzUmVkdWN0aW9uRG1nQm9vc3QuY29udGVudCIse3VsdEJvb3N0TWF4OkQucHJlY2lzaW9uUm91bmQoMTAwKnIpfSksbWluOjAsbWF4OnIscGVyY2VudDohMH0se2lkOiJmdWFIaXRzIixuYW1lOiJmdWFIaXRzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OmMoImZ1YUhpdHMudGV4dCIpLHRpdGxlOmMoImZ1YUhpdHMudGl0bGUiKSxjb250ZW50OmMoImZ1YUhpdHMuY29udGVudCIse2Z1YVNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqcCl9KSxtaW46MCxtYXg6M30se2lkOiJlNEJlQnVmZiIsbmFtZToiZTRCZUJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6YygiZTRCZUJ1ZmYudGV4dCIpLHRpdGxlOmMoImU0QmVCdWZmLnRpdGxlIiksY29udGVudDpjKCJlNEJlQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6dDw0fV19KSgpO3JldHVybntjb250ZW50OigpPT51LHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7YmVUb0RtZ0Jvb3N0OiEwLGVuZW15VG91Z2huZXNzNTA6ITAsdG91Z2huZXNzUmVkdWN0aW9uRG1nQm9vc3Q6cixmdWFIaXRzOjMsZTRCZUJ1ZmY6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOihjLGwpPT57Y29uc3QgbT1sLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gY1tzLkJFXSs9dD49NCYmbS5lNEJlQnVmZj8uNDowLGMuQkFTSUNfU0NBTElORys9ZCxjLlNLSUxMX1NDQUxJTkcrPVMsYy5VTFRfU0NBTElORys9QyxjLkZVQV9TQ0FMSU5HKz1wKm0uZnVhSGl0cyx5KGMsTyxtLnRvdWdobmVzc1JlZHVjdGlvbkRtZ0Jvb3N0KSx5KGMsTywuMSxtLmVuZW15VG91Z2huZXNzNTApLHkoYyxNLC40LHQ+PTEpLGMuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsYy5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxjLlVMVF9UT1VHSE5FU1NfRE1HKz0xMjAsYy5GVUFfVE9VR0hORVNTX0RNRys9MTUqbS5mdWFIaXRzLGN9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihjLGwpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooYyxsKT0+e1ooYyxsLEJbbC5jaGFyYWN0ZXJDb25kaXRpb25hbHMuZnVhSGl0c10pfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczpjPT5xKEJbYy5jaGFyYWN0ZXJDb25kaXRpb25hbHMuZnVhSGl0c10pLGR5bmFtaWNDb25kaXRpb25hbHM6W0ZhXX19LEdvPSh0LG4pPT57Y29uc3R7YmFzaWM6ZSxza2lsbDphLHVsdDppLHRhbGVudDpvfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LHI9aSh0LC41LC41NCksZD1pKHQsLjMsLjMzKSxTPWkodCwuMiwuMjEpLEM9ZSh0LDEsMS4xKSxwPWEodCwyLjIsMi40MiksQj1pKHQsMy41LDMuNzgpLHU9byh0LC41LC41NSksYz1SKigxKjEvMSksbD0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IG09QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5ZYW5xaW5nLkNvbnRlbnQiKTtyZXR1cm5be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ1bHRCdWZmQWN0aXZlIixuYW1lOiJ1bHRCdWZmQWN0aXZlIix0ZXh0Om0oInVsdEJ1ZmZBY3RpdmUudGV4dCIpLHRpdGxlOm0oInVsdEJ1ZmZBY3RpdmUudGl0bGUiKSxjb250ZW50Om0oInVsdEJ1ZmZBY3RpdmUuY29udGVudCIse3VsdENkQnVmZlZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKnIpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoic291bHN0ZWVsQnVmZkFjdGl2ZSIsbmFtZToic291bHN0ZWVsQnVmZkFjdGl2ZSIsdGV4dDptKCJzb3Vsc3RlZWxCdWZmQWN0aXZlLnRleHQiKSx0aXRsZTptKCJzb3Vsc3RlZWxCdWZmQWN0aXZlLnRpdGxlIiksY29udGVudDptKCJzb3Vsc3RlZWxCdWZmQWN0aXZlLmNvbnRlbnQiLHt0YWxlbnRDZEJ1ZmZWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpkKSx0YWxlbnRDckJ1ZmZWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpTKSx1bHRDZEJ1ZmZWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpyKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImNyaXRTcGRCdWZmIixuYW1lOiJjcml0U3BkQnVmZiIsdGV4dDptKCJjcml0U3BkQnVmZi50ZXh0IiksdGl0bGU6bSgiY3JpdFNwZEJ1ZmYudGl0bGUiKSxjb250ZW50Om0oImNyaXRTcGRCdWZmLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMVRhcmdldEZyb3plbiIsbmFtZToiZTFUYXJnZXRGcm96ZW4iLHRleHQ6bSgiZTFUYXJnZXRGcm96ZW4udGV4dCIpLHRpdGxlOm0oImUxVGFyZ2V0RnJvemVuLnRpdGxlIiksY29udGVudDptKCJlMVRhcmdldEZyb3plbi5jb250ZW50IiksZGlzYWJsZWQ6dDwxfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU0Q3VycmVudEhwODAiLG5hbWU6ImU0Q3VycmVudEhwODAiLHRleHQ6bSgiZTRDdXJyZW50SHA4MC50ZXh0IiksdGl0bGU6bSgiZTRDdXJyZW50SHA4MC50aXRsZSIpLGNvbnRlbnQ6bSgiZTRDdXJyZW50SHA4MC5jb250ZW50IiksZGlzYWJsZWQ6dDw0fV19KSgpO3JldHVybntjb250ZW50OigpPT5sLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7dWx0QnVmZkFjdGl2ZTohMCxzb3Vsc3RlZWxCdWZmQWN0aXZlOiEwLGNyaXRTcGRCdWZmOiEwLGUxVGFyZ2V0RnJvemVuOiEwLGU0Q3VycmVudEhwODA6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOihtLGYpPT57Y29uc3QgZz1mLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gbVtzLkNSXSs9Zy51bHRCdWZmQWN0aXZlPy42OjAsbVtzLkNEXSs9Zy51bHRCdWZmQWN0aXZlJiZnLnNvdWxzdGVlbEJ1ZmZBY3RpdmU/cjowLG1bcy5DUl0rPWcuc291bHN0ZWVsQnVmZkFjdGl2ZT9TOjAsbVtzLkNEXSs9Zy5zb3Vsc3RlZWxCdWZmQWN0aXZlP2Q6MCxtW3MuUkVTXSs9Zy5zb3Vsc3RlZWxCdWZmQWN0aXZlPy4yOjAsbVtzLlNQRF9QXSs9Zy5jcml0U3BkQnVmZj8uMTowLG1bcy5FUlJdKz10Pj0yJiZnLnNvdWxzdGVlbEJ1ZmZBY3RpdmU/LjE6MCxtLkJBU0lDX1NDQUxJTkcrPUMsbS5TS0lMTF9TQ0FMSU5HKz1wLG0uVUxUX1NDQUxJTkcrPUIsbS5GVUFfU0NBTElORys9dSxtLkJBU0lDX1NDQUxJTkcrPWYuZW5lbXlFbGVtZW50YWxXZWFrPy4zOjAsbS5TS0lMTF9TQ0FMSU5HKz1mLmVuZW15RWxlbWVudGFsV2Vhaz8uMzowLG0uVUxUX1NDQUxJTkcrPWYuZW5lbXlFbGVtZW50YWxXZWFrPy4zOjAsbS5GVUFfU0NBTElORys9Zi5lbmVteUVsZW1lbnRhbFdlYWs/LjM6MCxtLkJBU0lDX1NDQUxJTkcrPXQ+PTEmJmcuZTFUYXJnZXRGcm96ZW4/LjY6MCxtLlNLSUxMX1NDQUxJTkcrPXQ+PTEmJmcuZTFUYXJnZXRGcm96ZW4/LjY6MCxtLlVMVF9TQ0FMSU5HKz10Pj0xJiZnLmUxVGFyZ2V0RnJvemVuPy42OjAsbS5GVUFfU0NBTElORys9dD49MSYmZy5lMVRhcmdldEZyb3plbj8uNjowLG0uSUNFX1JFU19QRU4rPXQ+PTQmJmcuZTRDdXJyZW50SHA4MD8uMTI6MCxtLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLG0uU0tJTExfVE9VR0hORVNTX0RNRys9NjAsbS5VTFRfVE9VR0hORVNTX0RNRys9OTAsbS5GVUFfVE9VR0hORVNTX0RNRys9MzAsbX0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KG0sZik9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihtLGYpPT57WihtLGYsYyl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOm09PnEoYyl9fSxNbz0odCxuKT0+e2NvbnN0e2Jhc2ljOmUsc2tpbGw6YSx1bHQ6aSx0YWxlbnQ6b309Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxyPWEodCwuOCwuODgpLGQ9YSh0LC42NSwuNzAyKSxTPWEodCwuMjgsLjI5NCksQz1vKHQsLjgsLjg4KSxwPWUodCwxLDEuMSksQj1hKHQsMCwwKSx1PWkodCwzLjgsNC4xMDQpLGM9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBtPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuWXVrb25nLkNvbnRlbnQiKTtyZXR1cm5be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0ZWFtSW1hZ2luYXJ5RG1nQm9vc3QiLG5hbWU6InRlYW1JbWFnaW5hcnlEbWdCb29zdCIsdGV4dDptKCJ0ZWFtSW1hZ2luYXJ5RG1nQm9vc3QudGV4dCIpLHRpdGxlOm0oInRlYW1JbWFnaW5hcnlEbWdCb29zdC50aXRsZSIpLGNvbnRlbnQ6bSgidGVhbUltYWdpbmFyeURtZ0Jvb3N0LmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJyb2FyaW5nQm93c3RyaW5nc0FjdGl2ZSIsbmFtZToicm9hcmluZ0Jvd3N0cmluZ3NBY3RpdmUiLHRleHQ6bSgicm9hcmluZ0Jvd3N0cmluZ3NBY3RpdmUudGV4dCIpLHRpdGxlOm0oInJvYXJpbmdCb3dzdHJpbmdzQWN0aXZlLnRpdGxlIiksY29udGVudDptKCJyb2FyaW5nQm93c3RyaW5nc0FjdGl2ZS5jb250ZW50Iix7c2tpbGxBdGtCdWZmVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqcil9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ1bHRCdWZmIixuYW1lOiJ1bHRCdWZmIix0ZXh0Om0oInVsdEJ1ZmYudGV4dCIpLHRpdGxlOm0oInVsdEJ1ZmYudGl0bGUiKSxjb250ZW50Om0oInVsdEJ1ZmYuY29udGVudCIse3VsdENyQnVmZlZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKlMpLHVsdENkQnVmZlZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKmQpLHVsdFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqdSl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJpbml0aWFsU3BlZWRCdWZmIixuYW1lOiJpbml0aWFsU3BlZWRCdWZmIix0ZXh0Om0oImluaXRpYWxTcGVlZEJ1ZmYudGV4dCIpLHRpdGxlOm0oImluaXRpYWxTcGVlZEJ1ZmYudGl0bGUiKSxjb250ZW50Om0oImluaXRpYWxTcGVlZEJ1ZmYuY29udGVudCIpLGRpc2FibGVkOnQ8MX1dfSkoKSxsPW4/W106W0koYywidGVhbUltYWdpbmFyeURtZ0Jvb3N0IiksSShjLCJyb2FyaW5nQm93c3RyaW5nc0FjdGl2ZSIpLEkoYywidWx0QnVmZiIpLEkoYywiaW5pdGlhbFNwZWVkQnVmZiIpXTtyZXR1cm57Y29udGVudDooKT0+Yyx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmwsZGVmYXVsdHM6KCk9Pih7dGVhbUltYWdpbmFyeURtZ0Jvb3N0OiEwLHJvYXJpbmdCb3dzdHJpbmdzQWN0aXZlOiEwLHVsdEJ1ZmY6ITAsaW5pdGlhbFNwZWVkQnVmZjohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7dGVhbUltYWdpbmFyeURtZ0Jvb3N0OiEwLHJvYXJpbmdCb3dzdHJpbmdzQWN0aXZlOiEwLHVsdEJ1ZmY6ITAsaW5pdGlhbFNwZWVkQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihtLGYpPT57Y29uc3QgZz1mLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gbS5CQVNJQ19TQ0FMSU5HKz1wLG0uQkFTSUNfU0NBTElORys9QyxtLlNLSUxMX1NDQUxJTkcrPUIsbS5VTFRfU0NBTElORys9dSxtLkVMRU1FTlRBTF9ETUcrPXQ+PTQmJmcucm9hcmluZ0Jvd3N0cmluZ3NBY3RpdmU/LjM6MCxtLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLG0uVUxUX1RPVUdITkVTU19ETUcrPTkwLG19LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihtLGYpPT57Y29uc3QgZz1mLmNoYXJhY3RlckNvbmRpdGlvbmFsczttW3MuQVRLX1BdKz1nLnJvYXJpbmdCb3dzdHJpbmdzQWN0aXZlP3I6MCxtW3MuQ1JdKz1nLnVsdEJ1ZmYmJmcucm9hcmluZ0Jvd3N0cmluZ3NBY3RpdmU/UzowLG1bcy5DRF0rPWcudWx0QnVmZiYmZy5yb2FyaW5nQm93c3RyaW5nc0FjdGl2ZT9kOjAsbVtzLlNQRF9QXSs9dD49MSYmZy5pbml0aWFsU3BlZWRCdWZmPy4xOjAsbVtzLkltYWdpbmFyeV9ETUddKz1nLnRlYW1JbWFnaW5hcnlEbWdCb29zdD8uMTI6MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6bT0+eChtKSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpfX0sdm89KHQsbik9Pntjb25zdHtiYXNpYzplLHNraWxsOmEsdWx0OmksdGFsZW50Om99PWIuVUxUX0JBU0lDXzNfU0tJTExfVEFMRU5UXzUscj1lKHQsMSwxLjEpLGQ9YSh0LDEuNiwxLjc2KSxTPWkodCwuMjQsLjI1OTIpLEM9aSh0LC4xNSwuMTYyKSxwPWkodCwxLjIsMS4yOTYpLEI9LjI1LHU9byh0LC4yLC4yMiksYz05LGw9dD49Mj8xOjIsbT17MDowLDE6dD49Mj8uNjouMTUsMjouNn0sZj0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGg9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5BY2hlcm9uLkNvbnRlbnQiKTtyZXR1cm5be2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJjcmltc29uS25vdFN0YWNrcyIsbmFtZToiY3JpbXNvbktub3RTdGFja3MiLHRleHQ6aCgiY3JpbXNvbktub3RTdGFja3MudGV4dCIpLHRpdGxlOmgoImNyaW1zb25Lbm90U3RhY2tzLnRpdGxlIiksY29udGVudDpoKCJjcmltc29uS25vdFN0YWNrcy5jb250ZW50Iix7UmFpbmJsYWRlU2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpTKSxDcmltc29uS25vdFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqQyl9KSxtaW46MCxtYXg6Y30se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJuaWhpbGl0eVRlYW1tYXRlcyIsbmFtZToibmloaWxpdHlUZWFtbWF0ZXMiLHRleHQ6aCgibmloaWxpdHlUZWFtbWF0ZXMudGV4dCIpLHRpdGxlOmgoIm5paGlsaXR5VGVhbW1hdGVzLnRpdGxlIiksY29udGVudDpoKCJuaWhpbGl0eVRlYW1tYXRlcy5jb250ZW50IiksbWluOjAsbWF4Omx9LHtmb3JtSXRlbToic2xpZGVyIixpZDoidGh1bmRlckNvcmVTdGFja3MiLG5hbWU6InRodW5kZXJDb3JlU3RhY2tzIix0ZXh0OmgoInRodW5kZXJDb3JlU3RhY2tzLnRleHQiKSx0aXRsZTpoKCJ0aHVuZGVyQ29yZVN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6aCgidGh1bmRlckNvcmVTdGFja3MuY29udGVudCIpLG1pbjowLG1heDozfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InN0eWdpYW5SZXN1cmdlSGl0c09uVGFyZ2V0IixuYW1lOiJzdHlnaWFuUmVzdXJnZUhpdHNPblRhcmdldCIsdGV4dDpoKCJzdHlnaWFuUmVzdXJnZUhpdHNPblRhcmdldC50ZXh0IiksdGl0bGU6aCgic3R5Z2lhblJlc3VyZ2VIaXRzT25UYXJnZXQudGl0bGUiKSxjb250ZW50OmgoInN0eWdpYW5SZXN1cmdlSGl0c09uVGFyZ2V0LmNvbnRlbnQiKSxtaW46MCxtYXg6Nn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMUVuZW15RGVidWZmZWQiLG5hbWU6ImUxRW5lbXlEZWJ1ZmZlZCIsdGV4dDpoKCJlMUVuZW15RGVidWZmZWQudGV4dCIpLHRpdGxlOmgoImUxRW5lbXlEZWJ1ZmZlZC50aXRsZSIpLGNvbnRlbnQ6aCgiZTFFbmVteURlYnVmZmVkLmNvbnRlbnQiKSxkaXNhYmxlZDp0PDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTRVbHRWdWxuZXJhYmlsaXR5IixuYW1lOiJlNFVsdFZ1bG5lcmFiaWxpdHkiLHRleHQ6aCgiZTRVbHRWdWxuZXJhYmlsaXR5LnRleHQiKSx0aXRsZTpoKCJlNFVsdFZ1bG5lcmFiaWxpdHkudGl0bGUiKSxjb250ZW50OmgoImU0VWx0VnVsbmVyYWJpbGl0eS5jb250ZW50IiksZGlzYWJsZWQ6dDw0fSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2VWx0QnVmZnMiLG5hbWU6ImU2VWx0QnVmZnMiLHRleHQ6aCgiZTZVbHRCdWZmcy50ZXh0IiksdGl0bGU6aCgiZTZVbHRCdWZmcy50aXRsZSIpLGNvbnRlbnQ6aCgiZTZVbHRCdWZmcy5jb250ZW50IiksZGlzYWJsZWQ6dDw2fV19KSgpLGc9bj9bXTpbSShmLCJlNFVsdFZ1bG5lcmFiaWxpdHkiKV07cmV0dXJue2NvbnRlbnQ6KCk9PmYsdGVhbW1hdGVDb250ZW50OigpPT5nLGRlZmF1bHRzOigpPT4oe2NyaW1zb25Lbm90U3RhY2tzOmMsbmloaWxpdHlUZWFtbWF0ZXM6bCxlMUVuZW15RGVidWZmZWQ6ITAsdGh1bmRlckNvcmVTdGFja3M6MyxzdHlnaWFuUmVzdXJnZUhpdHNPblRhcmdldDo2LGU0VWx0VnVsbmVyYWJpbGl0eTohMCxlNlVsdEJ1ZmZzOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtlNFVsdFZ1bG5lcmFiaWxpdHk6ITB9KSxpbml0aWFsaXplQ29uZmlndXJhdGlvbnM6KGgsXyk9Pntjb25zdCBFPV8uY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3Q+PTYmJkUuZTZVbHRCdWZmcyYmKGguQkFTSUNfRE1HX1RZUEU9T3xXLGguU0tJTExfRE1HX1RZUEU9T3x6KX0scHJlY29tcHV0ZUVmZmVjdHM6KGgsXyk9Pntjb25zdCBFPV8uY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2hbcy5DUl0rPXQ+PTEmJkUuZTFFbmVteURlYnVmZmVkPy4xODowLGguRUxFTUVOVEFMX0RNRys9RS50aHVuZGVyQ29yZVN0YWNrcyouMyxJdChoLE8sdSksSXQoaCxPLC4yLHQ+PTYmJkUuZTZVbHRCdWZmcyk7Y29uc3QgVD1tW0UubmloaWxpdHlUZWFtbWF0ZXNdO3JldHVybiBoLkJBU0lDX09SSUdJTkFMX0RNR19CT09TVCs9VCxoLlNLSUxMX09SSUdJTkFMX0RNR19CT09TVCs9VCxoLlVMVF9PUklHSU5BTF9ETUdfQk9PU1QrPVQsaC5CQVNJQ19TQ0FMSU5HPXIsaC5TS0lMTF9TQ0FMSU5HPWQsaC5VTFRfU0NBTElORys9MypTLGguVUxUX1NDQUxJTkcrPTMqQyxoLlVMVF9TQ0FMSU5HKz1DKkUuY3JpbXNvbktub3RTdGFja3MsaC5VTFRfU0NBTElORys9cCxoLlVMVF9TQ0FMSU5HKz1FLnN0eWdpYW5SZXN1cmdlSGl0c09uVGFyZ2V0KkIsaC5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxoLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLGguVUxUX1RPVUdITkVTU19ETUcrPTEwNSxofSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooaCxfKT0+e2NvbnN0IEU9Xy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7YXQoaCxPLC4wOCx0Pj00JiZFLmU0VWx0VnVsbmVyYWJpbGl0eSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOmg9PngoaCksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19LE5vPSh0LG4pPT57Y29uc3R7YmFzaWM6ZSx1bHQ6YSx0YWxlbnQ6aX09Yi5VTFRfQkFTSUNfM19TS0lMTF9UQUxFTlRfNSxvPWUodCwxLDEuMSkscj1hKHQsMi43LDIuOTE2KSxkPWEodCwuMTUsLjE2MiksUz1pKHQsLjI1LC4yNzUpLEM9aSh0LC41LC41NSkscD10Pj00PzEwOjcsQj0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGM9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5BdmVudHVyaW5lLkNvbnRlbnQiKTtyZXR1cm5be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJkZWZUb0NyQm9vc3QiLG5hbWU6ImRlZlRvQ3JCb29zdCIsdGV4dDpjKCJkZWZUb0NyQm9vc3QudGV4dCIpLHRpdGxlOmMoImRlZlRvQ3JCb29zdC50aXRsZSIpLGNvbnRlbnQ6YygiZGVmVG9DckJvb3N0LmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJmb3J0aWZpZWRXYWdlckJ1ZmYiLG5hbWU6ImZvcnRpZmllZFdhZ2VyQnVmZiIsdGV4dDpjKCJmb3J0aWZpZWRXYWdlckJ1ZmYudGV4dCIpLHRpdGxlOmMoImZvcnRpZmllZFdhZ2VyQnVmZi50aXRsZSIpLGNvbnRlbnQ6YygiZm9ydGlmaWVkV2FnZXJCdWZmLmNvbnRlbnQiLHt0YWxlbnRSZXNTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKkMpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZW5lbXlVbm5lcnZlZERlYnVmZiIsbmFtZToiZW5lbXlVbm5lcnZlZERlYnVmZiIsdGV4dDpjKCJlbmVteVVubmVydmVkRGVidWZmLnRleHQiKSx0aXRsZTpjKCJlbmVteVVubmVydmVkRGVidWZmLnRpdGxlIiksY29udGVudDpjKCJlbmVteVVubmVydmVkRGVidWZmLmNvbnRlbnQiLHt1bHRDZEJvb3N0OkQucHJlY2lzaW9uUm91bmQoMTAwKmQpfSl9LHtmb3JtSXRlbToic2xpZGVyIixpZDoiZnVhSGl0c09uVGFyZ2V0IixuYW1lOiJmdWFIaXRzT25UYXJnZXQiLHRleHQ6YygiZnVhSGl0c09uVGFyZ2V0LnRleHQiKSx0aXRsZTpjKCJmdWFIaXRzT25UYXJnZXQudGl0bGUiKSxjb250ZW50OmMoImZ1YUhpdHNPblRhcmdldC5jb250ZW50Iix7dGFsZW50RG1nU2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpTKX0pLG1pbjowLG1heDpwfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUyUmVzU2hyZWQiLG5hbWU6ImUyUmVzU2hyZWQiLHRleHQ6YygiZTJSZXNTaHJlZC50ZXh0IiksdGl0bGU6YygiZTJSZXNTaHJlZC50aXRsZSIpLGNvbnRlbnQ6YygiZTJSZXNTaHJlZC5jb250ZW50IiksZGlzYWJsZWQ6dDwyfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU0RGVmQnVmZiIsbmFtZToiZTREZWZCdWZmIix0ZXh0OmMoImU0RGVmQnVmZi50ZXh0IiksdGl0bGU6YygiZTREZWZCdWZmLnRpdGxlIiksY29udGVudDpjKCJlNERlZkJ1ZmYuY29udGVudCIpLGRpc2FibGVkOnQ8NH0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJlNlNoaWVsZFN0YWNrcyIsbmFtZToiZTZTaGllbGRTdGFja3MiLHRleHQ6YygiZTZTaGllbGRTdGFja3MudGV4dCIpLHRpdGxlOmMoImU2U2hpZWxkU3RhY2tzLnRpdGxlIiksY29udGVudDpjKCJlNlNoaWVsZFN0YWNrcy5jb250ZW50IiksbWluOjAsbWF4OjMsZGlzYWJsZWQ6dDw2fV19KSgpLHU9bj9bXTpbSShCLCJmb3J0aWZpZWRXYWdlckJ1ZmYiKSxJKEIsImVuZW15VW5uZXJ2ZWREZWJ1ZmYiKSxJKEIsImUyUmVzU2hyZWQiKV07cmV0dXJue2NvbnRlbnQ6KCk9PkIsdGVhbW1hdGVDb250ZW50OigpPT51LGRlZmF1bHRzOigpPT4oe2RlZlRvQ3JCb29zdDohMCxmdWFIaXRzT25UYXJnZXQ6cCxmb3J0aWZpZWRXYWdlckJ1ZmY6ITAsZW5lbXlVbm5lcnZlZERlYnVmZjohMCxlMlJlc1NocmVkOiEwLGU0RGVmQnVmZjohMCxlNlNoaWVsZFN0YWNrczozfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtmb3J0aWZpZWRXYWdlckJ1ZmY6ITAsZW5lbXlVbm5lcnZlZERlYnVmZjohMCxlMlJlc1NocmVkOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGMsbCk9Pntjb25zdCBtPWwuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBjW3MuREVGX1BdKz10Pj00JiZtLmU0RGVmQnVmZj8uNDowLGMuRUxFTUVOVEFMX0RNRys9dD49Nj9NYXRoLm1pbigxLjUsLjUqbS5lNlNoaWVsZFN0YWNrcyk6MCxjLkJBU0lDX1NDQUxJTkcrPW8sYy5VTFRfU0NBTElORys9cixjLkZVQV9TQ0FMSU5HKz1TKm0uZnVhSGl0c09uVGFyZ2V0LGMuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsYy5VTFRfVE9VR0hORVNTX0RNRys9OTAsYy5GVUFfVE9VR0hORVNTX0RNRys9MTAqbS5mdWFIaXRzT25UYXJnZXQsY30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGMsbCk9Pntjb25zdCBtPWwuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2Nbcy5SRVNdKz1tLmZvcnRpZmllZFdhZ2VyQnVmZj9DOjAsY1tzLkNEXSs9bS5lbmVteVVubmVydmVkRGVidWZmP2Q6MCxjW3MuQ0RdKz10Pj0xJiZtLmZvcnRpZmllZFdhZ2VyQnVmZj8uMjowLGMuUkVTX1BFTis9dD49MiYmbS5lMlJlc1NocmVkPy4xMjowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooYyxsKT0+e2MuQkFTSUNfRE1HKz1jLkJBU0lDX1NDQUxJTkcqY1tzLkRFRl0sYy5VTFRfRE1HKz1jLlVMVF9TQ0FMSU5HKmNbcy5ERUZdLGMuRlVBX0RNRys9Yy5GVUFfU0NBTElORypjW3MuREVGXX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PmAKeC5CQVNJQ19ETUcgKz0geC5CQVNJQ19TQ0FMSU5HICogeC5ERUY7CnguVUxUX0RNRyArPSB4LlVMVF9TQ0FMSU5HICogeC5ERUY7CnguRlVBX0RNRyArPSB4LkZVQV9TQ0FMSU5HICogeC5ERUY7CiAgICAgIGAsZHluYW1pY0NvbmRpdGlvbmFsczpbVWFdfX0sT289KHQsbik9Pntjb25zdHtiYXNpYzplLHRhbGVudDphfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LGk9ZSh0LDEsMS4xKSxvPWUodCwyLjUsMi43NSkscj1lKHQsMS41LDEuNjUpLGQ9YSh0LC4xMiwuMTMyKSxTPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgcD1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLkdhbGxhZ2hlci5Db250ZW50Iik7cmV0dXJuW3tmb3JtSXRlbToic3dpdGNoIixpZDoiYmFzaWNFbmhhbmNlZCIsbmFtZToiYmFzaWNFbmhhbmNlZCIsdGV4dDpwKCJiYXNpY0VuaGFuY2VkLnRleHQiKSx0aXRsZTpwKCJiYXNpY0VuaGFuY2VkLnRpdGxlIiksY29udGVudDpwKCJiYXNpY0VuaGFuY2VkLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJicmVha0VmZmVjdFRvT2hiQm9vc3QiLG5hbWU6ImJyZWFrRWZmZWN0VG9PaGJCb29zdCIsdGV4dDpwKCJicmVha0VmZmVjdFRvT2hiQm9vc3QudGV4dCIpLHRpdGxlOnAoImJyZWFrRWZmZWN0VG9PaGJCb29zdC50aXRsZSIpLGNvbnRlbnQ6cCgiYnJlYWtFZmZlY3RUb09oYkJvb3N0LmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0YXJnZXRCZXNvdHRlZCIsbmFtZToidGFyZ2V0QmVzb3R0ZWQiLHRleHQ6cCgidGFyZ2V0QmVzb3R0ZWQudGV4dCIpLHRpdGxlOnAoInRhcmdldEJlc290dGVkLnRpdGxlIiksY29udGVudDpwKCJ0YXJnZXRCZXNvdHRlZC5jb250ZW50Iix7dGFsZW50QmVzb3R0ZWRTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKmQpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTFSZXNCdWZmIixuYW1lOiJlMVJlc0J1ZmYiLHRleHQ6cCgiZTFSZXNCdWZmLnRleHQiKSx0aXRsZTpwKCJlMVJlc0J1ZmYudGl0bGUiKSxjb250ZW50OnAoImUxUmVzQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6dDwxfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUyUmVzQnVmZiIsbmFtZToiZTJSZXNCdWZmIix0ZXh0OnAoImUyUmVzQnVmZi50ZXh0IiksdGl0bGU6cCgiZTJSZXNCdWZmLnRpdGxlIiksY29udGVudDpwKCJlMlJlc0J1ZmYuY29udGVudCIpLGRpc2FibGVkOnQ8Mn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNkJlQnVmZiIsbmFtZToiZTZCZUJ1ZmYiLHRleHQ6cCgiZTZCZUJ1ZmYudGV4dCIpLHRpdGxlOnAoImU2QmVCdWZmLnRpdGxlIiksY29udGVudDpwKCJlNkJlQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6dDw2fV19KSgpLEM9bj9bXTpbSShTLCJ0YXJnZXRCZXNvdHRlZCIpXTtyZXR1cm57Y29udGVudDooKT0+Uyx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PkMsZGVmYXVsdHM6KCk9Pih7YmFzaWNFbmhhbmNlZDohMCxicmVha0VmZmVjdFRvT2hiQm9vc3Q6ITAsZTFSZXNCdWZmOiEwLGUyUmVzQnVmZjohMCxlNkJlQnVmZjohMCx0YXJnZXRCZXNvdHRlZDohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7dGFyZ2V0QmVzb3R0ZWQ6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoocCxCKT0+e2NvbnN0IHU9Qi5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIHBbcy5SRVNdKz10Pj0xJiZ1LmUxUmVzQnVmZj8uNTowLHBbcy5SRVNdKz10Pj0yJiZ1LmUyUmVzQnVmZj8uMzowLHBbcy5CRV0rPXQ+PTY/LjI6MCxwLkJSRUFLX0VGRklDSUVOQ1lfQk9PU1QrPXQ+PTY/LjI6MCxwLkJBU0lDX1NDQUxJTkcrPXUuYmFzaWNFbmhhbmNlZD9vOmkscC5VTFRfU0NBTElORys9cixwLkJBU0lDX1RPVUdITkVTU19ETUcrPXUuYmFzaWNFbmhhbmNlZD85MDozMCxwLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxwfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoocCxCKT0+e2NvbnN0IHU9Qi5jaGFyYWN0ZXJDb25kaXRpb25hbHM7YXQocCxUdCxkLHUudGFyZ2V0QmVzb3R0ZWQpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpwPT54KHApLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCksZHluYW1pY0NvbmRpdGlvbmFsczpbemFdfX0sUG89KHQsbik9Pntjb25zdHtiYXNpYzplLHNraWxsOmEsdWx0OmksdGFsZW50Om99PWIuU0tJTExfVUxUXzNfQkFTSUNfVEFMRU5UXzUscj1hKHQsLjUsLjU1KSxkPW8odCwuMiwuMjMpLFM9aSh0LC4yMjgsLjI0MzIpLEM9aSh0LDIwMCwyMzApLHA9ZSh0LDEsMS4xKSxCPWkodCwxLjIsMS4yOTYpLHU9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBtPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuUm9iaW4uQ29udGVudCIpO3JldHVyblt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImNvbmNlcnRvQWN0aXZlIixuYW1lOiJjb25jZXJ0b0FjdGl2ZSIsdGV4dDptKCJjb25jZXJ0b0FjdGl2ZS50ZXh0IiksdGl0bGU6bSgiY29uY2VydG9BY3RpdmUudGl0bGUiKSxjb250ZW50Om0oImNvbmNlcnRvQWN0aXZlLmNvbnRlbnQiLHt1bHRBdGtCdWZmU2NhbGluZ1ZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKlMpLHVsdEF0a0J1ZmZGbGF0VmFsdWU6Qyx1bHRTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKkIpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoic2tpbGxEbWdCdWZmIixuYW1lOiJza2lsbERtZ0J1ZmYiLHRleHQ6bSgic2tpbGxEbWdCdWZmLnRleHQiKSx0aXRsZTptKCJza2lsbERtZ0J1ZmYudGl0bGUiKSxjb250ZW50Om0oInNraWxsRG1nQnVmZi5jb250ZW50Iix7c2tpbGxEbWdCdWZmVmFsdWU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqcil9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0YWxlbnRDZEJ1ZmYiLG5hbWU6InRhbGVudENkQnVmZiIsdGV4dDptKCJ0YWxlbnRDZEJ1ZmYudGV4dCIpLHRpdGxlOm0oInRhbGVudENkQnVmZi50aXRsZSIpLGNvbnRlbnQ6bSgidGFsZW50Q2RCdWZmLmNvbnRlbnQiLHt0YWxlbnRDZEJ1ZmZWYWx1ZTpELnByZWNpc2lvblJvdW5kKDEwMCpkKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUxVWx0UmVzUGVuIixuYW1lOiJlMVVsdFJlc1BlbiIsdGV4dDptKCJlMVVsdFJlc1Blbi50ZXh0IiksdGl0bGU6bSgiZTFVbHRSZXNQZW4udGl0bGUiKSxjb250ZW50Om0oImUxVWx0UmVzUGVuLmNvbnRlbnQiKSxkaXNhYmxlZDp0PDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTRUZWFtUmVzQnVmZiIsbmFtZToiZTRUZWFtUmVzQnVmZiIsdGV4dDptKCJlNFRlYW1SZXNCdWZmLnRleHQiKSx0aXRsZTptKCJlNFRlYW1SZXNCdWZmLnRpdGxlIiksY29udGVudDptKCJlNFRlYW1SZXNCdWZmLmNvbnRlbnQiKSxkaXNhYmxlZDp0PDR9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTZVbHRDREJvb3N0IixuYW1lOiJlNlVsdENEQm9vc3QiLHRleHQ6bSgiZTZVbHRDREJvb3N0LnRleHQiKSx0aXRsZTptKCJlNlVsdENEQm9vc3QudGl0bGUiKSxjb250ZW50Om0oImU2VWx0Q0RCb29zdC5jb250ZW50IiksZGlzYWJsZWQ6dDw2fV19KSgpLGM9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBtPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuUm9iaW4uVGVhbW1hdGVDb250ZW50Iik7cmV0dXJuW0kodSwiY29uY2VydG9BY3RpdmUiKSxJKHUsInNraWxsRG1nQnVmZiIpLHtmb3JtSXRlbToic2xpZGVyIixpZDoidGVhbW1hdGVBVEtWYWx1ZSIsbmFtZToidGVhbW1hdGVBVEtWYWx1ZSIsdGV4dDptKCJ0ZWFtbWF0ZUFUS1ZhbHVlLnRleHQiKSx0aXRsZTptKCJ0ZWFtbWF0ZUFUS1ZhbHVlLnRpdGxlIiksY29udGVudDptKCJ0ZWFtbWF0ZUFUS1ZhbHVlLmNvbnRlbnQiLHt1bHRBdGtCdWZmRmxhdFZhbHVlOkQucHJlY2lzaW9uUm91bmQoMTAwKkMpLHVsdEF0a0J1ZmZTY2FsaW5nVmFsdWU6U30pLG1pbjowLG1heDo3ZTN9LEkodSwidGFsZW50Q2RCdWZmIikse2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0cmFjZUZ1YUNkQm9vc3QiLG5hbWU6InRyYWNlRnVhQ2RCb29zdCIsdGV4dDptKCJ0cmFjZUZ1YUNkQm9vc3QudGV4dCIpLHRpdGxlOm0oInRyYWNlRnVhQ2RCb29zdC50aXRsZSIpLGNvbnRlbnQ6bSgidHJhY2VGdWFDZEJvb3N0LmNvbnRlbnQiKX0sSSh1LCJlMVVsdFJlc1BlbiIpLHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJVbHRTcGRCdWZmIixuYW1lOiJlMlVsdFNwZEJ1ZmYiLHRleHQ6bSgiZTJVbHRTcGRCdWZmLnRleHQiKSx0aXRsZTptKCJlMlVsdFNwZEJ1ZmYudGl0bGUiKSxjb250ZW50Om0oImUyVWx0U3BkQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6dDwyfV19KSgpLGw9e2NvbmNlcnRvQWN0aXZlOiEwLHNraWxsRG1nQnVmZjohMCx0YWxlbnRDZEJ1ZmY6ITAsZTFVbHRSZXNQZW46ITAsZTRUZWFtUmVzQnVmZjohMSxlNlVsdENEQm9vc3Q6ITB9O3JldHVybntjb250ZW50OigpPT51LHRlYW1tYXRlQ29udGVudDooKT0+YyxkZWZhdWx0czooKT0+bCx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2NvbmNlcnRvQWN0aXZlOiEwLHNraWxsRG1nQnVmZjohMCx0YWxlbnRDZEJ1ZmY6ITAsdGVhbW1hdGVBVEtWYWx1ZTo1ZTMsdHJhY2VGdWFDZEJvb3N0OiEwLGUxVWx0UmVzUGVuOiEwLGUyVWx0U3BkQnVmZjohMSxlNFRlYW1SZXNCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KG0sZik9Pntjb25zdCBnPWYuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBtLkJBU0lDX1NDQUxJTkcrPXAsbS5VTFRfU0NBTElORys9Zy5jb25jZXJ0b0FjdGl2ZT9COjAsbS5VTFRfQk9PU1RTX01VTFRJPTAsbS5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxtfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoobSxmKT0+e2NvbnN0IGc9Zi5jaGFyYWN0ZXJDb25kaXRpb25hbHM7bVtzLkNEXSs9Zy50YWxlbnRDZEJ1ZmY/ZDowLG1bcy5SRVNdKz10Pj00JiZnLmNvbmNlcnRvQWN0aXZlJiZnLmU0VGVhbVJlc0J1ZmY/LjU6MCxtLkVMRU1FTlRBTF9ETUcrPWcuc2tpbGxEbWdCdWZmP3I6MCxtLlJFU19QRU4rPXQ+PTEmJmcuY29uY2VydG9BY3RpdmUmJmcuZTFVbHRSZXNQZW4/LjI0OjB9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KG0sZik9Pntjb25zdCBnPWYuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO21bcy5BVEtdKz1nLmNvbmNlcnRvQWN0aXZlP2cudGVhbW1hdGVBVEtWYWx1ZSpTK0M6MCxtLlJBVElPX0JBU0VEX0FUS19CVUZGKz1nLmNvbmNlcnRvQWN0aXZlP2cudGVhbW1hdGVBVEtWYWx1ZSpTOjAsbVtzLlNQRF9QXSs9dD49MiYmZy5jb25jZXJ0b0FjdGl2ZSYmZy5lMlVsdFNwZEJ1ZmY/LjE2OjAsZnQobSxNLC4yNSxnLnRyYWNlRnVhQ2RCb29zdCYmZy5jb25jZXJ0b0FjdGl2ZSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihtLGYpPT57Y29uc3QgZz1mLmNoYXJhY3RlckNvbmRpdGlvbmFsczttW3MuQVRLXSs9Zy5jb25jZXJ0b0FjdGl2ZT9tW3MuQVRLXSpTK0M6MCx1ZShtLE8sMSksbS5VTFRfQ0RfT1ZFUlJJREU9dD49NiYmZy5jb25jZXJ0b0FjdGl2ZSYmZy5lNlVsdENEQm9vc3Q/NjoxLjUsbS5CQVNJQ19ETUcrPW0uQkFTSUNfU0NBTElORyptW3MuQVRLXSxtLlVMVF9ETUcrPW0uVUxUX1NDQUxJTkcqbVtzLkFUS119LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOihtLGYpPT57Y29uc3QgZz1tLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm5gCmlmICgke2ooZy5jb25jZXJ0b0FjdGl2ZSl9KSB7CiAgYnVmZkR5bmFtaWNBVEsoeC5BVEsgKiAke1N9ICsgJHtDfSwgcF94LCBwX3N0YXRlKTsKfQoKYnVmZkFiaWxpdHlDcihwX3gsIFVMVF9UWVBFLCAxLjAwLCAxKTsKCmlmICgke2oodD49NiYmZy5jb25jZXJ0b0FjdGl2ZSYmZy5lNlVsdENEQm9vc3QpfSkgewogIHguVUxUX0NEX09WRVJSSURFID0gNi4wMDsKfSBlbHNlIHsKICB4LlVMVF9DRF9PVkVSUklERSA9IDEuNTA7Cn0KCnguQkFTSUNfRE1HICs9IHguQkFTSUNfU0NBTElORyAqIHguQVRLOwp4LlVMVF9ETUcgKz0geC5VTFRfU0NBTElORyAqIHguQVRLOwogICAgICBgfX19LFVvPSh0LG4pPT57Y29uc3R7YmFzaWM6ZSxza2lsbDphLHVsdDppLHRhbGVudDpvfT1iLlVMVF9CQVNJQ18zX1NLSUxMX1RBTEVOVF81LHI9YSh0LC4zLC4zMyksZD1lKHQsMSwxLjEpLFM9ZSh0LDIuMiwyLjQyKSxDPWkodCw0LDQuMzIpLHA9ezA6MCwxOm8odCwuNywuNzcpLDI6byh0LDEuMiwxLjMyKSwzOm8odCwxLjcsMS44Nyl9LEI9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBsPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuQm9vdGhpbGwuQ29udGVudCIpO3JldHVyblt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InN0YW5kb2ZmQWN0aXZlIixuYW1lOiJzdGFuZG9mZkFjdGl2ZSIsdGV4dDpsKCJzdGFuZG9mZkFjdGl2ZS50ZXh0IiksdGl0bGU6bCgic3RhbmRvZmZBY3RpdmUudGl0bGUiKSxjb250ZW50OmwoInN0YW5kb2ZmQWN0aXZlLmNvbnRlbnQiLHtzdGFuZG9mZlZ1bG5lcmFiaWxpdHlCb29zdDpELnByZWNpc2lvblJvdW5kKDEwMCpyKX0pfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InBvY2tldFRyaWNrc2hvdFN0YWNrcyIsbmFtZToicG9ja2V0VHJpY2tzaG90U3RhY2tzIix0ZXh0OmwoInBvY2tldFRyaWNrc2hvdFN0YWNrcy50ZXh0IiksdGl0bGU6bCgicG9ja2V0VHJpY2tzaG90U3RhY2tzLnRpdGxlIiksY29udGVudDpsKCJwb2NrZXRUcmlja3Nob3RTdGFja3MuY29udGVudCIpLG1pbjowLG1heDozfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImJlVG9Dcml0Qm9vc3QiLG5hbWU6ImJlVG9Dcml0Qm9vc3QiLHRleHQ6bCgiYmVUb0NyaXRCb29zdC50ZXh0IiksdGl0bGU6bCgiYmVUb0NyaXRCb29zdC50aXRsZSIpLGNvbnRlbnQ6bCgiYmVUb0NyaXRCb29zdC5jb250ZW50Iil9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidGFsZW50QnJlYWtEbWdTY2FsaW5nIixuYW1lOiJ0YWxlbnRCcmVha0RtZ1NjYWxpbmciLHRleHQ6bCgidGFsZW50QnJlYWtEbWdTY2FsaW5nLnRleHQiKSx0aXRsZTpsKCJ0YWxlbnRCcmVha0RtZ1NjYWxpbmcudGl0bGUiKSxjb250ZW50OmwoInRhbGVudEJyZWFrRG1nU2NhbGluZy5jb250ZW50Iil9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTFEZWZTaHJlZCIsbmFtZToiZTFEZWZTaHJlZCIsdGV4dDpsKCJlMURlZlNocmVkLnRleHQiKSx0aXRsZTpsKCJlMURlZlNocmVkLnRpdGxlIiksY29udGVudDpsKCJlMURlZlNocmVkLmNvbnRlbnQiKSxkaXNhYmxlZDp0PDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJCZUJ1ZmYiLG5hbWU6ImUyQmVCdWZmIix0ZXh0OmwoImUyQmVCdWZmLnRleHQiKSx0aXRsZTpsKCJlMkJlQnVmZi50aXRsZSIpLGNvbnRlbnQ6bCgiZTJCZUJ1ZmYuY29udGVudCIpLGRpc2FibGVkOnQ8Mn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNFRhcmdldFN0YW5kb2ZmVnVsbmVyYWJpbGl0eSIsbmFtZToiZTRUYXJnZXRTdGFuZG9mZlZ1bG5lcmFiaWxpdHkiLHRleHQ6bCgiZTRUYXJnZXRTdGFuZG9mZlZ1bG5lcmFiaWxpdHkudGV4dCIpLHRpdGxlOmwoImU0VGFyZ2V0U3RhbmRvZmZWdWxuZXJhYmlsaXR5LnRpdGxlIiksY29udGVudDpsKCJlNFRhcmdldFN0YW5kb2ZmVnVsbmVyYWJpbGl0eS5jb250ZW50IiksZGlzYWJsZWQ6dDw0fSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2QWRkaXRpb25hbEJyZWFrRG1nIixuYW1lOiJlNkFkZGl0aW9uYWxCcmVha0RtZyIsdGV4dDpsKCJlNkFkZGl0aW9uYWxCcmVha0RtZy50ZXh0IiksdGl0bGU6bCgiZTZBZGRpdGlvbmFsQnJlYWtEbWcudGl0bGUiKSxjb250ZW50OmwoImU2QWRkaXRpb25hbEJyZWFrRG1nLmNvbnRlbnQiKSxkaXNhYmxlZDp0PDZ9XX0pKCksdT1bXSxjPXtzdGFuZG9mZkFjdGl2ZTohMCxwb2NrZXRUcmlja3Nob3RTdGFja3M6MyxiZVRvQ3JpdEJvb3N0OiEwLHRhbGVudEJyZWFrRG1nU2NhbGluZzohMCxlMURlZlNocmVkOiEwLGUyQmVCdWZmOiEwLGU0VGFyZ2V0U3RhbmRvZmZWdWxuZXJhYmlsaXR5OiEwLGU2QWRkaXRpb25hbEJyZWFrRG1nOiEwfTtyZXR1cm57Y29udGVudDooKT0+Qix0ZWFtbWF0ZUNvbnRlbnQ6KCk9PnUsZGVmYXVsdHM6KCk9PmMsdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxpbml0aWFsaXplQ29uZmlndXJhdGlvbnM6KGwsbSk9PnttLmNoYXJhY3RlckNvbmRpdGlvbmFscy50YWxlbnRCcmVha0RtZ1NjYWxpbmcmJihsLkVORU1ZX1dFQUtORVNTX0JST0tFTj0xKX0scHJlY29tcHV0ZUVmZmVjdHM6KGwsbSk9Pntjb25zdCBmPW0uY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2xbcy5CRV0rPXQ+PTImJmYuZTJCZUJ1ZmY/LjM6MCxsLlZVTE5FUkFCSUxJVFkrPWYuc3RhbmRvZmZBY3RpdmU/cjowLGwuREVGX1BFTis9dD49MSYmZi5lMURlZlNocmVkPy4xNjowLGwuVlVMTkVSQUJJTElUWSs9dD49NCYmZi5zdGFuZG9mZkFjdGl2ZSYmZi5lNFRhcmdldFN0YW5kb2ZmVnVsbmVyYWJpbGl0eT8uMTI6MCxsLkJBU0lDX1NDQUxJTkcrPWYuc3RhbmRvZmZBY3RpdmU/UzpkLGwuQkFTSUNfQlJFQUtfRUZGSUNJRU5DWV9CT09TVCs9Zi5zdGFuZG9mZkFjdGl2ZT9mLnBvY2tldFRyaWNrc2hvdFN0YWNrcyouNTowLGwuVUxUX1NDQUxJTkcrPUMsbC5CQVNJQ19UT1VHSE5FU1NfRE1HKz1mLnN0YW5kb2ZmQWN0aXZlPzYwOjMwLGwuVUxUX1RPVUdITkVTU19ETUcrPTkwO2NvbnN0IGc9TWF0aC5taW4oMTYqMzAsbS5lbmVteU1heFRvdWdobmVzcyksaD0xLyguNSttLmVuZW15TWF4VG91Z2huZXNzLzEyMCksXz0uNStnLzEyMDtsZXQgRT1wW2YucG9ja2V0VHJpY2tzaG90U3RhY2tzXTtyZXR1cm4gRSs9dD49NiYmZi5lNkFkZGl0aW9uYWxCcmVha0RtZz8uNDowLGwuQkFTSUNfQlJFQUtfRE1HX01PRElGSUVSKz1mLnRhbGVudEJyZWFrRG1nU2NhbGluZyYmZi5zdGFuZG9mZkFjdGl2ZT9oKl8qRTowLGx9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihsLG0pPT57fSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihsLG0pPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpsPT54KGwpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCksZHluYW1pY0NvbmRpdGlvbmFsczpbeGFdfX0sRm89KHQsbik9Pntjb25zdHtiYXNpYzplLHNraWxsOmEsdWx0OmksdGFsZW50Om99PWIuU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzUscj1hKHQsLjUsLjU1KSxkPWkodCwxLjUsMS42NSksUz1pKHQsLjI1LC4yNzUpLEM9ZSh0LDEsMS4xKSxwPWEodCwxLjUsMS42NSksQj1vKHQsMS41LDEuNjUpLHU9UiooMSoxLzEpLGM9UiooMSoxLzcrMioxLzcrMyoxLzcrNCoxLzcrNSoxLzcrNioxLzcrNyoxLzcpLGw9UiooMSoxLzEwKzIqMS8xMCszKjEvMTArNCoxLzEwKzUqMS8xMCs2KjEvMTArNyoxLzEwKzgqMy8xMCksbT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGc9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5Ub3Bhei5Db250ZW50Iik7cmV0dXJuW3tmb3JtSXRlbToic3dpdGNoIixpZDoiZW5lbXlQcm9vZk9mRGVidERlYnVmZiIsbmFtZToiZW5lbXlQcm9vZk9mRGVidERlYnVmZiIsdGV4dDpnKCJlbmVteVByb29mT2ZEZWJ0RGVidWZmLnRleHQiKSx0aXRsZTpnKCJlbmVteVByb29mT2ZEZWJ0RGVidWZmLnRpdGxlIiksY29udGVudDpnKCJlbmVteVByb29mT2ZEZWJ0RGVidWZmLmNvbnRlbnQiLHtwcm9vZk9mRGVidEZ1YVZ1bG5lcmFiaWxpdHk6RC5wcmVjaXNpb25Sb3VuZCgxMDAqcil9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJudW1ieUVuaGFuY2VkU3RhdGUiLG5hbWU6Im51bWJ5RW5oYW5jZWRTdGF0ZSIsdGV4dDpnKCJudW1ieUVuaGFuY2VkU3RhdGUudGV4dCIpLHRpdGxlOmcoIm51bWJ5RW5oYW5jZWRTdGF0ZS50aXRsZSIpLGNvbnRlbnQ6ZygibnVtYnlFbmhhbmNlZFN0YXRlLmNvbnRlbnQiLHtlbmhhbmNlZFN0YXRlRnVhQ2RCb29zdDpELnByZWNpc2lvblJvdW5kKDEwMCpTKSxlbmhhbmNlZFN0YXRlRnVhU2NhbGluZ0Jvb3N0OkQucHJlY2lzaW9uUm91bmQoMTAwKmQpfSl9LHtmb3JtSXRlbToic2xpZGVyIixpZDoiZTFEZWJ0b3JTdGFja3MiLG5hbWU6ImUxRGVidG9yU3RhY2tzIix0ZXh0OmcoImUxRGVidG9yU3RhY2tzLnRleHQiKSx0aXRsZTpnKCJlMURlYnRvclN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6ZygiZTFEZWJ0b3JTdGFja3MuY29udGVudCIpLG1pbjowLG1heDoyLGRpc2FibGVkOnQ8MX1dfSkoKSxmPW4/W106W0kobSwiZW5lbXlQcm9vZk9mRGVidERlYnVmZiIpLEkobSwiZTFEZWJ0b3JTdGFja3MiKV07cmV0dXJue2NvbnRlbnQ6KCk9Pm0sdGVhbW1hdGVDb250ZW50OigpPT5mLGRlZmF1bHRzOigpPT4oe2VuZW15UHJvb2ZPZkRlYnREZWJ1ZmY6ITAsbnVtYnlFbmhhbmNlZFN0YXRlOiEwLGUxRGVidG9yU3RhY2tzOjJ9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2VuZW15UHJvb2ZPZkRlYnREZWJ1ZmY6ITAsZTFEZWJ0b3JTdGFja3M6Mn0pLGluaXRpYWxpemVDb25maWd1cmF0aW9uczooZyxoKT0+e2cuQkFTSUNfRE1HX1RZUEU9V3xNLGcuU0tJTExfRE1HX1RZUEU9enxNfSxwcmVjb21wdXRlRWZmZWN0czooZyxoKT0+e2NvbnN0IF89aC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGZ0KGcsenxNLFMsXy5udW1ieUVuaGFuY2VkU3RhdGUpLEl0KGcsenxNLC4xLHQ+PTYpLGZ0KGcsVywtUyxfLm51bWJ5RW5oYW5jZWRTdGF0ZSksSXQoZyxXLC0uMSx0Pj02KSxnLkJBU0lDX1NDQUxJTkcrPUMsZy5TS0lMTF9TQ0FMSU5HKz1wLGcuU0tJTExfU0NBTElORys9Xy5udW1ieUVuaGFuY2VkU3RhdGU/ZDowLGcuRlVBX1NDQUxJTkcrPUIsZy5GVUFfU0NBTElORys9Xy5udW1ieUVuaGFuY2VkU3RhdGU/ZDowLGcuRUxFTUVOVEFMX0RNRys9aC5lbmVteUVsZW1lbnRhbFdlYWs/LjE1OjAsZy5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxnLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLGcuRlVBX1RPVUdITkVTU19ETUcrPTYwLGd9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihnLGgpPT57Y29uc3QgXz1oLmNoYXJhY3RlckNvbmRpdGlvbmFsczthdChnLE0scixfLmVuZW15UHJvb2ZPZkRlYnREZWJ1ZmYpLGZ0KGcsTSwuMjUqXy5lMURlYnRvclN0YWNrcyx0Pj0xJiZfLmVuZW15UHJvb2ZPZkRlYnREZWJ1ZmYpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooZyxoKT0+e2NvbnN0IEU9aC5jaGFyYWN0ZXJDb25kaXRpb25hbHMubnVtYnlFbmhhbmNlZFN0YXRlP2w6YyxUPWh0KGcsaCx1KSxMPWh0KGcsaCxFKTtnLkJBU0lDX0RNRys9Zy5CQVNJQ19TQ0FMSU5HKihnW3MuQVRLXStUKSxnLkZVQV9ETUcrPWcuRlVBX1NDQUxJTkcqKGdbcy5BVEtdK0wpLGcuU0tJTExfRE1HPWcuRlVBX0RNR30sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6Zz0+e2NvbnN0IF89Zy5jaGFyYWN0ZXJDb25kaXRpb25hbHMubnVtYnlFbmhhbmNlZFN0YXRlP2w6YztyZXR1cm5gCnguQkFTSUNfRE1HICs9IHguQkFTSUNfU0NBTElORyAqICh4LkFUSyArIGNhbGN1bGF0ZUFzaGJsYXppbmdTZXQocF94LCBwX3N0YXRlLCAke3V9KSk7CnguRlVBX0RNRyArPSB4LkZVQV9TQ0FMSU5HICogKHguQVRLICsgY2FsY3VsYXRlQXNoYmxhemluZ1NldChwX3gsIHBfc3RhdGUsICR7X30pKTsKeC5TS0lMTF9ETUcgPSB4LkZVQV9ETUc7CiAgICBgfX19LEhvPSh0LG4pPT57Y29uc3R7YmFzaWM6ZSxza2lsbDphLHVsdDppLHRhbGVudDpvfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LHI9ZSh0LDEsMS4xKSxkPWUodCwyLDIuMiksUz1hKHQsMiwyLjIpLEM9YSh0LDIsMi4yKSxwPWkodCw2MCw2NiksQj1pKHQsLjIsLjIyKSx1PW8odCwuMywuMzQpLGM9byh0LC40LC40NCksbD0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGc9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5GaXJlZmx5LkNvbnRlbnQiKTtyZXR1cm5be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlbmhhbmNlZFN0YXRlQWN0aXZlIixuYW1lOiJlbmhhbmNlZFN0YXRlQWN0aXZlIix0ZXh0OmcoImVuaGFuY2VkU3RhdGVBY3RpdmUudGV4dCIpLHRpdGxlOmcoImVuaGFuY2VkU3RhdGVBY3RpdmUudGl0bGUiKSxjb250ZW50OmcoImVuaGFuY2VkU3RhdGVBY3RpdmUuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVuaGFuY2VkU3RhdGVTcGRCdWZmIixuYW1lOiJlbmhhbmNlZFN0YXRlU3BkQnVmZiIsdGV4dDpnKCJlbmhhbmNlZFN0YXRlU3BkQnVmZi50ZXh0IiksdGl0bGU6ZygiZW5oYW5jZWRTdGF0ZVNwZEJ1ZmYudGl0bGUiKSxjb250ZW50OmcoImVuaGFuY2VkU3RhdGVTcGRCdWZmLmNvbnRlbnQiLHt1bHRTcGRCdWZmOnB9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJzdXBlckJyZWFrRG1nIixuYW1lOiJzdXBlckJyZWFrRG1nIix0ZXh0OmcoInN1cGVyQnJlYWtEbWcudGV4dCIpLHRpdGxlOmcoInN1cGVyQnJlYWtEbWcudGl0bGUiKSxjb250ZW50OmcoInN1cGVyQnJlYWtEbWcuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImF0a1RvQmVDb252ZXJzaW9uIixuYW1lOiJhdGtUb0JlQ29udmVyc2lvbiIsdGV4dDpnKCJhdGtUb0JlQ29udmVyc2lvbi50ZXh0IiksdGl0bGU6ZygiYXRrVG9CZUNvbnZlcnNpb24udGl0bGUiKSxjb250ZW50OmcoImF0a1RvQmVDb252ZXJzaW9uLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0YWxlbnREbWdSZWR1Y3Rpb25CdWZmIixuYW1lOiJ0YWxlbnREbWdSZWR1Y3Rpb25CdWZmIix0ZXh0OmcoInRhbGVudERtZ1JlZHVjdGlvbkJ1ZmYudGV4dCIpLHRpdGxlOmcoInRhbGVudERtZ1JlZHVjdGlvbkJ1ZmYudGl0bGUiKSxjb250ZW50OmcoInRhbGVudERtZ1JlZHVjdGlvbkJ1ZmYuY29udGVudCIse3RhbGVudFJlc0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqdSksdGFsZW50RG1nUmVkdWN0aW9uQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpjKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUxRGVmU2hyZWQiLG5hbWU6ImUxRGVmU2hyZWQiLHRleHQ6ZygiZTFEZWZTaHJlZC50ZXh0IiksdGl0bGU6ZygiZTFEZWZTaHJlZC50aXRsZSIpLGNvbnRlbnQ6ZygiZTFEZWZTaHJlZC5jb250ZW50IiksZGlzYWJsZWQ6dDwxfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU0UmVzQnVmZiIsbmFtZToiZTRSZXNCdWZmIix0ZXh0OmcoImU0UmVzQnVmZi50ZXh0IiksdGl0bGU6ZygiZTRSZXNCdWZmLnRpdGxlIiksY29udGVudDpnKCJlNFJlc0J1ZmYuY29udGVudCIpLGRpc2FibGVkOnQ8NH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNkJ1ZmZzIixuYW1lOiJlNkJ1ZmZzIix0ZXh0OmcoImU2QnVmZnMudGV4dCIpLHRpdGxlOmcoImU2QnVmZnMudGl0bGUiKSxjb250ZW50OmcoImU2QnVmZnMuY29udGVudCIpLGRpc2FibGVkOnQ8Nn1dfSkoKSxtPVtdLGY9e2VuaGFuY2VkU3RhdGVBY3RpdmU6ITAsZW5oYW5jZWRTdGF0ZVNwZEJ1ZmY6ITAsc3VwZXJCcmVha0RtZzohMCxhdGtUb0JlQ29udmVyc2lvbjohMCx0YWxlbnREbWdSZWR1Y3Rpb25CdWZmOiEwLGUxRGVmU2hyZWQ6ITAsZTRSZXNCdWZmOiEwLGU2QnVmZnM6ITB9O3JldHVybntjb250ZW50OigpPT5sLHRlYW1tYXRlQ29udGVudDooKT0+bSxkZWZhdWx0czooKT0+Zix0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLGluaXRpYWxpemVDb25maWd1cmF0aW9uczooZyxoKT0+e2guY2hhcmFjdGVyQ29uZGl0aW9uYWxzLnN1cGVyQnJlYWtEbWcmJihnLkVORU1ZX1dFQUtORVNTX0JST0tFTj0xKX0scHJlY29tcHV0ZUVmZmVjdHM6KGcsaCk9Pntjb25zdCBfPWguY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBnW3MuUkVTXSs9Xy5lbmhhbmNlZFN0YXRlQWN0aXZlP3U6MCxnW3MuU1BEXSs9Xy5lbmhhbmNlZFN0YXRlQWN0aXZlJiZfLmVuaGFuY2VkU3RhdGVTcGRCdWZmP3A6MCxnLkJSRUFLX0VGRklDSUVOQ1lfQk9PU1QrPV8uZW5oYW5jZWRTdGF0ZUFjdGl2ZT8uNTowLGcuRE1HX1JFRF9NVUxUSSo9Xy5lbmhhbmNlZFN0YXRlQWN0aXZlJiZfLnRhbGVudERtZ1JlZHVjdGlvbkJ1ZmY/MS1jOjEsZy5ERUZfUEVOKz10Pj0xJiZfLmUxRGVmU2hyZWQmJl8uZW5oYW5jZWRTdGF0ZUFjdGl2ZT8uMTU6MCxnW3MuUkVTXSs9dD49NCYmXy5lNFJlc0J1ZmYmJl8uZW5oYW5jZWRTdGF0ZUFjdGl2ZT8uNTowLGcuRklSRV9SRVNfUEVOKz10Pj02JiZfLmU2QnVmZnMmJl8uZW5oYW5jZWRTdGF0ZUFjdGl2ZT8uMjowLGcuQlJFQUtfRUZGSUNJRU5DWV9CT09TVCs9dD49NiYmXy5lNkJ1ZmZzJiZfLmVuaGFuY2VkU3RhdGVBY3RpdmU/LjU6MCxnLkJBU0lDX1NDQUxJTkcrPV8uZW5oYW5jZWRTdGF0ZUFjdGl2ZT9kOnIsZy5CQVNJQ19UT1VHSE5FU1NfRE1HKz1fLmVuaGFuY2VkU3RhdGVBY3RpdmU/NDU6MzAsZy5TS0lMTF9UT1VHSE5FU1NfRE1HKz1fLmVuaGFuY2VkU3RhdGVBY3RpdmU/OTA6NjAsZ30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGcsaCk9Pnt9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KGcsaCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihnLGgpPT57Y29uc3QgXz1oLmNoYXJhY3RlckNvbmRpdGlvbmFsczthdChnLFR0LEIsXy5lbmhhbmNlZFN0YXRlQWN0aXZlJiZnLkVORU1ZX1dFQUtORVNTX0JST0tFTiksZy5TVVBFUl9CUkVBS19NT0RJRklFUis9Xy5zdXBlckJyZWFrRG1nJiZfLmVuaGFuY2VkU3RhdGVBY3RpdmUmJmdbcy5CRV0+PTI/LjM1OjAsZy5TVVBFUl9CUkVBS19NT0RJRklFUis9Xy5zdXBlckJyZWFrRG1nJiZfLmVuaGFuY2VkU3RhdGVBY3RpdmUmJmdbcy5CRV0+PTMuNj8uMTU6MCxnLlNLSUxMX1NDQUxJTkcrPV8uZW5oYW5jZWRTdGF0ZUFjdGl2ZT8uMipNYXRoLm1pbigzLjYsZ1tzLkJFXSkrQzpTLGcuQkFTSUNfRE1HKz1nLkJBU0lDX1NDQUxJTkcqZ1tzLkFUS10sZy5TS0lMTF9ETUcrPWcuU0tJTExfU0NBTElORypnW3MuQVRLXX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KGcsaCk9Pntjb25zdCBfPWcuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybmAKYnVmZkFiaWxpdHlWdWxuZXJhYmlsaXR5KHBfeCwgQlJFQUtfVFlQRSwgJHtCfSwgc2VsZWN0KDAsIDEsICR7aihfLmVuaGFuY2VkU3RhdGVBY3RpdmUpfSAmJiB4LkVORU1ZX1dFQUtORVNTX0JST0tFTiA+PSAxKSk7CgppZiAoeC5CRSA+PSAyLjAwICYmICR7aihfLnN1cGVyQnJlYWtEbWcmJl8uZW5oYW5jZWRTdGF0ZUFjdGl2ZSl9KSB7CiAgeC5TVVBFUl9CUkVBS19NT0RJRklFUiArPSAwLjM1Owp9CmlmICh4LkJFID49IDMuNjAgJiYgJHtqKF8uc3VwZXJCcmVha0RtZyYmXy5lbmhhbmNlZFN0YXRlQWN0aXZlKX0pIHsKICB4LlNVUEVSX0JSRUFLX01PRElGSUVSICs9IDAuMTU7Cn0KCmlmICgke2ooXy5lbmhhbmNlZFN0YXRlQWN0aXZlKX0pIHsKICB4LlNLSUxMX1NDQUxJTkcgKz0gMC4yICogbWluKDMuNjAsIHguQkUpICsgJHtDfTsKfSBlbHNlIHsKICB4LlNLSUxMX1NDQUxJTkcgKz0gJHtTfTsKfQoKeC5CQVNJQ19ETUcgKz0geC5CQVNJQ19TQ0FMSU5HICogeC5BVEs7CnguU0tJTExfRE1HICs9IHguU0tJTExfU0NBTElORyAqIHguQVRLOwogICAgICBgfSxkeW5hbWljQ29uZGl0aW9uYWxzOltIYV19fSx4bz0odCxuKT0+e2NvbnN0e2Jhc2ljOmUsc2tpbGw6YSx1bHQ6aSx0YWxlbnQ6b309Yi5TS0lMTF9UQUxFTlRfM19VTFRfQkFTSUNfNSxyPWUodCwuOSwuOTkpO2EodCwuMjUsLjI3KTtjb25zdCBkPWkodCwyLjQsMi42NCksUz1pKHQsLjgsLjg4KSxDPW8odCwxLjIsMS4zMikscD1vKHQsLjAyNCwuMDI2NCksQj17MTpSKigxKi4yNSsyKi4yNSszKi4yNSs0Ki4yNSksMzpSKigyKi4yNSs1Ki4yNSs4Ki4yNSs4Ki4yNSksNTpSKigzKi4yNSs4Ki4yNSs4Ki4yNSs4Ki4yNSl9LHU9ezE6UiooMSouMSsyKi4xKzMqLjErNCouMSs1Ki42KSwzOlIqKDIqLjErNSouMSs4Ki4xKzgqLjErOCouNiksNTpSKigzKi4xKzgqLjErOCouMSs4Ki4xKzgqLjYpfTtmdW5jdGlvbiBjKGgpe3JldHVybiBoLmNoYXJhY3RlckNvbmRpdGlvbmFscy5lbmhhbmNlZEZvbGxvd1VwP3VbaC5lbmVteUNvdW50XTpCW2guZW5lbXlDb3VudF19Y29uc3QgbD0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGg9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5KYWRlLkNvbnRlbnQiKTtyZXR1cm5be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlbmhhbmNlZEZvbGxvd1VwIixuYW1lOiJlbmhhbmNlZEZvbGxvd1VwIix0ZXh0OmgoImVuaGFuY2VkRm9sbG93VXAudGV4dCIpLHRpdGxlOmgoImVuaGFuY2VkRm9sbG93VXAudGl0bGUiKSxjb250ZW50OmgoImVuaGFuY2VkRm9sbG93VXAuY29udGVudCIse3VsdEZ1YVNjYWxpbmdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKlMpfSl9LHtmb3JtSXRlbToic2xpZGVyIixpZDoicGF3bmVkQXNzZXRTdGFja3MiLG5hbWU6InBhd25lZEFzc2V0U3RhY2tzIix0ZXh0OmgoInBhd25lZEFzc2V0U3RhY2tzLnRleHQiKSx0aXRsZTpoKCJwYXduZWRBc3NldFN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6aCgicGF3bmVkQXNzZXRTdGFja3MuY29udGVudCIse3Bhd25lZEFzc2V0Q2RTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKnApfSksbWluOjAsbWF4OjUwfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUxRnVhRG1nQm9vc3QiLG5hbWU6ImUxRnVhRG1nQm9vc3QiLHRleHQ6aCgiZTFGdWFEbWdCb29zdC50ZXh0IiksdGl0bGU6aCgiZTFGdWFEbWdCb29zdC50aXRsZSIpLGNvbnRlbnQ6aCgiZTFGdWFEbWdCb29zdC5jb250ZW50IiksZGlzYWJsZWQ6dDwxfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUyQ3JCdWZmIixuYW1lOiJlMkNyQnVmZiIsdGV4dDpoKCJlMkNyQnVmZi50ZXh0IiksdGl0bGU6aCgiZTJDckJ1ZmYudGl0bGUiKSxjb250ZW50OmgoImUyQ3JCdWZmLmNvbnRlbnQiKSxkaXNhYmxlZDp0PDJ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTREZWZTaHJlZEJ1ZmYiLG5hbWU6ImU0RGVmU2hyZWRCdWZmIix0ZXh0OmgoImU0RGVmU2hyZWRCdWZmLnRleHQiKSx0aXRsZTpoKCJlNERlZlNocmVkQnVmZi50aXRsZSIpLGNvbnRlbnQ6aCgiZTREZWZTaHJlZEJ1ZmYuY29udGVudCIpLGRpc2FibGVkOnQ8NH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNlJlc1NocmVkQnVmZiIsbmFtZToiZTZSZXNTaHJlZEJ1ZmYiLHRleHQ6aCgiZTZSZXNTaHJlZEJ1ZmYudGV4dCIpLHRpdGxlOmgoImU2UmVzU2hyZWRCdWZmLnRpdGxlIiksY29udGVudDpoKCJlNlJlc1NocmVkQnVmZi5jb250ZW50IiksZGlzYWJsZWQ6dDw2fV19KSgpLG09KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBoPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuSmFkZS5UZWFtbWF0ZUNvbnRlbnQiKTtyZXR1cm5be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJkZWJ0Q29sbGVjdG9yU3BkQnVmZiIsbmFtZToiZGVidENvbGxlY3RvclNwZEJ1ZmYiLHRleHQ6aCgiZGVidENvbGxlY3RvclNwZEJ1ZmYudGV4dCIpLHRpdGxlOmgoImRlYnRDb2xsZWN0b3JTcGRCdWZmLnRpdGxlIiksY29udGVudDpoKCJkZWJ0Q29sbGVjdG9yU3BkQnVmZi5jb250ZW50Iil9XX0pKCksZj17ZW5oYW5jZWRGb2xsb3dVcDohMCxwYXduZWRBc3NldFN0YWNrczo1MCxlMUZ1YURtZ0Jvb3N0OiEwLGUyQ3JCdWZmOiEwLGU0RGVmU2hyZWRCdWZmOiEwLGU2UmVzU2hyZWRCdWZmOiEwfSxnPXtkZWJ0Q29sbGVjdG9yU3BkQnVmZjohMH07cmV0dXJue2NvbnRlbnQ6KCk9PmwsdGVhbW1hdGVDb250ZW50OigpPT5tLGRlZmF1bHRzOigpPT5mLHRlYW1tYXRlRGVmYXVsdHM6KCk9PmcscHJlY29tcHV0ZUVmZmVjdHM6KGgsXyk9Pntjb25zdCBFPV8uY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBoW3MuQ0RdKz1FLnBhd25lZEFzc2V0U3RhY2tzKnAsaFtzLkFUS19QXSs9RS5wYXduZWRBc3NldFN0YWNrcyouMDA1LGhbcy5DUl0rPXQ+PTImJkUuZTJDckJ1ZmYmJkUucGF3bmVkQXNzZXRTdGFja3M+PTE1Py4xODowLGguQkFTSUNfU0NBTElORys9cixoLlVMVF9TQ0FMSU5HKz1kLGguRlVBX1NDQUxJTkcrPUMsaC5GVUFfU0NBTElORys9RS5lbmhhbmNlZEZvbGxvd1VwP1M6MCx5KGgsTSwuMzIsdD49MSYmRS5lMUZ1YURtZ0Jvb3N0KSxoLkRFRl9QRU4rPXQ+PTQmJkUuZTREZWZTaHJlZEJ1ZmY/LjEyOjAsaC5RVUFOVFVNX1JFU19QRU4rPXQ+PTYmJkUuZTZSZXNTaHJlZEJ1ZmY/LjI6MCxoLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGguVUxUX1RPVUdITkVTU19ETUcrPTYwLGguRlVBX1RPVUdITkVTU19ETUcrPTMwLGh9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihoLF8pPT57fSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihoLF8pPT57Y29uc3QgRT1fLmNoYXJhY3RlckNvbmRpdGlvbmFscztoW3MuU1BEXSs9RS5kZWJ0Q29sbGVjdG9yU3BkQnVmZj8zMDowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooaCxfKT0+e1ooaCxfLGMoXykpfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczpoPT5xKGMoaCkpfX0sS289KHQsbik9Pntjb25zdHtiYXNpYzplLHNraWxsOmEsdWx0OmksdGFsZW50Om99PWIuU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzUscj1lKHQsMSwxLjEpLGQ9ZSh0LC44LC44OCksUz1lKHQsLjIsLjIyKSxDPWkodCwyLjQsMi41OTIpLHA9byh0LC44LC44OCksQj1hKHQsLjEsLjEwOCksdT1SKigxKi40KzIqLjYpLGM9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBnPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuTWFyY2g3dGhJbWFnaW5hcnkuQ29udGVudCIpO3JldHVyblt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVuaGFuY2VkQmFzaWMiLG5hbWU6ImVuaGFuY2VkQmFzaWMiLHRleHQ6ZygiZW5oYW5jZWRCYXNpYy50ZXh0IiksdGl0bGU6ZygiZW5oYW5jZWRCYXNpYy50aXRsZSIpLGNvbnRlbnQ6ZygiZW5oYW5jZWRCYXNpYy5jb250ZW50Iix7QmFzaWNFbmhhbmNlZFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZCl9KX0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJiYXNpY0F0dGFja0hpdHMiLG5hbWU6ImJhc2ljQXR0YWNrSGl0cyIsdGV4dDpnKCJiYXNpY0F0dGFja0hpdHMudGV4dCIpLHRpdGxlOmcoImJhc2ljQXR0YWNrSGl0cy50aXRsZSIpLGNvbnRlbnQ6ZygiYmFzaWNBdHRhY2tIaXRzLmNvbnRlbnQiLHtCYXNpY0VuaGFuY2VkU2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpkKX0pLG1pbjozLG1heDo2fSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6Im1hc3RlckFkZGl0aW9uYWxEbWdCdWZmIixuYW1lOiJtYXN0ZXJBZGRpdGlvbmFsRG1nQnVmZiIsdGV4dDpnKCJtYXN0ZXJBZGRpdGlvbmFsRG1nQnVmZi50ZXh0IiksdGl0bGU6ZygibWFzdGVyQWRkaXRpb25hbERtZ0J1ZmYudGl0bGUiKSxjb250ZW50OmcoIm1hc3RlckFkZGl0aW9uYWxEbWdCdWZmLmNvbnRlbnQiLHtTaGlmdURtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqUyl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJtYXN0ZXJUb3VnaG5lc3NSZWRCdWZmIixuYW1lOiJtYXN0ZXJUb3VnaG5lc3NSZWRCdWZmIix0ZXh0OmcoIm1hc3RlclRvdWdobmVzc1JlZEJ1ZmYudGV4dCIpLHRpdGxlOmcoIm1hc3RlclRvdWdobmVzc1JlZEJ1ZmYudGl0bGUiKSxjb250ZW50OmcoIm1hc3RlclRvdWdobmVzc1JlZEJ1ZmYuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRhbGVudERtZ0J1ZmYiLG5hbWU6InRhbGVudERtZ0J1ZmYiLHRleHQ6ZygidGFsZW50RG1nQnVmZi50ZXh0IiksdGl0bGU6ZygidGFsZW50RG1nQnVmZi50aXRsZSIpLGNvbnRlbnQ6ZygidGFsZW50RG1nQnVmZi5jb250ZW50Iix7VGFsZW50RG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCpwKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InNlbGZTcGRCdWZmIixuYW1lOiJzZWxmU3BkQnVmZiIsdGV4dDpnKCJzZWxmU3BkQnVmZi50ZXh0IiksdGl0bGU6Zygic2VsZlNwZEJ1ZmYudGl0bGUiKSxjb250ZW50OmcoInNlbGZTcGRCdWZmLmNvbnRlbnQiKSxkaXNhYmxlZDp0PDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTZDZEJ1ZmYiLG5hbWU6ImU2Q2RCdWZmIix0ZXh0OmcoImU2Q2RCdWZmLnRleHQiKSx0aXRsZTpnKCJlNkNkQnVmZi50aXRsZSIpLGNvbnRlbnQ6ZygiZTZDZEJ1ZmYuY29udGVudCIpLGRpc2FibGVkOnQ8Nn1dfSkoKSxsPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgZz1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLk1hcmNoN3RoSW1hZ2luYXJ5LlRlYW1tYXRlQ29udGVudCIpO3JldHVyblt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6Im1hc3RlckJ1ZmYiLG5hbWU6Im1hc3RlckJ1ZmYiLHRleHQ6ZygibWFzdGVyQnVmZi50ZXh0IiksdGl0bGU6ZygibWFzdGVyQnVmZi50aXRsZSIpLGNvbnRlbnQ6ZygibWFzdGVyQnVmZi5jb250ZW50Iix7U2hpZnVTcGVlZEJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqQil9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJtYXN0ZXJDZEJlQnVmZnMiLG5hbWU6Im1hc3RlckNkQmVCdWZmcyIsdGV4dDpnKCJtYXN0ZXJDZEJlQnVmZnMudGV4dCIpLHRpdGxlOmcoIm1hc3RlckNkQmVCdWZmcy50aXRsZSIpLGNvbnRlbnQ6ZygibWFzdGVyQ2RCZUJ1ZmZzLmNvbnRlbnQiKX1dfSkoKSxtPXtlbmhhbmNlZEJhc2ljOiEwLGJhc2ljQXR0YWNrSGl0czo2LHRhbGVudERtZ0J1ZmY6ITAsc2VsZlNwZEJ1ZmY6ITAsbWFzdGVyQWRkaXRpb25hbERtZ0J1ZmY6ITAsbWFzdGVyVG91Z2huZXNzUmVkQnVmZjohMCxlNkNkQnVmZjohMH0sZj17bWFzdGVyQnVmZjohMCxtYXN0ZXJDZEJlQnVmZnM6ITB9O3JldHVybntjb250ZW50OigpPT5jLHRlYW1tYXRlQ29udGVudDooKT0+bCxkZWZhdWx0czooKT0+bSx0ZWFtbWF0ZURlZmF1bHRzOigpPT5mLHByZWNvbXB1dGVFZmZlY3RzOihnLGgpPT57Y29uc3QgXz1oLmNoYXJhY3RlckNvbmRpdGlvbmFscztnW3MuU1BEX1BdKz10Pj0xJiZfLnNlbGZTcGRCdWZmPy4xOjAseShnLFcscCxfLnRhbGVudERtZ0J1ZmYpLGZ0KGcsVywuNSx0Pj02JiZfLmU2Q2RCdWZmJiZfLmVuaGFuY2VkQmFzaWMpO2NvbnN0IEU9Xy5tYXN0ZXJBZGRpdGlvbmFsRG1nQnVmZj9TKl8uYmFzaWNBdHRhY2tIaXRzOjA7Zy5CQVNJQ19TQ0FMSU5HKz1fLmVuaGFuY2VkQmFzaWM/ZCpfLmJhc2ljQXR0YWNrSGl0czpyLGcuQkFTSUNfU0NBTElORys9Xy5lbmhhbmNlZEJhc2ljP0U6UyxnLlVMVF9TQ0FMSU5HKz1DLGcuRlVBX1NDQUxJTkcrPXQ+PTI/LjY6MDtjb25zdCBUPV8ubWFzdGVyVG91Z2huZXNzUmVkQnVmZj8yOjE7cmV0dXJuIGcuQkFTSUNfVE9VR0hORVNTX0RNRys9VCooXy5lbmhhbmNlZEJhc2ljPzE1Kl8uYmFzaWNBdHRhY2tIaXRzOjMwKSxnLlVMVF9UT1VHSE5FU1NfRE1HKz05MCxnLkZVQV9UT1VHSE5FU1NfRE1HKz10Pj0yPzMwOjAsZ30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGcsaCk9Pnt9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KGcsaCk9Pntjb25zdCBfPWguY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2dbcy5TUERfUF0rPV8ubWFzdGVyQnVmZj9COjAsZ1tzLkNEXSs9Xy5tYXN0ZXJCdWZmJiZfLm1hc3RlckNkQmVCdWZmcz8uNjowLGdbcy5CRV0rPV8ubWFzdGVyQnVmZiYmXy5tYXN0ZXJDZEJlQnVmZnM/LjM2OjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihnLGgpPT57WihnLGgsdSl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOmc9PnEodSl9fSxWbz0odCxuKT0+e2NvbnN0e2Jhc2ljOmUsc2tpbGw6YSx1bHQ6aSx0YWxlbnQ6b309Yi5VTFRfQkFTSUNfM19TS0lMTF9UQUxFTlRfNSxyPWUodCwxLDEuMSksZD1hKHQsMS4yLDEuMzIpLFM9aSh0LDIuMiwyLjM3NiksQz1pKHQsMi4yLDIuMzc2KSxwPWkodCwuNzIsLjc3NzYpLEI9aSh0LDEsMS4wOCksdT1vKHQsMS4yLDEuMzIpLGM9dD49MT85OjYsbD17MTpSKigxKjEvMSksMzpSKigyKjEvMSksNTpSKigzKjEvMSl9LG09ezE6UiooMSouMTIrMiouMTIrMyouMTIrNCouMTIrNSouMTIrNiouMTIrNyouMTIrOCouMTYpLDM6UiooMiouMTIrNSouMTIrOCouMTIrOCouMTIrOCouMTIrOCouMTIrOCouMTIrOCouMTYpLDU6UiooMyouMTIrOCouMTIrOCouMTIrOCouMTIrOCouMTIrOCouMTIrOCouMTIrOCouMTYpfTtmdW5jdGlvbiBmKEUpe2NvbnN0IFQ9RS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIFQuYmxvY2tBY3RpdmUmJlQudWx0Q3VsbD9tW0UuZW5lbXlDb3VudF06bFtFLmVuZW15Q291bnRdfWNvbnN0IGc9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBFPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuWXVubGkuQ29udGVudCIpO3JldHVyblt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImJsb2NrQWN0aXZlIixuYW1lOiJibG9ja0FjdGl2ZSIsdGV4dDpFKCJibG9ja0FjdGl2ZS50ZXh0IiksdGl0bGU6RSgiYmxvY2tBY3RpdmUudGl0bGUiKSxjb250ZW50OkUoImJsb2NrQWN0aXZlLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ1bHRDdWxsIixuYW1lOiJ1bHRDdWxsIix0ZXh0OkUoInVsdEN1bGwudGV4dCIpLHRpdGxlOkUoInVsdEN1bGwudGl0bGUiKSxjb250ZW50OkUoInVsdEN1bGwuY29udGVudCIse0N1bGxTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKkMpLEN1bGxBZGphY2VudFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqLjUqQyksQ3VsbEFkZGl0aW9uYWxTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKnApfSl9LHtmb3JtSXRlbToic2xpZGVyIixpZDoidWx0Q3VsbEhpdHMiLG5hbWU6InVsdEN1bGxIaXRzIix0ZXh0OkUoInVsdEN1bGxIaXRzLnRleHQiKSx0aXRsZTpFKCJ1bHRDdWxsSGl0cy50aXRsZSIpLGNvbnRlbnQ6RSgidWx0Q3VsbEhpdHMuY29udGVudCIse0N1bGxTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKkMpLEN1bGxBZGphY2VudFNjYWxpbmc6RC5wcmVjaXNpb25Sb3VuZCgxMDAqLjUqQyksQ3VsbEFkZGl0aW9uYWxTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKnApfSksbWluOjAsbWF4OmN9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiY291bnRlckF0a0J1ZmYiLG5hbWU6ImNvdW50ZXJBdGtCdWZmIix0ZXh0OkUoImNvdW50ZXJBdGtCdWZmLnRleHQiKSx0aXRsZTpFKCJjb3VudGVyQXRrQnVmZi50aXRsZSIpLGNvbnRlbnQ6RSgiY291bnRlckF0a0J1ZmYuY29udGVudCIpfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUxVWx0QnVmZiIsbmFtZToiZTFVbHRCdWZmIix0ZXh0OkUoImUxVWx0QnVmZi50ZXh0IiksdGl0bGU6RSgiZTFVbHRCdWZmLnRpdGxlIiksY29udGVudDpFKCJlMVVsdEJ1ZmYuY29udGVudCIpLGRpc2FibGVkOnQ8MX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMkRlZlNocmVkIixuYW1lOiJlMkRlZlNocmVkIix0ZXh0OkUoImUyRGVmU2hyZWQudGV4dCIpLHRpdGxlOkUoImUyRGVmU2hyZWQudGl0bGUiKSxjb250ZW50OkUoImUyRGVmU2hyZWQuY29udGVudCIpLGRpc2FibGVkOnQ8Mn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNFJlc0J1ZmYiLG5hbWU6ImU0UmVzQnVmZiIsdGV4dDpFKCJlNFJlc0J1ZmYudGV4dCIpLHRpdGxlOkUoImU0UmVzQnVmZi50aXRsZSIpLGNvbnRlbnQ6RSgiZTRSZXNCdWZmLmNvbnRlbnQiKSxkaXNhYmxlZDp0PDR9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTZCdWZmcyIsbmFtZToiZTZCdWZmcyIsdGV4dDpFKCJlNkJ1ZmZzLnRleHQiKSx0aXRsZTpFKCJlNkJ1ZmZzLnRpdGxlIiksY29udGVudDpFKCJlNkJ1ZmZzLmNvbnRlbnQiKSxkaXNhYmxlZDp0PDZ9XX0pKCksaD1bXSxfPXtibG9ja0FjdGl2ZTohMCx1bHRDdWxsOiEwLHVsdEN1bGxIaXRzOmMsY291bnRlckF0a0J1ZmY6ITAsZTFVbHRCdWZmOiEwLGUyRGVmU2hyZWQ6ITAsZTRSZXNCdWZmOiEwLGU2QnVmZnM6ITB9O3JldHVybntjb250ZW50OigpPT5nLHRlYW1tYXRlQ29udGVudDooKT0+aCxkZWZhdWx0czooKT0+Xyx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLGluaXRpYWxpemVDb25maWd1cmF0aW9uczooRSxUKT0+e2NvbnN0IEw9VC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7TC5ibG9ja0FjdGl2ZSYmTC51bHRDdWxsJiYoRS5GVUFfRE1HX1RZUEU9T3xNKX0scHJlY29tcHV0ZUVmZmVjdHM6KEUsVCk9Pntjb25zdCBMPVQuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBMLmJsb2NrQWN0aXZlP0wudWx0Q3VsbD9FLkZVQV9TQ0FMSU5HKz1DK0wudWx0Q3VsbEhpdHMqcDpFLkZVQV9TQ0FMSU5HKz1TOkUuRlVBX1NDQUxJTkcrPXUsZnQoRSxNLEIsTC5ibG9ja0FjdGl2ZSksRVtzLkFUS19QXSs9TC5jb3VudGVyQXRrQnVmZj8uMzowLEUuRE1HX1JFRF9NVUxUSSo9TC5ibG9ja0FjdGl2ZT8xLS4yOjEseShFLE0sLjIsdD49MSYmTC5lMVVsdEJ1ZmYmJkwuYmxvY2tBY3RpdmUpLG90KEUsTSwuMix0Pj0yJiZMLmUyRGVmU2hyZWQpLEVbcy5SRVNdKz10Pj00JiZMLmU0UmVzQnVmZj8uNTowLHVlKEUsTSwuMTUsdD49NiYmTC5lNkJ1ZmZzJiZMLmJsb2NrQWN0aXZlKSxJdChFLE0sLjIsdD49NiYmTC5lNkJ1ZmZzJiZMLmJsb2NrQWN0aXZlKSxFLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLEUuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsRS5GVUFfVE9VR0hORVNTX0RNRys9TC5ibG9ja0FjdGl2ZT82MDozMCxFLkZVQV9UT1VHSE5FU1NfRE1HKz1MLmJsb2NrQWN0aXZlJiZMLnVsdEN1bGw/TC51bHRDdWxsSGl0cyoxNTowLEUuQkFTSUNfU0NBTElORys9cixFLlNLSUxMX1NDQUxJTkcrPWQsRX0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KEUsVCk9Pnt9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KEUsVCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihFLFQpPT57WihFLFQsZihUKSl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOkU9PnEoZihFKSl9fSx3bz0odCxuKT0+e2NvbnN0e2Jhc2ljOmUsc2tpbGw6YSx1bHQ6aSx0YWxlbnQ6b309Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxyPWUodCwxLDEuMSksZD1hKHQsMS41LDEuNjUpLFM9aSh0LDEsMS4wOCksQz1pKHQsLjE1LC4xNjIpLHA9byh0LC4xNSwuMTY1KSxCPW8odCwuMDUsLjA1NSksdT1vKHQsMS44LDEuOTgpLGM9dD49Nj85OjUsbD0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGg9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5KaWFvcWl1LkNvbnRlbnQiKTtyZXR1cm5be2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJhc2hlblJvYXN0U3RhY2tzIixuYW1lOiJhc2hlblJvYXN0U3RhY2tzIix0ZXh0OmgoImFzaGVuUm9hc3RTdGFja3MudGV4dCIpLHRpdGxlOmgoImFzaGVuUm9hc3RTdGFja3MudGl0bGUiKSxjb250ZW50OmgoImFzaGVuUm9hc3RTdGFja3MuY29udGVudCIse0FzaGVuUm9hc3RJbml0aWFsVnVsbmVyYWJpbGl0eTpELnByZWNpc2lvblJvdW5kKDEwMCpwKSxBc2hlblJvYXN0QWRkaXRpb25hbFZ1bG5lcmFiaWxpdHk6RC5wcmVjaXNpb25Sb3VuZCgxMDAqQiksQXNoZW5Sb2FzdERvdE11bHRpcGxpZXI6RC5wcmVjaXNpb25Sb3VuZCgxMDAqdSl9KSxtaW46MCxtYXg6Y30se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ1bHRGaWVsZEFjdGl2ZSIsbmFtZToidWx0RmllbGRBY3RpdmUiLHRleHQ6aCgidWx0RmllbGRBY3RpdmUudGV4dCIpLHRpdGxlOmgoInVsdEZpZWxkQWN0aXZlLnRpdGxlIiksY29udGVudDpoKCJ1bHRGaWVsZEFjdGl2ZS5jb250ZW50Iix7VWx0U2NhbGluZzpELnByZWNpc2lvblJvdW5kKDEwMCpTKSxVbHRWdWxuZXJhYmlsaXR5OkQucHJlY2lzaW9uUm91bmQoMTAwKkMpLFpvbmVEZWJ1ZmZDaGFuY2U6RC5wcmVjaXNpb25Sb3VuZCgxMDAqaSh0LC42LC42MikpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZWhyVG9BdGtCb29zdCIsbmFtZToiZWhyVG9BdGtCb29zdCIsdGV4dDpoKCJlaHJUb0F0a0Jvb3N0LnRleHQiKSx0aXRsZTpoKCJlaHJUb0F0a0Jvb3N0LnRpdGxlIiksY29udGVudDpoKCJlaHJUb0F0a0Jvb3N0LmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMURtZ0Jvb3N0IixuYW1lOiJlMURtZ0Jvb3N0Iix0ZXh0OmgoImUxRG1nQm9vc3QudGV4dCIpLHRpdGxlOmgoImUxRG1nQm9vc3QudGl0bGUiKSxjb250ZW50OmgoImUxRG1nQm9vc3QuY29udGVudCIpLGRpc2FibGVkOnQ8MX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMkRvdCIsbmFtZToiZTJEb3QiLHRleHQ6aCgiZTJEb3QudGV4dCIpLHRpdGxlOmgoImUyRG90LnRpdGxlIiksY29udGVudDpoKCJlMkRvdC5jb250ZW50IiksZGlzYWJsZWQ6dDwyfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2UmVzU2hyZWQiLG5hbWU6ImU2UmVzU2hyZWQiLHRleHQ6aCgiZTZSZXNTaHJlZC50ZXh0IiksdGl0bGU6aCgiZTZSZXNTaHJlZC50aXRsZSIpLGNvbnRlbnQ6aCgiZTZSZXNTaHJlZC5jb250ZW50IiksZGlzYWJsZWQ6dDw2fV19KSgpLG09bj9bXTpbSShsLCJhc2hlblJvYXN0U3RhY2tzIiksSShsLCJ1bHRGaWVsZEFjdGl2ZSIpLEkobCwiZTFEbWdCb29zdCIpLEkobCwiZTZSZXNTaHJlZCIpXSxmPXthc2hlblJvYXN0U3RhY2tzOmMsdWx0RmllbGRBY3RpdmU6ITAsZWhyVG9BdGtCb29zdDohMCxlMURtZ0Jvb3N0OiEwLGUyRG90OiEwLGU2UmVzU2hyZWQ6ITB9LGc9e2FzaGVuUm9hc3RTdGFja3M6Yyx1bHRGaWVsZEFjdGl2ZTohMCxlMURtZ0Jvb3N0OiEwLGU2UmVzU2hyZWQ6ITB9O3JldHVybntjb250ZW50OigpPT5sLHRlYW1tYXRlQ29udGVudDooKT0+bSxkZWZhdWx0czooKT0+Zix0ZWFtbWF0ZURlZmF1bHRzOigpPT5nLHByZWNvbXB1dGVFZmZlY3RzOihoLF8pPT57Y29uc3QgRT1fLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gaC5CQVNJQ19TQ0FMSU5HKz1yLGguU0tJTExfU0NBTElORys9ZCxoLlVMVF9TQ0FMSU5HKz1TLGguRE9UX1NDQUxJTkcrPUUuYXNoZW5Sb2FzdFN0YWNrcz4wP3U6MCxoLkRPVF9TQ0FMSU5HKz10Pj0yJiZFLmUyRG90JiZFLmFzaGVuUm9hc3RTdGFja3M+MD8zOjAsaC5ET1RfQ0hBTkNFPTEwMCxoLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGguU0tJTExfVE9VR0hORVNTX0RNRys9NjAsaC5VTFRfVE9VR0hORVNTX0RNRys9NjAsaH0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGgsXyk9Pntjb25zdCBFPV8uY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2F0KGgsTyxDLEUudWx0RmllbGRBY3RpdmUpLGguVlVMTkVSQUJJTElUWSs9RS5hc2hlblJvYXN0U3RhY2tzPjA/cDowLGguVlVMTkVSQUJJTElUWSs9TWF0aC5tYXgoMCxFLmFzaGVuUm9hc3RTdGFja3MtMSkqQixoLkVMRU1FTlRBTF9ETUcrPXQ+PTEmJkUuZTFEbWdCb29zdCYmRS5hc2hlblJvYXN0U3RhY2tzPjA/LjQ6MCxoLlJFU19QRU4rPXQ+PTYmJkUuZTZSZXNTaHJlZD9FLmFzaGVuUm9hc3RTdGFja3MqLjAzOjB9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KGgsXyk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOmg9PngoaCksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKSxkeW5hbWljQ29uZGl0aW9uYWxzOltXYV19fSx6bz0odCxuKT0+e2NvbnN0e2Jhc2ljOmUsc2tpbGw6YSx1bHQ6aSx0YWxlbnQ6b309Yi5VTFRfQkFTSUNfM19TS0lMTF9UQUxFTlRfNSxyPWUodCwxLDEuMSksZD1hKHQsMiwyLjIpLFM9aSh0LC42LC42NDgpLEM9aSh0LC4zLC4zMykscD1pKHQsMS42LDEuNzI4KSxCPW8odCwxLjEsMS4yMSksdT1vKHQsLjYsLjY2KSxjPTEqLjEyODUrMiouMTI4NSszKi4xMjg1KzQqLjEyODUrNSouMTI4NSs2Ki4xMjg1KzcqLjIyODUsbD0xKi4xMjg1Ki4xKzIqLjEyODUqLjkrMyouMTI4NSouMSs0Ki4xMjg1Ki45KzUqLjEyODUqLjErNiouMTI4NSouOSs3Ki4xMjg1Ki4xKzgqLjEyODUqLjkrOCouMTI4NSouMSs4Ki4xMjg1Ki45KzgqLjEyODUqLjErOCouMTI4NSouOSs4Ki4yMjg1O2Z1bmN0aW9uIG0oXyl7cmV0dXJuIF8uY2hhcmFjdGVyQ29uZGl0aW9uYWxzLndlYWtuZXNzQnJva2VuVWx0P1IqbDpSKmN9Y29uc3QgZj0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IF89QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5GZWl4aWFvLkNvbnRlbnQiKTtyZXR1cm5be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ3ZWFrbmVzc0Jyb2tlblVsdCIsbmFtZToid2Vha25lc3NCcm9rZW5VbHQiLHRleHQ6Xygid2Vha25lc3NCcm9rZW5VbHQudGV4dCIpLHRpdGxlOl8oIndlYWtuZXNzQnJva2VuVWx0LnRpdGxlIiksY29udGVudDpfKCJ3ZWFrbmVzc0Jyb2tlblVsdC5jb250ZW50Iil9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidGFsZW50RG1nQnVmZiIsbmFtZToidGFsZW50RG1nQnVmZiIsdGV4dDpfKCJ0YWxlbnREbWdCdWZmLnRleHQiKSx0aXRsZTpfKCJ0YWxlbnREbWdCdWZmLnRpdGxlIiksY29udGVudDpfKCJ0YWxlbnREbWdCdWZmLmNvbnRlbnQiLHtGdWFNdWx0aXBsaWVyOkQucHJlY2lzaW9uUm91bmQoMTAwKkIpLERtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqdSl9KX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJza2lsbEF0a0J1ZmYiLG5hbWU6InNraWxsQXRrQnVmZiIsdGV4dDpfKCJza2lsbEF0a0J1ZmYudGV4dCIpLHRpdGxlOl8oInNraWxsQXRrQnVmZi50aXRsZSIpLGNvbnRlbnQ6Xygic2tpbGxBdGtCdWZmLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMU9yaWdpbmFsRG1nQm9vc3QiLG5hbWU6ImUxT3JpZ2luYWxEbWdCb29zdCIsdGV4dDpfKCJlMU9yaWdpbmFsRG1nQm9vc3QudGV4dCIpLHRpdGxlOl8oImUxT3JpZ2luYWxEbWdCb29zdC50aXRsZSIpLGNvbnRlbnQ6XygiZTFPcmlnaW5hbERtZ0Jvb3N0LmNvbnRlbnQiKSxkaXNhYmxlZDp0PDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTRCdWZmcyIsbmFtZToiZTRCdWZmcyIsdGV4dDpfKCJlNEJ1ZmZzLnRleHQiKSx0aXRsZTpfKCJlNEJ1ZmZzLnRpdGxlIiksY29udGVudDpfKCJlNEJ1ZmZzLmNvbnRlbnQiKSxkaXNhYmxlZDp0PDR9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTZCdWZmcyIsbmFtZToiZTZCdWZmcyIsdGV4dDpfKCJlNkJ1ZmZzLnRleHQiKSx0aXRsZTpfKCJlNkJ1ZmZzLnRpdGxlIiksY29udGVudDpfKCJlNkJ1ZmZzLmNvbnRlbnQiKSxkaXNhYmxlZDp0PDZ9XX0pKCksZz1bXSxoPXt1bHRTdGFja3M6Nix3ZWFrbmVzc0Jyb2tlblVsdDohMCx0YWxlbnREbWdCdWZmOiEwLHNraWxsQXRrQnVmZjohMCxlMU9yaWdpbmFsRG1nQm9vc3Q6ITAsZTRCdWZmczohMCxlNkJ1ZmZzOiEwfTtyZXR1cm57Y29udGVudDooKT0+Zix0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmcsZGVmYXVsdHM6KCk9PmgsdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxpbml0aWFsaXplQ29uZmlndXJhdGlvbnM6KF8sRSk9Pntjb25zdCBUPUUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO18uVUxUX0RNR19UWVBFPU98TSxULndlYWtuZXNzQnJva2VuVWx0JiYoXy5FTkVNWV9XRUFLTkVTU19CUk9LRU49MSksdD49NiYmVC5lNkJ1ZmZzJiYoXy5GVUFfRE1HX1RZUEU9T3xNKX0scHJlY29tcHV0ZUVmZmVjdHM6KF8sRSk9Pntjb25zdCBUPUUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBULndlYWtuZXNzQnJva2VuVWx0fHwoXy5VTFRfQlJFQUtfRUZGSUNJRU5DWV9CT09TVCs9MSksZnQoXyxNLC4zNiksX1tzLkFUS19QXSs9VC5za2lsbEF0a0J1ZmY/LjQ4OjAsXy5FTEVNRU5UQUxfRE1HKz1ULnRhbGVudERtZ0J1ZmY/dTowLF8uQkFTSUNfU0NBTElORys9cixfLlNLSUxMX1NDQUxJTkcrPWQsXy5GVUFfU0NBTElORys9QixfLlVMVF9TQ0FMSU5HKz02KihTK0MpK3AsXy5VTFRfT1JJR0lOQUxfRE1HX0JPT1NUKz10Pj0xJiZULmUxT3JpZ2luYWxEbWdCb29zdD8uMzA3MTowLHQ+PTQmJihfW3MuU1BEX1BdKz0uMDgsXy5GVUFfVE9VR0hORVNTX0RNRys9MTUpLHQ+PTYmJlQuZTZCdWZmcyYmKF8uUkVTX1BFTis9LjIsXy5GVUFfU0NBTElORys9MS40KSxfLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLF8uU0tJTExfVE9VR0hORVNTX0RNRys9NjAsXy5VTFRfVE9VR0hORVNTX0RNRys9OTAsXy5GVUFfVE9VR0hORVNTX0RNRys9MTUsX30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KF8sRSk9Pnt9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KF8sRSk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihfLEUpPT57Xy5CQVNJQ19ETUcrPV8uQkFTSUNfU0NBTElORypfW3MuQVRLXSxfLlNLSUxMX0RNRys9Xy5TS0lMTF9TQ0FMSU5HKl9bcy5BVEtdLF8uVUxUX0RNRys9Xy5VTFRfU0NBTElORyooX1tzLkFUS10raHQoXyxFLG0oRSkpKSxfLkZVQV9ETUcrPV8uRlVBX1NDQUxJTkcqKF9bcy5BVEtdK2h0KF8sRSxSKigxKjEpKSksXy5ET1RfRE1HKz1fLkRPVF9TQ0FMSU5HKl9bcy5BVEtdfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczpfPT5gCnguQkFTSUNfRE1HICs9IHguQkFTSUNfU0NBTElORyAqIHguQVRLOwp4LlNLSUxMX0RNRyArPSB4LlNLSUxMX1NDQUxJTkcgKiB4LkFUSzsKeC5VTFRfRE1HICs9IHguVUxUX1NDQUxJTkcgKiAoeC5BVEsgKyBjYWxjdWxhdGVBc2hibGF6aW5nU2V0KHBfeCwgcF9zdGF0ZSwgJHttKF8pfSkpOwp4LkZVQV9ETUcgKz0geC5GVUFfU0NBTElORyAqICh4LkFUSyArIGNhbGN1bGF0ZUFzaGJsYXppbmdTZXQocF94LCBwX3N0YXRlLCAke1IqKDEqMSl9KSk7CnguRE9UX0RNRyArPSB4LkRPVF9TQ0FMSU5HICogeC5BVEs7CiAgICBgfX0sJG89KHQsbik9Pntjb25zdHtiYXNpYzplLHNraWxsOmEsdWx0OmksdGFsZW50Om99PWIuVUxUX1RBTEVOVF8zX1NLSUxMX0JBU0lDXzUscj1lKHQsMSwxLjEpLGQ9YSh0LC44LC44OCksUz1pKHQsMS41LDEuNjUpLEM9aSh0LC4yNSwuMjcpLHA9byh0LC43NSwuODI1KSxCPXsxOlIqKDEqMS8yKzIqMS8yKSwzOlIqKDIqMS8yKzMqMS8yKSw1OlIqKDMqMS8yKzQqMS8yKX0sdT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGY9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiQ2hhcmFjdGVycy5MaW5nc2hhLkNvbnRlbnQiKTtyZXR1cm5be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJiZUNvbnZlcnNpb24iLG5hbWU6ImJlQ29udmVyc2lvbiIsdGV4dDpmKCJiZUNvbnZlcnNpb24udGV4dCIpLHRpdGxlOmYoImJlQ29udmVyc2lvbi50aXRsZSIpLGNvbnRlbnQ6ZigiYmVDb252ZXJzaW9uLmNvbnRlbnQiKX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJiZWZvZ1N0YXRlIixuYW1lOiJiZWZvZ1N0YXRlIix0ZXh0OmYoImJlZm9nU3RhdGUudGV4dCIpLHRpdGxlOmYoImJlZm9nU3RhdGUudGl0bGUiKSxjb250ZW50OmYoImJlZm9nU3RhdGUuY29udGVudCIse0JlZm9nVnVsbmVyYWJpbGl0eTpELnByZWNpc2lvblJvdW5kKDEwMCpDKX0pfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUxRGVmU2hyZWQiLG5hbWU6ImUxRGVmU2hyZWQiLHRleHQ6ZigiZTFEZWZTaHJlZC50ZXh0IiksdGl0bGU6ZigiZTFEZWZTaHJlZC50aXRsZSIpLGNvbnRlbnQ6ZigiZTFEZWZTaHJlZC5jb250ZW50IiksZGlzYWJsZWQ6dDwxfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUyQmVCdWZmIixuYW1lOiJlMkJlQnVmZiIsdGV4dDpmKCJlMkJlQnVmZi50ZXh0IiksdGl0bGU6ZigiZTJCZUJ1ZmYudGl0bGUiKSxjb250ZW50OmYoImUyQmVCdWZmLmNvbnRlbnQiKSxkaXNhYmxlZDp0PDJ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTZSZXNTaHJlZCIsbmFtZToiZTZSZXNTaHJlZCIsdGV4dDpmKCJlNlJlc1NocmVkLnRleHQiKSx0aXRsZTpmKCJlNlJlc1NocmVkLnRpdGxlIiksY29udGVudDpmKCJlNlJlc1NocmVkLmNvbnRlbnQiKSxkaXNhYmxlZDp0PDZ9XX0pKCksYz1uP1tdOltJKHUsImJlZm9nU3RhdGUiKSxJKHUsImUxRGVmU2hyZWQiKSxJKHUsImUyQmVCdWZmIiksSSh1LCJlNlJlc1NocmVkIildLGw9e2JlQ29udmVyc2lvbjohMCxiZWZvZ1N0YXRlOiEwLGUxRGVmU2hyZWQ6ITAsZTJCZUJ1ZmY6ITAsZTZSZXNTaHJlZDohMH0sbT17YmVmb2dTdGF0ZTohMCxlMURlZlNocmVkOiEwLGUyQmVCdWZmOiEwLGU2UmVzU2hyZWQ6ITB9O3JldHVybntjb250ZW50OigpPT51LHRlYW1tYXRlQ29udGVudDooKT0+YyxkZWZhdWx0czooKT0+bCx0ZWFtbWF0ZURlZmF1bHRzOigpPT5tLHByZWNvbXB1dGVFZmZlY3RzOihmLGcpPT57Y29uc3QgaD1nLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gZi5CQVNJQ19TQ0FMSU5HKz1yLGYuU0tJTExfU0NBTElORys9ZCxmLkZVQV9TQ0FMSU5HKz1wKjIsZi5VTFRfU0NBTElORys9UyxmLkJSRUFLX0VGRklDSUVOQ1lfQk9PU1QrPXQ+PTE/LjU6MCxmLkZVQV9TQ0FMSU5HKz10Pj02JiZoLmU2UmVzU2hyZWQ/LjU6MCxmLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGYuU0tJTExfVE9VR0hORVNTX0RNRys9MzAsZi5VTFRfVE9VR0hORVNTX0RNRys9NjAsZi5GVUFfVE9VR0hORVNTX0RNRys9MzAqMixmLkZVQV9UT1VHSE5FU1NfRE1HKz10Pj02PzE1OjAsZn0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGYsZyk9Pntjb25zdCBoPWcuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2YuRU5FTVlfV0VBS05FU1NfQlJPS0VOJiYoZi5ERUZfUEVOKz10Pj0xJiZoLmUxRGVmU2hyZWQ/LjI6MCksYXQoZixUdCxDLGguYmVmb2dTdGF0ZSksZltzLkJFXSs9dD49MiYmaC5lMkJlQnVmZj8uNDowLGYuUkVTX1BFTis9dD49NiYmaC5lNlJlc1NocmVkPy4yOjB9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KGYsZyk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihmLGcpPT57WihmLGcsQltnLmVuZW15Q291bnRdKX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6Zj0+cShCW2YuZW5lbXlDb3VudF0pLGR5bmFtaWNDb25kaXRpb25hbHM6W1lhXX19LFdvPSh0LG4pPT57Y29uc3R7YmFzaWM6ZSxza2lsbDphLHVsdDppLHRhbGVudDpvfT1iLlVMVF9UQUxFTlRfM19TS0lMTF9CQVNJQ181LHI9ZSh0LDEsMS4xKSxkPWEodCwxLjUsMS42NSksUz1pKHQsMi43LDIuOTE2KSxDPW8odCwxLjYsMS43NikscD1vKHQsLjMsLjMzKSxCPVIqKDEqLjA4KzIqLjA4KzMqLjA4KzQqLjA4KzUqLjA4KzYqLjYpLHU9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBmPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuTW96ZS5Db250ZW50Iik7cmV0dXJuW3tmb3JtSXRlbToic3dpdGNoIixpZDoicHJleU1hcmsiLG5hbWU6InByZXlNYXJrIix0ZXh0OmYoInByZXlNYXJrLnRleHQiKSx0aXRsZTpmKCJwcmV5TWFyay50aXRsZSIpLGNvbnRlbnQ6ZigicHJleU1hcmsuY29udGVudCIse1ByZXlBZGRpdGlvbmFsTXVsdGlwbGllcjpELnByZWNpc2lvblJvdW5kKDEwMCpwKSxGdWFTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKkMpfSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJDZEJvb3N0IixuYW1lOiJlMkNkQm9vc3QiLHRleHQ6ZigiZTJDZEJvb3N0LnRleHQiKSx0aXRsZTpmKCJlMkNkQm9vc3QudGl0bGUiKSxjb250ZW50OmYoImUyQ2RCb29zdC5jb250ZW50IiksZGlzYWJsZWQ6dDwyfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU0RG1nQnVmZiIsbmFtZToiZTREbWdCdWZmIix0ZXh0OmYoImU0RG1nQnVmZi50ZXh0IiksdGl0bGU6ZigiZTREbWdCdWZmLnRpdGxlIiksY29udGVudDpmKCJlNERtZ0J1ZmYuY29udGVudCIpLGRpc2FibGVkOnQ8NH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNk11bHRpcGxpZXJJbmNyZWFzZSIsbmFtZToiZTZNdWx0aXBsaWVySW5jcmVhc2UiLHRleHQ6ZigiZTZNdWx0aXBsaWVySW5jcmVhc2UudGV4dCIpLHRpdGxlOmYoImU2TXVsdGlwbGllckluY3JlYXNlLnRpdGxlIiksY29udGVudDpmKCJlNk11bHRpcGxpZXJJbmNyZWFzZS5jb250ZW50IiksZGlzYWJsZWQ6dDw2fV19KSgpLGM9bj9bXTpbSSh1LCJwcmV5TWFyayIpLEkodSwiZTJDZEJvb3N0IildLGw9e3ByZXlNYXJrOiEwLGUyQ2RCb29zdDohMCxlNERtZ0J1ZmY6ITAsZTZNdWx0aXBsaWVySW5jcmVhc2U6ITB9LG09e3ByZXlNYXJrOiEwLGUyQ2RCb29zdDohMH07cmV0dXJue2NvbnRlbnQ6KCk9PnUsdGVhbW1hdGVDb250ZW50OigpPT5jLGRlZmF1bHRzOigpPT5sLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pm0saW5pdGlhbGl6ZUNvbmZpZ3VyYXRpb25zOihmLGcpPT57Zi5VTFRfRE1HX1RZUEU9T3xNfSxwcmVjb21wdXRlRWZmZWN0czooZixnKT0+e2NvbnN0IGg9Zy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGYuRUxFTUVOVEFMX0RNRys9dD49NCYmaC5lNERtZ0J1ZmY/LjM6MCxmLkJBU0lDX1NDQUxJTkcrPXIrKGgucHJleU1hcms/cDowKSxmLlNLSUxMX1NDQUxJTkcrPWQrKGgucHJleU1hcms/cDowKSxmLkZVQV9TQ0FMSU5HKz1DKyhoLnByZXlNYXJrP3A6MCksZi5GVUFfU0NBTElORys9dD49NiYmaC5lNk11bHRpcGxpZXJJbmNyZWFzZT8uMjU6MCxmLlVMVF9TQ0FMSU5HKz1TKyhoLnByZXlNYXJrP3A6MCksZi5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxmLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLGYuVUxUX1RPVUdITkVTU19ETUcrPTkwLGYuRlVBX1RPVUdITkVTU19ETUcrPTMwLGZ9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihmLGcpPT57Y29uc3QgaD1nLmNoYXJhY3RlckNvbmRpdGlvbmFsczthdChmLE0sLjI1LGgucHJleU1hcmspLGZbcy5DRF0rPXQ+PTImJmgucHJleU1hcmsmJmguZTJDZEJvb3N0Py40OjB9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KGYsZyk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihmLGcpPT57WihmLGcsQil9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOmY9PnEoQil9fSxZbz0odCxuKT0+e2NvbnN0e2Jhc2ljOmUsc2tpbGw6YSx1bHQ6aSx0YWxlbnQ6b309Yi5TS0lMTF9UQUxFTlRfM19VTFRfQkFTSUNfNSxyPWUodCwxLDEuMSksZD1lKHQsMiwyLjMyKSxTPWEodCwxLjIsMS4zMiksQz1pKHQsLjMsLjM0KSxwPW8odCwuNiwuNjYpLEI9byh0LC41LC41NSksdT10Pj02PzE1OjEwLGM9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBmPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkNoYXJhY3RlcnMuUmFwcGEuQ29udGVudCIpO3JldHVyblt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InNlYWxmb3JtQWN0aXZlIixuYW1lOiJzZWFsZm9ybUFjdGl2ZSIsdGV4dDpmKCJzZWFsZm9ybUFjdGl2ZS50ZXh0IiksdGl0bGU6Zigic2VhbGZvcm1BY3RpdmUudGl0bGUiKSxjb250ZW50OkEudCgiQmV0YU1lc3NhZ2UiLHtuczoiY29uZGl0aW9uYWxzIixWZXJzaW9uOmx0fSl9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiYXRrVG9CcmVha1Z1bG5lcmFiaWxpdHkiLG5hbWU6ImF0a1RvQnJlYWtWdWxuZXJhYmlsaXR5Iix0ZXh0OmYoImF0a1RvQnJlYWtWdWxuZXJhYmlsaXR5LnRleHQiKSx0aXRsZTpmKCJhdGtUb0JyZWFrVnVsbmVyYWJpbGl0eS50aXRsZSIpLGNvbnRlbnQ6QS50KCJCZXRhTWVzc2FnZSIse25zOiJjb25kaXRpb25hbHMiLFZlcnNpb246bHR9KX0se25hbWU6ImNoYXJnZVN0YWNrcyIsaWQ6ImNoYXJnZVN0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDpmKCJjaGFyZ2VTdGFja3MudGV4dCIpLHRpdGxlOmYoImNoYXJnZVN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6QS50KCJCZXRhTWVzc2FnZSIse25zOiJjb25kaXRpb25hbHMiLFZlcnNpb246bHR9KSxtaW46MCxtYXg6dX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMURlZlBlbiIsbmFtZToiZTFEZWZQZW4iLHRleHQ6ZigiZTFEZWZQZW4udGV4dCIpLHRpdGxlOmYoImUxRGVmUGVuLnRpdGxlIiksY29udGVudDpBLnQoIkJldGFNZXNzYWdlIix7bnM6ImNvbmRpdGlvbmFscyIsVmVyc2lvbjpsdH0pLGRpc2FibGVkOnQ8MX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMkJ1ZmZzIixuYW1lOiJlMkJ1ZmZzIix0ZXh0OmYoImUyQnVmZnMudGV4dCIpLHRpdGxlOmYoImUyQnVmZnMudGl0bGUiKSxjb250ZW50OkEudCgiQmV0YU1lc3NhZ2UiLHtuczoiY29uZGl0aW9uYWxzIixWZXJzaW9uOmx0fSksZGlzYWJsZWQ6dDwyfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU0U3BkQnVmZiIsbmFtZToiZTRTcGRCdWZmIix0ZXh0OmYoImU0U3BkQnVmZi50ZXh0IiksdGl0bGU6ZigiZTRTcGRCdWZmLnRpdGxlIiksY29udGVudDpBLnQoIkJldGFNZXNzYWdlIix7bnM6ImNvbmRpdGlvbmFscyIsVmVyc2lvbjpsdH0pLGRpc2FibGVkOnQ8NH1dfSkoKSxsPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgZj1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJDaGFyYWN0ZXJzLlJhcHBhLlRlYW1tYXRlQ29udGVudCIpO3JldHVyblt7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InRlYW1tYXRlQnJlYWtWdWxuZXJhYmlsaXR5IixuYW1lOiJ0ZWFtbWF0ZUJyZWFrVnVsbmVyYWJpbGl0eSIsdGV4dDpmKCJ0ZWFtbWF0ZUJyZWFrVnVsbmVyYWJpbGl0eS50ZXh0IiksdGl0bGU6ZigidGVhbW1hdGVCcmVha1Z1bG5lcmFiaWxpdHkudGl0bGUiKSxjb250ZW50OkEudCgiQmV0YU1lc3NhZ2UiLHtuczoiY29uZGl0aW9uYWxzIixWZXJzaW9uOmx0fSksbWluOjAsbWF4Oi4xLHBlcmNlbnQ6ITB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTRTcGRCdWZmIixuYW1lOiJlNFNwZEJ1ZmYiLHRleHQ6ZigiZTRTcGRCdWZmLnRleHQiKSx0aXRsZTpmKCJlNFNwZEJ1ZmYudGl0bGUiKSxjb250ZW50OkEudCgiQmV0YU1lc3NhZ2UiLHtuczoiY29uZGl0aW9uYWxzIixWZXJzaW9uOmx0fSksZGlzYWJsZWQ6dDw0fV19KSgpLG09e3NlYWxmb3JtQWN0aXZlOiEwLGF0a1RvQnJlYWtWdWxuZXJhYmlsaXR5OiEwLGNoYXJnZVN0YWNrczp0Pj02PzEwOjUsZTFEZWZQZW46ITAsZTJCdWZmczohMCxlNFNwZEJ1ZmY6ITB9O3JldHVybntjb250ZW50OigpPT5jLHRlYW1tYXRlQ29udGVudDooKT0+bCxkZWZhdWx0czooKT0+bSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3RlYW1tYXRlQnJlYWtWdWxuZXJhYmlsaXR5Oi4xLGU0U3BkQnVmZjohMH0pLGluaXRpYWxpemVDb25maWd1cmF0aW9uczooZixnKT0+e2cuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLnNlYWxmb3JtQWN0aXZlJiYoZi5FTkVNWV9XRUFLTkVTU19CUk9LRU49MSl9LHByZWNvbXB1dGVFZmZlY3RzOihmLGcpPT57Y29uc3QgaD1nLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gZltzLkJFXSs9aC5zZWFsZm9ybUFjdGl2ZT9DOjAsZi5CUkVBS19FRkZJQ0lFTkNZX0JPT1NUKz1oLnNlYWxmb3JtQWN0aXZlPy41OjAsZi5ERUZfUEVOKz10Pj0xJiZoLnNlYWxmb3JtQWN0aXZlJiZoLmUxRGVmUGVuPy4xNTowLGZbcy5TUERfUF0rPXQ+PTQmJmguc2VhbGZvcm1BY3RpdmUmJmguZTRTcGRCdWZmPy4xMjowLGYuQkFTSUNfU1VQRVJfQlJFQUtfTU9ESUZJRVIrPWguc2VhbGZvcm1BY3RpdmU/LjY6MCxmLkJBU0lDX0JSRUFLX0RNR19NT0RJRklFUj1wK2guY2hhcmdlU3RhY2tzKkIsZi5CQVNJQ19TQ0FMSU5HKz1oLnNlYWxmb3JtQWN0aXZlP2Q6cixmLlNLSUxMX1NDQUxJTkcrPVMsZi5CQVNJQ19UT1VHSE5FU1NfRE1HKz1oLnNlYWxmb3JtQWN0aXZlPzc1KygyK2guY2hhcmdlU3RhY2tzKSozOjMwLGYuU0tJTExfVE9VR0hORVNTX0RNRys9MzAsZn0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGYsZyk9Pnt9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KGYsZyk9Pntjb25zdCBoPWcuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2YuQlJFQUtfVlVMTkVSQUJJTElUWSs9aC50ZWFtbWF0ZUJyZWFrVnVsbmVyYWJpbGl0eSxmW3MuU1BEX1BdKz10Pj00JiZoLmU0U3BkQnVmZj8uMTI6MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6Zj0+eChmKSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpLGR5bmFtaWNDb25kaXRpb25hbHM6W3dhXX19O2NvbnN0IGpvPXsxMDAxOnBvLDEwMDI6WmEsMTAwMzpvbywxMDA0OnlvLDEwMDU6Zm8sMTAwNjpJbywxMDA4Ok1hLDEwMDk6dmEsMTAxMzphbywxMTAxOlFhLDExMDI6RW8sMTEwMzpUbywxMTA0OmVvLDExMDU6Qm8sMTEwNjpDbywxMTA3OlhhLDExMDg6QW8sMTEwOTpybywxMTEwOmdvLDExMTE6bW8sMTExMjpGbywxMjAxOkRvLDEyMDI6Ym8sMTIwMzpTbywxMjA0OnVvLDEyMDU6SmEsMTIwNjprbywxMjA3Ok1vLDEyMDg6dG8sMTIwOTpHbywxMjEwOm5vLDEyMTE6TmEsMTIxMjpjbywxMjEzOmxvLDEyMTQ6Um8sMTIxNTppbywxMjE3OnNvLDEyMTg6d28sMTIyMDp6bywxMjIxOlZvLDEyMjI6JG8sMTIyMzpXbywxMjI0OktvLDEzMDE6T28sMTMwMjpHYSwxMzAzOl9vLDEzMDQ6Tm8sMTMwNTpxYSwxMzA2OkxvLDEzMDc6amEsMTMwODp2bywxMzA5OlBvLDEzMTA6SG8sMTMxMjpobywxMzE0OnhvLDEzMTU6VW8sMTMxNzpZbyw4MDAxOk5uLDgwMDI6Tm4sODAwMzpQbiw4MDA0OlBuLDgwMDU6T24sODAwNjpPbn0sdnQ9e2dldDp0PT57Y29uc3Qgbj1qb1t0LmNoYXJhY3RlcklkXTtyZXR1cm4gbih0LmNoYXJhY3RlckVpZG9sb24sITApfX07dmFyIEpvPSh0LG4pPT57Y29uc3QgZT1bLjEsLjEyLC4xNCwuMTYsLjE4XSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkFkdmVyc2FyaWFsLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJkZWZlYXRlZEVuZW15U3BkQnVmZiIsbmFtZToiZGVmZWF0ZWRFbmVteVNwZEJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6aSgiZGVmZWF0ZWRFbmVteVNwZEJ1ZmYudGV4dCIpLHRpdGxlOmkoImRlZmVhdGVkRW5lbXlTcGRCdWZmLnRpdGxlIiksY29udGVudDppKCJkZWZlYXRlZEVuZW15U3BkQnVmZi5jb250ZW50Iix7U3BkQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5hLGRlZmF1bHRzOigpPT4oe2RlZmVhdGVkRW5lbXlTcGRCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksbyk9Pntjb25zdCByPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO2lbcy5TUERfUF0rPXIuZGVmZWF0ZWRFbmVteVNwZEJ1ZmY/ZVt0XTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxRbz0odCxuKT0+e2NvbnN0IGU9Wy4xNiwuMiwuMjQsLjI4LC4zMl0sYT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGk9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5BbWJlci5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoiaHA1MERlZkJ1ZmYiLG5hbWU6ImhwNTBEZWZCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmkoImhwNTBEZWZCdWZmLnRleHQiKSx0aXRsZTppKCJocDUwRGVmQnVmZi50aXRsZSIpLGNvbnRlbnQ6aSgiaHA1MERlZkJ1ZmYuY29udGVudCIse0RlZkJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHtocDUwRGVmQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpW3MuREVGX1BdKz1yLmhwNTBEZWZCdWZmP2VbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sWG89KHQsbik9Pntjb25zdCBlPVsuMDAzNiwuMDA0MiwuMDA0OCwuMDA1NCwuMDA2XSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkFuSW5zdGFudEJlZm9yZUFHYXplLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJtYXhFbmVyZ3lVbHREbWdTdGFja3MiLG5hbWU6Im1heEVuZXJneVVsdERtZ1N0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDppKCJtYXhFbmVyZ3lVbHREbWdTdGFja3MudGV4dCIpLHRpdGxlOmkoIm1heEVuZXJneVVsdERtZ1N0YWNrcy50aXRsZSIpLGNvbnRlbnQ6aSgibWF4RW5lcmd5VWx0RG1nU3RhY2tzLmNvbnRlbnQiLHtEbWdTdGVwOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSksbWluOjAsbWF4OjE4MH1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHttYXhFbmVyZ3lVbHREbWdTdGFja3M6MTgwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksbyk9Pntjb25zdCByPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3koaSxPLHIubWF4RW5lcmd5VWx0RG1nU3RhY2tzKmVbdF0pfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxabz0odCxuKT0+e2NvbnN0IGU9Wy4xMiwuMTUsLjE4LC4yMSwuMjRdLGE9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBpPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQXJyb3dzLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJjcml0QnVmZiIsbmFtZToiY3JpdEJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6aSgiY3JpdEJ1ZmYudGV4dCIpLHRpdGxlOmkoImNyaXRCdWZmLnRpdGxlIiksY29udGVudDppKCJjcml0QnVmZi5jb250ZW50Iix7Q3JpdEJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHtjcml0QnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpW3MuQ1JdKz1yLmNyaXRCdWZmP2VbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0scW89KHQsbik9Pntjb25zdCBlPVsuMiwuMjUsLjMsLjM1LC40XSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkFTZWNyZXRWb3cuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6ImVuZW15SHBIaWdoZXJEbWdCb29zdCIsbmFtZToiZW5lbXlIcEhpZ2hlckRtZ0Jvb3N0Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmkoImVuZW15SHBIaWdoZXJEbWdCb29zdC50ZXh0IiksdGl0bGU6aSgiZW5lbXlIcEhpZ2hlckRtZ0Jvb3N0LnRpdGxlIiksY29udGVudDppKCJlbmVteUhwSGlnaGVyRG1nQm9vc3QuY29udGVudCIse0RtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+YSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe2VuZW15SHBIaWdoZXJEbWdCb29zdDohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpLkVMRU1FTlRBTF9ETUcrPWVbdF0saS5FTEVNRU5UQUxfRE1HKz1yLmVuZW15SHBIaWdoZXJEbWdCb29zdD9lW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19O2NvbnN0IHRyPSh0LG4pPT57Y29uc3QgZT1bLjA4LC4wOSwuMSwuMTEsLjEyXSxhPVsuMzYsLjQyLC40OCwuNTQsLjZdLGk9Wy4yNCwuMjgsLjMyLC4zNiwuNF0sbz0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IHI9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5CYXB0aXNtT2ZQdXJlVGhvdWdodC5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxmb3JtSXRlbToic2xpZGVyIixpZDoiZGVidWZmQ2RTdGFja3MiLG5hbWU6ImRlYnVmZkNkU3RhY2tzIix0ZXh0OnIoImRlYnVmZkNkU3RhY2tzLnRleHQiKSx0aXRsZTpyKCJkZWJ1ZmZDZFN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6cigiZGVidWZmQ2RTdGFja3MuY29udGVudCIse0RtZ1N0ZXA6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KSxtaW46MCxtYXg6M30se2xjOiEwLGZvcm1JdGVtOiJzd2l0Y2giLGlkOiJwb3N0VWx0QnVmZiIsbmFtZToicG9zdFVsdEJ1ZmYiLHRleHQ6cigicG9zdFVsdEJ1ZmYudGV4dCIpLHRpdGxlOnIoInBvc3RVbHRCdWZmLnRpdGxlIiksY29udGVudDpyKCJwb3N0VWx0QnVmZi5jb250ZW50Iix7RG1nU3RlcDpELnByZWNpc2lvblJvdW5kKDEwMCphW3RdKSxEZWZJZ25vcmU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqaVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+byxkZWZhdWx0czooKT0+KHtkZWJ1ZmZDZFN0YWNrczozLHBvc3RVbHRCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHIsZCk9Pntjb25zdCBTPWQubGlnaHRDb25lQ29uZGl0aW9uYWxzO3Jbcy5DRF0rPVMuZGVidWZmQ2RTdGFja3MqZVt0XSxyLkVMRU1FTlRBTF9ETUcrPVMucG9zdFVsdEJ1ZmY/YVt0XTowLG90KHIsTSxpW3RdLFMucG9zdFVsdEJ1ZmYpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fTt2YXIgZXI9KHQsbik9Pntjb25zdCBlPVsuMTgsLjIxLC4yNCwuMjcsLjNdLGE9Wy40OCwuNTYsLjY0LC43MiwuOF0saT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IG89QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5CZWZvcmVEYXduLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJmdWFEbWdCb29zdCIsbmFtZToiZnVhRG1nQm9vc3QiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bygiZnVhRG1nQm9vc3QudGV4dCIpLHRpdGxlOm8oImZ1YURtZ0Jvb3N0LnRpdGxlIiksY29udGVudDpvKCJmdWFEbWdCb29zdC5jb250ZW50Iix7RG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCphW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe2Z1YURtZ0Jvb3N0OiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KG8scik9Pntjb25zdCBkPXIubGlnaHRDb25lQ29uZGl0aW9uYWxzO3kobyx6fE8sZVt0XSkseShvLE0sYVt0XSxkLmZ1YURtZ0Jvb3N0KX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sbnI9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLGlyPSh0LG4pPT57Y29uc3QgZT1bLjE4LC4yMSwuMjQsLjI3LC4zXSxhPVsuMDYsLjA3LC4wOCwuMDksLjFdLGk9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBvPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQnJpZ2h0ZXJUaGFuVGhlU3VuLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJkcmFnb25zQ2FsbFN0YWNrcyIsbmFtZToiZHJhZ29uc0NhbGxTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6bygiZHJhZ29uc0NhbGxTdGFja3MudGV4dCIpLHRpdGxlOm8oImRyYWdvbnNDYWxsU3RhY2tzLnRpdGxlIiksY29udGVudDpvKCJkcmFnb25zQ2FsbFN0YWNrcy5jb250ZW50Iix7QXRrQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKSxSZWdlbkJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSl9KSxtaW46MCxtYXg6Mn1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtkcmFnb25zQ2FsbFN0YWNrczoyfSkscHJlY29tcHV0ZUVmZmVjdHM6KG8scik9Pntjb25zdCBkPXIubGlnaHRDb25lQ29uZGl0aW9uYWxzO29bcy5BVEtfUF0rPWQuZHJhZ29uc0NhbGxTdGFja3MqZVt0XSxvW3MuRVJSXSs9ZC5kcmFnb25zQ2FsbFN0YWNrcyphW3RdfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxhcj0odCxuKT0+e2NvbnN0IGU9Wy4zLC4zNSwuNCwuNDUsLjVdLGE9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBpPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQnV0VGhlQmF0dGxlSXNudE92ZXIuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6InBvc3RTa2lsbERtZ0J1ZmYiLG5hbWU6InBvc3RTa2lsbERtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6aSgicG9zdFNraWxsRG1nQnVmZi50ZXh0IiksdGl0bGU6aSgicG9zdFNraWxsRG1nQnVmZi50aXRsZSIpLGNvbnRlbnQ6aSgicG9zdFNraWxsRG1nQnVmZi5jb250ZW50Iix7RG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5bXSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmEsZGVmYXVsdHM6KCk9Pih7fSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtwb3N0U2tpbGxEbWdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KGksbyk9Pntjb25zdCByPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO2kuRUxFTUVOVEFMX0RNRys9ci5wb3N0U2tpbGxEbWdCdWZmP2VbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sb3I9KHQsbik9Pntjb25zdCBlPVsuMSwuMTI1LC4xNSwuMTc1LC4yXSxhPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSxpPVsuMDYsLjA3NSwuMDksLjEwNSwuMTJdLG89KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCByPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQ2FydmVUaGVNb29uV2VhdmVUaGVDbG91ZHMuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6ImF0a0J1ZmZBY3RpdmUiLG5hbWU6ImF0a0J1ZmZBY3RpdmUiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6cigiYXRrQnVmZkFjdGl2ZS50ZXh0IiksdGl0bGU6cigiYXRrQnVmZkFjdGl2ZS50aXRsZSIpLGNvbnRlbnQ6cigiYXRrQnVmZkFjdGl2ZS5jb250ZW50Iix7QXRrQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKSxDcml0QnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCphW3RdKSxSZWdlbkJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqaVt0XSl9KX0se2xjOiEwLGlkOiJjZEJ1ZmZBY3RpdmUiLG5hbWU6ImNkQnVmZkFjdGl2ZSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpyKCJjZEJ1ZmZBY3RpdmUudGV4dCIpLHRpdGxlOnIoImNkQnVmZkFjdGl2ZS50aXRsZSIpLGNvbnRlbnQ6cigiY2RCdWZmQWN0aXZlLmNvbnRlbnQiLHtBdGtCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pLENyaXRCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pLFJlZ2VuQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCppW3RdKX0pfSx7bGM6ITAsaWQ6ImVyckJ1ZmZBY3RpdmUiLG5hbWU6ImVyckJ1ZmZBY3RpdmUiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6cigiZXJyQnVmZkFjdGl2ZS50ZXh0IiksdGl0bGU6cigiZXJyQnVmZkFjdGl2ZS50aXRsZSIpLGNvbnRlbnQ6cigiZXJyQnVmZkFjdGl2ZS5jb250ZW50Iix7QXRrQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKSxDcml0QnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCphW3RdKSxSZWdlbkJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqaVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+byx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7YXRrQnVmZkFjdGl2ZTohMCxjZEJ1ZmZBY3RpdmU6ITEsZXJyQnVmZkFjdGl2ZTohMX0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7YXRrQnVmZkFjdGl2ZTohMCxjZEJ1ZmZBY3RpdmU6ITEsZXJyQnVmZkFjdGl2ZTohMX0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoocixkKT0+e2NvbnN0IFM9ZC5saWdodENvbmVDb25kaXRpb25hbHM7cltzLkFUS19QXSs9Uy5hdGtCdWZmQWN0aXZlP2VbdF06MCxyW3MuQ0RdKz1TLmNkQnVmZkFjdGl2ZT9hW3RdOjAscltzLkVSUl0rPVMuZXJyQnVmZkFjdGl2ZT9pW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LHJyPSh0LG4pPT57Y29uc3QgZT1bLjA4LC4wOSwuMSwuMTEsLjEyXSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkNob3J1cy5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoiaW5CYXR0bGVBdGtCdWZmIixuYW1lOiJpbkJhdHRsZUF0a0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6aSgiaW5CYXR0bGVBdGtCdWZmLnRleHQiKSx0aXRsZTppKCJpbkJhdHRsZUF0a0J1ZmYudGl0bGUiKSxjb250ZW50OmkoImluQmF0dGxlQXRrQnVmZi5jb250ZW50Iix7QXRrQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5hLHRlYW1tYXRlQ29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHtpbkJhdHRsZUF0a0J1ZmY6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2luQmF0dGxlQXRrQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooaSxvKT0+e2NvbnN0IHI9by5saWdodENvbmVDb25kaXRpb25hbHM7aVtzLkFUS19QXSs9ci5pbkJhdHRsZUF0a0J1ZmY/ZVt0XTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxzcj0odCxuKT0+e2NvbnN0IGU9Wy4yLC4yNSwuMywuMzUsLjRdLGE9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBpPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQ29sbGFwc2luZ1NreS5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoiYmFzaWNTa2lsbERtZ0J1ZmYiLG5hbWU6ImJhc2ljU2tpbGxEbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmkoImJhc2ljU2tpbGxEbWdCdWZmLnRleHQiKSx0aXRsZTppKCJiYXNpY1NraWxsRG1nQnVmZi50aXRsZSIpLGNvbnRlbnQ6aSgiYmFzaWNTa2lsbERtZ0J1ZmYuY29udGVudCIse0RtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHtiYXNpY1NraWxsRG1nQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczt5KGksV3x6LGVbdF0sci5iYXNpY1NraWxsRG1nQnVmZil9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGxyPSh0LG4pPT57Y29uc3QgZT1bLjEyLC4xNSwuMTgsLjIxLC4yNF0sYT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGk9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5Db3JudWNvcGlhLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJoZWFsaW5nQnVmZiIsbmFtZToiaGVhbGluZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6aSgiaGVhbGluZ0J1ZmYudGV4dCIpLHRpdGxlOmkoImhlYWxpbmdCdWZmLnRpdGxlIiksY29udGVudDppKCJoZWFsaW5nQnVmZi5jb250ZW50Iix7SGVhbGluZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHtoZWFsaW5nQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpW3MuT0hCXSs9ci5oZWFsaW5nQnVmZj9lW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGNyPSh0LG4pPT57Y29uc3QgZT1bLjA4LC4xLC4xMiwuMTQsLjE2XSxhPVsuMiwuMjUsLjMsLjM1LC40XSxpPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3Qgbz1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkNydWlzaW5nSW5UaGVTdGVsbGFyU2VhLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJlbmVteUhwNTBDckJvb3N0IixuYW1lOiJlbmVteUhwNTBDckJvb3N0Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om8oImVuZW15SHA1MENyQm9vc3QudGV4dCIpLHRpdGxlOm8oImVuZW15SHA1MENyQm9vc3QudGl0bGUiKSxjb250ZW50Om8oImVuZW15SHA1MENyQm9vc3QuY29udGVudCIse0NyaXRCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSl9LHtsYzohMCxpZDoiZW5lbXlEZWZlYXRlZEF0a0J1ZmYiLG5hbWU6ImVuZW15RGVmZWF0ZWRBdGtCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om8oImVuZW15RGVmZWF0ZWRBdGtCdWZmLnRleHQiKSx0aXRsZTpvKCJlbmVteURlZmVhdGVkQXRrQnVmZi50aXRsZSIpLGNvbnRlbnQ6bygiZW5lbXlEZWZlYXRlZEF0a0J1ZmYuY29udGVudCIse0F0a0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtlbmVteUhwNTBDckJvb3N0OiExLGVuZW15RGVmZWF0ZWRBdGtCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KG8scik9Pntjb25zdCBkPXIubGlnaHRDb25lQ29uZGl0aW9uYWxzO29bcy5DUl0rPWQuZW5lbXlIcDUwQ3JCb29zdD9lW3RdOjAsb1tzLkFUS19QXSs9ZC5lbmVteURlZmVhdGVkQXRrQnVmZj9hW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LHVyPSgpPT4oe2NvbnRlbnQ6KCk9PltdLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLGZyPSh0LG4pPT57Y29uc3QgZT1bLjI0LC4zLC4zNiwuNDIsLjQ4XSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkRhcnRpbmdBcnJvdy5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoiZGVmZWF0ZWRFbmVteUF0a0J1ZmYiLG5hbWU6ImRlZmVhdGVkRW5lbXlBdGtCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmkoImRlZmVhdGVkRW5lbXlBdGtCdWZmLnRleHQiKSx0aXRsZTppKCJkZWZlYXRlZEVuZW15QXRrQnVmZi50aXRsZSIpLGNvbnRlbnQ6aSgiZGVmZWF0ZWRFbmVteUF0a0J1ZmYuY29udGVudCIse0F0a0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHtkZWZlYXRlZEVuZW15QXRrQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpW3MuQVRLX1BdKz1yLmRlZmVhdGVkRW5lbXlBdGtCdWZmP2VbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sZHI9KHQsbik9Pntjb25zdCBlPVsuMjgsLjM1LC40MiwuNDksLjU2XSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkRhdGFCYW5rLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJ1bHREbWdCdWZmIixuYW1lOiJ1bHREbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmkoInVsdERtZ0J1ZmYudGV4dCIpLHRpdGxlOmkoInVsdERtZ0J1ZmYudGl0bGUiKSxjb250ZW50OmkoInVsdERtZ0J1ZmYuY29udGVudCIse0RtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHt1bHREbWdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksbyk9Pntjb25zdCByPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3koaSxPLGVbdF0sci51bHREbWdCdWZmKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sbXI9KHQsbik9Pntjb25zdCBlPVsuMDgsLjA5LC4xLC4xMSwuMTJdLGE9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBpPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuRGF5T25lT2ZNeU5ld0xpZmUuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6ImRtZ1Jlc0J1ZmYiLG5hbWU6ImRtZ1Jlc0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6aSgiZG1nUmVzQnVmZi50ZXh0IiksdGl0bGU6aSgiZG1nUmVzQnVmZi50aXRsZSIpLGNvbnRlbnQ6aSgiZG1nUmVzQnVmZi5jb250ZW50Iix7UmVzQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5hLHRlYW1tYXRlQ29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHtkbWdSZXNCdWZmOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtkbWdSZXNCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpLkRNR19SRURfTVVMVEkqPXIuZG1nUmVzQnVmZj8xLWVbdF06MX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sU3I9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLGdyPSh0LG4pPT57Y29uc3QgZT1bLjEsLjExLC4xMiwuMTMsLjE0XSxhPVsuMjgsLjM1LC40MiwuNDksLjU2XSxpPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3Qgbz1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkVhcnRobHlFc2NhcGFkZS5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoibWFza0FjdGl2ZSIsbmFtZToibWFza0FjdGl2ZSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpvKCJtYXNrQWN0aXZlLnRleHQiKSx0aXRsZTpvKCJtYXNrQWN0aXZlLnRpdGxlIiksY29udGVudDpvKCJtYXNrQWN0aXZlLmNvbnRlbnQiLHtDcml0UmF0ZUJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSksQ3JpdERtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+aSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7bWFza0FjdGl2ZTohMX0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7bWFza0FjdGl2ZTohMH0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihvLHIpPT57Y29uc3QgZD1yLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztvW3MuQ1JdKz1kLm1hc2tBY3RpdmU/ZVt0XTowLG9bcy5DRF0rPWQubWFza0FjdGl2ZT9hW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LHByPSh0LG4pPT57Y29uc3QgZT1bMTIsMTQsMTYsMTgsMjBdLGE9WzMsMy41LDQsNC41LDVdLGk9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBvPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuRWNob2VzT2ZUaGVDb2ZmaW4uQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6InBvc3RVbHRTcGRCdWZmIixuYW1lOiJwb3N0VWx0U3BkQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpvKCJwb3N0VWx0U3BkQnVmZi50ZXh0IiksdGl0bGU6bygicG9zdFVsdFNwZEJ1ZmYudGl0bGUiKSxjb250ZW50Om8oInBvc3RVbHRTcGRCdWZmLmNvbnRlbnQiLHtFbmVyZ3lSZWNvdmVyZWQ6RC5wcmVjaXNpb25Sb3VuZChhW3RdKSxTcGRCdWZmOkQucHJlY2lzaW9uUm91bmQoZVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+aSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7cG9zdFVsdFNwZEJ1ZmY6ITF9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3Bvc3RVbHRTcGRCdWZmOiExfSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihvLHIpPT57Y29uc3QgZD1yLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztvW3MuU1BEXSs9ZC5wb3N0VWx0U3BkQnVmZj9lW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGhyPXQ9Pntjb25zdCBuPVsuMjQsLjMsLjM2LC40MiwuNDhdO3JldHVybntjb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czplPT57eShlLHV0LG5bdF0pfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxCcj0odCxuKT0+e2NvbnN0IGU9Wy4xNiwuMiwuMjQsLjI4LC4zMl0sYT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGk9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5GZXJtYXRhLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJlbmVteVNob2NrV2luZFNoZWFyIixuYW1lOiJlbmVteVNob2NrV2luZFNoZWFyIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmkoImVuZW15U2hvY2tXaW5kU2hlYXIudGV4dCIpLHRpdGxlOmkoImVuZW15U2hvY2tXaW5kU2hlYXIudGl0bGUiKSxjb250ZW50OmkoImVuZW15U2hvY2tXaW5kU2hlYXIuY29udGVudCIse0RtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHtlbmVteVNob2NrV2luZFNoZWFyOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksbyk9Pntjb25zdCByPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO2kuRUxFTUVOVEFMX0RNRys9ci5lbmVteVNob2NrV2luZFNoZWFyP2VbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sQ3I9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLERyPSh0LG4pPT57Y29uc3QgZT1bLjI0LC4zLC4zNiwuNDIsLjQ4XSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkdlbml1c2VzUmVwb3NlLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJkZWZlYXRlZEVuZW15Q2RCdWZmIixuYW1lOiJkZWZlYXRlZEVuZW15Q2RCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmkoImRlZmVhdGVkRW5lbXlDZEJ1ZmYudGV4dCIpLHRpdGxlOmkoImRlZmVhdGVkRW5lbXlDZEJ1ZmYudGl0bGUiKSxjb250ZW50OmkoImRlZmVhdGVkRW5lbXlDZEJ1ZmYuY29udGVudCIse0RtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHtkZWZlYXRlZEVuZW15Q2RCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksbyk9Pntjb25zdCByPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO2lbcy5DRF0rPXIuZGVmZWF0ZWRFbmVteUNkQnVmZj9lW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LF9yPSh0LG4pPT57Y29uc3QgZT1bLjEyLC4xNSwuMTgsLjIxLC4yNF0sYT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGk9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5Hb29kTmlnaHRBbmRTbGVlcFdlbGwuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6ImRlYnVmZlN0YWNrc0RtZ0luY3JlYXNlIixuYW1lOiJkZWJ1ZmZTdGFja3NEbWdJbmNyZWFzZSIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDppKCJkZWJ1ZmZTdGFja3NEbWdJbmNyZWFzZS50ZXh0IiksdGl0bGU6aSgiZGVidWZmU3RhY2tzRG1nSW5jcmVhc2UudGl0bGUiKSxjb250ZW50OmkoImRlYnVmZlN0YWNrc0RtZ0luY3JlYXNlLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSksbWluOjAsbWF4OjN9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmEsZGVmYXVsdHM6KCk9Pih7ZGVidWZmU3RhY2tzRG1nSW5jcmVhc2U6M30pLHByZWNvbXB1dGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpLkVMRU1FTlRBTF9ETUcrPXIuZGVidWZmU3RhY2tzRG1nSW5jcmVhc2UqZVt0XX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sQXI9KHQsbik9Pntjb25zdCBlPVsuMTYsLjE5LC4yMiwuMjUsLjI4XSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkhleU92ZXJIZXJlLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJwb3N0U2tpbGxIZWFsQnVmZiIsbmFtZToicG9zdFNraWxsSGVhbEJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6aSgicG9zdFNraWxsSGVhbEJ1ZmYudGV4dCIpLHRpdGxlOmkoInBvc3RTa2lsbEhlYWxCdWZmLnRpdGxlIiksY29udGVudDppKCJwb3N0U2tpbGxIZWFsQnVmZi5jb250ZW50Iix7SGVhbGluZ0Jvb3N0OkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmEsZGVmYXVsdHM6KCk9Pih7cG9zdFNraWxsSGVhbEJ1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxvKT0+e2NvbnN0IHI9by5saWdodENvbmVDb25kaXRpb25hbHM7aVtzLk9IQl0rPXIucG9zdFNraWxsSGVhbEJ1ZmY/ZVt0XTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxFcj0odCxuKT0+e2NvbnN0IGU9Wy42LC43NSwuOSwxLjA1LDEuMl0sYT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGk9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5IaWRkZW5TaGFkb3cuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6ImJhc2ljQXRrQnVmZiIsbmFtZToiYmFzaWNBdGtCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmkoImJhc2ljQXRrQnVmZi50ZXh0IiksdGl0bGU6aSgiYmFzaWNBdGtCdWZmLnRpdGxlIiksY29udGVudDppKCJiYXNpY0F0a0J1ZmYuY29udGVudCIse011bHRpcGxpZXJCb251czpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5hLGRlZmF1bHRzOigpPT4oe2Jhc2ljQXRrQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpLkJBU0lDX1NDQUxJTkcrPXIuYmFzaWNBdGtCdWZmP2VbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sVHI9KHQsbik9Pntjb25zdCBlPVsuMTIsLjE0LC4xNiwuMTgsLjJdLGE9Wy4xMiwuMTQsLjE2LC4xOCwuMl0saT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IHI9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5JbmNlc3NhbnRSYWluLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJlbmVteTNEZWJ1ZmZzQ3JCb29zdCIsbmFtZToiZW5lbXkzRGVidWZmc0NyQm9vc3QiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6cigiZW5lbXkzRGVidWZmc0NyQm9vc3QudGV4dCIpLHRpdGxlOnIoImVuZW15M0RlYnVmZnNDckJvb3N0LnRpdGxlIiksY29udGVudDpyKCJlbmVteTNEZWJ1ZmZzQ3JCb29zdC5jb250ZW50Iix7Q3JpdEJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KX0se2xjOiEwLGlkOiJ0YXJnZXRDb2RlRGVidWZmIixuYW1lOiJ0YXJnZXRDb2RlRGVidWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnIoInRhcmdldENvZGVEZWJ1ZmYudGV4dCIpLHRpdGxlOnIoInRhcmdldENvZGVEZWJ1ZmYudGl0bGUiKSxjb250ZW50OnIoInRhcmdldENvZGVEZWJ1ZmYuY29udGVudCIse0RtZ0luY3JlYXNlOkQucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pfSl9XX0pKCksbz1uP1tdOltJKGksInRhcmdldENvZGVEZWJ1ZmYiKV07cmV0dXJue2NvbnRlbnQ6KCk9PmksdGVhbW1hdGVDb250ZW50OigpPT5vLGRlZmF1bHRzOigpPT4oe2VuZW15M0RlYnVmZnNDckJvb3N0OiEwLHRhcmdldENvZGVEZWJ1ZmY6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3RhcmdldENvZGVEZWJ1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoocixkKT0+e2NvbnN0IFM9ZC5saWdodENvbmVDb25kaXRpb25hbHM7cltzLkNSXSs9Uy5lbmVteTNEZWJ1ZmZzQ3JCb29zdD9lW3RdOjB9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihyLGQpPT57Y29uc3QgUz1kLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztyLlZVTE5FUkFCSUxJVFkrPVMudGFyZ2V0Q29kZURlYnVmZj9hW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LElyPSh0LG4pPT57Y29uc3QgZT1bLjI0LC4yOCwuMzIsLjM2LC40XSxhPVsuMjQsLjI4LC4zMiwuMzYsLjRdLGk9Wy4xOCwuMjEsLjI0LC4yNywuM10sbz0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IHI9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5JblRoZU5hbWVPZlRoZVdvcmxkLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJlbmVteURlYnVmZmVkRG1nQm9vc3QiLG5hbWU6ImVuZW15RGVidWZmZWREbWdCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpyKCJlbmVteURlYnVmZmVkRG1nQm9vc3QudGV4dCIpLHRpdGxlOnIoImVuZW15RGVidWZmZWREbWdCb29zdC50aXRsZSIpLGNvbnRlbnQ6cigiZW5lbXlEZWJ1ZmZlZERtZ0Jvb3N0LmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSl9LHtsYzohMCxpZDoic2tpbGxBdGtCb29zdCIsbmFtZToic2tpbGxBdGtCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpyKCJza2lsbEF0a0Jvb3N0LnRleHQiKSx0aXRsZTpyKCJza2lsbEF0a0Jvb3N0LnRpdGxlIiksY29udGVudDpyKCJza2lsbEF0a0Jvb3N0LmNvbnRlbnQiLHtFaHJCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmlbdF0pLEF0a0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+byxkZWZhdWx0czooKT0+KHtlbmVteURlYnVmZmVkRG1nQm9vc3Q6ITAsc2tpbGxBdGtCb29zdDohMX0pLHByZWNvbXB1dGVFZmZlY3RzOihyLGQpPT57Y29uc3QgUz1kLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztyLkVMRU1FTlRBTF9ETUcrPVMuZW5lbXlEZWJ1ZmZlZERtZ0Jvb3N0P2VbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sTHI9KHQsbik9Pntjb25zdCBlPVsuMDYsLjA3LC4wOCwuMDksLjFdLGE9Wy4xMiwuMTQsLjE2LC4xOCwuMl0saT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IG89QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5JblRoZU5pZ2h0LkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJzcGRTY2FsaW5nQnVmZnMiLG5hbWU6InNwZFNjYWxpbmdCdWZmcyIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpvKCJzcGRTY2FsaW5nQnVmZnMudGV4dCIpLHRpdGxlOm8oInNwZFNjYWxpbmdCdWZmcy50aXRsZSIpLGNvbnRlbnQ6bygic3BkU2NhbGluZ0J1ZmZzLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pLENyaXRCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7c3BkU2NhbGluZ0J1ZmZzOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihvLHIpPT57Y29uc3QgZD1yLmxpZ2h0Q29uZUNvbmRpdGlvbmFscyxTPU1hdGgubWF4KDAsTWF0aC5taW4oNixNYXRoLmZsb29yKChvW3MuU1BEXS0xMDApLzEwKSkpO3kobyxXfHosUyplW3RdLGQuc3BkU2NhbGluZ0J1ZmZzKSxmdChvLE8sUyphW3RdLGQuc3BkU2NhbGluZ0J1ZmZzKX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6bz0+e2NvbnN0IHI9by5saWdodENvbmVDb25kaXRpb25hbHM7cmV0dXJuYAppZiAoJHtqKHIuc3BkU2NhbGluZ0J1ZmZzKX0pIHsKICBsZXQgc3RhY2tzID0gbWF4KDAsIG1pbig2LCBmbG9vcigoeC5TUEQgLSAxMDApIC8gMTApKSk7CgogIGJ1ZmZBYmlsaXR5RG1nKHBfeCwgQkFTSUNfVFlQRSB8IFNLSUxMX1RZUEUsIHN0YWNrcyAqICR7ZVt0XX0sIDEpOwogIGJ1ZmZBYmlsaXR5Q2QocF94LCBVTFRfVFlQRSwgc3RhY2tzICogJHthW3RdfSwgMSk7Cn0KICAgIGB9fX0sa3I9KHQsbik9Pntjb25zdCBlPVsuMTQsLjE2NSwuMTksLjIxNSwuMjRdLGE9Wy4xMiwuMTQsLjE2LC4xOCwuMl0saT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IG89QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5JU2hhbGxCZU15T3duU3dvcmQuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6ImVjbGlwc2VTdGFja3MiLG5hbWU6ImVjbGlwc2VTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6bygiZWNsaXBzZVN0YWNrcy50ZXh0IiksdGl0bGU6bygiZWNsaXBzZVN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6bygiZWNsaXBzZVN0YWNrcy5jb250ZW50Iix7RG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pLG1pbjowLG1heDozfSx7bGM6ITAsaWQ6Im1heFN0YWNrRGVmUGVuIixuYW1lOiJtYXhTdGFja0RlZlBlbiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpvKCJtYXhTdGFja0RlZlBlbi50ZXh0IiksdGl0bGU6bygibWF4U3RhY2tEZWZQZW4udGl0bGUiKSxjb250ZW50Om8oIm1heFN0YWNrRGVmUGVuLmNvbnRlbnQiLHtEZWZJZ25vcmU6RC5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtlY2xpcHNlU3RhY2tzOjMsbWF4U3RhY2tEZWZQZW46ITB9KSxwcmVjb21wdXRlRWZmZWN0czoobyxyKT0+e2NvbnN0IGQ9ci5saWdodENvbmVDb25kaXRpb25hbHM7by5FTEVNRU5UQUxfRE1HKz1kLmVjbGlwc2VTdGFja3MqZVt0XSxvLkRFRl9QRU4rPWQubWF4U3RhY2tEZWZQZW4mJmQuZWNsaXBzZVN0YWNrcz09Mz9hW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGJyPXQ9Pntjb25zdCBuPVsuMTYsLjE4LC4yLC4yMiwuMjRdO3JldHVybntjb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czplPT57ZS5ETUdfUkVEX01VTFRJKj0xLW5bdF19LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LHlyPSh0LG4pPT57Y29uc3QgZT1bLjI0LC4zLC4zNiwuNDIsLjQ4XSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkxvb3AuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6ImVuZW15U2xvd2VkRG1nQnVmZiIsbmFtZToiZW5lbXlTbG93ZWREbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmkoImVuZW15U2xvd2VkRG1nQnVmZi50ZXh0IiksdGl0bGU6aSgiZW5lbXlTbG93ZWREbWdCdWZmLnRpdGxlIiksY29udGVudDppKCJlbmVteVNsb3dlZERtZ0J1ZmYuY29udGVudCIse0RtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHtlbmVteVNsb3dlZERtZ0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxvKT0+e2NvbnN0IHI9by5saWdodENvbmVDb25kaXRpb25hbHM7aS5FTEVNRU5UQUxfRE1HKz1yLmVuZW15U2xvd2VkRG1nQnVmZj9lW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFJyPSh0LG4pPT57Y29uc3QgZT1bLjMyLC40LC40OCwuNTYsLjY0XSxhPVsyMCwyMywyNiwyOSwzMl0saT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IG89QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5NYWtlVGhlV29ybGRDbGFtb3IuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6InVsdERtZ0J1ZmYiLG5hbWU6InVsdERtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bygidWx0RG1nQnVmZi50ZXh0IiksdGl0bGU6bygidWx0RG1nQnVmZi50aXRsZSIpLGNvbnRlbnQ6bygidWx0RG1nQnVmZi5jb250ZW50Iix7RW5lcmd5OmFbdF0sRG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe3VsdERtZ0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoobyxyKT0+e2NvbnN0IGQ9ci5saWdodENvbmVDb25kaXRpb25hbHM7eShvLE8sZVt0XSxkLnVsdERtZ0J1ZmYpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxHcj0odCxuKT0+e2NvbnN0IGU9WzEyLDE0LDE2LDE4LDIwXSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLk1lZGlhdGlvbi5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoiaW5pdGlhbFNwZEJ1ZmYiLG5hbWU6ImluaXRpYWxTcGRCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmkoImluaXRpYWxTcGRCdWZmLnRleHQiKSx0aXRsZTppKCJpbml0aWFsU3BkQnVmZi50aXRsZSIpLGNvbnRlbnQ6aSgiaW5pdGlhbFNwZEJ1ZmYuY29udGVudCIse1NwZEJ1ZmY6ZVt0XX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5hLHRlYW1tYXRlQ29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHtpbml0aWFsU3BkQnVmZjohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7aW5pdGlhbFNwZEJ1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGksbyk9Pntjb25zdCByPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO2lbcy5TUERdKz1yLmluaXRpYWxTcGRCdWZmP2VbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sTXI9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLHZyPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSxOcj0odCxuKT0+e2NvbnN0IGU9Wy4yNCwuMjgsLjMyLC4zNiwuNF0sYT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGk9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5Nb21lbnRPZlZpY3RvcnkuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6InNlbGZBdHRhY2tlZERlZkJ1ZmYiLG5hbWU6InNlbGZBdHRhY2tlZERlZkJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6aSgic2VsZkF0dGFja2VkRGVmQnVmZi50ZXh0IiksdGl0bGU6aSgic2VsZkF0dGFja2VkRGVmQnVmZi50aXRsZSIpLGNvbnRlbnQ6aSgic2VsZkF0dGFja2VkRGVmQnVmZi5jb250ZW50Iix7RGVmQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5hLGRlZmF1bHRzOigpPT4oe3NlbGZBdHRhY2tlZERlZkJ1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxvKT0+e2NvbnN0IHI9by5saWdodENvbmVDb25kaXRpb25hbHM7aVtzLkRFRl9QXSs9ci5zZWxmQXR0YWNrZWREZWZCdWZmP2VbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sT3I9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLFByPSh0LG4pPT57Y29uc3QgZT1bLjEyLC4xNSwuMTgsLjIxLC4yNF0sYT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGk9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5NdXR1YWxEZW1pc2UuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6InNlbGZIcDgwQ3JCdWZmIixuYW1lOiJzZWxmSHA4MENyQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDppKCJzZWxmSHA4MENyQnVmZi50ZXh0IiksdGl0bGU6aSgic2VsZkhwODBDckJ1ZmYudGl0bGUiKSxjb250ZW50OmkoInNlbGZIcDgwQ3JCdWZmLmNvbnRlbnQiLHtDcml0QnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5hLGRlZmF1bHRzOigpPT4oe3NlbGZIcDgwQ3JCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksbyk9Pntjb25zdCByPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO2lbcy5DUl0rPXIuc2VsZkhwODBDckJ1ZmY/ZVt0XTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxVcj0odCxuKT0+e2NvbnN0IGU9Wy4wMjQsLjAyOCwuMDMyLC4wMzYsLjA0XSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLk5pZ2h0T2ZGcmlnaHQuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6ImF0a0J1ZmZTdGFja3MiLG5hbWU6ImF0a0J1ZmZTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6aSgiYXRrQnVmZlN0YWNrcy50ZXh0IiksdGl0bGU6aSgiYXRrQnVmZlN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6aSgiYXRrQnVmZlN0YWNrcy5jb250ZW50Iix7QXRrQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pLG1pbjowLG1heDo1fV19KSgpO3JldHVybntjb250ZW50OigpPT5hLHRlYW1tYXRlQ29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHthdGtCdWZmU3RhY2tzOjV9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2F0a0J1ZmZTdGFja3M6NX0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooaSxvKT0+e2NvbnN0IHI9by5saWdodENvbmVDb25kaXRpb25hbHM7aVtzLkFUS19QXSs9ci5hdGtCdWZmU3RhY2tzKmVbdF19LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LEZyPSh0LG4pPT57Y29uc3QgZT1bLjA5LC4xMDUsLjEyLC4xMzUsLjE1XSxhPVsuMywuMzUsLjQsLjQ1LC41XSxpPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3Qgbz1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLk5pZ2h0T25UaGVNaWxreVdheS5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoiZW5lbXlDb3VudEF0a0J1ZmYiLG5hbWU6ImVuZW15Q291bnRBdGtCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om8oImVuZW15Q291bnRBdGtCdWZmLnRleHQiKSx0aXRsZTpvKCJlbmVteUNvdW50QXRrQnVmZi50aXRsZSIpLGNvbnRlbnQ6bygiZW5lbXlDb3VudEF0a0J1ZmYuY29udGVudCIse0F0a0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KX0se2xjOiEwLGlkOiJlbmVteVdlYWtuZXNzQnJlYWtEbWdCdWZmIixuYW1lOiJlbmVteVdlYWtuZXNzQnJlYWtEbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om8oImVuZW15V2Vha25lc3NCcmVha0RtZ0J1ZmYudGV4dCIpLHRpdGxlOm8oImVuZW15V2Vha25lc3NCcmVha0RtZ0J1ZmYudGl0bGUiKSxjb250ZW50Om8oImVuZW15V2Vha25lc3NCcmVha0RtZ0J1ZmYuY29udGVudCIse0RtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtlbmVteUNvdW50QXRrQnVmZjohMCxlbmVteVdlYWtuZXNzQnJlYWtEbWdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KG8scik9Pntjb25zdCBkPXIubGlnaHRDb25lQ29uZGl0aW9uYWxzO29bcy5BVEtfUF0rPWQuZW5lbXlDb3VudEF0a0J1ZmY/ci5lbmVteUNvdW50KmVbdF06MCxvLkVMRU1FTlRBTF9ETUcrPWQuZW5lbXlXZWFrbmVzc0JyZWFrRG1nQnVmZj9hW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LEhyPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSx4cj0odCxuKT0+e2NvbnN0IGU9Wy4xMiwuMTUsLjE4LC4yMSwuMjRdLGE9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBpPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuT25seVNpbGVuY2VSZW1haW5zLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJlbmVtaWVzMkNyQnVmZiIsbmFtZToiZW5lbWllczJDckJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6aSgiZW5lbWllczJDckJ1ZmYudGV4dCIpLHRpdGxlOmkoImVuZW1pZXMyQ3JCdWZmLnRpdGxlIiksY29udGVudDppKCJlbmVtaWVzMkNyQnVmZi5jb250ZW50Iix7Q3JpdEJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHtlbmVtaWVzMkNyQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpW3MuQ1JdKz1yLmVuZW1pZXMyQ3JCdWZmJiZvLmVuZW15Q291bnQ8PTI/ZVt0XTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxLcj0odCxuKT0+e2NvbnN0IGU9Wy4wOCwuMSwuMTIsLjE0LC4xNl0sYT1bLjEyLC4xNSwuMTgsLjIxLC4yNF0saT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IG89QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5PblRoZUZhbGxPZkFuQWVvbi5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoiYXRrQm9vc3RTdGFja3MiLG5hbWU6ImF0a0Jvb3N0U3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0Om8oImF0a0Jvb3N0U3RhY2tzLnRleHQiKSx0aXRsZTpvKCJhdGtCb29zdFN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6bygiYXRrQm9vc3RTdGFja3MuY29udGVudCIse0F0a0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KSxtaW46MCxtYXg6NH0se2xjOiEwLGlkOiJ3ZWFrbmVzc0JyZWFrRG1nQnVmZiIsbmFtZToid2Vha25lc3NCcmVha0RtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bygid2Vha25lc3NCcmVha0RtZ0J1ZmYudGV4dCIpLHRpdGxlOm8oIndlYWtuZXNzQnJlYWtEbWdCdWZmLnRpdGxlIiksY29udGVudDpvKCJ3ZWFrbmVzc0JyZWFrRG1nQnVmZi5jb250ZW50Iix7RG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCphW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe2F0a0Jvb3N0U3RhY2tzOjQsd2Vha25lc3NCcmVha0RtZ0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoobyxyKT0+e2NvbnN0IGQ9ci5saWdodENvbmVDb25kaXRpb25hbHM7b1tzLkFUS19QXSs9ZC5hdGtCb29zdFN0YWNrcyplW3RdLG8uRUxFTUVOVEFMX0RNRys9ZC53ZWFrbmVzc0JyZWFrRG1nQnVmZj9hW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFZyPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSx3cj0odCxuKT0+e2NvbnN0IGU9Wy4xNiwuMiwuMjQsLjI4LC4zMl0sYT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGk9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5QYXN0QW5kRnV0dXJlLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJwb3N0U2tpbGxEbWdCdWZmIixuYW1lOiJwb3N0U2tpbGxEbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmkoInBvc3RTa2lsbERtZ0J1ZmYudGV4dCIpLHRpdGxlOmkoInBvc3RTa2lsbERtZ0J1ZmYudGl0bGUiKSxjb250ZW50OmkoInBvc3RTa2lsbERtZ0J1ZmYuY29udGVudCIse0RtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+W10sdGVhbW1hdGVDb250ZW50OigpPT5hLGRlZmF1bHRzOigpPT4oe30pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7cG9zdFNraWxsRG1nQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpLkVMRU1FTlRBTF9ETUcrPXIucG9zdFNraWxsRG1nQnVmZj9lW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LHpyPSh0LG4pPT57Y29uc3QgZT1bLjI0LC4yOCwuMzIsLjM2LC40XSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlBhc3RTZWxmSW5UaGVNaXJyb3IuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6InBvc3RVbHREbWdCdWZmIixuYW1lOiJwb3N0VWx0RG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDppKCJwb3N0VWx0RG1nQnVmZi50ZXh0IiksdGl0bGU6aSgicG9zdFVsdERtZ0J1ZmYudGl0bGUiKSxjb250ZW50OmkoInBvc3RVbHREbWdCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmEsdGVhbW1hdGVDb250ZW50OigpPT5hLGRlZmF1bHRzOigpPT4oe3Bvc3RVbHREbWdCdWZmOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtwb3N0VWx0RG1nQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooaSxvKT0+e2NvbnN0IHI9by5saWdodENvbmVDb25kaXRpb25hbHM7aS5FTEVNRU5UQUxfRE1HKz1yLnBvc3RVbHREbWdCdWZmP2VbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sJHI9KHQsbik9Pntjb25zdCBlPVsuMjQsLjI4LC4zMiwuMzYsLjRdLGE9Wy4wNDgsLjA1NiwuMDY0LC4wNzIsLjA4XSxpPVsuNiwuNywuOCwuOSwxXSxvPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3Qgcj1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlBhdGllbmNlSXNBbGxZb3VOZWVkLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJzcGRTdGFja3MiLG5hbWU6InNwZFN0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDpyKCJzcGRTdGFja3MudGV4dCIpLHRpdGxlOnIoInNwZFN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6cigic3BkU3RhY2tzLmNvbnRlbnQiLHtTcGRCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pfSksbWluOjAsbWF4OjN9LHtsYzohMCxpZDoiZG90RWZmZWN0IixuYW1lOiJkb3RFZmZlY3QiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6cigiZG90RWZmZWN0LnRleHQiKSx0aXRsZTpyKCJkb3RFZmZlY3QudGl0bGUiKSxjb250ZW50OnIoImRvdEVmZmVjdC5jb250ZW50Iix7TXVsdGlwbGllcjpELnByZWNpc2lvblJvdW5kKDEwMCppW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5vLGRlZmF1bHRzOigpPT4oe3NwZFN0YWNrczozLGRvdEVmZmVjdDohMX0pLHByZWNvbXB1dGVFZmZlY3RzOihyLGQpPT57Y29uc3QgUz1kLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztyW3MuU1BEX1BdKz1TLnNwZFN0YWNrcyphW3RdLHIuRUxFTUVOVEFMX0RNRys9ZVt0XX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sV3I9KHQsbik9Pntjb25zdCBlPVsuMzMsLjM2LC4zOSwuNDIsLjQ1XSxhPVsuMTUsLjE4LC4yMSwuMjQsLjI3XSxpPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3Qgbz1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlBlcmZlY3RUaW1pbmcuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6InJlc1RvSGVhbGluZ0Jvb3N0IixuYW1lOiJyZXNUb0hlYWxpbmdCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpvKCJyZXNUb0hlYWxpbmdCb29zdC50ZXh0IiksdGl0bGU6bygicmVzVG9IZWFsaW5nQm9vc3QudGl0bGUiKSxjb250ZW50Om8oInJlc1RvSGVhbGluZ0Jvb3N0LmNvbnRlbnQiLHtTY2FsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pLExpbWl0OkQucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7cmVzVG9IZWFsaW5nQm9vc3Q6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KG8scik9Pnt9LGR5bmFtaWNDb25kaXRpb25hbHM6W3tpZDoiUGVyZmVjdFRpbWluZ0NvbmRpdGlvbmFsIix0eXBlOlUuQUJJTElUWSxhY3RpdmF0aW9uOk4uU0lOR0xFLGRlcGVuZHNPbjpbcy5SRVNdLGNvbmRpdGlvbjpmdW5jdGlvbihvLHIsZCl7cmV0dXJuIHIubGlnaHRDb25lQ29uZGl0aW9uYWxzLnJlc1RvSGVhbGluZ0Jvb3N0fSxlZmZlY3Q6KG8scixkKT0+e2NvbnN0IFM9TWF0aC5taW4oYVt0XSxlW3RdKm9bcy5SRVNdKTt3KG8scixkLHMuT0hCLFMpfSxncHU6ZnVuY3Rpb24oKXtyZXR1cm4gRih0aGlzLGAKaWYgKAogICgqcF9zdGF0ZSkuUGVyZmVjdFRpbWluZ0NvbmRpdGlvbmFsID09IDAuMAopIHsKICAoKnBfc3RhdGUpLlBlcmZlY3RUaW1pbmdDb25kaXRpb25hbCA9IDEuMDsKICAKICBsZXQgYm9vc3QgPSBtaW4oJHthW3RdfSwgJHtlW3RdfSAqIHguUkVTKTsKICBidWZmRHluYW1pY09IQihib29zdCwgcF94LCBwX3N0YXRlKTsKfQogICAgYCl9fV19fSxZcj0oKT0+KHtjb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fSksanI9KHQsbik9Pntjb25zdCBlPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlBsYW5ldGFyeVJlbmRlenZvdXMuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6ImFsbGllc1NhbWVFbGVtZW50IixuYW1lOiJhbGxpZXNTYW1lRWxlbWVudCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDppKCJhbGxpZXNTYW1lRWxlbWVudC50ZXh0IiksdGl0bGU6aSgiYWxsaWVzU2FtZUVsZW1lbnQudGl0bGUiKSxjb250ZW50OmkoImFsbGllc1NhbWVFbGVtZW50LmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmEsdGVhbW1hdGVDb250ZW50OigpPT5hLGRlZmF1bHRzOigpPT4oe2FsbGllc1NhbWVFbGVtZW50OiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHthbGxpZXNTYW1lRWxlbWVudDohMH0pLHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KGksbyk9Pntjb25zdCByPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO2kuRUxFTUVOVEFMX0RNRys9ci5hbGxpZXNTYW1lRWxlbWVudD9lW3RdOjB9LHByZWNvbXB1dGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpLkVMRU1FTlRBTF9ETUcrPXIuYWxsaWVzU2FtZUVsZW1lbnQ/ZVt0XTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxKcj0odCxuKT0+e2NvbnN0IGU9Wy4xMiwuMTUsLjE4LC4yMSwuMjRdLGE9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBpPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuUG9zdE9wQ29udmVyc2F0aW9uLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJwb3N0VWx0SGVhbGluZ0Jvb3N0IixuYW1lOiJwb3N0VWx0SGVhbGluZ0Jvb3N0Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmkoInBvc3RVbHRIZWFsaW5nQm9vc3QudGV4dCIpLHRpdGxlOmkoInBvc3RVbHRIZWFsaW5nQm9vc3QudGl0bGUiKSxjb250ZW50OmkoInBvc3RVbHRIZWFsaW5nQm9vc3QuY29udGVudCIse0hlYWxpbmdCb29zdDpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5hLGRlZmF1bHRzOigpPT4oe3Bvc3RVbHRIZWFsaW5nQm9vc3Q6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxvKT0+e2NvbnN0IHI9by5saWdodENvbmVDb25kaXRpb25hbHM7aVtzLk9IQl0rPXIucG9zdFVsdEhlYWxpbmdCb29zdD9lW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFFyPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSxYcj0odCxuKT0+e2NvbnN0IGU9Wy4wNSwuMDYsLjA3LC4wOCwuMDldLGE9Wy4wNzIsLjA3OSwuMDg2LC4wOTMsLjFdLGk9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBvPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuUmVmb3JnZWRSZW1lbWJyYW5jZS5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoicHJvcGhldFN0YWNrcyIsbmFtZToicHJvcGhldFN0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDpvKCJwcm9waGV0U3RhY2tzLnRleHQiKSx0aXRsZTpvKCJwcm9waGV0U3RhY2tzLnRpdGxlIiksY29udGVudDpvKCJwcm9waGV0U3RhY2tzLmNvbnRlbnQiLHtBdGtCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pLERlZklnbm9yZTpELnByZWNpc2lvblJvdW5kKDEwMCphW3RdKX0pLG1pbjowLG1heDo0fV19KSgpO3JldHVybntjb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe3Byb3BoZXRTdGFja3M6NH0pLHByZWNvbXB1dGVFZmZlY3RzOihvLHIpPT57Y29uc3QgZD1yLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztvW3MuQVRLX1BdKz1kLnByb3BoZXRTdGFja3MqZVt0XSxvdChvLHV0LGQucHJvcGhldFN0YWNrcyphW3RdKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sWnI9KHQsbik9Pntjb25zdCBlPVsuMTIsLjEzLC4xNCwuMTUsLjE2XSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlJlc29sdXRpb25TaGluZXNBc1BlYXJsc09mU3dlYXQuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6InRhcmdldEVuc25hcmVkIixuYW1lOiJ0YXJnZXRFbnNuYXJlZCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDppKCJ0YXJnZXRFbnNuYXJlZC50ZXh0IiksdGl0bGU6aSgidGFyZ2V0RW5zbmFyZWQudGl0bGUiKSxjb250ZW50OmkoInRhcmdldEVuc25hcmVkLmNvbnRlbnQiLHtEZWZTaHJlZDpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5hLHRlYW1tYXRlQ29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHt0YXJnZXRFbnNuYXJlZDohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7dGFyZ2V0RW5zbmFyZWQ6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGksbyk9Pntjb25zdCByPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO2kuREVGX1BFTis9ci50YXJnZXRFbnNuYXJlZD9lW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LHFyPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSx0cz0odCxuKT0+e2NvbnN0IGU9Wy4wOCwuMDksLjEsLjExLC4xMl0sYT1bLjEyLC4xNSwuMTgsLjIxLC4yNF0saT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IG89QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5SaXZlckZsb3dzSW5TcHJpbmcuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6InNwZERtZ0J1ZmYiLG5hbWU6InNwZERtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bygic3BkRG1nQnVmZi50ZXh0IiksdGl0bGU6bygic3BkRG1nQnVmZi50aXRsZSIpLGNvbnRlbnQ6bygic3BkRG1nQnVmZi5jb250ZW50Iix7U3BkQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKSxEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7c3BkRG1nQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihvLHIpPT57Y29uc3QgZD1yLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztvW3MuU1BEX1BdKz1kLnNwZERtZ0J1ZmY/ZVt0XTowLG8uRUxFTUVOVEFMX0RNRys9ZC5zcGREbWdCdWZmP2FbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sZXM9KHQsbik9Pntjb25zdCBlPVsuMjQsLjMsLjM2LC40MiwuNDhdLGE9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBpPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuU2FnYWNpdHkuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6InBvc3RVbHRBdGtCdWZmIixuYW1lOiJwb3N0VWx0QXRrQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDppKCJwb3N0VWx0QXRrQnVmZi50ZXh0IiksdGl0bGU6aSgicG9zdFVsdEF0a0J1ZmYudGl0bGUiKSxjb250ZW50OmkoInBvc3RVbHRBdGtCdWZmLmNvbnRlbnQiLHtBdGtCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmEsZGVmYXVsdHM6KCk9Pih7cG9zdFVsdEF0a0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxvKT0+e2NvbnN0IHI9by5saWdodENvbmVDb25kaXRpb25hbHM7aVtzLkFUS19QXSs9ci5wb3N0VWx0QXRrQnVmZj9lW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LG5zPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSxpcz0odCxuKT0+e2NvbnN0IGU9Wy4yLC4yNSwuMywuMzUsLjRdLGE9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBpPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuU2hhdHRlcmVkSG9tZS5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoiZW5lbXlIcDUwQnVmZiIsbmFtZToiZW5lbXlIcDUwQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDppKCJlbmVteUhwNTBCdWZmLnRleHQiKSx0aXRsZTppKCJlbmVteUhwNTBCdWZmLnRpdGxlIiksY29udGVudDppKCJlbmVteUhwNTBCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmEsZGVmYXVsdHM6KCk9Pih7ZW5lbXlIcDUwQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpLkVMRU1FTlRBTF9ETUcrPXIuZW5lbXlIcDUwQnVmZj9lW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGFzPSh0LG4pPT57Y29uc3QgZT1bLjA5LC4xMDUsLjEyLC4xMzUsLjE1XSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlNoZUFscmVhZHlTaHV0SGVyRXllcy5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoiaHBMb3N0RG1nQnVmZiIsbmFtZToiaHBMb3N0RG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDppKCJocExvc3REbWdCdWZmLnRleHQiKSx0aXRsZTppKCJocExvc3REbWdCdWZmLnRpdGxlIiksY29udGVudDppKCJocExvc3REbWdCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmEsdGVhbW1hdGVDb250ZW50OigpPT5hLGRlZmF1bHRzOigpPT4oe2hwTG9zdERtZ0J1ZmY6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2hwTG9zdERtZ0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGksbyk9Pntjb25zdCByPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO2kuRUxFTUVOVEFMX0RNRys9ci5ocExvc3REbWdCdWZmP2VbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sb3M9KHQsbik9Pntjb25zdCBlPVsuMzYsLjQyLC40OCwuNTQsLjZdLGE9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBpPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuU2xlZXBMaWtlVGhlRGVhZC5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoibWlzc2VkQ3JpdENyQnVmZiIsbmFtZToibWlzc2VkQ3JpdENyQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDppKCJtaXNzZWRDcml0Q3JCdWZmLnRleHQiKSx0aXRsZTppKCJtaXNzZWRDcml0Q3JCdWZmLnRpdGxlIiksY29udGVudDppKCJtaXNzZWRDcml0Q3JCdWZmLmNvbnRlbnQiLHtDcml0QnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5hLGRlZmF1bHRzOigpPT4oe21pc3NlZENyaXRDckJ1ZmY6ITF9KSxwcmVjb21wdXRlRWZmZWN0czooaSxvKT0+e2NvbnN0IHI9by5saWdodENvbmVDb25kaXRpb25hbHM7aVtzLkNSXSs9ci5taXNzZWRDcml0Q3JCdWZmP2VbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0scnM9KHQsbik9Pntjb25zdCBlPVsuMjQsLjMsLjM2LC40MiwuNDhdLGE9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBpPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuU29saXRhcnlIZWFsaW5nLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJwb3N0VWx0RG90RG1nQnVmZiIsbmFtZToicG9zdFVsdERvdERtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6aSgicG9zdFVsdERvdERtZ0J1ZmYudGV4dCIpLHRpdGxlOmkoInBvc3RVbHREb3REbWdCdWZmLnRpdGxlIiksY29udGVudDppKCJwb3N0VWx0RG90RG1nQnVmZi5jb250ZW50Iix7RG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5hLGRlZmF1bHRzOigpPT4oe3Bvc3RVbHREb3REbWdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksbyk9Pntjb25zdCByPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3koaSx1dCxlW3RdLHIucG9zdFVsdERvdERtZ0J1ZmYpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxzcz0odCxuKT0+e2NvbnN0IGU9Wy4yNCwuMjgsLjMyLC4zNiwuNF0sYT1bLjA4LC4wOSwuMSwuMTEsLjEyXSxpPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3Qgbz1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlNvbWV0aGluZ0lycmVwbGFjZWFibGUuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6ImRtZ0J1ZmYiLG5hbWU6ImRtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bygiZG1nQnVmZi50ZXh0IiksdGl0bGU6bygiZG1nQnVmZi50aXRsZSIpLGNvbnRlbnQ6bygiZG1nQnVmZi5jb250ZW50Iix7TXVsdGlwbGllcjpELnByZWNpc2lvblJvdW5kKDEwMCphW3RdKSxEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7ZG1nQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihvLHIpPT57Y29uc3QgZD1yLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztvLkVMRU1FTlRBTF9ETUcrPWQuZG1nQnVmZj9lW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGxzPSh0LG4pPT57Y29uc3QgZT1bLjI0LC4zLC4zNiwuNDIsLjQ4XSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlN1YnNjcmliZUZvck1vcmUuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6Im1heEVuZXJneURtZ0Jvb3N0IixuYW1lOiJtYXhFbmVyZ3lEbWdCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDppKCJtYXhFbmVyZ3lEbWdCb29zdC50ZXh0IiksdGl0bGU6aSgibWF4RW5lcmd5RG1nQm9vc3QudGl0bGUiKSxjb250ZW50OmkoIm1heEVuZXJneURtZ0Jvb3N0LmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmEsZGVmYXVsdHM6KCk9Pih7bWF4RW5lcmd5RG1nQm9vc3Q6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxvKT0+e2NvbnN0IHI9by5saWdodENvbmVDb25kaXRpb25hbHM7eShpLFd8eixlW3RdKSx5KGksV3x6LGVbdF0sci5tYXhFbmVyZ3lEbWdCb29zdCl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGNzPSh0LG4pPT57Y29uc3QgZT1bLjA4LC4xLC4xMiwuMTQsLjE2XSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlN3b3JkcGxheS5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoic2FtZVRhcmdldEhpdFN0YWNrcyIsbmFtZToic2FtZVRhcmdldEhpdFN0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDppKCJzYW1lVGFyZ2V0SGl0U3RhY2tzLnRleHQiKSx0aXRsZTppKCJzYW1lVGFyZ2V0SGl0U3RhY2tzLnRpdGxlIiksY29udGVudDppKCJzYW1lVGFyZ2V0SGl0U3RhY2tzLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSksbWluOjAsbWF4OjV9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmEsZGVmYXVsdHM6KCk9Pih7c2FtZVRhcmdldEhpdFN0YWNrczo1fSkscHJlY29tcHV0ZUVmZmVjdHM6KGksbyk9Pntjb25zdCByPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO2kuRUxFTUVOVEFMX0RNRys9ci5zYW1lVGFyZ2V0SGl0U3RhY2tzKmVbdF19LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LHVzPSh0LG4pPT57Y29uc3QgZT1bLjEyLC4xNSwuMTgsLjIxLC4yNF0sYT1bLjE2LC4yLC4yNCwuMjgsLjMyXSxpPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3Qgbz1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlRleHR1cmVPZk1lbW9yaWVzLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJhY3RpdmVTaGllbGREbWdEZWNyZWFzZSIsbmFtZToiYWN0aXZlU2hpZWxkRG1nRGVjcmVhc2UiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bygiYWN0aXZlU2hpZWxkRG1nRGVjcmVhc2UudGV4dCIpLHRpdGxlOm8oImFjdGl2ZVNoaWVsZERtZ0RlY3JlYXNlLnRpdGxlIiksY29udGVudDpvKCJhY3RpdmVTaGllbGREbWdEZWNyZWFzZS5jb250ZW50Iix7U2hpZWxkSHA6RC5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSksRG1nUmVkdWN0aW9uOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7YWN0aXZlU2hpZWxkRG1nRGVjcmVhc2U6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoobyxyKT0+e2NvbnN0IGQ9ci5saWdodENvbmVDb25kaXRpb25hbHM7by5ETUdfUkVEX01VTFRJKj1kLmFjdGl2ZVNoaWVsZERtZ0RlY3JlYXNlPzEtZVt0XToxfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxmcz0odCxuKT0+e2NvbnN0IGU9Wy4yNCwuMywuMzYsLjQyLC40OF0sYT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGk9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5UaGVCaXJ0aE9mVGhlU2VsZi5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoiZW5lbXlIcDUwRnVhQnVmZiIsbmFtZToiZW5lbXlIcDUwRnVhQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDppKCJlbmVteUhwNTBGdWFCdWZmLnRleHQiKSx0aXRsZTppKCJlbmVteUhwNTBGdWFCdWZmLnRpdGxlIiksY29udGVudDppKCJlbmVteUhwNTBGdWFCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmEsZGVmYXVsdHM6KCk9Pih7ZW5lbXlIcDUwRnVhQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczt5KGksTSxlW3RdKSx5KGksTSxlW3RdLHIuZW5lbXlIcDUwRnVhQnVmZil9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGRzPSh0LG4pPT57Y29uc3QgZT1bLjEyLC4xNSwuMTgsLjIxLC4yNF0sYT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGk9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5UaGVNb2xlc1dlbGNvbWVZb3UuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6ImF0a0J1ZmZTdGFja3MiLG5hbWU6ImF0a0J1ZmZTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6aSgiYXRrQnVmZlN0YWNrcy50ZXh0IiksdGl0bGU6aSgiYXRrQnVmZlN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6aSgiYXRrQnVmZlN0YWNrcy5jb250ZW50Iix7QXRrQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pLG1pbjowLG1heDozfV19KSgpO3JldHVybntjb250ZW50OigpPT5hLGRlZmF1bHRzOigpPT4oe2F0a0J1ZmZTdGFja3M6M30pLHByZWNvbXB1dGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpW3MuQVRLX1BdKz1yLmF0a0J1ZmZTdGFja3MqZVt0XX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sbXM9KHQsbik9Pntjb25zdCBlPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSxhPVsuMDQsLjA1LC4wNiwuMDcsLjA4XSxpPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3Qgbz1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlRoZVNlcmlvdXNuZXNzT2ZCcmVha2Zhc3QuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6ImRtZ0Jvb3N0IixuYW1lOiJkbWdCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpvKCJkbWdCb29zdC50ZXh0IiksdGl0bGU6bygiZG1nQm9vc3QudGl0bGUiKSxjb250ZW50Om8oImRtZ0Jvb3N0LmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSl9LHtsYzohMCxpZDoiZGVmZWF0ZWRFbmVteUF0a1N0YWNrcyIsbmFtZToiZGVmZWF0ZWRFbmVteUF0a1N0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDpvKCJkZWZlYXRlZEVuZW15QXRrU3RhY2tzLnRleHQiKSx0aXRsZTpvKCJkZWZlYXRlZEVuZW15QXRrU3RhY2tzLnRpdGxlIiksY29udGVudDpvKCJkZWZlYXRlZEVuZW15QXRrU3RhY2tzLmNvbnRlbnQiLHtBdGtCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pfSksbWluOjAsbWF4OjN9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7ZG1nQm9vc3Q6ITAsZGVmZWF0ZWRFbmVteUF0a1N0YWNrczozfSkscHJlY29tcHV0ZUVmZmVjdHM6KG8scik9Pntjb25zdCBkPXIubGlnaHRDb25lQ29uZGl0aW9uYWxzO29bcy5BVEtfUF0rPWQuZGVmZWF0ZWRFbmVteUF0a1N0YWNrcyphW3RdLG8uRUxFTUVOVEFMX0RNRys9ZC5kbWdCb29zdD9lW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFNzPSh0LG4pPT57Y29uc3QgZT1bLjI0LC4yOCwuMzIsLjM2LC40XSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlRoZVVucmVhY2hhYmxlU2lkZS5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoiZG1nQnVmZiIsbmFtZToiZG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDppKCJkbWdCdWZmLnRleHQiKSx0aXRsZTppKCJkbWdCdWZmLnRpdGxlIiksY29udGVudDppKCJkbWdCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoZVt0XSoxMDApfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmEsZGVmYXVsdHM6KCk9Pih7ZG1nQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpLkVMRU1FTlRBTF9ETUcrPXIuZG1nQnVmZj9lW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGdzPSh0LG4pPT57Y29uc3QgZT1bLjYsLjc1LC45LDEuMDUsMS4yXSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlRoaXNJc01lLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJkZWZTY2FsaW5nVWx0RG1nIixuYW1lOiJkZWZTY2FsaW5nVWx0RG1nIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmkoImRlZlNjYWxpbmdVbHREbWcudGV4dCIpLHRpdGxlOmkoImRlZlNjYWxpbmdVbHREbWcudGl0bGUiKSxjb250ZW50OmkoImRlZlNjYWxpbmdVbHREbWcuY29udGVudCIse011bHRpcGxpZXI6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHtkZWZTY2FsaW5nVWx0RG1nOiExfSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LHBzPSh0LG4pPT57Y29uc3QgZT1bLjM2LC40MiwuNDgsLjU0LC42XSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlRpbWVXYWl0c0Zvck5vT25lLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJoZWFsaW5nQmFzZWREbWdQcm9jIixuYW1lOiJoZWFsaW5nQmFzZWREbWdQcm9jIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmkoImhlYWxpbmdCYXNlZERtZ1Byb2MudGV4dCIpLHRpdGxlOmkoImhlYWxpbmdCYXNlZERtZ1Byb2MudGl0bGUiKSxjb250ZW50OmkoImhlYWxpbmdCYXNlZERtZ1Byb2MuY29udGVudCIse011bHRpcGxpZXI6RC5wcmVjaXNpb25Sb3VuZChlW3RdKjEwMCl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHtoZWFsaW5nQmFzZWREbWdQcm9jOiExfSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGhzPSh0LG4pPT57Y29uc3QgZT1bLjAwMiwuMDAyNSwuMDAzLC4wMDM1LC4wMDRdLGE9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBpPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuVG9kYXlJc0Fub3RoZXJQZWFjZWZ1bERheS5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoibWF4RW5lcmd5U3RhY2tzIixuYW1lOiJtYXhFbmVyZ3lTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6aSgibWF4RW5lcmd5U3RhY2tzLnRleHQiKSx0aXRsZTppKCJtYXhFbmVyZ3lTdGFja3MudGl0bGUiKSxjb250ZW50OmkoIm1heEVuZXJneVN0YWNrcy5jb250ZW50Iix7RG1nU3RlcDpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pLG1pbjowLG1heDoxNjB9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmEsZGVmYXVsdHM6KCk9Pih7bWF4RW5lcmd5U3RhY2tzOjE2MH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpLkVMRU1FTlRBTF9ETUcrPXIubWF4RW5lcmd5U3RhY2tzKmVbdF19LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LEJzPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSxDcz0odCxuKT0+e2NvbnN0IGU9Wy4xMiwuMTUsLjE4LC4yMSwuMjRdLGE9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBpPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuVW5kZXJUaGVCbHVlU2t5LkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJkZWZlYXRlZEVuZW15Q3JCdWZmIixuYW1lOiJkZWZlYXRlZEVuZW15Q3JCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmkoImRlZmVhdGVkRW5lbXlDckJ1ZmYudGV4dCIpLHRpdGxlOmkoImRlZmVhdGVkRW5lbXlDckJ1ZmYudGl0bGUiKSxjb250ZW50OmkoImRlZmVhdGVkRW5lbXlDckJ1ZmYuY29udGVudCIse0NyaXRCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmEsZGVmYXVsdHM6KCk9Pih7ZGVmZWF0ZWRFbmVteUNyQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpW3MuQ1JdKz1yLmRlZmVhdGVkRW5lbXlDckJ1ZmY/ZVt0XTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxEcz0odCxuKT0+e2NvbnN0IGU9Wy4yLC4yNSwwLDMwLC4zNSwuNF0sYT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGk9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5Wb2lkLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJpbml0aWFsRWhyQnVmZiIsbmFtZToiaW5pdGlhbEVockJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6aSgiaW5pdGlhbEVockJ1ZmYudGV4dCIpLHRpdGxlOmkoImluaXRpYWxFaHJCdWZmLnRpdGxlIiksY29udGVudDppKCJpbml0aWFsRWhyQnVmZi5jb250ZW50Iix7RWhyQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5hLGRlZmF1bHRzOigpPT4oe2luaXRpYWxFaHJCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksbyk9Pntjb25zdCByPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO2lbcy5FSFJdKz1yLmluaXRpYWxFaHJCdWZmP2VbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sX3M9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLEFzPSh0LG4pPT57Y29uc3QgZT1bLjA4LC4xLC4xMiwuMTQsLjE2XSxhPVsuMywuMzUsLjQsLjQ1LC41XSxpPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3Qgbz1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLldlQXJlV2lsZGZpcmUuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6ImluaXRpYWxEbWdSZWR1Y3Rpb25CdWZmIixuYW1lOiJpbml0aWFsRG1nUmVkdWN0aW9uQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpvKCJpbml0aWFsRG1nUmVkdWN0aW9uQnVmZi50ZXh0IiksdGl0bGU6bygiaW5pdGlhbERtZ1JlZHVjdGlvbkJ1ZmYudGl0bGUiKSxjb250ZW50Om8oImluaXRpYWxEbWdSZWR1Y3Rpb25CdWZmLmNvbnRlbnQiLHtIZWFsaW5nOkQucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pLERtZ1JlZHVjdGlvbjplW3RdfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmksdGVhbW1hdGVDb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe2luaXRpYWxEbWdSZWR1Y3Rpb25CdWZmOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtpbml0aWFsRG1nUmVkdWN0aW9uQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoobyxyKT0+e2NvbnN0IGQ9ci5saWdodENvbmVDb25kaXRpb25hbHM7by5ETUdfUkVEX01VTFRJKj1kLmluaXRpYWxEbWdSZWR1Y3Rpb25CdWZmPzEtZVt0XToxfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxFcz0odCxuKT0+e2NvbnN0IGU9Wy40OCwuNiwuNzIsLjg0LC45Nl0sYT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGk9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5XZVdpbGxNZWV0QWdhaW4uQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6ImV4dHJhRG1nUHJvYyIsbmFtZToiZXh0cmFEbWdQcm9jIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmkoImV4dHJhRG1nUHJvYy50ZXh0IiksdGl0bGU6aSgiZXh0cmFEbWdQcm9jLnRpdGxlIiksY29udGVudDppKCJleHRyYURtZ1Byb2MuY29udGVudCIse011bHRpcGxpZXI6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHtleHRyYURtZ1Byb2M6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxvKT0+e2NvbnN0IHI9by5saWdodENvbmVDb25kaXRpb25hbHM7aS5CQVNJQ19TQ0FMSU5HKz1yLmV4dHJhRG1nUHJvYz9lW3RdOjAsaS5TS0lMTF9TQ0FMSU5HKz1yLmV4dHJhRG1nUHJvYz9lW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFRzPSh0LG4pPT57Y29uc3QgZT1bLjE2LC4yLC4yNCwuMjgsLjMyXSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLldvb2ZXYWxrVGltZS5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoiYXRrQm9vc3QiLG5hbWU6ImF0a0Jvb3N0Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmkoImF0a0Jvb3N0LnRleHQiKSx0aXRsZTppKCJhdGtCb29zdC50aXRsZSIpLGNvbnRlbnQ6aSgiYXRrQm9vc3QuY29udGVudCIse0RtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHtlbmVteUJ1cm5lZEJsZWVkaW5nOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksbyk9Pntjb25zdCByPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO2kuRUxFTUVOVEFMX0RNRys9ci5lbmVteUJ1cm5lZEJsZWVkaW5nP2VbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sSXM9KHQsbik9Pntjb25zdCBlPVsuMywuMzUsLjQsLjQ1LC41XSxhPVsuMTIsLjE0LC4xNiwuMTgsLjJdLGk9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBvPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuV29ycmlzb21lQmxpc3NmdWwuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6InRhcmdldFRhbWVTdGFja3MiLG5hbWU6InRhcmdldFRhbWVTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6bygidGFyZ2V0VGFtZVN0YWNrcy50ZXh0IiksdGl0bGU6bygidGFyZ2V0VGFtZVN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6bygidGFyZ2V0VGFtZVN0YWNrcy5jb250ZW50Iix7Q3JpdEJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSl9KSxtaW46MCxtYXg6Mn1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+aSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7dGFyZ2V0VGFtZVN0YWNrczoyfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt0YXJnZXRUYW1lU3RhY2tzOjJ9KSxwcmVjb21wdXRlRWZmZWN0czoobyxyKT0+e3kobyxNLGVbdF0pfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoobyxyKT0+e2NvbnN0IGQ9ci5saWdodENvbmVDb25kaXRpb25hbHM7b1tzLkNEXSs9ZC50YXJnZXRUYW1lU3RhY2tzKmFbdF19LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LExzPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSxrcz0odCxuKT0+e2NvbnN0IGU9Wy4xMiwuMTQsLjE2LC4xOCwuMl0sYT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGk9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5EcmVhbXZpbGxlQWR2ZW50dXJlLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJ1bHREbWdCdWZmIixuYW1lOiJ1bHREbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmkoInVsdERtZ0J1ZmYudGV4dCIpLHRpdGxlOmkoInVsdERtZ0J1ZmYudGl0bGUiKSxjb250ZW50OmkoInVsdERtZ0J1ZmYuY29udGVudCIse0RtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KX0se2xjOiEwLGlkOiJza2lsbERtZ0J1ZmYiLG5hbWU6InNraWxsRG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDppKCJza2lsbERtZ0J1ZmYudGV4dCIpLHRpdGxlOmkoInNraWxsRG1nQnVmZi50aXRsZSIpLGNvbnRlbnQ6aSgic2tpbGxEbWdCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSl9LHtsYzohMCxpZDoiYmFzaWNEbWdCdWZmIixuYW1lOiJiYXNpY0RtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6aSgiYmFzaWNEbWdCdWZmLnRleHQiKSx0aXRsZTppKCJiYXNpY0RtZ0J1ZmYudGl0bGUiKSxjb250ZW50OmkoImJhc2ljRG1nQnVmZi5jb250ZW50Iix7RG1nQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5hLHRlYW1tYXRlQ29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHt1bHREbWdCdWZmOiEwLHNraWxsRG1nQnVmZjohMSxiYXNpY0RtZ0J1ZmY6ITF9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3VsdERtZ0J1ZmY6ITAsc2tpbGxEbWdCdWZmOiExLGJhc2ljRG1nQnVmZjohMX0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooaSxvKT0+e2NvbnN0IHI9by5saWdodENvbmVDb25kaXRpb25hbHM7eShpLFcsZVt0XSxyLmJhc2ljRG1nQnVmZikseShpLHosZVt0XSxyLnNraWxsRG1nQnVmZikseShpLE8sZVt0XSxyLnVsdERtZ0J1ZmYpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxicz0odCxuKT0+e2NvbnN0IGU9Wy4wOCwuMDksLjEsLjExLC4xMl0sYT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGk9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5GaW5hbFZpY3Rvci5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoiZ29vZEZvcnR1bmVTdGFja3MiLG5hbWU6Imdvb2RGb3J0dW5lU3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OmkoImdvb2RGb3J0dW5lU3RhY2tzLnRleHQiKSx0aXRsZTppKCJnb29kRm9ydHVuZVN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6aSgiZ29vZEZvcnR1bmVTdGFja3MuY29udGVudCIse0NyaXRCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSksbWluOjAsbWF4OjR9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmEsZGVmYXVsdHM6KCk9Pih7Z29vZEZvcnR1bmVTdGFja3M6NH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpW3MuQ0RdKz1yLmdvb2RGb3J0dW5lU3RhY2tzKmVbdF19LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LHlzPSh0LG4pPT57Y29uc3QgZT1bLjI1LC4zMTI1LC4zNzUsLjQzNzUsLjVdLGE9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBpPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuRmxhbWVzQWZhci5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoiZG1nQnVmZiIsbmFtZToiZG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDppKCJkbWdCdWZmLnRleHQiKSx0aXRsZTppKCJkbWdCdWZmLnRpdGxlIiksY29udGVudDppKCJkbWdCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmEsZGVmYXVsdHM6KCk9Pih7ZG1nQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpLkVMRU1FTlRBTF9ETUcrPXIuZG1nQnVmZj9lW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFJzPXQ9Pntjb25zdCBuPVsuMDA4LC4wMDksLjAxLC4wMTEsLjAxMl0sZT1bLjMyLC4zNiwuNCwuNDQsLjQ4XTtyZXR1cm57Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihhLGkpPT57YS5FTEVNRU5UQUxfRE1HKz1NYXRoLm1pbihlW3RdLE1hdGguZmxvb3IoYVtzLkRFRl0vMTAwKSpuW3RdKX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PmAKeC5FTEVNRU5UQUxfRE1HICs9IG1pbigke2VbdF19LCBmbG9vcih4LkRFRiAvIDEwMCkgKiAke25bdF19KTsKICAgICAgYH19LEdzPSh0LG4pPT57Y29uc3QgZT1bLjIsLjI1LC4zLC4zNSwuNF0sYT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGk9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5UaGVEYXlUaGVDb3Ntb3NGZWxsLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJjZEJ1ZmZBY3RpdmUiLG5hbWU6ImNkQnVmZkFjdGl2ZSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDppKCJjZEJ1ZmZBY3RpdmUudGV4dCIpLHRpdGxlOmkoImNkQnVmZkFjdGl2ZS50aXRsZSIpLGNvbnRlbnQ6aSgiY2RCdWZmQWN0aXZlLmNvbnRlbnQiLHtDcml0QnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5hLGRlZmF1bHRzOigpPT4oe2NkQnVmZkFjdGl2ZTohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpW3MuQ0RdKz1yLmNkQnVmZkFjdGl2ZT9lW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LE1zPSh0LG4pPT57Y29uc3QgZT1bLjA2LC4wNywuMDgsLjA5LC4xXSxhPVsuMiwuMjQsLjI4LC4zMiwuMzZdLGk9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBvPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuSXRzU2hvd3RpbWUuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6InRyaWNrU3RhY2tzIixuYW1lOiJ0cmlja1N0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDpvKCJ0cmlja1N0YWNrcy50ZXh0IiksdGl0bGU6bygidHJpY2tTdGFja3MudGl0bGUiKSxjb250ZW50Om8oInRyaWNrU3RhY2tzLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pLEF0a0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSl9KSxtaW46MCxtYXg6M31dfSkoKTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHt0cmlja1N0YWNrczozfSkscHJlY29tcHV0ZUVmZmVjdHM6KG8scik9Pntjb25zdCBkPXIubGlnaHRDb25lQ29uZGl0aW9uYWxzO28uRUxFTUVOVEFMX0RNRys9ZC50cmlja1N0YWNrcyplW3RdfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e30sZHluYW1pY0NvbmRpdGlvbmFsczpbe2lkOiJJdHNTaG93dGltZUNvbnZlcnNpb25Db25kaXRpb25hbCIsdHlwZTpVLkFCSUxJVFksYWN0aXZhdGlvbjpOLkNPTlRJTlVPVVMsZGVwZW5kc09uOltzLkVIUl0sY29uZGl0aW9uOmZ1bmN0aW9uKG8scixkKXtyZXR1cm4gb1tzLkVIUl0+PS44fSxlZmZlY3Q6ZnVuY3Rpb24obyxyLGQpe3IuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2NvbnN0IFM9ZC5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdfHwwLEM9YVt0XSpyLmJhc2VBdGs7ZC5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdPUMsdyhvLHIsZCxzLkFUSyxDLVMpfSxncHU6ZnVuY3Rpb24obyxyKXtyZXR1cm4gRih0aGlzLGAKaWYgKHguRUhSIDwgMC44MCkgewogIHJldHVybjsKfQoKbGV0IHN0YXRlVmFsdWU6IGYzMiA9ICgqcF9zdGF0ZSkuSXRzU2hvd3RpbWVDb252ZXJzaW9uQ29uZGl0aW9uYWw7CmxldCBidWZmVmFsdWU6IGYzMiA9ICR7YVt0XX07CgooKnBfc3RhdGUpLkl0c1Nob3d0aW1lQ29udmVyc2lvbkNvbmRpdGlvbmFsID0gYnVmZlZhbHVlOwpidWZmRHluYW1pY0FUS19QKGJ1ZmZWYWx1ZSAtIHN0YXRlVmFsdWUsIHBfeCwgcF9zdGF0ZSk7CiAgICBgKX19XX19LHZzPSh0LG4pPT57Y29uc3QgZT1bLjE1LC4xODc1LC4yMjUsLjI2MjUsLjNdLGE9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBpPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuSW5kZWxpYmxlUHJvbWlzZS5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoiY3JCdWZmIixuYW1lOiJjckJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6aSgiY3JCdWZmLnRleHQiKSx0aXRsZTppKCJjckJ1ZmYudGl0bGUiKSxjb250ZW50OmkoImNyQnVmZi5jb250ZW50Iix7QnJlYWtCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKiguMjErLjcqdCkpLENyaXRCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmEsZGVmYXVsdHM6KCk9Pih7Y3JCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksbyk9Pntjb25zdCByPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO2lbcy5DUl0rPXIuY3JCdWZmP2VbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sTnM9KHQsbik9Pntjb25zdCBlPVsuNCwuNDYsLjUyLC41OCwuNjRdLGE9Wy4xLC4xMTUsLjEzLC4xNDUsLjE2XSxpPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3Qgcj1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLkluaGVyZW50bHlVbmp1c3REZXN0aW55LkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJzaGllbGRDZEJ1ZmYiLG5hbWU6InNoaWVsZENkQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpyKCJzaGllbGRDZEJ1ZmYudGV4dCIpLHRpdGxlOnIoInNoaWVsZENkQnVmZi50aXRsZSIpLGNvbnRlbnQ6cigic2hpZWxkQ2RCdWZmLmNvbnRlbnQiLHtDcml0QnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pfSx7bGM6ITAsaWQ6InRhcmdldFZ1bG5lcmFiaWxpdHkiLG5hbWU6InRhcmdldFZ1bG5lcmFiaWxpdHkiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6cigidGFyZ2V0VnVsbmVyYWJpbGl0eS50ZXh0IiksdGl0bGU6cigidGFyZ2V0VnVsbmVyYWJpbGl0eS50aXRsZSIpLGNvbnRlbnQ6cigidGFyZ2V0VnVsbmVyYWJpbGl0eS5jb250ZW50Iix7VnVsbmVyYWJpbGl0eTpELnByZWNpc2lvblJvdW5kKDEwMCphW3RdKX0pfV19KSgpLG89bj9bXTpbSShpLCJ0YXJnZXRWdWxuZXJhYmlsaXR5IildO3JldHVybntjb250ZW50OigpPT5pLHRlYW1tYXRlQ29udGVudDooKT0+byxkZWZhdWx0czooKT0+KHtzaGllbGRDZEJ1ZmY6ITAsdGFyZ2V0VnVsbmVyYWJpbGl0eTohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7dGFyZ2V0VnVsbmVyYWJpbGl0eTohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihyLGQpPT57Y29uc3QgUz1kLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztyW3MuQ0RdKz1TLnNoaWVsZENkQnVmZj9lW3RdOjB9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihyLGQpPT57Y29uc3QgUz1kLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztyLlZVTE5FUkFCSUxJVFkrPVMudGFyZ2V0VnVsbmVyYWJpbGl0eT9hW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LE9zPSh0LG4pPT57Y29uc3QgZT1bLjI0LC4yOCwuMzIsLjM2LC40XSxhPVsuMjQsLjI4LC4zMiwuMzYsLjRdLGk9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBvPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQWxvbmdUaGVQYXNzaW5nU2hvcmUuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6ImVtcHR5QnViYmxlc0RlYnVmZiIsbmFtZToiZW1wdHlCdWJibGVzRGVidWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om8oImVtcHR5QnViYmxlc0RlYnVmZi50ZXh0IiksdGl0bGU6bygiZW1wdHlCdWJibGVzRGVidWZmLnRpdGxlIiksY29udGVudDpvKCJlbXB0eUJ1YmJsZXNEZWJ1ZmYuY29udGVudCIse1VsdERtZ0Jvb3N0OkQucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pLERtZ0Jvb3N0OkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7ZW1wdHlCdWJibGVzRGVidWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KG8scik9Pntjb25zdCBkPXIubGlnaHRDb25lQ29uZGl0aW9uYWxzO28uRUxFTUVOVEFMX0RNRys9ZC5lbXB0eUJ1YmJsZXNEZWJ1ZmY/ZVt0XTowLHkobyxPLGFbdF0sZC5lbXB0eUJ1YmJsZXNEZWJ1ZmYpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxQcz0odCxuKT0+e2NvbnN0IGU9Wy4wNCwuMDUsLjA2LC4wNywuMDhdLGE9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBpPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQ29uY2VydEZvclR3by5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoidGVhbW1hdGVTaGllbGRTdGFja3MiLG5hbWU6InRlYW1tYXRlU2hpZWxkU3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OmkoInRlYW1tYXRlU2hpZWxkU3RhY2tzLnRleHQiKSx0aXRsZTppKCJ0ZWFtbWF0ZVNoaWVsZFN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6aSgidGVhbW1hdGVTaGllbGRTdGFja3MuY29udGVudCIse0RtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KSxtaW46MCxtYXg6NH1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHt0ZWFtbWF0ZVNoaWVsZFN0YWNrczo0fSkscHJlY29tcHV0ZUVmZmVjdHM6KGksbyk9Pntjb25zdCByPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO2kuRUxFTUVOVEFMX0RNRys9ci50ZWFtbWF0ZVNoaWVsZFN0YWNrcyplW3RdfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxVcz0odCxuKT0+e2NvbnN0IGU9Wy4yNCwuMywuMzYsLjQyLC40OF0sYT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGk9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5Cb3VuZGxlc3NDaG9yZW8uQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6ImVuZW15RGVmUmVkdWNlZFNsb3dlZCIsbmFtZToiZW5lbXlEZWZSZWR1Y2VkU2xvd2VkIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmkoImVuZW15RGVmUmVkdWNlZFNsb3dlZC50ZXh0IiksdGl0bGU6aSgiZW5lbXlEZWZSZWR1Y2VkU2xvd2VkLnRpdGxlIiksY29udGVudDppKCJlbmVteURlZlJlZHVjZWRTbG93ZWQuY29udGVudCIse0NyaXRCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmEsZGVmYXVsdHM6KCk9Pih7ZW5lbXlEZWZSZWR1Y2VkU2xvd2VkOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksbyk9Pntjb25zdCByPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO2lbcy5DRF0rPXIuZW5lbXlEZWZSZWR1Y2VkU2xvd2VkP2VbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sRnM9KHQsbik9Pntjb25zdCBlPVsuMTgsLjIxLC4yNCwuMjcsLjNdLGE9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBpPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuRm9yVG9tb3Jyb3dzSm91cm5leS5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoidWx0RG1nQnVmZiIsbmFtZToidWx0RG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDppKCJ1bHREbWdCdWZmLnRleHQiKSx0aXRsZTppKCJ1bHREbWdCdWZmLnRpdGxlIiksY29udGVudDppKCJ1bHREbWdCdWZmLmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmEsZGVmYXVsdHM6KCk9Pih7dWx0RG1nQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpLkVMRU1FTlRBTF9ETUcrPXIudWx0RG1nQnVmZj9lW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LEhzPSh0LG4pPT57Y29uc3QgZT1bLjAzLC4wMzUsLjA0LC4wNDUsLjA1XSxhPVsuNDgsLjYsLjcyLC44NCwuOTZdLGk9Wy4yNCwuMjgsLjMyLC4zNiwuNF0sbz0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGQ9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5GbG93aW5nTmlnaHRnbG93LkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJjYWRlbnphQWN0aXZlIixuYW1lOiJjYWRlbnphQWN0aXZlIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmQoImNhZGVuemFBY3RpdmUudGV4dCIpLHRpdGxlOmQoImNhZGVuemFBY3RpdmUudGl0bGUiKSxjb250ZW50OmQoImNhZGVuemFBY3RpdmUuY29udGVudCIse1JlZ2VuQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKSxBdGtCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pLERtZ0J1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqaVt0XSl9KX0se2xjOiEwLGlkOiJjYW50aWxsYXRpb25TdGFja3MiLG5hbWU6ImNhbnRpbGxhdGlvblN0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDpkKCJjYW50aWxsYXRpb25TdGFja3MudGV4dCIpLHRpdGxlOmQoImNhbnRpbGxhdGlvblN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6ZCgiY2FudGlsbGF0aW9uU3RhY2tzLmNvbnRlbnQiLHtSZWdlbkJ1ZmY6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSksQXRrQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCphW3RdKSxEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmlbdF0pfSksbWluOjAsbWF4OjV9XX0pKCkscj1uP1tdOltJKG8sImNhZGVuemFBY3RpdmUiKV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sdGVhbW1hdGVDb250ZW50OigpPT5yLGRlZmF1bHRzOigpPT4oe2NhbnRpbGxhdGlvblN0YWNrczo1LGNhZGVuemFBY3RpdmU6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2NhZGVuemFBY3RpdmU6ITB9KSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihkLFMpPT57Y29uc3QgQz1TLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztkLkVMRU1FTlRBTF9ETUcrPUMuY2FkZW56YUFjdGl2ZT9pW3RdOjB9LHByZWNvbXB1dGVFZmZlY3RzOihkLFMpPT57Y29uc3QgQz1TLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztkW3MuRVJSXSs9Qy5jYW50aWxsYXRpb25TdGFja3MqZVt0XSxkW3MuQVRLX1BdKz1DLmNhZGVuemFBY3RpdmU/YVt0XTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSx4cz0odCxuKT0+e2NvbnN0IGU9Wy4xMiwuMTQsLjE2LC4xOCwuMl0sYT1bLjIsLjIzLC4yNiwuMjksLjMyXSxpPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3Qgbz1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlNhaWxpbmdUb3dhcmRzQVNlY29uZExpZmUuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6ImJyZWFrRG1nRGVmU2hyZWQiLG5hbWU6ImJyZWFrRG1nRGVmU2hyZWQiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bygiYnJlYWtEbWdEZWZTaHJlZC50ZXh0IiksdGl0bGU6bygiYnJlYWtEbWdEZWZTaHJlZC50aXRsZSIpLGNvbnRlbnQ6bygiYnJlYWtEbWdEZWZTaHJlZC5jb250ZW50Iix7RGVmSWdub3JlOkQucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pfSl9LHtsYzohMCxpZDoic3BkQnVmZkNvbmRpdGlvbmFsIixuYW1lOiJzcGRCdWZmQ29uZGl0aW9uYWwiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bygic3BkQnVmZkNvbmRpdGlvbmFsLnRleHQiKSx0aXRsZTpvKCJzcGRCdWZmQ29uZGl0aW9uYWwudGl0bGUiKSxjb250ZW50Om8oInNwZEJ1ZmZDb25kaXRpb25hbC5jb250ZW50Iix7U3BkQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe2JyZWFrRG1nRGVmU2hyZWQ6ITAsc3BkQnVmZkNvbmRpdGlvbmFsOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KG8scik9Pntjb25zdCBkPXIuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO290KG8sVHQsYVt0XSxkLmJyZWFrRG1nRGVmU2hyZWQpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczoobyxyKT0+e30sZHluYW1pY0NvbmRpdGlvbmFsczpbe2lkOiJTYWlsaW5nVG93YXJkc0FTZWNvbmRMaWZlQ29uZGl0aW9uYWwiLHR5cGU6VS5BQklMSVRZLGFjdGl2YXRpb246Ti5TSU5HTEUsZGVwZW5kc09uOltzLkJFXSxjb25kaXRpb246ZnVuY3Rpb24obyxyLGQpe3JldHVybiByLmxpZ2h0Q29uZUNvbmRpdGlvbmFscy5zcGRCdWZmQ29uZGl0aW9uYWwmJm9bcy5CRV0+PTEuNX0sZWZmZWN0OihvLHIsZCk9Pnt3KG8scixkLHMuU1BELGVbdF0qci5iYXNlU3BkKX0sZ3B1OmZ1bmN0aW9uKCl7cmV0dXJuIEYodGhpcyxgCmlmICgKICAoKnBfc3RhdGUpLlNhaWxpbmdUb3dhcmRzQVNlY29uZExpZmVDb25kaXRpb25hbCA9PSAwLjAgJiYKICAoKnBfeCkuQkUgPj0gMS41MAopIHsKICAoKnBfc3RhdGUpLlNhaWxpbmdUb3dhcmRzQVNlY29uZExpZmVDb25kaXRpb25hbCA9IDEuMDsKICBidWZmRHluYW1pY1NQRF9QKCR7ZVt0XX0sIHBfeCwgcF9zdGF0ZSk7Cn0KICAgIGApfX1dfX0sS3M9KHQsbik9Pntjb25zdCBlPVsuMDgsLjEsLjEyLC4xNCwuMTZdLGE9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBpPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuQWZ0ZXJUaGVDaGFybW9ueUZhbGwuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6InNwZEJ1ZmYiLG5hbWU6InNwZEJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6aSgic3BkQnVmZi50ZXh0IiksdGl0bGU6aSgic3BkQnVmZi50aXRsZSIpLGNvbnRlbnQ6aSgic3BkQnVmZi5jb250ZW50Iix7U3BkQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5hLGRlZmF1bHRzOigpPT4oe3NwZEJ1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxvKT0+e2NvbnN0IHI9by5saWdodENvbmVDb25kaXRpb25hbHM7aVtzLlNQRF9QXSs9ci5zcGRCdWZmP2VbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sVnM9KHQsbik9Pntjb25zdCBlPVsuMjQsLjI4LC4zMiwuMzYsLjRdLGE9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBpPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuV2hlcmVhYm91dHNTaG91bGREcmVhbXNSZXN0LkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJyb3V0ZWRWdWxuZXJhYmlsaXR5IixuYW1lOiJyb3V0ZWRWdWxuZXJhYmlsaXR5Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmkoInJvdXRlZFZ1bG5lcmFiaWxpdHkudGV4dCIpLHRpdGxlOmkoInJvdXRlZFZ1bG5lcmFiaWxpdHkudGl0bGUiKSxjb250ZW50OmkoInJvdXRlZFZ1bG5lcmFiaWxpdHkuY29udGVudCIse1Z1bG5lcmFiaWxpdHk6ZVt0XSoxMDB9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHtyb3V0ZWRWdWxuZXJhYmlsaXR5OiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGksbyk9Pntjb25zdCByPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO2kuVlVMTkVSQUJJTElUWSs9ci5yb3V0ZWRWdWxuZXJhYmlsaXR5P2VbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sd3M9KHQsbik9Pntjb25zdCBlPVsuMTIsLjE0LC4xNiwuMTgsLjJdLGE9Wy4yLC4yNCwuMjgsLjMyLC4zNl0saT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IG89QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5ZZXRIb3BlSXNQcmljZWxlc3MuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6ImZ1YURtZ0Jvb3N0IixuYW1lOiJmdWFEbWdCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpvKCJmdWFEbWdCb29zdC50ZXh0IiksdGl0bGU6bygiZnVhRG1nQm9vc3QudGl0bGUiKSxjb250ZW50Om8oImZ1YURtZ0Jvb3N0LmNvbnRlbnQiLHtEbWdCdWZmOkQucHJlY2lzaW9uUm91bmQoZVt0XSoxMDApfSl9LHtsYzohMCxpZDoidWx0RnVhRGVmU2hyZWQiLG5hbWU6InVsdEZ1YURlZlNocmVkIixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om8oInVsdEZ1YURlZlNocmVkLnRleHQiKSx0aXRsZTpvKCJ1bHRGdWFEZWZTaHJlZC50aXRsZSIpLGNvbnRlbnQ6bygidWx0RnVhRGVmU2hyZWQuY29udGVudCIse0RlZlNocmVkOkQucHJlY2lzaW9uUm91bmQoZVt0XSoxMDApfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7ZnVhRG1nQm9vc3Q6ITAsdWx0RnVhRGVmU2hyZWQ6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoobyxyKT0+e2NvbnN0IGQ9ci5saWdodENvbmVDb25kaXRpb25hbHM7b3QobyxPfE0sYVt0XSxkLnVsdEZ1YURlZlNocmVkKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KG8scik9Pntjb25zdCBkPXIubGlnaHRDb25lQ29uZGl0aW9uYWxzO3kobyxNLGVbdF0qTWF0aC5taW4oNCxNYXRoLmZsb29yKG9bcy5DRF0tMS4yKS8uMiksZC5mdWFEbWdCb29zdCl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOm89Pntjb25zdCByPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3JldHVybmAKaWYgKCR7aihyLmZ1YURtZ0Jvb3N0KX0pIHsKICBidWZmQWJpbGl0eURtZyhwX3gsIEZVQV9UWVBFLCAke2VbdF19ICogbWluKDQsIGZsb29yKHguQ0QgLSAxLjIwKSAvIDAuMjApLCAxKTsKfQogICAgYH19fSx6cz0odCxuKT0+e2NvbnN0IGU9Wy4wNCwuMDUsLjA2LC4wNywuMDhdLGE9Wy4wOCwuMSwuMTIsLjE0LC4xNl0saT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IG89QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5FdGVybmFsQ2FsY3VsdXMuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6ImF0a0J1ZmZTdGFja3MiLG5hbWU6ImF0a0J1ZmZTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6bygiYXRrQnVmZlN0YWNrcy50ZXh0IiksdGl0bGU6bygiYXRrQnVmZlN0YWNrcy50aXRsZSIpLGNvbnRlbnQ6bygiYXRrQnVmZlN0YWNrcy5jb250ZW50Iix7QXRrQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pLG1pbjowLG1heDo1fSx7bGM6ITAsaWQ6InNwZEJ1ZmYiLG5hbWU6InNwZEJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6bygic3BkQnVmZi50ZXh0IiksdGl0bGU6bygic3BkQnVmZi50aXRsZSIpLGNvbnRlbnQ6bygic3BkQnVmZi5jb250ZW50Iix7U3BkQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCphW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe2F0a0J1ZmZTdGFja3M6NSxzcGRCdWZmOiExfSkscHJlY29tcHV0ZUVmZmVjdHM6KG8scik9Pntjb25zdCBkPXIubGlnaHRDb25lQ29uZGl0aW9uYWxzO29bcy5BVEtfUF0rPWQuYXRrQnVmZlN0YWNrcyplW3RdLG9bcy5TUERfUF0rPWQuc3BkQnVmZj9hW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LCRzPSh0LG4pPT57Y29uc3QgZT1bLjE2LC4yLC4yNCwuMjgsLjMyXSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLlBvaXNlZFRvQmxvb20uQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6ImNkQnVmZiIsbmFtZToiY2RCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OmkoImNkQnVmZi50ZXh0IiksdGl0bGU6aSgiY2RCdWZmLnRpdGxlIiksY29udGVudDppKCJjZEJ1ZmYuY29udGVudCIse0NyaXRCdWZmOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmEsdGVhbW1hdGVDb250ZW50OigpPT5hLGRlZmF1bHRzOigpPT4oe2NkQnVmZjohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7Y2RCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztpW3MuQ0RdKz1yLmNkQnVmZj9lW3RdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFdzPSh0LG4pPT57Y29uc3QgZT1bLjEsLjEyLC4xNCwuMTYsLjE4XSxhPVsuMTQsLjE2LC4xOCwuMiwuMjJdLGk9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBvPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuVGhvc2VNYW55U3ByaW5ncy5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoidW5hcm1vcmVkVnVsbmVyYWJpbGl0eSIsbmFtZToidW5hcm1vcmVkVnVsbmVyYWJpbGl0eSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpvKCJ1bmFybW9yZWRWdWxuZXJhYmlsaXR5LnRleHQiKSx0aXRsZTpvKCJ1bmFybW9yZWRWdWxuZXJhYmlsaXR5LnRpdGxlIiksY29udGVudDpvKCJ1bmFybW9yZWRWdWxuZXJhYmlsaXR5LmNvbnRlbnQiLHtVbmFybW9yZWRWdWxuZXJhYmlsaXR5OkQucHJlY2lzaW9uUm91bmQoZVt0XSoxMDApLENvcm5lcmVkVnVsbmVyYWJpbGl0eTpELnByZWNpc2lvblJvdW5kKGFbdF0qMTAwKX0pfSx7bGM6ITAsaWQ6ImNvcm5lcmVkVnVsbmVyYWJpbGl0eSIsbmFtZToiY29ybmVyZWRWdWxuZXJhYmlsaXR5Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0Om8oImNvcm5lcmVkVnVsbmVyYWJpbGl0eS50ZXh0IiksdGl0bGU6bygiY29ybmVyZWRWdWxuZXJhYmlsaXR5LnRpdGxlIiksY29udGVudDpvKCJjb3JuZXJlZFZ1bG5lcmFiaWxpdHkuY29udGVudCIse1VuYXJtb3JlZFZ1bG5lcmFiaWxpdHk6RC5wcmVjaXNpb25Sb3VuZChlW3RdKjEwMCksQ29ybmVyZWRWdWxuZXJhYmlsaXR5OkQucHJlY2lzaW9uUm91bmQoYVt0XSoxMDApfSl9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmksdGVhbW1hdGVDb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe3VuYXJtb3JlZFZ1bG5lcmFiaWxpdHk6ITAsY29ybmVyZWRWdWxuZXJhYmlsaXR5OiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt1bmFybW9yZWRWdWxuZXJhYmlsaXR5OiEwLGNvcm5lcmVkVnVsbmVyYWJpbGl0eTohMH0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoobyxyKT0+e2NvbnN0IGQ9ci5saWdodENvbmVDb25kaXRpb25hbHM7by5WVUxORVJBQklMSVRZKz1kLnVuYXJtb3JlZFZ1bG5lcmFiaWxpdHl8fGQuY29ybmVyZWRWdWxuZXJhYmlsaXR5P2VbdF06MCxvLlZVTE5FUkFCSUxJVFkrPWQuY29ybmVyZWRWdWxuZXJhYmlsaXR5P2FbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sWXM9KHQsbik9Pntjb25zdCBlPVsuMzYsLjQyLC40OCwuNTQsLjZdLGE9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBpPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuRGFuY2VBdFN1bnNldC5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxpZDoiZnVhRG1nU3RhY2tzIixuYW1lOiJmdWFEbWdTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6aSgiZnVhRG1nU3RhY2tzLnRleHQiKSx0aXRsZTppKCJmdWFEbWdTdGFja3MudGl0bGUiKSxjb250ZW50OmkoImZ1YURtZ1N0YWNrcy5jb250ZW50Iix7RG1nQm9vc3Q6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSl9KSxtaW46MCxtYXg6Mn1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHtmdWFEbWdTdGFja3M6Mn0pLHByZWNvbXB1dGVFZmZlY3RzOihpLG8pPT57Y29uc3Qgcj1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFsczt5KGksTSxyLmZ1YURtZ1N0YWNrcyplW3RdKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sanM9KHQsbik9Pntjb25zdCBlPVsuMSwuMTIsLjE0LC4xNiwuMThdLGE9Wy4wOCwuMSwuMTIsLjE0LC4xNl0saT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IHI9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5TY2VudEFsb25lU3RheXNUcnVlLkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJ3b2VmcmVlU3RhdGUiLG5hbWU6IndvZWZyZWVTdGF0ZSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDpyKCJ3b2VmcmVlU3RhdGUudGV4dCIpLHRpdGxlOnIoIndvZWZyZWVTdGF0ZS50aXRsZSIpLGNvbnRlbnQ6cigid29lZnJlZVN0YXRlLmNvbnRlbnQiLHtWdWxuZXJhYmlsaXR5OkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pLEFkZGl0aW9uYWxWdWxuZXJhYmlsaXR5OkQucHJlY2lzaW9uUm91bmQoMTAwKmFbdF0pfSl9XX0pKCksbz0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IHI9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5TY2VudEFsb25lU3RheXNUcnVlLlRlYW1tYXRlQ29udGVudCIpO3JldHVybltJKGksIndvZWZyZWVTdGF0ZSIpLHtsYzohMCxpZDoiYWRkaXRpb25hbFZ1bG5lcmFiaWxpdHkiLG5hbWU6ImFkZGl0aW9uYWxWdWxuZXJhYmlsaXR5Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0OnIoImFkZGl0aW9uYWxWdWxuZXJhYmlsaXR5LnRleHQiKSx0aXRsZTpyKCJhZGRpdGlvbmFsVnVsbmVyYWJpbGl0eS50aXRsZSIpLGNvbnRlbnQ6cigiYWRkaXRpb25hbFZ1bG5lcmFiaWxpdHkuY29udGVudCIse1Z1bG5lcmFiaWxpdHk6RC5wcmVjaXNpb25Sb3VuZCgxMDAqZVt0XSksQWRkaXRpb25hbFZ1bG5lcmFiaWxpdHk6RC5wcmVjaXNpb25Sb3VuZCgxMDAqYVt0XSl9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+aSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7d29lZnJlZVN0YXRlOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt3b2VmcmVlU3RhdGU6ITAsYWRkaXRpb25hbFZ1bG5lcmFiaWxpdHk6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoocixkKT0+e30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KHIsZCk9Pntjb25zdCBTPWQubGlnaHRDb25lQ29uZGl0aW9uYWxzO3IuVlVMTkVSQUJJTElUWSs9Uy53b2VmcmVlU3RhdGU/ZVt0XTowfSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihyLGQpPT57Y29uc3QgUz1kLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztyLlZVTE5FUkFCSUxJVFkrPVMud29lZnJlZVN0YXRlJiZTLmFkZGl0aW9uYWxWdWxuZXJhYmlsaXR5P2FbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KHIsZCk9Pntjb25zdCBTPWQubGlnaHRDb25lQ29uZGl0aW9uYWxzO3IuVlVMTkVSQUJJTElUWSs9Uy53b2VmcmVlU3RhdGUmJnJbcy5CRV0+PTEuNT9hW3RdOjB9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOnI9Pntjb25zdCBkPXIubGlnaHRDb25lQ29uZGl0aW9uYWxzO3JldHVybmAKaWYgKCR7aihkLndvZWZyZWVTdGF0ZSl9ICYmIHguQkUgPj0gMS41MCkgewogIHguVlVMTkVSQUJJTElUWSArPSAke2FbdF19Owp9CiAgICAgIGB9fX0sSnM9KHQsbik9Pntjb25zdCBlPVsuMjcsLjMsLjMzLC4zNiwuMzldLGE9KCgpPT57aWYobilyZXR1cm5bXTtjb25zdCBpPUEuZ2V0Rml4ZWRUKG51bGwsImNvbmRpdGlvbmFscyIsIkxpZ2h0Y29uZXMuSVZlbnR1cmVGb3J0aFRvSHVudC5Db250ZW50Iik7cmV0dXJuW3tsYzohMCxmb3JtSXRlbToic2xpZGVyIixpZDoibHVtaW5mbHV4VWx0U3RhY2tzIixuYW1lOiJsdW1pbmZsdXhVbHRTdGFja3MiLHRleHQ6aSgibHVtaW5mbHV4VWx0U3RhY2tzLnRleHQiKSx0aXRsZTppKCJsdW1pbmZsdXhVbHRTdGFja3MudGl0bGUiKSxjb250ZW50OmkoImx1bWluZmx1eFVsdFN0YWNrcy5jb250ZW50Iix7RGVmSWdub3JlOkQucHJlY2lzaW9uUm91bmQoMTAwKmVbdF0pfSksbWluOjAsbWF4OjJ9XX0pKCk7cmV0dXJue2NvbnRlbnQ6KCk9PmEsZGVmYXVsdHM6KCk9Pih7bHVtaW5mbHV4VWx0U3RhY2tzOjJ9KSxwcmVjb21wdXRlRWZmZWN0czooaSxvKT0+e2NvbnN0IHI9by5saWdodENvbmVDb25kaXRpb25hbHM7b3QoaSxPLHIubHVtaW5mbHV4VWx0U3RhY2tzKmVbdF0pfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxRcz0odCxuKT0+e2NvbnN0IGU9Wy4wOCwuMDksLjEsLjExLC4xMl0sYT0oKCk9PntpZihuKXJldHVybltdO2NvbnN0IGk9QS5nZXRGaXhlZFQobnVsbCwiY29uZGl0aW9uYWxzIiwiTGlnaHRjb25lcy5TaGFkb3dlZEJ5TmlnaHQuQ29udGVudCIpO3JldHVyblt7bGM6ITAsaWQ6InNwZEJ1ZmYiLG5hbWU6InNwZEJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6aSgic3BkQnVmZi50ZXh0IiksdGl0bGU6aSgic3BkQnVmZi50aXRsZSIpLGNvbnRlbnQ6aSgic3BkQnVmZi5jb250ZW50Iix7U3BkQnVmZjpELnByZWNpc2lvblJvdW5kKDEwMCplW3RdKX0pfV19KSgpO3JldHVybntjb250ZW50OigpPT5hLGRlZmF1bHRzOigpPT4oe3NwZEJ1ZmY6ITF9KSxwcmVjb21wdXRlRWZmZWN0czooaSxvKT0+e2NvbnN0IHI9by5saWdodENvbmVDb25kaXRpb25hbHM7aVtzLlNQRF9QXSs9ci5zcGRCdWZmP2VbdF06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sWHM9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLFpzPSh0LG4pPT57Y29uc3QgZT1bLjE4LC4yMjUsLjI3LC4zMTUsLjM2XSxhPSgoKT0+e2lmKG4pcmV0dXJuW107Y29uc3QgaT1BLmdldEZpeGVkVChudWxsLCJjb25kaXRpb25hbHMiLCJMaWdodGNvbmVzLk5pbmphUmVjb3JkU291bmRIdW50LkNvbnRlbnQiKTtyZXR1cm5be2xjOiEwLGlkOiJjZEJ1ZmYiLG5hbWU6ImNkQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDppKCJjZEJ1ZmYudGV4dCIpLHRpdGxlOmkoImNkQnVmZi50aXRsZSIpLGNvbnRlbnQ6QS50KCJCZXRhTWVzc2FnZSIse25zOiJjb25kaXRpb25hbHMiLFZlcnNpb246bHR9KX1dfSkoKTtyZXR1cm57Y29udGVudDooKT0+YSxkZWZhdWx0czooKT0+KHtjZEJ1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxvKT0+e2NvbnN0IHI9by5saWdodENvbmVDb25kaXRpb25hbHM7aVtzLkNEXSs9ci5jZEJ1ZmY/ZVt0XTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxxcz0oKT0+KHtjb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fSk7Y29uc3QgdGw9ey4uLnsyM2UzOkZyLDIzMDAxOkxyLDIzMDAyOnNzLDIzMDAzOmFyLDIzMDA0OklyLDIzMDA1Ok5yLDIzMDA2OiRyLDIzMDA3OlRyLDIzMDA4OnByLDIzMDA5OlNzLDIzMDEwOmVyLDIzMDExOmFzLDIzMDEyOm9zLDIzMDEzOnBzLDIzMDE0OmtyLDIzMDE1OmlyLDIzMDE2OklzLDIzMDE3OlVyLDIzMDE4OlhvLDIzMDE5OnpyLDIzMDIwOnRyLDIzMDIxOmdyLDIzMDIyOlhyLDIzMDIzOk5zLDIzMDI0Ok9zLDIzMDI1OlZzLDIzMDI2OkhzLDIzMDI3OnhzLDIzMDI4OndzLDIzMDI5OldzLDIzMDMwOllzLDIzMDMxOkpzLDIzMDMyOmpzLDIzMDMzOlhzLDI0ZTM6S3IsMjQwMDE6Y3IsMjQwMDI6dXMsMjQwMDM6cnMsMjQwMDQ6enN9LC4uLnsyMWUzOkpyLDIxMDAxOl9yLDIxMDAyOm1yLDIxMDAzOnhyLDIxMDA0Ok1yLDIxMDA1OmRzLDIxMDA2OmZzLDIxMDA3Om5zLDIxMDA4OmhyLDIxMDA5OmJyLDIxMDEwOmNzLDIxMDExOmpyLDIxMDEyOnFvLDIxMDEzOlJyLDIxMDE0OldyLDIxMDE1OlpyLDIxMDE2OkJzLDIxMDE3OmxzLDIxMDE4OnVyLDIxMDE5OkNzLDIxMDIwOkRyLDIxMDIxOlFyLDIxMDIyOkJyLDIxMDIzOkFzLDIxMDI0OnRzLDIxMDI1OndyLDIxMDI2OlRzLDIxMDI3Om1zLDIxMDI4Ol9zLDIxMDI5OkVzLDIxMDMwOmdzLDIxMDMxOnFyLDIxMDMyOm9yLDIxMDMzOkhyLDIxMDM0OmhzLDIxMDM1OkxzLDIxMDM2OmtzLDIxMDM3OmJzLDIxMDM4OnlzLDIxMDM5OlJzLDIxMDQwOkdzLDIxMDQxOk1zLDIxMDQyOnZzLDIxMDQzOlBzLDIxMDQ0OlVzLDIxMDQ1OktzLDIxMDQ2OiRzLDIxMDQ3OlFzLDIxMDQ4OnFzLDIyZTM6bnIsMjIwMDE6QXIsMjIwMDI6RnMsMjIwMDM6WnN9LC4uLnsyZTQ6Wm8sMjAwMDE6bHIsMjAwMDI6c3IsMjAwMDM6UW8sMjAwMDQ6RHMsMjAwMDU6cnIsMjAwMDY6ZHIsMjAwMDc6ZnIsMjAwMDg6Q3IsMjAwMDk6aXMsMjAwMTA6U3IsMjAwMTE6eXIsMjAwMTI6dnIsMjAwMTM6VnIsMjAwMTQ6Sm8sMjAwMTU6T3IsMjAwMTY6UHIsMjAwMTc6WXIsMjAwMTg6RXIsMjAwMTk6R3IsMjAwMjA6ZXN9fSxOdD17Z2V0OnQ9Pntjb25zdCBuPXRsW3QubGlnaHRDb25lXTtyZXR1cm4gbj9uKHQubGlnaHRDb25lU3VwZXJpbXBvc2l0aW9uLTEsITApOntjb250ZW50OigpPT5bXSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSl9fX07ZnVuY3Rpb24gZWwodCxuLGUsYSxpLG8scil7cmV0dXJuIHQueC5zZXRzPXtQYXNzZXJieU9mV2FuZGVyaW5nQ2xvdWQ6KDE+PihuXjApKSsoMT4+KGVeMCkpKygxPj4oYV4wKSkrKDE+PihpXjApKSxNdXNrZXRlZXJPZldpbGRXaGVhdDooMT4+KG5eMSkpKygxPj4oZV4xKSkrKDE+PihhXjEpKSsoMT4+KGleMSkpLEtuaWdodE9mUHVyaXR5UGFsYWNlOigxPj4obl4yKSkrKDE+PihlXjIpKSsoMT4+KGFeMikpKygxPj4oaV4yKSksSHVudGVyT2ZHbGFjaWFsRm9yZXN0OigxPj4obl4zKSkrKDE+PihlXjMpKSsoMT4+KGFeMykpKygxPj4oaV4zKSksQ2hhbXBpb25PZlN0cmVldHdpc2VCb3hpbmc6KDE+PihuXjQpKSsoMT4+KGVeNCkpKygxPj4oYV40KSkrKDE+PihpXjQpKSxHdWFyZE9mV3V0aGVyaW5nU25vdzooMT4+KG5eNSkpKygxPj4oZV41KSkrKDE+PihhXjUpKSsoMT4+KGleNSkpLEZpcmVzbWl0aE9mTGF2YUZvcmdpbmc6KDE+PihuXjYpKSsoMT4+KGVeNikpKygxPj4oYV42KSkrKDE+PihpXjYpKSxHZW5pdXNPZkJyaWxsaWFudFN0YXJzOigxPj4obl43KSkrKDE+PihlXjcpKSsoMT4+KGFeNykpKygxPj4oaV43KSksQmFuZE9mU2l6emxpbmdUaHVuZGVyOigxPj4obl44KSkrKDE+PihlXjgpKSsoMT4+KGFeOCkpKygxPj4oaV44KSksRWFnbGVPZlR3aWxpZ2h0TGluZTooMT4+KG5eOSkpKygxPj4oZV45KSkrKDE+PihhXjkpKSsoMT4+KGleOSkpLFRoaWVmT2ZTaG9vdGluZ01ldGVvcjooMT4+KG5eMTApKSsoMT4+KGVeMTApKSsoMT4+KGFeMTApKSsoMT4+KGleMTApKSxXYXN0ZWxhbmRlck9mQmFuZGl0cnlEZXNlcnQ6KDE+PihuXjExKSkrKDE+PihlXjExKSkrKDE+PihhXjExKSkrKDE+PihpXjExKSksTG9uZ2V2b3VzRGlzY2lwbGU6KDE+PihuXjEyKSkrKDE+PihlXjEyKSkrKDE+PihhXjEyKSkrKDE+PihpXjEyKSksTWVzc2VuZ2VyVHJhdmVyc2luZ0hhY2tlcnNwYWNlOigxPj4obl4xMykpKygxPj4oZV4xMykpKygxPj4oYV4xMykpKygxPj4oaV4xMykpLFRoZUFzaGJsYXppbmdHcmFuZER1a2U6KDE+PihuXjE0KSkrKDE+PihlXjE0KSkrKDE+PihhXjE0KSkrKDE+PihpXjE0KSksUHJpc29uZXJJbkRlZXBDb25maW5lbWVudDooMT4+KG5eMTUpKSsoMT4+KGVeMTUpKSsoMT4+KGFeMTUpKSsoMT4+KGleMTUpKSxQaW9uZWVyRGl2ZXJPZkRlYWRXYXRlcnM6KDE+PihuXjE2KSkrKDE+PihlXjE2KSkrKDE+PihhXjE2KSkrKDE+PihpXjE2KSksV2F0Y2htYWtlck1hc3Rlck9mRHJlYW1NYWNoaW5hdGlvbnM6KDE+PihuXjE3KSkrKDE+PihlXjE3KSkrKDE+PihhXjE3KSkrKDE+PihpXjE3KSksSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZTooMT4+KG5eMTgpKSsoMT4+KGVeMTgpKSsoMT4+KGFeMTgpKSsoMT4+KGleMTgpKSxUaGVXaW5kU29hcmluZ1ZhbG9yb3VzOigxPj4obl4xOSkpKygxPj4oZV4xOSkpKygxPj4oYV4xOSkpKygxPj4oaV4xOSkpLFNhY2VyZG9zUmVsaXZlZE9yZGVhbDooMT4+KG5eMjApKSsoMT4+KGVeMjApKSsoMT4+KGFeMjApKSsoMT4+KGleMjApKSxTY2hvbGFyTG9zdEluRXJ1ZGl0aW9uOigxPj4obl4yMSkpKygxPj4oZV4yMSkpKygxPj4oYV4yMSkpKygxPj4oaV4yMSkpLFNwYWNlU2VhbGluZ1N0YXRpb246KDE+PihvXjApKSsoMT4+KHJeMCkpLEZsZWV0T2ZUaGVBZ2VsZXNzOigxPj4ob14xKSkrKDE+PihyXjEpKSxQYW5Db3NtaWNDb21tZXJjaWFsRW50ZXJwcmlzZTooMT4+KG9eMikpKygxPj4ocl4yKSksQmVsb2JvZ09mVGhlQXJjaGl0ZWN0czooMT4+KG9eMykpKygxPj4ocl4zKSksQ2VsZXN0aWFsRGlmZmVyZW50aWF0b3I6KDE+PihvXjQpKSsoMT4+KHJeNCkpLEluZXJ0U2Fsc290dG86KDE+PihvXjUpKSsoMT4+KHJeNSkpLFRhbGlhS2luZ2RvbU9mQmFuZGl0cnk6KDE+PihvXjYpKSsoMT4+KHJeNikpLFNwcmlnaHRseVZvbndhY3E6KDE+PihvXjcpKSsoMT4+KHJeNykpLFJ1dGlsYW50QXJlbmE6KDE+PihvXjgpKSsoMT4+KHJeOCkpLEJyb2tlbktlZWw6KDE+PihvXjkpKSsoMT4+KHJeOSkpLEZpcm1hbWVudEZyb250bGluZUdsYW1vdGg6KDE+PihvXjEwKSkrKDE+PihyXjEwKSksUGVuYWNvbnlMYW5kT2ZUaGVEcmVhbXM6KDE+PihvXjExKSkrKDE+PihyXjExKSksU2lnb25pYVRoZVVuY2xhaW1lZERlc29sYXRpb246KDE+PihvXjEyKSkrKDE+PihyXjEyKSksSXp1bW9HZW5zZWlBbmRUYWthbWFEaXZpbmVSZWFsbTooMT4+KG9eMTMpKSsoMT4+KHJeMTMpKSxEdXJhbkR5bmFzdHlPZlJ1bm5pbmdXb2x2ZXM6KDE+PihvXjE0KSkrKDE+PihyXjE0KSksRm9yZ2VPZlRoZUthbHBhZ25pTGFudGVybjooMT4+KG9eMTUpKSsoMT4+KHJeMTUpKSxMdXNoYWthVGhlU3Vua2VuU2VhczooMT4+KG9eMTYpKSsoMT4+KHJeMTYpKSxUaGVXb25kcm91c0JhbmFuQW11c2VtZW50UGFyazooMT4+KG9eMTcpKSsoMT4+KHJeMTcpKX0sdC54LnNldHN9ZnVuY3Rpb24gbmwodCxuLGUpe2NvbnN0IGE9ZS5jaGFyYWN0ZXIuYmFzZSxpPWUuY2hhcmFjdGVyLnRyYWNlcyxvPWUuY2hhcmFjdGVyLmxpZ2h0Q29uZSxyPXQueC5zZXRzO3N3aXRjaCh0LkVMRU1FTlRBTF9ETUc9MCxlLkVMRU1FTlRBTF9ETUdfVFlQRSl7Y2FzZSBzLlBoeXNpY2FsX0RNRzp0LkVMRU1FTlRBTF9ETUc9ZXQocy5QaHlzaWNhbF9ETUcsYSxvLGksdCwuMSprKHIuQ2hhbXBpb25PZlN0cmVldHdpc2VCb3hpbmcpKTticmVhaztjYXNlIHMuRmlyZV9ETUc6dC5FTEVNRU5UQUxfRE1HPWV0KHMuRmlyZV9ETUcsYSxvLGksdCwuMSprKHIuRmlyZXNtaXRoT2ZMYXZhRm9yZ2luZykpO2JyZWFrO2Nhc2Ugcy5JY2VfRE1HOnQuRUxFTUVOVEFMX0RNRz1ldChzLkljZV9ETUcsYSxvLGksdCwuMSprKHIuSHVudGVyT2ZHbGFjaWFsRm9yZXN0KSk7YnJlYWs7Y2FzZSBzLkxpZ2h0bmluZ19ETUc6dC5FTEVNRU5UQUxfRE1HPWV0KHMuTGlnaHRuaW5nX0RNRyxhLG8saSx0LC4xKmsoci5CYW5kT2ZTaXp6bGluZ1RodW5kZXIpKTticmVhaztjYXNlIHMuV2luZF9ETUc6dC5FTEVNRU5UQUxfRE1HPWV0KHMuV2luZF9ETUcsYSxvLGksdCwuMSprKHIuRWFnbGVPZlR3aWxpZ2h0TGluZSkpO2JyZWFrO2Nhc2Ugcy5RdWFudHVtX0RNRzp0LkVMRU1FTlRBTF9ETUc9ZXQocy5RdWFudHVtX0RNRyxhLG8saSx0LC4xKmsoci5HZW5pdXNPZkJyaWxsaWFudFN0YXJzKSk7YnJlYWs7Y2FzZSBzLkltYWdpbmFyeV9ETUc6dC5FTEVNRU5UQUxfRE1HPWV0KHMuSW1hZ2luYXJ5X0RNRyxhLG8saSx0LC4xKmsoci5XYXN0ZWxhbmRlck9mQmFuZGl0cnlEZXNlcnQpKTticmVha319ZnVuY3Rpb24gaWwodCxuLGUpe2NvbnN0IGE9ZS5jaGFyYWN0ZXIuYmFzZSxpPWUuY2hhcmFjdGVyLmxpZ2h0Q29uZSxvPWUuY2hhcmFjdGVyLnRyYWNlcyxyPXQueC5zZXRzO3Rbcy5TUERdPXJlKHMuU1BELHMuU1BEX1Asbi5iYXNlU3BkLGksbyx0LC4wNiprKHIuTWVzc2VuZ2VyVHJhdmVyc2luZ0hhY2tlcnNwYWNlKSsuMDYqayhyLkZvcmdlT2ZUaGVLYWxwYWduaUxhbnRlcm4pKy4wNipWKHIuTXVza2V0ZWVyT2ZXaWxkV2hlYXQpKy4wNiprKHIuU2FjZXJkb3NSZWxpdmVkT3JkZWFsKSksdFtzLkhQXT1yZShzLkhQLHMuSFBfUCxuLmJhc2VIcCxpLG8sdCwuMTIqayhyLkZsZWV0T2ZUaGVBZ2VsZXNzKSsuMTIqayhyLkxvbmdldm91c0Rpc2NpcGxlKSksdFtzLkFUS109cmUocy5BVEsscy5BVEtfUCxuLmJhc2VBdGssaSxvLHQsLjEyKmsoci5TcGFjZVNlYWxpbmdTdGF0aW9uKSsuMTIqayhyLkZpcm1hbWVudEZyb250bGluZUdsYW1vdGgpKy4xMiprKHIuTXVza2V0ZWVyT2ZXaWxkV2hlYXQpKy4xMiprKHIuUHJpc29uZXJJbkRlZXBDb25maW5lbWVudCkrLjEyKmsoci5JenVtb0dlbnNlaUFuZFRha2FtYURpdmluZVJlYWxtKSsuMTIqayhyLlRoZVdpbmRTb2FyaW5nVmFsb3JvdXMpKSx0W3MuREVGXT1yZShzLkRFRixzLkRFRl9QLG4uYmFzZURlZixpLG8sdCwuMTUqayhyLkJlbG9ib2dPZlRoZUFyY2hpdGVjdHMpKy4xNSprKHIuS25pZ2h0T2ZQdXJpdHlQYWxhY2UpKSx0W3MuQ1JdPWV0KHMuQ1IsYSxpLG8sdCwuMDgqayhyLkluZXJ0U2Fsc290dG8pKy4wOCprKHIuUnV0aWxhbnRBcmVuYSkrLjA0KlYoci5QaW9uZWVyRGl2ZXJPZkRlYWRXYXRlcnMpKy4wNCprKHIuU2lnb25pYVRoZVVuY2xhaW1lZERlc29sYXRpb24pKy4wNipWKHIuVGhlV2luZFNvYXJpbmdWYWxvcm91cykrLjA4Kmsoci5TY2hvbGFyTG9zdEluRXJ1ZGl0aW9uKSksdFtzLkNEXT1ldChzLkNELGEsaSxvLHQsLjE2Kmsoci5DZWxlc3RpYWxEaWZmZXJlbnRpYXRvcikrLjE2Kmsoci5UaGVXb25kcm91c0JhbmFuQW11c2VtZW50UGFyaykpLHRbcy5FSFJdPWV0KHMuRUhSLGEsaSxvLHQsLjEqayhyLlBhbkNvc21pY0NvbW1lcmNpYWxFbnRlcnByaXNlKSksdFtzLlJFU109ZXQocy5SRVMsYSxpLG8sdCwuMSprKHIuQnJva2VuS2VlbCkpLHRbcy5CRV09ZXQocy5CRSxhLGksbyx0LC4xNiprKHIuVGFsaWFLaW5nZG9tT2ZCYW5kaXRyeSkrLjE2Kmsoci5UaGllZk9mU2hvb3RpbmdNZXRlb3IpKy4xNipWKHIuVGhpZWZPZlNob290aW5nTWV0ZW9yKSsuMTYqayhyLldhdGNobWFrZXJNYXN0ZXJPZkRyZWFtTWFjaGluYXRpb25zKSsuMTYqayhyLklyb25DYXZhbHJ5QWdhaW5zdFRoZVNjb3VyZ2UpKSx0W3MuRVJSXT1ldChzLkVSUixhLGksbyx0LC4wNSprKHIuU3ByaWdodGx5Vm9ud2FjcSkrLjA1Kmsoci5QZW5hY29ueUxhbmRPZlRoZURyZWFtcykrLjA1Kmsoci5MdXNoYWthVGhlU3Vua2VuU2VhcykpLHRbcy5PSEJdPWV0KHMuT0hCLGEsaSxvLHQsLjEqayhyLlBhc3NlcmJ5T2ZXYW5kZXJpbmdDbG91ZCkpfWZ1bmN0aW9uIGFsKHQsbixlKXtlLmNoYXJhY3RlckNvbmRpdGlvbmFscz12dC5nZXQobiksZS5saWdodENvbmVDb25kaXRpb25hbHM9TnQuZ2V0KG4pO2NvbnN0IGE9dC54LGk9YS5zZXRzO2Fbcy5BVEtdKz10W3MuQVRLXSxhW3MuREVGXSs9dFtzLkRFRl0sYVtzLkhQXSs9dFtzLkhQXSxhW3MuU1BEXSs9dFtzLlNQRF0sYVtzLkNEXSs9dFtzLkNEXSxhW3MuQ1JdKz10W3MuQ1JdLGFbcy5FSFJdKz10W3MuRUhSXSxhW3MuUkVTXSs9dFtzLlJFU10sYVtzLkJFXSs9dFtzLkJFXSxhW3MuRVJSXSs9dFtzLkVSUl0sYVtzLk9IQl0rPXRbcy5PSEJdLGFbZS5FTEVNRU5UQUxfRE1HX1RZUEVdKz10LkVMRU1FTlRBTF9ETUcsYVtzLkFUS10rPW4uY29tYmF0QnVmZnMuQVRLK24uY29tYmF0QnVmZnMuQVRLX1Aqbi5iYXNlQXRrLGFbcy5ERUZdKz1uLmNvbWJhdEJ1ZmZzLkRFRituLmNvbWJhdEJ1ZmZzLkRFRl9QKm4uYmFzZURlZixhW3MuSFBdKz1uLmNvbWJhdEJ1ZmZzLkhQK24uY29tYmF0QnVmZnMuSFBfUCpuLmJhc2VIcCxhW3MuQ0RdKz1uLmNvbWJhdEJ1ZmZzLkNELGFbcy5DUl0rPW4uY29tYmF0QnVmZnMuQ1IsYVtzLlNQRF0rPW4uY29tYmF0QnVmZnMuU1BEX1Aqbi5iYXNlU3BkK24uY29tYmF0QnVmZnMuU1BELGFbcy5CRV0rPW4uY29tYmF0QnVmZnMuQkUsYS5FTEVNRU5UQUxfRE1HKz1uLmNvbWJhdEJ1ZmZzLkRNR19CT09TVCxhLkVGRkVDVF9SRVNfUEVOKz1uLmNvbWJhdEJ1ZmZzLkVGRkVDVF9SRVNfUEVOLGEuVlVMTkVSQUJJTElUWSs9bi5jb21iYXRCdWZmcy5WVUxORVJBQklMSVRZLGEuQlJFQUtfRUZGSUNJRU5DWV9CT09TVCs9bi5jb21iYXRCdWZmcy5CUkVBS19FRkZJQ0lFTkNZLFYoaS5NZXNzZW5nZXJUcmF2ZXJzaW5nSGFja2Vyc3BhY2UpJiZlLmVuYWJsZWRNZXNzZW5nZXJUcmF2ZXJzaW5nSGFja2Vyc3BhY2UmJihhW3MuU1BEX1BdKz0uMTIpLGFbcy5TUERdKz1hW3MuU1BEX1BdKm4uYmFzZVNwZCxWKGkuQ2hhbXBpb25PZlN0cmVldHdpc2VCb3hpbmcpJiYoYVtzLkFUS19QXSs9LjA1KmUudmFsdWVDaGFtcGlvbk9mU3RyZWV0d2lzZUJveGluZyksVihpLkJhbmRPZlNpenpsaW5nVGh1bmRlcikmJmUuZW5hYmxlZEJhbmRPZlNpenpsaW5nVGh1bmRlciYmKGFbcy5BVEtfUF0rPS4yKSxWKGkuVGhlQXNoYmxhemluZ0dyYW5kRHVrZSkmJihhW3MuQVRLX1BdKz0uMDYqZS52YWx1ZVRoZUFzaGJsYXppbmdHcmFuZER1a2UpLGFbcy5BVEtdKz1hW3MuQVRLX1BdKm4uYmFzZUF0ayxhW3MuREVGXSs9YVtzLkRFRl9QXSpuLmJhc2VEZWYsYVtzLkhQXSs9YVtzLkhQX1BdKm4uYmFzZUhwLFYoaS5IdW50ZXJPZkdsYWNpYWxGb3Jlc3QpJiZlLmVuYWJsZWRIdW50ZXJPZkdsYWNpYWxGb3Jlc3QmJihhW3MuQ0RdKz0uMjUpLFYoaS5XYXN0ZWxhbmRlck9mQmFuZGl0cnlEZXNlcnQpJiYoYVtzLkNEXSs9LjEqKGUudmFsdWVXYXN0ZWxhbmRlck9mQmFuZGl0cnlEZXNlcnQ9PTI/MTowKSksVihpLlBpb25lZXJEaXZlck9mRGVhZFdhdGVycykmJihhW3MuQ0RdKz1ybFtlLnZhbHVlUGlvbmVlckRpdmVyT2ZEZWFkV2F0ZXJzXSksayhpLlNpZ29uaWFUaGVVbmNsYWltZWREZXNvbGF0aW9uKSYmKGFbcy5DRF0rPS4wNCplLnZhbHVlU2lnb25pYVRoZVVuY2xhaW1lZERlc29sYXRpb24pLGsoaS5EdXJhbkR5bmFzdHlPZlJ1bm5pbmdXb2x2ZXMpJiZlLnZhbHVlRHVyYW5EeW5hc3R5T2ZSdW5uaW5nV29sdmVzPj01JiYoYVtzLkNEXSs9LjI1KSxrKGkuVGhlV29uZHJvdXNCYW5hbkFtdXNlbWVudFBhcmspJiZlLmVuYWJsZWRUaGVXb25kcm91c0JhbmFuQW11c2VtZW50UGFyayYmKGFbcy5DRF0rPS4zMiksVihpLldhc3RlbGFuZGVyT2ZCYW5kaXRyeURlc2VydCkmJmUudmFsdWVXYXN0ZWxhbmRlck9mQmFuZGl0cnlEZXNlcnQ+MCYmKGFbcy5DUl0rPS4xKSxWKGkuTG9uZ2V2b3VzRGlzY2lwbGUpJiYoYVtzLkNSXSs9LjA4KmUudmFsdWVMb25nZXZvdXNEaXNjaXBsZSksVihpLlBpb25lZXJEaXZlck9mRGVhZFdhdGVycykmJmUudmFsdWVQaW9uZWVyRGl2ZXJPZkRlYWRXYXRlcnM+MiYmKGFbcy5DUl0rPS4wNCksayhpLkl6dW1vR2Vuc2VpQW5kVGFrYW1hRGl2aW5lUmVhbG0pJiZlLmVuYWJsZWRJenVtb0dlbnNlaUFuZFRha2FtYURpdmluZVJlYWxtJiYoYVtzLkNSXSs9LjEyKSxWKGkuV2F0Y2htYWtlck1hc3Rlck9mRHJlYW1NYWNoaW5hdGlvbnMpJiZlLmVuYWJsZWRXYXRjaG1ha2VyTWFzdGVyT2ZEcmVhbU1hY2hpbmF0aW9ucyYmKGFbcy5CRV0rPS4zKSxrKGkuRm9yZ2VPZlRoZUthbHBhZ25pTGFudGVybikmJmUuZW5hYmxlZEZvcmdlT2ZUaGVLYWxwYWduaUxhbnRlcm4mJihhW3MuQkVdKz0uNCksVihpLk11c2tldGVlck9mV2lsZFdoZWF0KSYmeShhLFcsLjEpLFYoaS5GaXJlc21pdGhPZkxhdmFGb3JnaW5nKSYmeShhLHosLjEyKSxrKGkuVGhlQXNoYmxhemluZ0dyYW5kRHVrZSkmJnkoYSxNLC4yKSxrKGkuRHVyYW5EeW5hc3R5T2ZSdW5uaW5nV29sdmVzKSYmeShhLE0sLjA1KmUudmFsdWVEdXJhbkR5bmFzdHlPZlJ1bm5pbmdXb2x2ZXMpLFYoaS5UaGVXaW5kU29hcmluZ1ZhbG9yb3VzKSYmeShhLE8sLjM2KmUuZW5hYmxlZFRoZVdpbmRTb2FyaW5nVmFsb3JvdXMpLFYoaS5TY2hvbGFyTG9zdEluRXJ1ZGl0aW9uKSYmeShhLE98eiwuMiksVihpLkdlbml1c09mQnJpbGxpYW50U3RhcnMpJiYoYS5ERUZfUEVOKz1lLmVuYWJsZWRHZW5pdXNPZkJyaWxsaWFudFN0YXJzPy4yOi4xKSxWKGkuUHJpc29uZXJJbkRlZXBDb25maW5lbWVudCkmJihhLkRFRl9QRU4rPS4wNiplLnZhbHVlUHJpc29uZXJJbkRlZXBDb25maW5lbWVudCksayhpLlBpb25lZXJEaXZlck9mRGVhZFdhdGVycykmJmUudmFsdWVQaW9uZWVyRGl2ZXJPZkRlYWRXYXRlcnM+PTAmJihhLkVMRU1FTlRBTF9ETUcrPS4xMiksayhpLkZpcmVzbWl0aE9mTGF2YUZvcmdpbmcpJiZlLmVuYWJsZWRGaXJlc21pdGhPZkxhdmFGb3JnaW5nJiYoYVtzLkZpcmVfRE1HXSs9LjEyKSxWKGkuU2Nob2xhckxvc3RJbkVydWRpdGlvbikmJmUuZW5hYmxlZFNjaG9sYXJMb3N0SW5FcnVkaXRpb24mJnkoYSx6LC4yNSksayhpLlNwYWNlU2VhbGluZ1N0YXRpb24pJiZRKEVuLGEsbixlKSxrKGkuUnV0aWxhbnRBcmVuYSkmJlEoX24sYSxuLGUpLGsoaS5JbmVydFNhbHNvdHRvKSYmUShBbixhLG4sZSksayhpLkZsZWV0T2ZUaGVBZ2VsZXNzKSYmUShUbixhLG4sZSksayhpLkJlbG9ib2dPZlRoZUFyY2hpdGVjdHMpJiZRKEluLGEsbixlKSxWKGkuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZSkmJlEoTG4sYSxuLGUpLFYoaS5Jcm9uQ2F2YWxyeUFnYWluc3RUaGVTY291cmdlKSYmUShrbixhLG4sZSksayhpLlBhbkNvc21pY0NvbW1lcmNpYWxFbnRlcnByaXNlKSYmUShibixhLG4sZSksayhpLkJyb2tlbktlZWwpJiZRKHluLGEsbixlKSxrKGkuQ2VsZXN0aWFsRGlmZmVyZW50aWF0b3IpJiZRKFJuLGEsbixlKSxrKGkuVGFsaWFLaW5nZG9tT2ZCYW5kaXRyeSkmJlEoR24sYSxuLGUpLGsoaS5GaXJtYW1lbnRGcm9udGxpbmVHbGFtb3RoKSYmUShNbixhLG4sZSksayhpLkZpcm1hbWVudEZyb250bGluZUdsYW1vdGgpJiZRKHZuLGEsbixlKTtjb25zdCBvPWUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLHI9ZS5saWdodENvbmVDb25kaXRpb25hbHM7Zm9yKGNvbnN0IGQgb2Ygby5keW5hbWljQ29uZGl0aW9uYWxzfHxbXSlRKGQsYSxuLGUpO2Zvcihjb25zdCBkIG9mIHIuZHluYW1pY0NvbmRpdGlvbmFsc3x8W10pUShkLGEsbixlKTtyZXR1cm4gYX1mdW5jdGlvbiBvbCh0LG4sZSxhLGksbyxyKXtmb3IoY29uc3QgZCBvZltuLGUsYSxpLG8scl0paWYoZC5wYXJ0KWZvcihjb25zdCBTIG9mIGQuY29uZGVuc2VkU3RhdHMpdFtTWzBdXSs9U1sxXTt0LnguV0VJR0hUPW4ud2VpZ2h0U2NvcmUrZS53ZWlnaHRTY29yZSthLndlaWdodFNjb3JlK2kud2VpZ2h0U2NvcmUrby53ZWlnaHRTY29yZStyLndlaWdodFNjb3JlfWZ1bmN0aW9uIGV0KHQsbixlLGEsaSxvKXtyZXR1cm4gblt0XStlW3RdK2lbdF0rYVt0XStvfWZ1bmN0aW9uIHJlKHQsbixlLGEsaSxvLHIpe3JldHVybiBlKigxK3Irb1tuXStpW25dK2Fbbl0pK29bdF0raVt0XX1jb25zdCBybD17Wy0xXTowLDA6MCwxOi4wOCwyOi4xMiwzOi4xNiw0Oi4yNH0sc2w9e1tzLkhQX1BdOjAsW3MuQVRLX1BdOjAsW3MuREVGX1BdOjAsW3MuSFBdOjFlLTYsW3MuQVRLXToxZS02LFtzLkRFRl06MWUtNixbcy5TUERdOjFlLTYsW3MuU1BEX1BdOjAsW3MuQ1JdOjFlLTYsW3MuQ0RdOjFlLTYsW3MuRUhSXToxZS02LFtzLlJFU106MWUtNixbcy5CRV06MWUtNixbcy5FUlJdOjFlLTYsW3MuT0hCXToxZS02LFtzLlBoeXNpY2FsX0RNR106MWUtNixbcy5GaXJlX0RNR106MWUtNixbcy5JY2VfRE1HXToxZS02LFtzLkxpZ2h0bmluZ19ETUddOjFlLTYsW3MuV2luZF9ETUddOjFlLTYsW3MuUXVhbnR1bV9ETUddOjFlLTYsW3MuSW1hZ2luYXJ5X0RNR106MWUtNn07ZnVuY3Rpb24gbGwodCxuLGUpe2NvbnN0IGE9ZS5saWdodENvbmVDb25kaXRpb25hbHMsaT1lLmNoYXJhY3RlckNvbmRpdGlvbmFsczthLmZpbmFsaXplQ2FsY3VsYXRpb25zJiZhLmZpbmFsaXplQ2FsY3VsYXRpb25zKHQsbiksaS5maW5hbGl6ZUNhbGN1bGF0aW9ucyYmaS5maW5hbGl6ZUNhbGN1bGF0aW9ucyh0LG4pfWZ1bmN0aW9uIGNsKHQsbixlKXtjb25zdCBhPXQuc2V0cyxpPTgwLG89bi5lbmVteUxldmVsLHI9dC5ERUZfUEVOK24uY29tYmF0QnVmZnMuREVGX1BFTixkPTA7dC5FTEVNRU5UQUxfRE1HKz10W2UuRUxFTUVOVEFMX0RNR19UWVBFXTtjb25zdCBTPTErdC5FTEVNRU5UQUxfRE1HLEM9MTtsZXQgcD10W3MuSFBdLygxLXRbcy5ERUZdLyh0W3MuREVGXSsyMDArMTAqbi5lbmVteUxldmVsKSk7cCo9MS8oKDEtLjA4KmsoYS5HdWFyZE9mV3V0aGVyaW5nU25vdykpKnQuRE1HX1JFRF9NVUxUSSksdC5FSFA9cCxlLmJyb2tlbk11bHRpcGxpZXI9dC5FTkVNWV9XRUFLTkVTU19CUk9LRU4/MTouOTtjb25zdCBCPUMqZS5icm9rZW5NdWx0aXBsaWVyLHU9ZS5yZXNpc3RhbmNlLXQuUkVTX1BFTi10W2UuUkVTX1BFTl9UWVBFXSxjPXQuVUxUX0NEX09WRVJSSURFfHx0W3MuQ0RdK3QuVUxUX0NEX0JPT1NULGw9MSt0LlZVTE5FUkFCSUxJVFkrdC5CUkVBS19WVUxORVJBQklMSVRZLG09MSt0LlZVTE5FUkFCSUxJVFkrdC5CQVNJQ19WVUxORVJBQklMSVRZLGY9MSt0LlZVTE5FUkFCSUxJVFkrdC5TS0lMTF9WVUxORVJBQklMSVRZLGc9MSt0LlZVTE5FUkFCSUxJVFkrdC5VTFRfVlVMTkVSQUJJTElUWSp0LlVMVF9CT09TVFNfTVVMVEksaD0xK3QuVlVMTkVSQUJJTElUWSt0LkZVQV9WVUxORVJBQklMSVRZLF89MSt0LlZVTE5FUkFCSUxJVFkrdC5ET1RfVlVMTkVSQUJJTElUWSxFPW4uZW5lbXlFZmZlY3RSZXNpc3RhbmNlLFQ9TWF0aC5taW4oMSx0LkRPVF9DSEFOQ0UqKDErdFtzLkVIUl0pKigxLUUrdC5FRkZFQ1RfUkVTX1BFTikpLEw9dC5ET1RfU1BMSVQ/KDErdC5ET1RfU1BMSVQqVCoodC5ET1RfU1RBQ0tTLTEpKS8oMSsuMDUqKHQuRE9UX1NUQUNLUy0xKSk6VCxQPW4uZW5lbXlNYXhUb3VnaG5lc3M7dC5CUkVBS19ETUc9QiozNzY3LjU1MzMqZS5FTEVNRU5UQUxfQlJFQUtfU0NBTElORypkdChpLG8scixkLHQuQlJFQUtfREVGX1BFTikqKC41K1AvMTIwKSpsKigxLXUpKigxK3Rbcy5CRV0pLHQuU1VQRVJfQlJFQUtfRE1HPUIqMzc2Ny41NTMzKmR0KGksbyxyLGQsdC5CUkVBS19ERUZfUEVOK3QuU1VQRVJfQlJFQUtfREVGX1BFTikqbCooMS11KSooMSt0W3MuQkVdKSoodC5TVVBFUl9CUkVBS19NT0RJRklFUit0LlNVUEVSX0JSRUFLX0hNQ19NT0RJRklFUikqKDEvMzApKigxK3QuQlJFQUtfRUZGSUNJRU5DWV9CT09TVCk7Y29uc3QgJD1CKjM3NjcuNTUzMypkdChpLG8scixkLHQuQlJFQUtfREVGX1BFTit0LlNVUEVSX0JSRUFLX0RFRl9QRU4pKmwqKDEtdSkqKDErdFtzLkJFXSkqKHQuQkFTSUNfU1VQRVJfQlJFQUtfTU9ESUZJRVIrdC5TVVBFUl9CUkVBS19ITUNfTU9ESUZJRVIpKigxLzMwKSooMSt0LkJSRUFLX0VGRklDSUVOQ1lfQk9PU1QpO3QuQkFTSUNfRE1HPXQuQkFTSUNfRE1HKkIqKFMrdC5CQVNJQ19CT09TVCkqZHQoaSxvLHIsZCx0LkJBU0lDX0RFRl9QRU4pKihtKk1hdGgubWluKDEsdFtzLkNSXSt0LkJBU0lDX0NSX0JPT1NUKSooMSt0W3MuQ0RdK3QuQkFTSUNfQ0RfQk9PU1QpK20qKDEtTWF0aC5taW4oMSx0W3MuQ1JdK3QuQkFTSUNfQ1JfQk9PU1QpKSkqKDEtKHUtdC5CQVNJQ19SRVNfUEVOKSkqKDErdC5CQVNJQ19PUklHSU5BTF9ETUdfQk9PU1QpK3QuQkFTSUNfQlJFQUtfRE1HX01PRElGSUVSKnQuQlJFQUtfRE1HKygkfHx0LlNVUEVSX0JSRUFLX0RNRykqdC5CQVNJQ19UT1VHSE5FU1NfRE1HKigxK3QuQkFTSUNfQlJFQUtfRUZGSUNJRU5DWV9CT09TVCksdC5TS0lMTF9ETUc9dC5TS0lMTF9ETUcqQiooUyt0LlNLSUxMX0JPT1NUKSpkdChpLG8scixkLHQuU0tJTExfREVGX1BFTikqKGYqTWF0aC5taW4oMSx0W3MuQ1JdK3QuU0tJTExfQ1JfQk9PU1QpKigxK3Rbcy5DRF0rdC5TS0lMTF9DRF9CT09TVCkrZiooMS1NYXRoLm1pbigxLHRbcy5DUl0rdC5TS0lMTF9DUl9CT09TVCkpKSooMS0odS10LlNLSUxMX1JFU19QRU4pKSooMSt0LlNLSUxMX09SSUdJTkFMX0RNR19CT09TVCkrdC5TVVBFUl9CUkVBS19ETUcqdC5TS0lMTF9UT1VHSE5FU1NfRE1HLHQuVUxUX0RNRz10LlVMVF9ETUcqQiooUyt0LlVMVF9CT09TVCp0LlVMVF9CT09TVFNfTVVMVEkpKmR0KGksbyxyLGQsdC5VTFRfREVGX1BFTip0LlVMVF9CT09TVFNfTVVMVEkpKihnKk1hdGgubWluKDEsdFtzLkNSXSt0LlVMVF9DUl9CT09TVCkqKDErYykrZyooMS1NYXRoLm1pbigxLHRbcy5DUl0rdC5VTFRfQ1JfQk9PU1QpKSkqKDEtKHUtdC5VTFRfUkVTX1BFTip0LlVMVF9CT09TVFNfTVVMVEkpKSooMSt0LlVMVF9PUklHSU5BTF9ETUdfQk9PU1QpK3QuU1VQRVJfQlJFQUtfRE1HKnQuVUxUX1RPVUdITkVTU19ETUcqKDErdC5VTFRfQlJFQUtfRUZGSUNJRU5DWV9CT09TVCksdC5GVUFfRE1HPXQuRlVBX0RNRypCKihTK3QuRlVBX0JPT1NUKSpkdChpLG8scixkLHQuRlVBX0RFRl9QRU4pKihoKk1hdGgubWluKDEsdFtzLkNSXSt0LkZVQV9DUl9CT09TVCkqKDErdFtzLkNEXSt0LkZVQV9DRF9CT09TVCkraCooMS1NYXRoLm1pbigxLHRbcy5DUl0rdC5GVUFfQ1JfQk9PU1QpKSkqKDEtKHUtdC5GVUFfUkVTX1BFTikpK3QuU1VQRVJfQlJFQUtfRE1HKnQuRlVBX1RPVUdITkVTU19ETUcsdC5ET1RfRE1HPXQuRE9UX0RNRypCKihTK3QuRE9UX0JPT1NUKSpkdChpLG8scixkLHQuRE9UX0RFRl9QRU4pKl8qKDEtKHUtdC5ET1RfUkVTX1BFTikpKkwsdC5DT01CT19ETUc9bi5jb21iby5CQVNJQyp0LkJBU0lDX0RNRytuLmNvbWJvLlNLSUxMKnQuU0tJTExfRE1HK24uY29tYm8uVUxUKnQuVUxUX0RNRytuLmNvbWJvLkZVQSp0LkZVQV9ETUcrbi5jb21iby5ET1QqdC5ET1RfRE1HK24uY29tYm8uQlJFQUsqdC5CUkVBS19ETUd9ZnVuY3Rpb24gZHQodCxuLGUsYSxpKXtyZXR1cm4odCsyMCkvKChuKzIwKSpNYXRoLm1heCgwLDEtZS1hLWkpK3QrMjApfWZ1bmN0aW9uIHVsKHQsbil7Y29uc3QgZT1uLnByZWNvbXB1dGVkWCxhPXt9LGk9W3QudGVhbW1hdGUwLHQudGVhbW1hdGUxLHQudGVhbW1hdGUyXS5maWx0ZXIobz0+ISFvJiYhIW8uY2hhcmFjdGVySWQpO2ZvcihsZXQgbz0wO288aS5sZW5ndGg7bysrKXtpW29dLmxpZ2h0Q29uZT1pW29dLmxpZ2h0Q29uZXx8bnVsbDtjb25zdCByPU9iamVjdC5hc3NpZ24oe30sdCxpW29dKSxkPXZ0LmdldChyKSxTPU50LmdldChyKTtzd2l0Y2goZC5wcmVjb21wdXRlTXV0dWFsRWZmZWN0cyYmZC5wcmVjb21wdXRlTXV0dWFsRWZmZWN0cyhlLHIpLGQucHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0cyYmZC5wcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzKGUsciksUy5wcmVjb21wdXRlTXV0dWFsRWZmZWN0cyYmUy5wcmVjb21wdXRlTXV0dWFsRWZmZWN0cyhlLHIpLFMucHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0cyYmUy5wcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzKGUsciksci50ZWFtT3JuYW1lbnRTZXQpe2Nhc2UgY3QuQnJva2VuS2VlbDplW3MuQ0RdKz0uMTticmVhaztjYXNlIGN0LkZsZWV0T2ZUaGVBZ2VsZXNzOmVbcy5BVEtfUF0rPS4wODticmVhaztjYXNlIGN0LlBlbmFjb255TGFuZE9mVGhlRHJlYW1zOmlmKHIuRUxFTUVOVEFMX0RNR19UWVBFIT1uLkVMRU1FTlRBTF9ETUdfVFlQRSlicmVhaztlLkVMRU1FTlRBTF9ETUcrPS4xO2JyZWFrO2Nhc2UgY3QuTHVzaGFrYVRoZVN1bmtlblNlYXM6ZVtzLkFUS19QXSs9LjEyO2JyZWFrfXN3aXRjaChyLnRlYW1SZWxpY1NldCl7Y2FzZSBjdC5NZXNzZW5nZXJUcmF2ZXJzaW5nSGFja2Vyc3BhY2U6aWYoYVtjdC5NZXNzZW5nZXJUcmF2ZXJzaW5nSGFja2Vyc3BhY2VdKWJyZWFrO2Vbcy5TUERfUF0rPS4xMjticmVhaztjYXNlIGN0LldhdGNobWFrZXJNYXN0ZXJPZkRyZWFtTWFjaGluYXRpb25zOmlmKGFbY3QuV2F0Y2htYWtlck1hc3Rlck9mRHJlYW1NYWNoaW5hdGlvbnNdKWJyZWFrO2Vbcy5CRV0rPS4zO2JyZWFrO2Nhc2UgWW46ZVtzLkNEXSs9LjE4O2JyZWFrO2Nhc2Ugam46ZVtzLkNEXSs9LjM2O2JyZWFrfWFbci50ZWFtT3JuYW1lbnRTZXRdPSEwLGFbci50ZWFtUmVsaWNTZXRdPSEwfX1mdW5jdGlvbiBmbCh0LG4pe3ZhciByLGQsUyxDLHAsQix1LGM7Y29uc3QgZT12dC5nZXQodCksYT1OdC5nZXQodCk7dC5jaGFyYWN0ZXJDb25kaXRpb25hbHN8fCh0LmNoYXJhY3RlckNvbmRpdGlvbmFscz1lLmRlZmF1bHRzKCkpLHQubGlnaHRDb25lQ29uZGl0aW9uYWxzfHwodC5saWdodENvbmVDb25kaXRpb25hbHM9YS5kZWZhdWx0cygpKTtjb25zdCBpPU9iamVjdC5hc3NpZ24oe30sSm4pOyhyPWEuaW5pdGlhbGl6ZUNvbmZpZ3VyYXRpb25zKT09bnVsbHx8ci5jYWxsKGEsaSx0KSwoZD1lLmluaXRpYWxpemVDb25maWd1cmF0aW9ucyk9PW51bGx8fGQuY2FsbChlLGksdCk7Y29uc3Qgbz1bdC50ZWFtbWF0ZTAsdC50ZWFtbWF0ZTEsdC50ZWFtbWF0ZTJdLmZpbHRlcihsPT4hIWwmJiEhbC5jaGFyYWN0ZXJJZCk7Zm9yKGxldCBsPTA7bDxvLmxlbmd0aDtsKyspe2NvbnN0IG09T2JqZWN0LmFzc2lnbih7fSx0LG9bbF0pLGY9dnQuZ2V0KG0pLGc9TnQuZ2V0KG0pOyhTPWYuaW5pdGlhbGl6ZVRlYW1tYXRlQ29uZmlndXJhdGlvbnMpPT1udWxsfHxTLmNhbGwoZixpLG0pLChDPWcuaW5pdGlhbGl6ZVRlYW1tYXRlQ29uZmlndXJhdGlvbnMpPT1udWxsfHxDLmNhbGwoZyxpLG0pfXJldHVybihwPWEucHJlY29tcHV0ZUVmZmVjdHMpPT1udWxsfHxwLmNhbGwoYSxpLHQpLChCPWUucHJlY29tcHV0ZUVmZmVjdHMpPT1udWxsfHxCLmNhbGwoZSxpLHQpLCh1PWEucHJlY29tcHV0ZU11dHVhbEVmZmVjdHMpPT1udWxsfHx1LmNhbGwoYSxpLHQpLChjPWUucHJlY29tcHV0ZU11dHVhbEVmZmVjdHMpPT1udWxsfHxjLmNhbGwoZSxpLHQpLGkuRU5FTVlfV0VBS05FU1NfQlJPS0VOPWkuRU5FTVlfV0VBS05FU1NfQlJPS0VOfHwodC5lbmVteVdlYWtuZXNzQnJva2VuPzE6MCksbi5wcmVjb21wdXRlZFg9aSxpfWZ1bmN0aW9uIGRsKHQsbil7Y29uc3QgZT12dC5nZXQodCksYT1OdC5nZXQodCksaT1tbCgpO0llKGksYS5keW5hbWljQ29uZGl0aW9uYWxzPz9bXSksSWUoaSxlLmR5bmFtaWNDb25kaXRpb25hbHM/P1tdKSxJZShpLE9hfHxbXSksbi5jb25kaXRpb25hbFJlZ2lzdHJ5PWksbi5jb25kaXRpb25hbFN0YXRlPXt9fWZ1bmN0aW9uIG1sKCl7cmV0dXJue1tzLkhQXTpbXSxbcy5BVEtdOltdLFtzLkRFRl06W10sW3MuU1BEXTpbXSxbcy5DUl06W10sW3MuQ0RdOltdLFtzLkVIUl06W10sW3MuUkVTXTpbXSxbcy5CRV06W10sW3MuT0hCXTpbXSxbcy5FUlJdOltdfX1mdW5jdGlvbiBJZSh0LG4pe2Zvcihjb25zdCBlIG9mIG4pZm9yKGNvbnN0IGEgb2YgZS5kZXBlbmRzT24pdFthXS5wdXNoKGUpfWNvbnN0IFNsPXtBVEs6e2tleToiQVRLIixncHVQcm9wZXJ0eToiQVRLIixiYXNpY1Byb3BlcnR5OiJBVEsiLGNvbWJhdFByb3BlcnR5OiJBVEsiLGJhc2ljR3JpZENvbHVtbjoiQVRLIixjb21iYXRHcmlkQ29sdW1uOiJ4QVRLIn0sREVGOntrZXk6IkRFRiIsZ3B1UHJvcGVydHk6IkRFRiIsYmFzaWNQcm9wZXJ0eToiREVGIixjb21iYXRQcm9wZXJ0eToiREVGIixiYXNpY0dyaWRDb2x1bW46IkRFRiIsY29tYmF0R3JpZENvbHVtbjoieERFRiJ9LEhQOntrZXk6IkhQIixncHVQcm9wZXJ0eToiSFAiLGJhc2ljUHJvcGVydHk6IkhQIixjb21iYXRQcm9wZXJ0eToiSFAiLGJhc2ljR3JpZENvbHVtbjoiSFAiLGNvbWJhdEdyaWRDb2x1bW46InhIUCJ9LFNQRDp7a2V5OiJTUEQiLGdwdVByb3BlcnR5OiJTUEQiLGJhc2ljUHJvcGVydHk6IlNQRCIsY29tYmF0UHJvcGVydHk6IlNQRCIsYmFzaWNHcmlkQ29sdW1uOiJTUEQiLGNvbWJhdEdyaWRDb2x1bW46InhTUEQifSxDUjp7a2V5OiJDUiIsZ3B1UHJvcGVydHk6IkNSIixiYXNpY1Byb3BlcnR5OiJDUklUIFJhdGUiLGNvbWJhdFByb3BlcnR5OiJDUklUIFJhdGUiLGJhc2ljR3JpZENvbHVtbjoiQ1JJVCBSYXRlIixjb21iYXRHcmlkQ29sdW1uOiJ4Q1IifSxDRDp7a2V5OiJDRCIsZ3B1UHJvcGVydHk6IkNEIixiYXNpY1Byb3BlcnR5OiJDUklUIERNRyIsY29tYmF0UHJvcGVydHk6IkNSSVQgRE1HIixiYXNpY0dyaWRDb2x1bW46IkNSSVQgRE1HIixjb21iYXRHcmlkQ29sdW1uOiJ4Q0QifSxFSFI6e2tleToiRUhSIixncHVQcm9wZXJ0eToiRUhSIixiYXNpY1Byb3BlcnR5OiJFZmZlY3QgSGl0IFJhdGUiLGNvbWJhdFByb3BlcnR5OiJFZmZlY3QgSGl0IFJhdGUiLGJhc2ljR3JpZENvbHVtbjoiRWZmZWN0IEhpdCBSYXRlIixjb21iYXRHcmlkQ29sdW1uOiJ4RUhSIn0sUkVTOntrZXk6IlJFUyIsZ3B1UHJvcGVydHk6IlJFUyIsYmFzaWNQcm9wZXJ0eToiRWZmZWN0IFJFUyIsY29tYmF0UHJvcGVydHk6IkVmZmVjdCBSRVMiLGJhc2ljR3JpZENvbHVtbjoiRWZmZWN0IFJFUyIsY29tYmF0R3JpZENvbHVtbjoieFJFUyJ9LEJFOntrZXk6IkJFIixncHVQcm9wZXJ0eToiQkUiLGJhc2ljUHJvcGVydHk6IkJyZWFrIEVmZmVjdCIsY29tYmF0UHJvcGVydHk6IkJyZWFrIEVmZmVjdCIsYmFzaWNHcmlkQ29sdW1uOiJCcmVhayBFZmZlY3QiLGNvbWJhdEdyaWRDb2x1bW46InhCRSJ9LE9IQjp7a2V5OiJPSEIiLGdwdVByb3BlcnR5OiJPSEIiLGJhc2ljUHJvcGVydHk6Ik91dGdvaW5nIEhlYWxpbmcgQm9vc3QiLGNvbWJhdFByb3BlcnR5OiJPdXRnb2luZyBIZWFsaW5nIEJvb3N0IixiYXNpY0dyaWRDb2x1bW46Ik91dGdvaW5nIEhlYWxpbmcgQm9vc3QiLGNvbWJhdEdyaWRDb2x1bW46InhPSEIifSxFUlI6e2tleToiRVJSIixncHVQcm9wZXJ0eToiRVJSIixiYXNpY1Byb3BlcnR5OiJFbmVyZ3kgUmVnZW5lcmF0aW9uIFJhdGUiLGNvbWJhdFByb3BlcnR5OiJFbmVyZ3kgUmVnZW5lcmF0aW9uIFJhdGUiLGJhc2ljR3JpZENvbHVtbjoiRW5lcmd5IFJlZ2VuZXJhdGlvbiBSYXRlIixjb21iYXRHcmlkQ29sdW1uOiJ4RVJSIn0sRUxFTUVOVEFMX0RNRzp7a2V5OiJFTEVNRU5UQUxfRE1HIixncHVQcm9wZXJ0eToiRUxFTUVOVEFMX0RNRyIsYmFzaWNQcm9wZXJ0eToiRUxFTUVOVEFMX0RNRyIsY29tYmF0UHJvcGVydHk6IkVMRU1FTlRBTF9ETUciLGJhc2ljR3JpZENvbHVtbjoiRUQiLGNvbWJhdEdyaWRDb2x1bW46InhFTEVNRU5UQUxfRE1HIixpc0NvbXB1dGVkUmF0aW5nOiEwfSxXRUlHSFQ6e2tleToiV0VJR0hUIixncHVQcm9wZXJ0eToiV0VJR0hUIixiYXNpY1Byb3BlcnR5OiJXRUlHSFQiLGNvbWJhdFByb3BlcnR5OiJXRUlHSFQiLGJhc2ljR3JpZENvbHVtbjoiV0VJR0hUIixjb21iYXRHcmlkQ29sdW1uOiJXRUlHSFQiLGlzQ29tcHV0ZWRSYXRpbmc6ITB9LEVIUDp7a2V5OiJFSFAiLGdwdVByb3BlcnR5OiJFSFAiLGJhc2ljUHJvcGVydHk6IkVIUCIsY29tYmF0UHJvcGVydHk6IkVIUCIsYmFzaWNHcmlkQ29sdW1uOiJFSFAiLGNvbWJhdEdyaWRDb2x1bW46IkVIUCIsaXNDb21wdXRlZFJhdGluZzohMH0sQkFTSUM6e2tleToiQkFTSUMiLGdwdVByb3BlcnR5OiJCQVNJQ19ETUciLGJhc2ljUHJvcGVydHk6IkJBU0lDX0RNRyIsY29tYmF0UHJvcGVydHk6IkJBU0lDX0RNRyIsYmFzaWNHcmlkQ29sdW1uOiJCQVNJQyIsY29tYmF0R3JpZENvbHVtbjoiQkFTSUMiLGlzQ29tcHV0ZWRSYXRpbmc6ITB9LFNLSUxMOntrZXk6IlNLSUxMIixncHVQcm9wZXJ0eToiU0tJTExfRE1HIixiYXNpY1Byb3BlcnR5OiJTS0lMTF9ETUciLGNvbWJhdFByb3BlcnR5OiJTS0lMTF9ETUciLGJhc2ljR3JpZENvbHVtbjoiU0tJTEwiLGNvbWJhdEdyaWRDb2x1bW46IlNLSUxMIixpc0NvbXB1dGVkUmF0aW5nOiEwfSxVTFQ6e2tleToiVUxUIixncHVQcm9wZXJ0eToiVUxUX0RNRyIsYmFzaWNQcm9wZXJ0eToiVUxUX0RNRyIsY29tYmF0UHJvcGVydHk6IlVMVF9ETUciLGJhc2ljR3JpZENvbHVtbjoiVUxUIixjb21iYXRHcmlkQ29sdW1uOiJVTFQiLGlzQ29tcHV0ZWRSYXRpbmc6ITB9LEZVQTp7a2V5OiJGVUEiLGdwdVByb3BlcnR5OiJGVUFfRE1HIixiYXNpY1Byb3BlcnR5OiJGVUFfRE1HIixjb21iYXRQcm9wZXJ0eToiRlVBX0RNRyIsYmFzaWNHcmlkQ29sdW1uOiJGVUEiLGNvbWJhdEdyaWRDb2x1bW46IkZVQSIsaXNDb21wdXRlZFJhdGluZzohMH0sRE9UOntrZXk6IkRPVCIsZ3B1UHJvcGVydHk6IkRPVF9ETUciLGJhc2ljUHJvcGVydHk6IkRPVF9ETUciLGNvbWJhdFByb3BlcnR5OiJET1RfRE1HIixiYXNpY0dyaWRDb2x1bW46IkRPVCIsY29tYmF0R3JpZENvbHVtbjoiRE9UIixpc0NvbXB1dGVkUmF0aW5nOiEwfSxCUkVBSzp7a2V5OiJCUkVBSyIsZ3B1UHJvcGVydHk6IkJSRUFLX0RNRyIsYmFzaWNQcm9wZXJ0eToiQlJFQUtfRE1HIixjb21iYXRQcm9wZXJ0eToiQlJFQUtfRE1HIixiYXNpY0dyaWRDb2x1bW46IkJSRUFLIixjb21iYXRHcmlkQ29sdW1uOiJCUkVBSyIsaXNDb21wdXRlZFJhdGluZzohMH0sQ09NQk86e2tleToiQ09NQk8iLGdwdVByb3BlcnR5OiJDT01CT19ETUciLGJhc2ljUHJvcGVydHk6IkNPTUJPX0RNRyIsY29tYmF0UHJvcGVydHk6IkNPTUJPX0RNRyIsYmFzaWNHcmlkQ29sdW1uOiJDT01CTyIsY29tYmF0R3JpZENvbHVtbjoiQ09NQk8iLGlzQ29tcHV0ZWRSYXRpbmc6ITB9fSxPdD1PYmplY3QudmFsdWVzKFB0KS5sZW5ndGgsZ2w9T2JqZWN0LnZhbHVlcyhVdCkubGVuZ3RoO3NlbGYub25tZXNzYWdlPWZ1bmN0aW9uKHQpe2NvbnN0IG49dC5kYXRhLGU9bi5yZXF1ZXN0LGE9bi5wYXJhbXMsaT1uLnJlbGljcyxvPW5ldyBGbG9hdDY0QXJyYXkobi5idWZmZXIpLHI9aS5MaW5rUm9wZS5sZW5ndGgsZD1pLlBsYW5hclNwaGVyZS5sZW5ndGgsUz1pLkZlZXQubGVuZ3RoLEM9aS5Cb2R5Lmxlbmd0aCxwPWkuSGFuZHMubGVuZ3RoLEI9aS5IZWFkLmxlbmd0aCx1PW4ucmVsaWNTZXRTb2x1dGlvbnMsYz1uLm9ybmFtZW50U2V0U29sdXRpb25zLGw9ZS5zdGF0RGlzcGxheT09ImNvbWJhdCIsbT0hbDtsZXQgZj0wO2NvbnN0e2ZhaWxzQmFzaWNGaWx0ZXI6ZyxmYWlsc0NvbWJhdEZpbHRlcjpofT1wbChlLGwpO2EuY2hhcmFjdGVyQ29uZGl0aW9uYWxzPXZ0LmdldChlKSxhLmxpZ2h0Q29uZUNvbmRpdGlvbmFscz1OdC5nZXQoZSksZmwoZSxhKSx1bChlLGEpO2NvbnN0IF89TWF0aC5taW4obi5wZXJtdXRhdGlvbnMsbi5XSURUSCk7Zm9yKGxldCBFPTA7RTxfO0UrKyl7Y29uc3QgVD1uLnNraXArRTtpZihUPj1uLnBlcm11dGF0aW9ucylicmVhaztkbChlLGEpO2NvbnN0IEw9VCVyLFA9KFQtTCkvciVkLCQ9KFQtUCpyLUwpLyhyKmQpJVMsRHQ9KFQtJCpkKnItUCpyLUwpLyhyKmQqUyklQyxtdD0oVC1EdCpTKmQqci0kKmQqci1QKnItTCkvKHIqZCpTKkMpJXAsX3Q9KFQtbXQqQypTKmQqci1EdCpTKmQqci0kKmQqci1QKnItTCkvKHIqZCpTKkMqcCklQixMZT1pLkhlYWRbX3RdLHNlPWkuSGFuZHNbbXRdLFN0PWkuQm9keVtEdF0sZ3Q9aS5GZWV0WyRdLEF0PWkuUGxhbmFyU3BoZXJlW1BdLHd0PWkuTGlua1JvcGVbTF0sWD1FdFtMZS5zZXRdLHN0PUV0W3NlLnNldF0scHQ9RXRbU3Quc2V0XSx6dD1FdFtndC5zZXRdLFVuPSR0W0F0LnNldF0sRm49JHRbd3Quc2V0XSxIbj1YK3B0Kk90K3N0Kk90Kk90K3p0Kk90Kk90Kk90LHhuPVVuK0ZuKmdsO2lmKHVbSG5dIT0xfHxjW3huXSE9MSljb250aW51ZTtjb25zdCBIPXsuLi5zbH0sRz17Li4uYS5wcmVjb21wdXRlZFh9O0gucmVsaWNTZXRJbmRleD1IbixILm9ybmFtZW50U2V0SW5kZXg9eG4sSC54PUcsb2woSCxMZSxzZSxTdCxndCxBdCx3dCksZWwoSCxYLHN0LHB0LHp0LFVuLEZuKSxpbChILGUsYSksbmwoSCxlLGEpLCEobSYmKGcoSCl8fEhbcy5TUERdPGUubWluU3BkfHxIW3MuU1BEXT5lLm1heFNwZHx8SFtzLkhQXTxlLm1pbkhwfHxIW3MuSFBdPmUubWF4SHB8fEhbcy5BVEtdPGUubWluQXRrfHxIW3MuQVRLXT5lLm1heEF0a3x8SFtzLkRFRl08ZS5taW5EZWZ8fEhbcy5ERUZdPmUubWF4RGVmfHxIW3MuQ1JdPGUubWluQ3J8fEhbcy5DUl0+ZS5tYXhDcnx8SFtzLkNEXTxlLm1pbkNkfHxIW3MuQ0RdPmUubWF4Q2R8fEhbcy5FSFJdPGUubWluRWhyfHxIW3MuRUhSXT5lLm1heEVocnx8SFtzLlJFU108ZS5taW5SZXN8fEhbcy5SRVNdPmUubWF4UmVzfHxIW3MuQkVdPGUubWluQmV8fEhbcy5CRV0+ZS5tYXhCZXx8SFtzLkVSUl08ZS5taW5FcnJ8fEhbcy5FUlJdPmUubWF4RXJyKXx8KGFsKEgsZSxhKSxsbChHLGUsYSksY2woRyxlLGEpLGgoRykpfHxsJiYoR1tzLkhQXTxlLm1pbkhwfHxHW3MuSFBdPmUubWF4SHB8fEdbcy5BVEtdPGUubWluQXRrfHxHW3MuQVRLXT5lLm1heEF0a3x8R1tzLkRFRl08ZS5taW5EZWZ8fEdbcy5ERUZdPmUubWF4RGVmfHxHW3MuU1BEXTxlLm1pblNwZHx8R1tzLlNQRF0+ZS5tYXhTcGR8fEdbcy5DUl08ZS5taW5Dcnx8R1tzLkNSXT5lLm1heENyfHxHW3MuQ0RdPGUubWluQ2R8fEdbcy5DRF0+ZS5tYXhDZHx8R1tzLkVIUl08ZS5taW5FaHJ8fEdbcy5FSFJdPmUubWF4RWhyfHxHW3MuUkVTXTxlLm1pblJlc3x8R1tzLlJFU10+ZS5tYXhSZXN8fEdbcy5CRV08ZS5taW5CZXx8R1tzLkJFXT5lLm1heEJlfHxHW3MuRVJSXTxlLm1pbkVycnx8R1tzLkVSUl0+ZS5tYXhFcnIpfHxHLkVIUDxlLm1pbkVocHx8Ry5FSFA+ZS5tYXhFaHB8fEcuV0VJR0hUPGUubWluV2VpZ2h0fHxHLldFSUdIVD5lLm1heFdlaWdodHx8Ry5CQVNJQ19ETUc8ZS5taW5CYXNpY3x8Ry5CQVNJQ19ETUc+ZS5tYXhCYXNpY3x8Ry5TS0lMTF9ETUc8ZS5taW5Ta2lsbHx8Ry5TS0lMTF9ETUc+ZS5tYXhTa2lsbHx8Ry5VTFRfRE1HPGUubWluVWx0fHxHLlVMVF9ETUc+ZS5tYXhVbHR8fEcuRlVBX0RNRzxlLm1pbkZ1YXx8Ry5GVUFfRE1HPmUubWF4RnVhfHxHLkRPVF9ETUc8ZS5taW5Eb3R8fEcuRE9UX0RNRz5lLm1heERvdHx8Ry5CUkVBS19ETUc8ZS5taW5CcmVha3x8Ry5CUkVBS19ETUc+ZS5tYXhCcmVha3x8Ry5DT01CT19ETUc8ZS5taW5Db21ib3x8Ry5DT01CT19ETUc+ZS5tYXhDb21ibykmJihILmlkPVQsa2UucGFja0NoYXJhY3RlcihvLGYsSCksZisrKX1zZWxmLnBvc3RNZXNzYWdlKHtyb3dzOltdLGJ1ZmZlcjpuLmJ1ZmZlcn0sW24uYnVmZmVyXSl9O2Z1bmN0aW9uIHBsKHQsbil7Y29uc3QgZT10LnJlc3VsdE1pbkZpbHRlcixhPVNsW3QucmVzdWx0U29ydF0saT1hLmlzQ29tcHV0ZWRSYXRpbmc7aWYobnx8aSl7Y29uc3Qgbz1hLmNvbWJhdFByb3BlcnR5O3JldHVybntmYWlsc0Jhc2ljRmlsdGVyOigpPT4hMSxmYWlsc0NvbWJhdEZpbHRlcjpyPT5yW29dPGV9fWVsc2V7Y29uc3Qgbz1hLmJhc2ljUHJvcGVydHk7cmV0dXJue2ZhaWxzQmFzaWNGaWx0ZXI6cj0+cltvXTxlLGZhaWxzQ29tYmF0RmlsdGVyOigpPT4hMX19fX0pKCk7Cg==",xh=t=>Uint8Array.from(atob(t),a=>a.charCodeAt(0)),fo=typeof self<"u"&&self.Blob&&new Blob([xh(nc)],{type:"text/javascript;charset=utf-8"});function yh(t){let a;try{if(a=fo&&(self.URL||self.webkitURL).createObjectURL(fo),!a)throw"";const i=new Worker(a,{name:t==null?void 0:t.name});return i.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(a)}),i}catch{return new Worker("data:text/javascript;base64,"+nc,{name:t==null?void 0:t.name})}finally{a&&(self.URL||self.webkitURL).revokeObjectURL(a)}}const Yi=Math.min(8,Math.max(1,(navigator.hardwareConcurrency||4)-1));let Qn=0;console.log("Using pool size "+Yi);const _n=[],Ii=[];let Zn=[];const Vi={},ga={initializeWorker:()=>{if(Qn<Yi){const t=new yh;_n.push(t),Qn++,console.log("Initialized workers: "+Qn)}},initializeAllWorkers:()=>{for(let t=0;t<Yi;t++)setTimeout(()=>{ga.initializeWorker()},500*t)},nextTask:()=>{if(Zn.length==0)return;const{task:t,callback:a}=Zn.shift();ga.execute(t,a)},execute:(t,a,i)=>{if(Vi[i]==null&&(Vi[i]=!0),Vi[i]!=!1){if(t.attempts==null&&(t.attempts=0),t.attempts>10)return console.log("Too many failures, abandoning task");if(ga.initializeWorker(),_n.length>0){const l=_n.shift();let s;Ii.length>0?(s=Ii.pop(),mi.cleanFloatBuffer(s)):s=mi.createFloatBuffer(d.THREAD_BUFFER_LENGTH),t.input.buffer=s,l.onmessage=o=>{_n.push(l),ga.nextTask(),a&&a(o.data),Ii.push(o.data.buffer)},l.onerror=o=>{console.warn("Worker error",o),Qn--,t.attempts++,Zn.push({task:t,callback:a}),l.terminate(),setTimeout(()=>{ga.initializeWorker(),ga.nextTask()},100)},t.input.request.resultMinFilter=t.getMinFilter(),l.postMessage(t.input,[t.input.buffer])}else Zn.push({task:t,callback:a})}},cancel:t=>{Vi[t]=!1,Zn=[]},state:()=>{console.log({poolSize:Yi,workers:_n,taskQueue:Zn,buffers:Ii,initializedWorkers:Qn})}};function Lh(t){const a=d.SetsRelicsNames.length,i=t.relicSets||[],l=[],s=[];for(const o of i){if(o[0]==De.relic4Piece){if(o.length==1)for(let c=0;c<a;c++){const r=x.arrayOfZeroes(a);r[c]=4,l.push(r.join());const u=Ae(r);s.push(u)}if(o.length==2){const c=d.RelicSetToIndex[o[1]],r=x.arrayOfZeroes(a);r[c]=4,l.push(r.join());const u=Ae(r);s.push(u)}}if(o[0]==De.relic2PlusAny){if(o.length==1)for(let c=0;c<a;c++){const r=x.arrayOfZeroes(a);r[c]=4,l.push(r.join());const u=Ae(r);s.push(u)}if(o.length==2){const c=d.RelicSetToIndex[o[1]];for(let p=0;p<a;p++){const G=x.arrayOfZeroes(a);G[c]=2,G[p]+=2,l.push(G.join());const h=Ae(G);s.push(h)}const r=x.arrayOfZeroes(a);r[c]=2,l.push(r.join());const u=Ae(r),f=Wi(u,a);s.push(...f)}}if(o[0]==De.relic2Plus2Piece||o[0]=="2 Piece"){if(o.length==1){for(let c=0;c<a;c++){const r=x.arrayOfZeroes(a);r[c]=2,l.push(r.join());const u=Ae(r),f=Wi(u,a);s.push(...f)}for(let c=0;c<a;c++)for(let r=0;r<a;r++){const u=x.arrayOfZeroes(a);u[c]+=2,u[r]+=2,l.push(u.join());const f=Ae(u);s.push(f)}}if(o.length==2){const c=d.RelicSetToIndex[o[1]];for(let p=0;p<a;p++){const G=x.arrayOfZeroes(a);G[c]=2,G[p]+=2,l.push(G.join());const h=Ae(G);s.push(h)}const r=x.arrayOfZeroes(a);r[c]=2,l.push(r.join());const u=Ae(r),f=Wi(u,a);s.push(...f)}if(o.length==3)if(o[2]=="Any"){const c=d.RelicSetToIndex[o[1]];for(let p=0;p<a;p++){const G=x.arrayOfZeroes(a);G[c]=2,G[p]+=2,l.push(G.join());const h=Ae(G);s.push(h)}const r=x.arrayOfZeroes(a);r[c]=2,l.push(r.join());const u=Ae(r),f=Wi(u,a);s.push(...f)}else{const c=x.arrayOfZeroes(a),r=d.RelicSetToIndex[o[1]],u=d.RelicSetToIndex[o[2]];c[r]+=2,c[u]+=2,l.push(c.join());const f=Ae(c);s.push(f)}}}return Mh(s)}function Fh(t){const a=t.ornamentSets||[],i=d.SetsOrnamentsNames.length;if(a.length==0)return x.arrayOfValue(i*i,1);const l=x.arrayOfZeroes(i*i);for(const s of a){const o=d.OrnamentSetToIndex[s],c=o+o*i;l[c]=1}return l}function Ae(t){const a=[];for(let i=0;i<t.length;i++)for(;t[i];)t[i]--,a.push(i);return a}function Wi(t,a){const i=[];for(let l=0;l<a;l++)for(let s=0;s<a;s++){const o=x.arrayOfZeroes(4);o[0]=t[0],o[1]=t[1],o[2]=l,o[3]=s,i.push(o)}return i}function Mh(t){const a=d.SetsRelicsNames.length;if(t.length==0)return x.arrayOfValue(Math.pow(a,4),1);const i=x.arrayOfZeroes(Math.pow(a,4));for(let l=0;l<t.length;l++){const s=t[l],o=Bh(s);for(const c of o){const r=c[0]+c[1]*Math.pow(a,1)+c[2]*Math.pow(a,2)+c[3]*Math.pow(a,3);i[r]=1}}return i}const Bh=t=>{const a=[],i=(l,s=[])=>{if(l.length===0)a.push(s);else for(let o=0;o<l.length;o++){const c=l.slice(),r=c.splice(o,1);i(c.slice(),s.concat(r))}};return i(t),a},{Text:Gl}=pt,Ph={IMPORT:{descriptionKey:"0Perms.RootCauses.IMPORT.Description",buttonTextKey:"0Perms.RootCauses.IMPORT.ButtonText",applyFix:()=>{window.store.getState().setActiveKey(mt.IMPORT),window.store.getState().setZeroPermutationsModalOpen(!1)},successMessageKey:"0Perms.RootCauses.IMPORT.SuccessMessage"},BODY_MAIN:Ei(T.Body),FEET_MAIN:Ei(T.Feet),PLANAR_SPHERE_MAIN:Ei(T.PlanarSphere),LINK_ROPE_MAIN:Ei(T.LinkRope),RELIC_SETS:{descriptionKey:"0Perms.RootCauses.RELIC_SETS.Description",buttonTextKey:"0Perms.RootCauses.RELIC_SETS.ButtonText",applyFix:()=>{window.optimizerForm.setFieldValue("relicSets",[])},successMessageKey:"0Perms.RootCauses.RELIC_SETS.SuccessMessage"},ORNAMENT_SETS:{descriptionKey:"0Perms.RootCauses.ORNAMENT_SETS.Description",buttonTextKey:"0Perms.RootCauses.ORNAMENT_SETS.ButtonText",applyFix:()=>{window.optimizerForm.setFieldValue("ornamentSets",[])},successMessageKey:"0Perms.RootCauses.ORNAMENT_SETS.SuccessMessage"},KEEP_CURRENT:{descriptionKey:"0Perms.RootCauses.KEEP_CURRENT.Description",buttonTextKey:"0Perms.RootCauses.KEEP_CURRENT.ButtonText",applyFix:()=>{window.optimizerForm.setFieldValue("keepCurrentRelics",!1)},successMessageKey:"0Perms.RootCauses.KEEP_CURRENT.SuccessMessage"},PRIORITY:{descriptionKey:"0Perms.RootCauses.PRIORITY.Description",buttonTextKey:"0Perms.RootCauses.PRIORITY.ButtonText",applyFix:()=>{L.insertCharacter(window.store.getState().optimizerTabFocusCharacter,0),L.refreshCharacters()},successMessageKey:"0Perms.RootCauses.PRIORITY.SuccessMessage"},EXCLUDE_ENABLED:{descriptionKey:"0Perms.RootCauses.EXCLUDE_ENABLED.Description",buttonTextKey:"0Perms.RootCauses.EXCLUDE_ENABLED.ButtonText",applyFix:()=>{window.optimizerForm.setFieldValue("exclude",[])},successMessageKey:"0Perms.RootCauses.EXCLUDE_ENABLED.SuccessMessage"},EQUIPPED_DISABLED:{descriptionKey:"0Perms.RootCauses.EQUIPPED_DISABLED.Description",buttonTextKey:"0Perms.RootCauses.EQUIPPED_DISABLED.ButtonText",applyFix:()=>{window.optimizerForm.setFieldValue("includeEquippedRelics",!0)},successMessageKey:"0Perms.RootCauses.EQUIPPED_DISABLED.SuccessMessage"},MINIMUM_ROLLS:{descriptionKey:"0Perms.RootCauses.MINIMUM_ROLLS.Description",buttonTextKey:"0Perms.RootCauses.MINIMUM_ROLLS.ButtonText",applyFix:()=>{window.optimizerForm.setFieldValue(["weights","headHands"],0),window.optimizerForm.setFieldValue(["weights","bodyFeet"],0),window.optimizerForm.setFieldValue(["weights","sphereRope"],0)},successMessageKey:"0Perms.RootCauses.MINIMUM_ROLLS.SuccessMessage"}};function Ei(t){return{descriptionKey:`0Perms.RootCauses.${t}_MAIN.Description`,buttonTextKey:`0Perms.RootCauses.${t}_MAIN.ButtonText`,applyFix:()=>{window.optimizerForm.setFieldValue(`main${t}`,[])},successMessageKey:`0Perms.RootCauses.${t}_MAIN.SuccessMessage`}}let lt=[];function kh(t){lt=[];const[a,i]=Hn.getFilteredRelics(t);if(L.getRelics().length==0){lt.push("IMPORT"),window.store.getState().setZeroPermutationsModalOpen(!0);return}a.Body.length==0&&t.mainBody.length>0&&i.Body.length>0&&lt.push("BODY_MAIN"),a.Feet.length==0&&t.mainFeet.length>0&&i.Feet.length>0&&lt.push("FEET_MAIN"),a.PlanarSphere.length==0&&t.mainPlanarSphere.length>0&&i.PlanarSphere.length>0&&lt.push("PLANAR_SPHERE_MAIN"),a.LinkRope.length==0&&t.mainLinkRope.length>0&&i.LinkRope.length>0&&lt.push("LINK_ROPE_MAIN"),(a.PlanarSphere.length==0||a.LinkRope.length==0)&&t.ornamentSets.length>0&&lt.push("ORNAMENT_SETS"),(a.Head.length==0||a.Hands.length==0||a.Body.length==0||a.Feet.length==0)&&t.relicSets.length>0&&lt.push("RELIC_SETS"),t.keepCurrentRelics&&lt.push("KEEP_CURRENT"),t.rank!=0&&lt.push("PRIORITY"),t.exclude.length>0&&lt.push("EXCLUDE_ENABLED"),t.includeEquippedRelics||lt.push("EQUIPPED_DISABLED"),(t.weights.headHands>0||t.weights.bodyFeet>0||t.weights.sphereRope>0)&&lt.push("MINIMUM_ROLLS"),lt.length==0&&lt.push("IMPORT"),window.store.getState().setZeroPermutationsModalOpen(!0)}function ic(t,a){const i=Ph[t]||sc[t];return n.jsxs(g,{justify:"space-between",align:"center",style:{height:45},children:[n.jsx(Gl,{style:{width:550},children:a(i.descriptionKey)}),n.jsx(w,{onClick:()=>{i.applyFix(),window.onOptimizerFormValuesChange({},tt.getForm()),j.success(a(i.successMessageKey),2)},style:{width:250},type:"primary",children:a(i.buttonTextKey)})]},x.randomId())}function Hh(){const{t}=et("modals"),a=window.store(s=>s.zeroPermutationModalOpen),i=window.store(s=>s.setZeroPermutationsModalOpen),l=[];for(const s of lt)l.push(ic(s,t));return n.jsx(Ie,{title:t("0Perms.Title"),open:a,width:900,destroyOnClose:!0,centered:!0,onOk:()=>i(!1),onCancel:()=>i(!1),footer:null,children:n.jsxs(g,{vertical:!0,gap:15,style:{marginBottom:15},children:[n.jsx(Gl,{children:t("0Perms.Description")}),n.jsx(D0,{}),l]})})}const sc={MAX_HP:Dt("MAX_HP"),MIN_HP:Dt("MIN_HP"),MAX_ATK:Dt("MAX_ATK"),MIN_ATK:Dt("MIN_ATK"),MAX_DEF:Dt("MAX_DEF"),MIN_DEF:Dt("MIN_DEF"),MAX_SPD:Dt("MAX_SPD"),MIN_SPD:Dt("MIN_SPD"),MAX_CR:Dt("MAX_CR"),MIN_CR:Dt("MIN_CR"),MAX_CD:Dt("MAX_CD"),MIN_CD:Dt("MIN_CD"),MAX_EHR:Dt("MAX_EHR"),MIN_EHR:Dt("MIN_EHR"),MAX_RES:Dt("MAX_RES"),MIN_RES:Dt("MIN_RES"),MAX_BE:Dt("MAX_BE"),MIN_BE:Dt("MIN_BE"),MAX_ERR:Dt("MAX_ERR"),MIN_ERR:Dt("MIN_ERR"),MAX_WEIGHT:Dt("MAX_WEIGHT"),MIN_WEIGHT:Dt("MIN_WEIGHT"),MAX_EHP:Dt("MAX_EHP"),MIN_EHP:Dt("MIN_EHP"),MAX_BASIC:Dt("MAX_BASIC"),MIN_BASIC:Dt("MIN_BASIC"),MAX_SKILL:Dt("MAX_SKILL"),MIN_SKILL:Dt("MIN_SKILL"),MAX_ULT:Dt("MAX_ULT"),MIN_ULT:Dt("MIN_ULT"),MAX_FUA:Dt("MAX_FUA"),MIN_FUA:Dt("MIN_FUA"),MAX_DOT:Dt("MAX_DOT"),MIN_DOT:Dt("MIN_DOT"),MAX_BREAK:Dt("MAX_BREAK"),MIN_BREAK:Dt("MIN_BREAK"),MAX_COMBO:Dt("MAX_COMBO"),MIN_COMBO:Dt("MIN_COMBO"),STAT_VIEW:{descriptionKey:"0Results.RootCauses.StatView.Description",buttonTextKey:"0Results.RootCauses.StatView.ButtonText",applyFix:()=>{const t=window.store.getState().setStatDisplay;t("combat")},successMessageKey:"0Results.RootCauses.StatView.SuccessMessage"}};function Dt(t){const a=t.split("_"),i=a[0].toLowerCase()+a[1][0]+a[1].slice(1).toLowerCase();return{descriptionKey:`0Results.RootCauses.${t}.Description`,buttonTextKey:`0Results.RootCauses.${t}.ButtonText`,applyFix:()=>{window.optimizerForm.setFieldValue(i,void 0)},successMessageKey:`0Results.RootCauses.${t}.SuccessMessage`}}function Nh(t){lt=[],window.store.getState().statDisplay=="base"&&lt.push("STAT_VIEW"),t.minHp&&lt.push("MIN_HP"),t.maxHp<2147483647&&lt.push("MAX_HP"),t.minAtk&&lt.push("MIN_ATK"),t.maxAtk<2147483647&&lt.push("MAX_ATK"),t.minDef&&lt.push("MIN_DEF"),t.maxDef<2147483647&&lt.push("MAX_DEF"),t.minSpd&&lt.push("MIN_SPD"),t.maxSpd<2147483647&&lt.push("MAX_SPD"),t.minCr&&lt.push("MIN_CR"),t.maxCr<2147483647&&lt.push("MAX_CR"),t.minCd&&lt.push("MIN_CD"),t.maxCd<2147483647&&lt.push("MAX_CD"),t.minEhr&&lt.push("MIN_EHR"),t.maxEhr<2147483647&&lt.push("MAX_EHR"),t.minRes&&lt.push("MIN_RES"),t.maxRes<2147483647&&lt.push("MAX_RES"),t.minBe&&lt.push("MIN_BE"),t.maxBe<2147483647&&lt.push("MAX_BE"),t.minErr&&lt.push("MIN_ERR"),t.maxErr<2147483647&&lt.push("MAX_ERR"),t.minWeight&&lt.push("MIN_WEIGHT"),t.maxWeight<2147483647&&lt.push("MAX_WEIGHT"),t.minEhp&&lt.push("MIN_EHP"),t.maxEhp<2147483647&&lt.push("MAX_EHP"),t.minBasic&&lt.push("MIN_BASIC"),t.maxBasic<2147483647&&lt.push("MAX_BASIC"),t.minSkill&&lt.push("MIN_SKILL"),t.maxSkill<2147483647&&lt.push("MAX_SKILL"),t.minUlt&&lt.push("MIN_ULT"),t.maxUlt<2147483647&&lt.push("MAX_ULT"),t.minFua&&lt.push("MIN_FUA"),t.maxFua<2147483647&&lt.push("MAX_FUA"),t.minDot&&lt.push("MIN_DOT"),t.maxDot<2147483647&&lt.push("MAX_DOT"),t.minBreak&&lt.push("MIN_BREAK"),t.maxBreak<2147483647&&lt.push("MAX_BREAK"),t.minCombo&&lt.push("MIN_COMBO"),t.maxCombo<2147483647&&lt.push("MAX_COMBO"),window.store.getState().setZeroResultModalOpen(!0)}function Uh(){const t=window.store(s=>s.zeroResultModalOpen),a=window.store(s=>s.setZeroResultModalOpen),{t:i}=et("modals"),l=[];for(const s of lt)l.push(ic(s,i));return n.jsx(Ie,{title:i("0Results.Title"),open:t,width:900,destroyOnClose:!0,centered:!0,onOk:()=>a(!1),onCancel:()=>a(!1),footer:null,children:n.jsxs(g,{vertical:!0,gap:15,style:{marginBottom:15},children:[n.jsxs(g,{justify:"space-between",align:"center",style:{height:45},children:[n.jsx(Gl,{children:i("0Results.ResetAll.Description")}),n.jsx(w,{onClick:()=>{for(const o of lt)o!="STAT_VIEW"&&sc[o].applyFix();const s=window.store.getState().setStatDisplay;s("combat"),j.success(i("0Results.ResetAll.SuccessMessage")),a(!1)},style:{width:250},type:"primary",children:i("0Results.ResetAll.ButtonText")})]}),n.jsx(D0,{}),l]})})}class lc extends mr{constructor(i,l){super([],l,!1);Rn(this,"limit");Rn(this,"compare");this.limit=i,this.compare=l}fixedSizePush(i){this.size()>=this.limit?this.compare(i,this.top())>=0&&(this.pop(),this.push(i)):this.push(i)}fixedSizePushOvercapped(i){return this.push(i),this.pop()}}const Xh=`struct Relic {
  HP_P: f32,
  ATK_P: f32,
  DEF_P: f32,
  SPD_P: f32,
  HP: f32,
  ATK: f32,
  DEF: f32,
  SPD: f32,
  CR: f32,
  CD: f32,
  EHR: f32,
  RES: f32,
  BE: f32,
  ERR: f32,
  OHB: f32,
  Physical_DMG: f32,
  Fire_DMG: f32,
  Ice_DMG: f32,
  Lightning_DMG: f32,
  Wind_DMG: f32,
  Quantum_DMG: f32,
  Imaginary_DMG: f32,
  relicSet: f32,
  weightScore: f32, // 23
}

struct BasicStats {
  HP_P: f32,
  ATK_P: f32,
  DEF_P: f32,
  SPD_P: f32,
  HP: f32,
  ATK: f32,
  DEF: f32,
  SPD: f32,
  CR: f32,
  CD: f32,
  EHR: f32,
  RES: f32,
  BE: f32,
  ERR: f32,
  OHB: f32,
  Physical_DMG: f32,
  Fire_DMG: f32,
  Ice_DMG: f32,
  Lightning_DMG: f32,
  Wind_DMG: f32,
  Quantum_DMG: f32,
  Imaginary_DMG: f32,
  weightScore: f32,
}

struct Sets {
  PasserbyOfWanderingCloud: i32,
  MusketeerOfWildWheat: i32,
  KnightOfPurityPalace: i32,
  HunterOfGlacialForest: i32,
  ChampionOfStreetwiseBoxing: i32,
  GuardOfWutheringSnow: i32,
  FiresmithOfLavaForging: i32,
  GeniusOfBrilliantStars: i32,
  BandOfSizzlingThunder: i32,
  EagleOfTwilightLine: i32,
  ThiefOfShootingMeteor: i32,
  WastelanderOfBanditryDesert: i32,
  LongevousDisciple: i32,
  MessengerTraversingHackerspace: i32,
  TheAshblazingGrandDuke: i32,
  PrisonerInDeepConfinement: i32,
  PioneerDiverOfDeadWaters: i32,
  WatchmakerMasterOfDreamMachinations: i32,
  IronCavalryAgainstTheScourge: i32,
  TheWindSoaringValorous: i32,
  SacerdosRelivedOrdeal: i32,
  ScholarLostInErudition: i32,
  SpaceSealingStation: i32,
  FleetOfTheAgeless: i32,
  PanCosmicCommercialEnterprise: i32,
  BelobogOfTheArchitects: i32,
  CelestialDifferentiator: i32,
  InertSalsotto: i32,
  TaliaKingdomOfBanditry: i32,
  SprightlyVonwacq: i32,
  RutilantArena: i32,
  BrokenKeel: i32,
  FirmamentFrontlineGlamoth: i32,
  PenaconyLandOfTheDreams: i32,
  SigoniaTheUnclaimedDesolation: i32,
  IzumoGenseiAndTakamaDivineRealm: i32,
  DuranDynastyOfRunningWolves: i32,
  ForgeOfTheKalpagniLantern: i32,
  LushakaTheSunkenSeas: i32,
  TheWondrousBananAmusementPark: i32,
}

struct Params {
  lSize: f32,
  pSize: f32,
  fSize: f32,
  bSize: f32,
  gSize: f32,
  hSize: f32,

  xl: f32,
  xp: f32,
  xf: f32,
  xb: f32,
  xg: f32,
  xh: f32,

  threshold: f32,

  relicSetCount: f32,
  ornamentSetCount: f32,

  characterHP_P: f32,
  characterATK_P: f32,
  characterDEF_P: f32,
  characterSPD_P: f32,
  characterHP: f32,
  characterATK: f32,
  characterDEF: f32,
  characterSPD: f32,
  characterCR: f32,
  characterCD: f32,
  characterEHR: f32,
  characterRES: f32,
  characterBE: f32,
  characterERR: f32,
  characterOHB: f32,
  characterPhysical_DMG: f32,
  characterFire_DMG: f32,
  characterIce_DMG: f32,
  characterLightning_DMG: f32,
  characterWind_DMG: f32,
  characterQuantum_DMG: f32,
  characterImaginary_DMG: f32,

  lcHP_P: f32,
  lcATK_P: f32,
  lcDEF_P: f32,
  lcSPD_P: f32,
  lcHP: f32,
  lcATK: f32,
  lcDEF: f32,
  lcSPD: f32,
  lcCR: f32,
  lcCD: f32,
  lcEHR: f32,
  lcRES: f32,
  lcBE: f32,
  lcERR: f32,
  lcOHB: f32,
  lcPhysical_DMG: f32,
  lcFire_DMG: f32,
  lcIce_DMG: f32,
  lcLightning_DMG: f32,
  lcWind_DMG: f32,
  lcQuantum_DMG: f32,
  lcImaginary_DMG: f32,

  traceHP_P: f32,
  traceATK_P: f32,
  traceDEF_P: f32,
  traceSPD_P: f32,
  traceHP: f32,
  traceATK: f32,
  traceDEF: f32,
  traceSPD: f32,
  traceCR: f32,
  traceCD: f32,
  traceEHR: f32,
  traceRES: f32,
  traceBE: f32,
  traceERR: f32,
  traceOHB: f32,
  tracePhysical_DMG: f32,
  traceFire_DMG: f32,
  traceIce_DMG: f32,
  traceLightning_DMG: f32,
  traceWind_DMG: f32,
  traceQuantum_DMG: f32,
  traceImaginary_DMG: f32,
}`,Yh=`// Don't change this without updating the variable order mapping

struct ComputedStats {
  HP_P: f32,
  ATK_P: f32,
  DEF_P: f32,
  SPD_P: f32,
  HP: f32,
  ATK: f32,
  DEF: f32,
  SPD: f32,
  CR: f32,
  CD: f32,
  EHR: f32,
  RES: f32,
  BE: f32,
  ERR: f32,
  OHB: f32,

  Physical_DMG: f32,
  Fire_DMG: f32,
  Ice_DMG: f32,
  Lightning_DMG: f32,
  Wind_DMG: f32,
  Quantum_DMG: f32,
  Imaginary_DMG: f32,

  ELEMENTAL_DMG: f32,

  BASIC_SCALING: f32,
  SKILL_SCALING: f32,
  ULT_SCALING: f32,
  FUA_SCALING: f32,
  DOT_SCALING: f32,

  BASIC_CR_BOOST: f32,
  SKILL_CR_BOOST: f32,
  ULT_CR_BOOST: f32,
  FUA_CR_BOOST: f32,

  BASIC_CD_BOOST: f32,
  SKILL_CD_BOOST: f32,
  ULT_CD_BOOST: f32,
  FUA_CD_BOOST: f32,

  BASIC_BOOST: f32,
  SKILL_BOOST: f32,
  ULT_BOOST: f32,
  FUA_BOOST: f32,
  DOT_BOOST: f32,

  VULNERABILITY: f32,
  BASIC_VULNERABILITY: f32,
  SKILL_VULNERABILITY: f32,
  ULT_VULNERABILITY: f32,
  FUA_VULNERABILITY: f32,
  DOT_VULNERABILITY: f32,
  BREAK_VULNERABILITY: f32, // 47

  DEF_PEN: f32,
  BASIC_DEF_PEN: f32,
  SKILL_DEF_PEN: f32,
  ULT_DEF_PEN: f32,
  FUA_DEF_PEN: f32,
  DOT_DEF_PEN: f32,
  BREAK_DEF_PEN: f32,
  SUPER_BREAK_DEF_PEN: f32, // 55

  RES_PEN: f32,
  PHYSICAL_RES_PEN: f32,
  FIRE_RES_PEN: f32,
  ICE_RES_PEN: f32,
  LIGHTNING_RES_PEN: f32,
  WIND_RES_PEN: f32,
  QUANTUM_RES_PEN: f32,
  IMAGINARY_RES_PEN: f32, // 63

  BASIC_RES_PEN: f32,
  SKILL_RES_PEN: f32,
  ULT_RES_PEN: f32,
  FUA_RES_PEN: f32,
  DOT_RES_PEN: f32, // 68

  BASIC_DMG: f32,
  SKILL_DMG: f32,
  ULT_DMG: f32,
  FUA_DMG: f32,
  DOT_DMG: f32,
  BREAK_DMG: f32,
  COMBO_DMG: f32, // 75

  DMG_RED_MULTI: f32,
  EHP: f32,

  DOT_CHANCE: f32,
  EFFECT_RES_PEN: f32,

  DOT_SPLIT: f32,
  DOT_STACKS: f32,

  ENEMY_WEAKNESS_BROKEN: f32,

  SUPER_BREAK_MODIFIER: f32,
  BASIC_SUPER_BREAK_MODIFIER: f32,
  SUPER_BREAK_HMC_MODIFIER: f32,
  BASIC_TOUGHNESS_DMG: f32,
  SKILL_TOUGHNESS_DMG: f32,
  ULT_TOUGHNESS_DMG: f32,
  FUA_TOUGHNESS_DMG: f32,

  BASIC_ORIGINAL_DMG_BOOST: f32,
  SKILL_ORIGINAL_DMG_BOOST: f32,
  ULT_ORIGINAL_DMG_BOOST: f32,

  BASIC_BREAK_DMG_MODIFIER: f32,

  ULT_CD_OVERRIDE: f32,
  ULT_BOOSTS_MULTI: f32,

  RATIO_BASED_HP_BUFF: f32,
  RATIO_BASED_HP_P_BUFF: f32,
  RATIO_BASED_ATK_BUFF: f32,
  RATIO_BASED_ATK_P_BUFF: f32,
  RATIO_BASED_DEF_BUFF: f32,
  RATIO_BASED_DEF_P_BUFF: f32,
  RATIO_BASED_SPD_BUFF: f32,
  RATIO_BASED_CD_BUFF: f32,

  BREAK_EFFICIENCY_BOOST: f32,
  BASIC_BREAK_EFFICIENCY_BOOST: f32,
  ULT_BREAK_EFFICIENCY_BOOST: f32,

  BASIC_DMG_TYPE: f32,
  SKILL_DMG_TYPE: f32,
  ULT_DMG_TYPE: f32,
  FUA_DMG_TYPE: f32,
  DOT_DMG_TYPE: f32,
  BREAK_DMG_TYPE: f32,
  SUPER_BREAK_DMG_TYPE: f32,

  WEIGHT: f32,

  sets: Sets,
}
`,Kh=`// START GPU PARAMS
// ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼
/* INJECT GPU PARAMS */
// ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
// END GPU PARAMS


const BASIC_TYPE = 1;
const SKILL_TYPE = 2;
const ULT_TYPE = 4;
const FUA_TYPE = 8;
const DOT_TYPE = 16;
const BREAK_TYPE = 32;
const SUPER_BREAK_TYPE = 64;

@group(0) @binding(0) var<storage> params : Params;

@group(1) @binding(0) var<storage> relics : array<Relic>;
@group(1) @binding(1) var<storage> ornamentSetSolutionsMatrix : array<i32>;
@group(1) @binding(2) var<storage> relicSetSolutionsMatrix : array<i32>;


// START RESULTS BUFFER
// ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼
/* INJECT RESULTS BUFFER */
// ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
// END RESULTS BUFFER


@compute @workgroup_size(WORKGROUP_SIZE)
fn main(
  @builtin(workgroup_id) workgroup_id : vec3<u32>,
  @builtin(local_invocation_id) local_invocation_id : vec3<u32>,
  @builtin(global_invocation_id) global_invocation_id : vec3<u32>,
  @builtin(local_invocation_index) local_invocation_index: u32,
  @builtin(num_workgroups) num_workgroups: vec3<u32>
) {
  let workgroup_index =
    workgroup_id.x +
    workgroup_id.y * num_workgroups.x +
    workgroup_id.z * num_workgroups.x * num_workgroups.y;
  let indexGlobal = i32(workgroup_index * WORKGROUP_SIZE + local_invocation_index);

  // Load params
  let lSize = i32(params.lSize);
  let pSize = i32(params.pSize);
  let fSize = i32(params.fSize);
  let bSize = i32(params.bSize);
  let gSize = i32(params.gSize);
  let hSize = i32(params.hSize);
  let xl = i32(params.xl);
  let xp = i32(params.xp);
  let xf = i32(params.xf);
  let xb = i32(params.xb);
  let xg = i32(params.xg);
  let xh = i32(params.xh);
  let threshold = f32(params.threshold);
  let relicSetCount = u32(params.relicSetCount);
  let ornamentSetCount = u32(params.ornamentSetCount);

  let epsilon = 0.000001f;

  var failures: f32 = 1;

  for (var i = 0; i < CYCLES_PER_INVOCATION; i++) {
    // Calculate global_invocation_index

    let index = indexGlobal * CYCLES_PER_INVOCATION + i;

    // Calculate relic index per slot

    let l = (index % lSize);
    let p = (((index - l) / lSize) % pSize);
    let f = (((index - p * lSize - l) / (lSize * pSize)) % fSize);
    let b = (((index - f * pSize * lSize - p * lSize - l) / (lSize * pSize * fSize)) % bSize);
    let g = (((index - b * fSize * pSize * lSize - f * pSize * lSize - p * lSize - l) / (lSize * pSize * fSize * bSize)) % gSize);
    let h = (((index - g * bSize * fSize * pSize * lSize - b * fSize * pSize * lSize - f * pSize * lSize - p * lSize - l) / (lSize * pSize * fSize * bSize * gSize)) % hSize);

    let finalL = (l + xl) % lSize;
    let carryL = ((l + xl) / lSize);
    let finalP = (p + xp + carryL) % pSize;
    let carryP = ((p + xp + carryL) / pSize);
    let finalF = (f + xf + carryP) % fSize;
    let carryF = ((f + xf + carryP) / fSize);
    let finalB = (b + xb + carryF) % bSize;
    let carryB = ((b + xb + carryF) / bSize);
    let finalG = (g + xg + carryB) % gSize;
    let carryG = ((g + xg + carryB) / gSize);
    let finalH = (h + xh + carryG) % hSize;

    // Calculate Relic structs

    let head  : Relic = (relics[finalH]);
    let hands : Relic = (relics[finalG + hSize]);
    let body  : Relic = (relics[finalB + hSize + gSize]);
    let feet  : Relic = (relics[finalF + hSize + gSize + bSize]);
    let planarSphere : Relic = (relics[finalP + hSize + gSize + bSize + fSize]);
    let linkRope     : Relic = (relics[finalL + hSize + gSize + bSize + fSize + pSize]);

    // Convert set ID

    let setH: u32 = u32(head.relicSet);
    let setG: u32 = u32(hands.relicSet);
    let setB: u32 = u32(body.relicSet);
    let setF: u32 = u32(feet.relicSet);
    let setP: u32 = u32(planarSphere.relicSet);
    let setL: u32 = u32(linkRope.relicSet);

    // Get the index for set permutation lookup

    let relicSetIndex: u32 = setH + setB * relicSetCount + setG * relicSetCount * relicSetCount + setF * relicSetCount * relicSetCount * relicSetCount;
    let ornamentSetIndex: u32 = setP + setL * ornamentSetCount;



    // START SET FILTERS
    // ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼
    /* INJECT SET FILTERS */
    // ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
    // END SET FILTERS



    // START COMPUTED STATS
    // ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼
    /* INJECT COMPUTED STATS */
    // ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
    // END COMPUTED STATS



    // Calculate relic set counts

    x.sets.PasserbyOfWanderingCloud            = i32((1 >> (setH ^ 0)) + (1 >> (setG ^ 0)) + (1 >> (setB ^ 0)) + (1 >> (setF ^ 0)));
    x.sets.MusketeerOfWildWheat                = i32((1 >> (setH ^ 1)) + (1 >> (setG ^ 1)) + (1 >> (setB ^ 1)) + (1 >> (setF ^ 1)));
    x.sets.KnightOfPurityPalace                = i32((1 >> (setH ^ 2)) + (1 >> (setG ^ 2)) + (1 >> (setB ^ 2)) + (1 >> (setF ^ 2)));
    x.sets.HunterOfGlacialForest               = i32((1 >> (setH ^ 3)) + (1 >> (setG ^ 3)) + (1 >> (setB ^ 3)) + (1 >> (setF ^ 3)));
    x.sets.ChampionOfStreetwiseBoxing          = i32((1 >> (setH ^ 4)) + (1 >> (setG ^ 4)) + (1 >> (setB ^ 4)) + (1 >> (setF ^ 4)));
    x.sets.GuardOfWutheringSnow                = i32((1 >> (setH ^ 5)) + (1 >> (setG ^ 5)) + (1 >> (setB ^ 5)) + (1 >> (setF ^ 5)));
    x.sets.FiresmithOfLavaForging              = i32((1 >> (setH ^ 6)) + (1 >> (setG ^ 6)) + (1 >> (setB ^ 6)) + (1 >> (setF ^ 6)));
    x.sets.GeniusOfBrilliantStars              = i32((1 >> (setH ^ 7)) + (1 >> (setG ^ 7)) + (1 >> (setB ^ 7)) + (1 >> (setF ^ 7)));
    x.sets.BandOfSizzlingThunder               = i32((1 >> (setH ^ 8)) + (1 >> (setG ^ 8)) + (1 >> (setB ^ 8)) + (1 >> (setF ^ 8)));
    x.sets.EagleOfTwilightLine                 = i32((1 >> (setH ^ 9)) + (1 >> (setG ^ 9)) + (1 >> (setB ^ 9)) + (1 >> (setF ^ 9)));
    x.sets.ThiefOfShootingMeteor               = i32((1 >> (setH ^ 10)) + (1 >> (setG ^ 10)) + (1 >> (setB ^ 10)) + (1 >> (setF ^ 10)));
    x.sets.WastelanderOfBanditryDesert         = i32((1 >> (setH ^ 11)) + (1 >> (setG ^ 11)) + (1 >> (setB ^ 11)) + (1 >> (setF ^ 11)));
    x.sets.LongevousDisciple                   = i32((1 >> (setH ^ 12)) + (1 >> (setG ^ 12)) + (1 >> (setB ^ 12)) + (1 >> (setF ^ 12)));
    x.sets.MessengerTraversingHackerspace      = i32((1 >> (setH ^ 13)) + (1 >> (setG ^ 13)) + (1 >> (setB ^ 13)) + (1 >> (setF ^ 13)));
    x.sets.TheAshblazingGrandDuke              = i32((1 >> (setH ^ 14)) + (1 >> (setG ^ 14)) + (1 >> (setB ^ 14)) + (1 >> (setF ^ 14)));
    x.sets.PrisonerInDeepConfinement           = i32((1 >> (setH ^ 15)) + (1 >> (setG ^ 15)) + (1 >> (setB ^ 15)) + (1 >> (setF ^ 15)));
    x.sets.PioneerDiverOfDeadWaters            = i32((1 >> (setH ^ 16)) + (1 >> (setG ^ 16)) + (1 >> (setB ^ 16)) + (1 >> (setF ^ 16)));
    x.sets.WatchmakerMasterOfDreamMachinations = i32((1 >> (setH ^ 17)) + (1 >> (setG ^ 17)) + (1 >> (setB ^ 17)) + (1 >> (setF ^ 17)));
    x.sets.IronCavalryAgainstTheScourge        = i32((1 >> (setH ^ 18)) + (1 >> (setG ^ 18)) + (1 >> (setB ^ 18)) + (1 >> (setF ^ 18)));
    x.sets.TheWindSoaringValorous              = i32((1 >> (setH ^ 19)) + (1 >> (setG ^ 19)) + (1 >> (setB ^ 19)) + (1 >> (setF ^ 19)));
    x.sets.SacerdosRelivedOrdeal               = i32((1 >> (setH ^ 20)) + (1 >> (setG ^ 20)) + (1 >> (setB ^ 20)) + (1 >> (setF ^ 20)));
    x.sets.ScholarLostInErudition              = i32((1 >> (setH ^ 21)) + (1 >> (setG ^ 21)) + (1 >> (setB ^ 21)) + (1 >> (setF ^ 21)));

    // Calculate ornament set counts

    x.sets.SpaceSealingStation             = i32((1 >> (setP ^ 0)) + (1 >> (setL ^ 0)));
    x.sets.FleetOfTheAgeless               = i32((1 >> (setP ^ 1)) + (1 >> (setL ^ 1)));
    x.sets.PanCosmicCommercialEnterprise   = i32((1 >> (setP ^ 2)) + (1 >> (setL ^ 2)));
    x.sets.BelobogOfTheArchitects          = i32((1 >> (setP ^ 3)) + (1 >> (setL ^ 3)));
    x.sets.CelestialDifferentiator         = i32((1 >> (setP ^ 4)) + (1 >> (setL ^ 4)));
    x.sets.InertSalsotto                   = i32((1 >> (setP ^ 5)) + (1 >> (setL ^ 5)));
    x.sets.TaliaKingdomOfBanditry          = i32((1 >> (setP ^ 6)) + (1 >> (setL ^ 6)));
    x.sets.SprightlyVonwacq                = i32((1 >> (setP ^ 7)) + (1 >> (setL ^ 7)));
    x.sets.RutilantArena                   = i32((1 >> (setP ^ 8)) + (1 >> (setL ^ 8)));
    x.sets.BrokenKeel                      = i32((1 >> (setP ^ 9)) + (1 >> (setL ^ 9)));
    x.sets.FirmamentFrontlineGlamoth       = i32((1 >> (setP ^ 10)) + (1 >> (setL ^ 10)));
    x.sets.PenaconyLandOfTheDreams         = i32((1 >> (setP ^ 11)) + (1 >> (setL ^ 11)));
    x.sets.SigoniaTheUnclaimedDesolation   = i32((1 >> (setP ^ 12)) + (1 >> (setL ^ 12)));
    x.sets.IzumoGenseiAndTakamaDivineRealm = i32((1 >> (setP ^ 13)) + (1 >> (setL ^ 13)));
    x.sets.DuranDynastyOfRunningWolves     = i32((1 >> (setP ^ 14)) + (1 >> (setL ^ 14)));
    x.sets.ForgeOfTheKalpagniLantern       = i32((1 >> (setP ^ 15)) + (1 >> (setL ^ 15)));
    x.sets.LushakaTheSunkenSeas            = i32((1 >> (setP ^ 16)) + (1 >> (setL ^ 16)));
    x.sets.TheWondrousBananAmusementPark   = i32((1 >> (setP ^ 17)) + (1 >> (setL ^ 17)));

    var c: BasicStats = BasicStats();
    var state: ConditionalState = ConditionalState();

    // Calculate relic stat sums

    // NOTE: Performance is worse if we don't add elemental dmg from head/hands/body/feet/rope

    c.HP_P  = head.HP_P + hands.HP_P + body.HP_P + feet.HP_P + planarSphere.HP_P + linkRope.HP_P;
    c.ATK_P = head.ATK_P + hands.ATK_P + body.ATK_P + feet.ATK_P + planarSphere.ATK_P + linkRope.ATK_P;
    c.DEF_P = head.DEF_P + hands.DEF_P + body.DEF_P + feet.DEF_P + planarSphere.DEF_P + linkRope.DEF_P;
    c.SPD_P = head.SPD_P + hands.SPD_P + body.SPD_P + feet.SPD_P + planarSphere.SPD_P + linkRope.SPD_P;
    c.HP  = epsilon + head.HP + hands.HP + body.HP + feet.HP + planarSphere.HP + linkRope.HP;
    c.ATK = epsilon + head.ATK + hands.ATK + body.ATK + feet.ATK + planarSphere.ATK + linkRope.ATK;
    c.DEF = epsilon + head.DEF + hands.DEF + body.DEF + feet.DEF + planarSphere.DEF + linkRope.DEF;
    c.SPD = epsilon + head.SPD + hands.SPD + body.SPD + feet.SPD + planarSphere.SPD + linkRope.SPD;
    c.CR  = epsilon + head.CR + hands.CR + body.CR + feet.CR + planarSphere.CR + linkRope.CR;
    c.CD  = epsilon + head.CD + hands.CD + body.CD + feet.CD + planarSphere.CD + linkRope.CD;
    c.EHR = epsilon + head.EHR + hands.EHR + body.EHR + feet.EHR + planarSphere.EHR + linkRope.EHR;
    c.RES = epsilon + head.RES + hands.RES + body.RES + feet.RES + planarSphere.RES + linkRope.RES;
    c.BE  = epsilon + head.BE + hands.BE + body.BE + feet.BE + planarSphere.BE + linkRope.BE;
    c.ERR = epsilon + head.ERR + hands.ERR + body.ERR + feet.ERR + planarSphere.ERR + linkRope.ERR;
    c.OHB = epsilon + head.OHB + hands.OHB + body.OHB + feet.OHB + planarSphere.OHB + linkRope.OHB;
    c.Physical_DMG  = epsilon + head.Physical_DMG + hands.Physical_DMG + body.Physical_DMG + feet.Physical_DMG + planarSphere.Physical_DMG + linkRope.Physical_DMG;
    c.Fire_DMG      = epsilon + head.Fire_DMG + hands.Fire_DMG + body.Fire_DMG + feet.Fire_DMG + planarSphere.Fire_DMG + linkRope.Fire_DMG;
    c.Ice_DMG       = epsilon + head.Ice_DMG + hands.Ice_DMG + body.Ice_DMG + feet.Ice_DMG + planarSphere.Ice_DMG + linkRope.Ice_DMG;
    c.Lightning_DMG = epsilon + head.Lightning_DMG + hands.Lightning_DMG + body.Lightning_DMG + feet.Lightning_DMG + planarSphere.Lightning_DMG + linkRope.Lightning_DMG;
    c.Wind_DMG      = epsilon + head.Wind_DMG + hands.Wind_DMG + body.Wind_DMG + feet.Wind_DMG + planarSphere.Wind_DMG + linkRope.Wind_DMG;
    c.Quantum_DMG   = epsilon + head.Quantum_DMG + hands.Quantum_DMG + body.Quantum_DMG + feet.Quantum_DMG + planarSphere.Quantum_DMG + linkRope.Quantum_DMG;
    c.Imaginary_DMG = epsilon + head.Imaginary_DMG + hands.Imaginary_DMG + body.Imaginary_DMG + feet.Imaginary_DMG + planarSphere.Imaginary_DMG + linkRope.Imaginary_DMG;

    // Calculate basic stats

    c.HP  += (baseHP) * (1 + c.HP_P + traceHP_P + lcHP_P) + traceHP;
    c.DEF += (baseDEF) * (1 + c.DEF_P + traceDEF_P + lcDEF_P) + traceDEF;
    c.ATK += (baseATK) * (1 + c.ATK_P + traceATK_P + lcATK_P) + traceATK;
    c.SPD += (baseSPD) * (1 + c.SPD_P + traceSPD_P + lcSPD_P) + traceSPD;
    c.CR  += characterCR + lcCR + traceCR;
    c.CD  += characterCD + lcCD + traceCD;
    c.EHR += characterEHR + lcEHR + traceEHR;
    c.RES += characterRES + lcRES + traceRES;
    c.BE  += characterBE + lcBE + traceBE;
    c.ERR += characterERR + lcERR + traceERR;
    c.OHB += characterOHB + lcOHB + traceOHB;
    c.Physical_DMG  += tracePhysical_DMG + 0.10 * p2(x.sets.ChampionOfStreetwiseBoxing);
    c.Fire_DMG      += traceFire_DMG + 0.10 * p2(x.sets.FiresmithOfLavaForging);
    c.Ice_DMG       += traceIce_DMG + 0.10 * p2(x.sets.HunterOfGlacialForest);
    c.Lightning_DMG += traceLightning_DMG + 0.10 * p2(x.sets.BandOfSizzlingThunder);
    c.Wind_DMG      += traceWind_DMG + 0.10 * p2(x.sets.EagleOfTwilightLine);
    c.Quantum_DMG   += traceQuantum_DMG + 0.10 * p2(x.sets.GeniusOfBrilliantStars);
    c.Imaginary_DMG += traceImaginary_DMG + 0.10 * p2(x.sets.WastelanderOfBanditryDesert);

    // Calculate set effects

    c.SPD += (baseSPD) * (
      0.06 * p2(x.sets.MessengerTraversingHackerspace) +
      0.06 * p2(x.sets.ForgeOfTheKalpagniLantern) +
      0.06 * p4(x.sets.MusketeerOfWildWheat) +
      0.06 * p2(x.sets.SacerdosRelivedOrdeal)
    );

    c.HP += (baseHP) * (
      0.12 * p2(x.sets.FleetOfTheAgeless) +
      0.12 * p2(x.sets.LongevousDisciple)
    );

    c.ATK += (baseATK) * (
      0.12 * p2(x.sets.SpaceSealingStation) +
      0.12 * p2(x.sets.FirmamentFrontlineGlamoth) +
      0.12 * p2(x.sets.MusketeerOfWildWheat) +
      0.12 * p2(x.sets.PrisonerInDeepConfinement) +
      0.12 * p2(x.sets.IzumoGenseiAndTakamaDivineRealm) +
      0.12 * p2(x.sets.TheWindSoaringValorous)
    );

    c.DEF += (baseDEF) * (
      0.15 * p2(x.sets.BelobogOfTheArchitects) +
      0.15 * p2(x.sets.KnightOfPurityPalace)
    );

    c.CR += (
      0.08 * p2(x.sets.InertSalsotto) +
      0.08 * p2(x.sets.RutilantArena) +
      0.04 * p4(x.sets.PioneerDiverOfDeadWaters) +
      0.04 * p2(x.sets.SigoniaTheUnclaimedDesolation) +
      0.06 * p4(x.sets.TheWindSoaringValorous) +
      0.08 * p2(x.sets.ScholarLostInErudition)
    );

    c.CD += (
      0.16 * p2(x.sets.CelestialDifferentiator) +
      0.16 * p2(x.sets.TheWondrousBananAmusementPark)
    );

    c.EHR += (
      0.10 * p2(x.sets.PanCosmicCommercialEnterprise)
    );

    c.RES += (
      0.10 * p2(x.sets.BrokenKeel)
    );

    c.BE += (
      0.16 * p2(x.sets.TaliaKingdomOfBanditry) +
      0.16 * p2(x.sets.ThiefOfShootingMeteor) +
      0.16 * p4(x.sets.ThiefOfShootingMeteor) +
      0.16 * p2(x.sets.WatchmakerMasterOfDreamMachinations) +
      0.16 * p2(x.sets.IronCavalryAgainstTheScourge)
    );

    c.ERR += (
      0.05 * p2(x.sets.SprightlyVonwacq) +
      0.05 * p2(x.sets.PenaconyLandOfTheDreams) +
      0.05 * p2(x.sets.LushakaTheSunkenSeas)
    );

    c.OHB += (
      0.10 * p2(x.sets.PasserbyOfWanderingCloud)
    );

    // Add base to computed

    x.ATK += c.ATK + combatBuffsATK + combatBuffsATK_P * baseATK;
    x.DEF += c.DEF + combatBuffsDEF + combatBuffsDEF_P * baseDEF;
    x.HP  += c.HP   + combatBuffsHP  + combatBuffsHP_P  * baseHP;
    x.SPD += c.SPD + combatBuffsSPD + combatBuffsSPD_P * baseSPD;
    x.CD  += c.CD   + combatBuffsCD;
    x.CR  += c.CR   + combatBuffsCR;
    x.EHR += c.EHR;
    x.RES += c.RES;
    x.BE  += c.BE   + combatBuffsBE;
    x.ERR += c.ERR;
    x.OHB += c.OHB;

    addElementalDmg(&c, &x);
    x.WEIGHT = epsilon + head.weightScore + hands.weightScore + body.weightScore + feet.weightScore + planarSphere.weightScore + linkRope.weightScore;

    x.ELEMENTAL_DMG += combatBuffsDMG_BOOST;
    x.EFFECT_RES_PEN += combatBuffsEFFECT_RES_PEN;
    x.VULNERABILITY += combatBuffsVULNERABILITY;
    x.BREAK_EFFICIENCY_BOOST += combatBuffsBREAK_EFFICIENCY;

    // ATK

    if (p4(x.sets.MessengerTraversingHackerspace) >= 1 && enabledMessengerTraversingHackerspace == 1) {
      x.SPD_P += 0.12;
    }

    // DEF

    if (p4(x.sets.ChampionOfStreetwiseBoxing) >= 1) {
      x.ATK_P += 0.05 * f32(valueChampionOfStreetwiseBoxing);
    }
    if (p4(x.sets.BandOfSizzlingThunder) >= 1 && enabledBandOfSizzlingThunder == 1) {
      x.ATK_P += 0.20;
    }
    if (p4(x.sets.TheAshblazingGrandDuke) >= 1) {
      x.ATK_P += 0.06 * f32(valueTheAshblazingGrandDuke);
    }

    // DEF


    // HP


    // CD

    if (p4(x.sets.HunterOfGlacialForest) >= 1 && enabledHunterOfGlacialForest == 1) {
      x.CD += 0.25;
    }
    if (p4(x.sets.WastelanderOfBanditryDesert) >= 1 && valueWastelanderOfBanditryDesert == 2) {
      x.CD += 0.10;
    }
    if (p4(x.sets.PioneerDiverOfDeadWaters) >= 1) {
      x.CD += getPioneerSetCd(valuePioneerDiverOfDeadWaters);
    }
    if (p2(x.sets.SigoniaTheUnclaimedDesolation) >= 1) {
      x.CD += 0.04 * f32(valueSigoniaTheUnclaimedDesolation);
    }
    if (p2(x.sets.DuranDynastyOfRunningWolves) >= 1 && valueDuranDynastyOfRunningWolves >= 5) {
      x.CD += 0.25;
    }
    if (p2(x.sets.TheWondrousBananAmusementPark) >= 1 && enabledTheWondrousBananAmusementPark == 1) {
      x.CD += 0.32;
    }

    // CR

    if (p4(x.sets.WastelanderOfBanditryDesert) >= 1 && valueWastelanderOfBanditryDesert > 0) {
      x.CR += 0.10;
    }
    if (p4(x.sets.LongevousDisciple) >= 1) {
      x.CR += 0.08 * f32(valueLongevousDisciple);
    }
    if (p4(x.sets.PioneerDiverOfDeadWaters) >= 1 && valuePioneerDiverOfDeadWaters > 2) {
      x.CR += 0.04;
    }
    if (p2(x.sets.IzumoGenseiAndTakamaDivineRealm) >= 1 && enabledIzumoGenseiAndTakamaDivineRealm == 1) {
      x.CR += 0.12;
    }

    // BE

    if (p4(x.sets.WatchmakerMasterOfDreamMachinations) >= 1 && enabledWatchmakerMasterOfDreamMachinations == 1) {
      x.BE += 0.30;
    }
    if (p2(x.sets.ForgeOfTheKalpagniLantern) >= 1 && enabledForgeOfTheKalpagniLantern == 1) {
      x.BE += 0.40;
    }

    // Buffs

    // Basic boost
    if (p4(x.sets.MusketeerOfWildWheat) >= 1) {
      buffAbilityDmg(&x, BASIC_TYPE, 0.10, 1);
    }

    // Skill boost
    if (p4(x.sets.FiresmithOfLavaForging) >= 1) {
      buffAbilityDmg(&x, SKILL_TYPE, 0.12, 1);
    }

    // Fua boost
    if (p2(x.sets.TheAshblazingGrandDuke) >= 1) {
      buffAbilityDmg(&x, FUA_TYPE, 0.20, 1);
    }
    if (p2(x.sets.DuranDynastyOfRunningWolves) >= 1) {
      buffAbilityDmg(&x, FUA_TYPE, 0.05 * f32(valueDuranDynastyOfRunningWolves), 1);
    }

    // Ult boost
    if (p4(x.sets.TheWindSoaringValorous) >= 1) {
      buffAbilityDmg(&x, ULT_TYPE, 0.36 * f32(enabledTheWindSoaringValorous), 1);
    }

    if (p4(x.sets.ScholarLostInErudition) >= 1) {
      buffAbilityDmg(&x, SKILL_TYPE | ULT_TYPE, 0.20, 1);

      if (f32(enabledScholarLostInErudition) >= 1.0) {
        buffAbilityDmg(&x, SKILL_TYPE, 0.25, 1);
      }
    }

    //

    if (p4(x.sets.GeniusOfBrilliantStars) >= 1) {
      if (enabledGeniusOfBrilliantStars == 1) {
        x.DEF_PEN += 0.20;
      } else {
        x.DEF_PEN += 0.10;
      }
    }

    if (p4(x.sets.PrisonerInDeepConfinement) >= 1) {
      x.DEF_PEN += 0.06 * f32(valuePrisonerInDeepConfinement);
    }

    if (p2(x.sets.PioneerDiverOfDeadWaters) >= 1 && valuePioneerDiverOfDeadWaters >= 0) {
      x.ELEMENTAL_DMG += 0.12;
    }

    if (p2(x.sets.FiresmithOfLavaForging) >= 1 && enabledFiresmithOfLavaForging == 1) {
      x.Fire_DMG += 0.12;
    }

    // Set effects

    // Dynamic stat conditionals

    x.ATK += x.ATK_P * baseATK;
    x.DEF += x.DEF_P * baseDEF;
    x.HP += x.HP_P * baseHP;
    x.SPD += x.SPD_P * baseSPD;

    let p_x = &x;
    let p_state = &state;

    evaluateDependenciesSPD(p_x, p_state);
    evaluateDependenciesBE(p_x, p_state);

    evaluateDependenciesHP(p_x, p_state);
    evaluateDependenciesATK(p_x, p_state);
    evaluateDependenciesDEF(p_x, p_state);
    evaluateDependenciesCR(p_x, p_state);
    evaluateDependenciesCD(p_x, p_state);
    evaluateDependenciesEHR(p_x, p_state);
    evaluateDependenciesRES(p_x, p_state);
    evaluateDependenciesOHB(p_x, p_state);
    evaluateDependenciesERR(p_x, p_state);

    evaluateDependenciesSPD(p_x, p_state);
    evaluateDependenciesBE(p_x, p_state);

    evaluateDependenciesHP(p_x, p_state);
    evaluateDependenciesATK(p_x, p_state);
    evaluateDependenciesDEF(p_x, p_state);
    evaluateDependenciesCR(p_x, p_state);
    evaluateDependenciesCD(p_x, p_state);
    evaluateDependenciesEHR(p_x, p_state);
    evaluateDependenciesRES(p_x, p_state);
    evaluateDependenciesOHB(p_x, p_state);
    evaluateDependenciesERR(p_x, p_state);


    // START LIGHT CONE CONDITIONALS
    // ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼
    /* INJECT LIGHT CONE CONDITIONALS */
    // ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
    // END LIGHT CONE CONDITIONALS




    // START CHARACTER CONDITIONALS
    // ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼
    /* INJECT CHARACTER CONDITIONALS */
    // ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
    // END CHARACTER CONDITIONALS


    // Calculate damage
    let cLevel: f32 = 80;
    let eLevel: f32 = f32(enemyLevel);
    let defReduction: f32 = x.DEF_PEN + combatBuffsDEF_PEN;
    let defIgnore: f32 = 0.0;

    addComputedElementalDmg(&x);

    let dmgBoostMultiplier: f32 = 1 + x.ELEMENTAL_DMG;
    let dmgReductionMultiplier: f32 = 1;

    let ehp: f32 = x.HP / (1 - x.DEF / (x.DEF + 200 + 10 * eLevel)) * (1 / ((1 - 0.08 * p2(x.sets.GuardOfWutheringSnow)) * x.DMG_RED_MULTI));
    x.EHP = ehp;

    let brokenMultiplier = 0.9 + x.ENEMY_WEAKNESS_BROKEN * 0.1;

    let universalMulti = dmgReductionMultiplier * brokenMultiplier;
    let baseResistance = resistance - x.RES_PEN - getElementalResPen(&x);

    let ULT_CD = select(x.CD + x.ULT_CD_BOOST, x.ULT_CD_OVERRIDE, x.ULT_CD_OVERRIDE > 0);

    let breakVulnerability = 1.0 + x.VULNERABILITY + x.BREAK_VULNERABILITY;
    let basicVulnerability = 1.0 + x.VULNERABILITY + x.BASIC_VULNERABILITY;
    let skillVulnerability = 1.0 + x.VULNERABILITY + x.SKILL_VULNERABILITY;
    let ultVulnerability = 1.0 + x.VULNERABILITY + x.ULT_VULNERABILITY * x.ULT_BOOSTS_MULTI;
    let fuaVulnerability = 1.0 + x.VULNERABILITY + x.FUA_VULNERABILITY;
    let dotVulnerability = 1.0 + x.VULNERABILITY + x.DOT_VULNERABILITY;

    let ENEMY_EFFECT_RES = enemyEffectResistance;

    // For stacking dots where the first stack has extra value
    // c = dot chance, s = stacks => avg dmg = (full dmg) * (1 + 0.05 * c * (s-1)) / (1 + 0.05 * (s-1))
    let effectiveDotChance = min(1, x.DOT_CHANCE * (1 + x.EHR) * (1 - ENEMY_EFFECT_RES + x.EFFECT_RES_PEN));
    let dotEhrMultiplier = select(effectiveDotChance, (1 + x.DOT_SPLIT * effectiveDotChance * (x.DOT_STACKS - 1)) / (1 + 0.05 * (x.DOT_STACKS - 1)), x.DOT_SPLIT > 0);

    // BREAK
    let maxToughness = enemyMaxToughness;

    x.BREAK_DMG
      = universalMulti
      * 3767.5533
      * ELEMENTAL_BREAK_SCALING
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.BREAK_DEF_PEN)
      * (0.5 + maxToughness / 120)
      * breakVulnerability
      * (1.0 - baseResistance)
      * (1.0 + x.BE);

    let SUPER_BREAK_DMG
      = universalMulti
      * 3767.5533
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.BREAK_DEF_PEN + x.SUPER_BREAK_DEF_PEN)
      * breakVulnerability
      * (1.0 - baseResistance)
      * (1.0 + x.BE)
      * (x.SUPER_BREAK_MODIFIER + x.SUPER_BREAK_HMC_MODIFIER)
      * (1.0 / 30.0)
      * (1.0 + x.BREAK_EFFICIENCY_BOOST);

    let BASIC_SUPER_BREAK_DMG
      = universalMulti
      * 3767.5533
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.BREAK_DEF_PEN + x.SUPER_BREAK_DEF_PEN)
      * breakVulnerability
      * (1.0 - baseResistance)
      * (1.0 + x.BE)
      * (x.BASIC_SUPER_BREAK_MODIFIER + x.SUPER_BREAK_HMC_MODIFIER)
      * (1.0 / 30.0)
      * (1.0 + x.BREAK_EFFICIENCY_BOOST);

    let ACTUAL_BASIC_SUPER_BREAK_DMG = select(SUPER_BREAK_DMG, BASIC_SUPER_BREAK_DMG, BASIC_SUPER_BREAK_DMG > 0);

    x.BASIC_DMG
      = x.BASIC_DMG
      * universalMulti
      * (dmgBoostMultiplier + x.BASIC_BOOST)
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.BASIC_DEF_PEN)
      * ((basicVulnerability) * min(1, x.CR + x.BASIC_CR_BOOST) * (1.0 + x.CD + x.BASIC_CD_BOOST) + basicVulnerability * (1.0 - min(1.0, x.CR + x.BASIC_CR_BOOST)))
      * (1.0 - (baseResistance - x.BASIC_RES_PEN))
      * (1.0 + x.BASIC_ORIGINAL_DMG_BOOST)
      + (x.BASIC_BREAK_DMG_MODIFIER * x.BREAK_DMG)
      + (ACTUAL_BASIC_SUPER_BREAK_DMG * x.BASIC_TOUGHNESS_DMG * (1.0 + x.BASIC_BREAK_EFFICIENCY_BOOST));

    x.SKILL_DMG
      = x.SKILL_DMG
      * universalMulti
      * (dmgBoostMultiplier + x.SKILL_BOOST)
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.SKILL_DEF_PEN)
      * ((skillVulnerability) * min(1.0, x.CR + x.SKILL_CR_BOOST) * (1.0 + x.CD + x.SKILL_CD_BOOST) + skillVulnerability * (1.0 - min(1.0, x.CR + x.SKILL_CR_BOOST)))
      * (1.0 - (baseResistance - x.SKILL_RES_PEN))
      * (1.0 + x.SKILL_ORIGINAL_DMG_BOOST)
      + (SUPER_BREAK_DMG * x.SKILL_TOUGHNESS_DMG);

    x.ULT_DMG
      = x.ULT_DMG
      * universalMulti
      * (dmgBoostMultiplier + x.ULT_BOOST * x.ULT_BOOSTS_MULTI)
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.ULT_DEF_PEN * x.ULT_BOOSTS_MULTI)
      * ((ultVulnerability) * min(1.0, x.CR + x.ULT_CR_BOOST) * (1.0 + ULT_CD) + ultVulnerability * (1.0 - min(1, x.CR + x.ULT_CR_BOOST)))
      * (1 - (baseResistance - x.ULT_RES_PEN * x.ULT_BOOSTS_MULTI))
      * (1 + x.ULT_ORIGINAL_DMG_BOOST)
      + (SUPER_BREAK_DMG * x.ULT_TOUGHNESS_DMG * (1.0 + x.ULT_BREAK_EFFICIENCY_BOOST));

    x.FUA_DMG
      = x.FUA_DMG
      * universalMulti
      * (dmgBoostMultiplier + x.FUA_BOOST)
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.FUA_DEF_PEN)
      * ((fuaVulnerability) * min(1.0, x.CR + x.FUA_CR_BOOST) * (1.0 + x.CD + x.FUA_CD_BOOST) + fuaVulnerability * (1.0 - min(1.0, x.CR + x.FUA_CR_BOOST)))
      * (1.0 - (baseResistance - x.FUA_RES_PEN))
      + (SUPER_BREAK_DMG * x.FUA_TOUGHNESS_DMG);

    x.DOT_DMG
      = x.DOT_DMG
      * universalMulti
      * (dmgBoostMultiplier + x.DOT_BOOST)
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.DOT_DEF_PEN)
      * dotVulnerability
      * (1.0 - (baseResistance - x.DOT_RES_PEN))
      * dotEhrMultiplier;

    x.COMBO_DMG
      = BASIC_COMBO * x.BASIC_DMG
      + SKILL_COMBO * x.SKILL_DMG
      + ULT_COMBO * x.ULT_DMG
      + FUA_COMBO * x.FUA_DMG
      + DOT_COMBO * x.DOT_DMG
      + BREAK_COMBO * x.BREAK_DMG;


    // START COMBAT STAT FILTERS
    // ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼
    /* INJECT COMBAT STAT FILTERS */
    // ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
    // END COMBAT STAT FILTERS



    // START BASIC STAT FILTERS
    // ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼
    /* INJECT BASIC STAT FILTERS */
    // ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
    // END BASIC STAT FILTERS



    // START RETURN VALUE
    // ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼
    /* INJECT RETURN VALUE */
    // ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
    // END RETURN VALUE
  }
}

fn p2(n: i32) -> f32 {
  return f32(min(1, n >> 1));
}
fn p4(n: i32) -> f32 {
  return f32(n >> 2);
}

fn calculateDefMultiplier(cLevel: f32, eLevel: f32, defReduction: f32, defIgnore: f32, additionalPen: f32) -> f32 {
  return (cLevel + 20.0f) / ((eLevel + 20.0f) * max(0.0f, 1.0f - defReduction - defIgnore - additionalPen) + cLevel + 20.0f);
}

fn buffAbilityDmg(
  p_x: ptr<function, ComputedStats>,
  abilityTypeFlags: i32,
  value: f32,
  condition: i32
) {
  if ((abilityTypeFlags & i32((*p_x).BASIC_DMG_TYPE)) != 0) {
    (*p_x).BASIC_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SKILL_DMG_TYPE)) != 0) {
    (*p_x).SKILL_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ULT_DMG_TYPE)) != 0) {
    (*p_x).ULT_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).FUA_DMG_TYPE)) != 0) {
    (*p_x).FUA_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).DOT_DMG_TYPE)) != 0) {
    (*p_x).DOT_BOOST += value;
  }
}

fn buffAbilityCr(
  p_x: ptr<function, ComputedStats>,
  abilityTypeFlags: i32,
  value: f32,
  condition: i32
) {
  if ((abilityTypeFlags & i32((*p_x).BASIC_DMG_TYPE)) != 0) {
    (*p_x).BASIC_CR_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SKILL_DMG_TYPE)) != 0) {
    (*p_x).SKILL_CR_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ULT_DMG_TYPE)) != 0) {
    (*p_x).ULT_CR_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).FUA_DMG_TYPE)) != 0) {
    (*p_x).FUA_CR_BOOST += value;
  }
}

fn buffAbilityCd(
  p_x: ptr<function, ComputedStats>,
  abilityTypeFlags: i32,
  value: f32,
  condition: i32
) {
  if ((abilityTypeFlags & i32((*p_x).BASIC_DMG_TYPE)) != 0) {
    (*p_x).BASIC_CD_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SKILL_DMG_TYPE)) != 0) {
    (*p_x).SKILL_CD_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ULT_DMG_TYPE)) != 0) {
    (*p_x).ULT_CD_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).FUA_DMG_TYPE)) != 0) {
    (*p_x).FUA_CD_BOOST += value;
  }
}

fn buffAbilityDefShred(
  p_x: ptr<function, ComputedStats>,
  abilityTypeFlags: i32,
  value: f32,
  condition: i32
) {
  if (condition == 0) {
    return;
  }
  if ((abilityTypeFlags & i32((*p_x).BASIC_DMG_TYPE)) != 0) {
    (*p_x).BASIC_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SKILL_DMG_TYPE)) != 0) {
    (*p_x).SKILL_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ULT_DMG_TYPE)) != 0) {
    (*p_x).ULT_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).FUA_DMG_TYPE)) != 0) {
    (*p_x).FUA_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).DOT_DMG_TYPE)) != 0) {
    (*p_x).DOT_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).BREAK_DMG_TYPE)) != 0) {
    (*p_x).BREAK_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SUPER_BREAK_DMG_TYPE)) != 0) {
    (*p_x).SUPER_BREAK_DEF_PEN += value;
  }
}

fn buffAbilityVulnerability(
  p_x: ptr<function, ComputedStats>,
  abilityTypeFlags: i32,
  value: f32,
  condition: i32
) {
  if (condition == 0) {
    return;
  }
  if ((abilityTypeFlags & i32((*p_x).BASIC_DMG_TYPE)) != 0) {
    (*p_x).BASIC_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SKILL_DMG_TYPE)) != 0) {
    (*p_x).SKILL_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ULT_DMG_TYPE)) != 0) {
    (*p_x).ULT_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).FUA_DMG_TYPE)) != 0) {
    (*p_x).FUA_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).DOT_DMG_TYPE)) != 0) {
    (*p_x).DOT_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).BREAK_DMG_TYPE)) != 0) {
    (*p_x).BREAK_VULNERABILITY += value;
  }
}

fn addElementalDmg(
  c_x: ptr<function, BasicStats>,
  p_x: ptr<function, ComputedStats>,
) {
  switch (ELEMENT_INDEX) {
    case 0: {
      (*p_x).ELEMENTAL_DMG += (*c_x).Physical_DMG;
    }
    case 1: {
      (*p_x).ELEMENTAL_DMG += (*c_x).Fire_DMG;
    }
    case 2: {
      (*p_x).ELEMENTAL_DMG += (*c_x).Ice_DMG;
    }
    case 3: {
      (*p_x).ELEMENTAL_DMG += (*c_x).Lightning_DMG;
    }
    case 4: {
      (*p_x).ELEMENTAL_DMG += (*c_x).Wind_DMG;
    }
    case 5: {
      (*p_x).ELEMENTAL_DMG += (*c_x).Quantum_DMG;
    }
    case 6: {
      (*p_x).ELEMENTAL_DMG += (*c_x).Imaginary_DMG;
    }
    default: {

    }
  }
}

fn addComputedElementalDmg(
  p_x: ptr<function, ComputedStats>,
) {
  switch (ELEMENT_INDEX) {
    case 0: {
      (*p_x).ELEMENTAL_DMG += (*p_x).Physical_DMG;
    }
    case 1: {
      (*p_x).ELEMENTAL_DMG += (*p_x).Fire_DMG;
    }
    case 2: {
      (*p_x).ELEMENTAL_DMG += (*p_x).Ice_DMG;
    }
    case 3: {
      (*p_x).ELEMENTAL_DMG += (*p_x).Lightning_DMG;
    }
    case 4: {
      (*p_x).ELEMENTAL_DMG += (*p_x).Wind_DMG;
    }
    case 5: {
      (*p_x).ELEMENTAL_DMG += (*p_x).Quantum_DMG;
    }
    case 6: {
      (*p_x).ELEMENTAL_DMG += (*p_x).Imaginary_DMG;
    }
    default: {

    }
  }
}

fn getElementalResPen(
  p_x: ptr<function, ComputedStats>,
) -> f32 {
  switch (ELEMENT_INDEX) {
    case 0: {
      return (*p_x).PHYSICAL_RES_PEN;
    }
    case 1: {
      return (*p_x).FIRE_RES_PEN;
    }
    case 2: {
      return (*p_x).ICE_RES_PEN;
    }
    case 3: {
      return (*p_x).LIGHTNING_RES_PEN;
    }
    case 4: {
      return (*p_x).WIND_RES_PEN;
    }
    case 5: {
      return (*p_x).QUANTUM_RES_PEN;
    }
    case 6: {
      return (*p_x).IMAGINARY_RES_PEN;
    }
    default: {
      return 0;
    }
  }
}

fn getPioneerSetCd(
  index: i32,
) -> f32 {
  switch (index) {
    case 4: {
      return 0.24;
    }
    case 3: {
      return 0.16;
    }
    case 2: {
      return 0.12;
    }
    case 1: {
      return 0.08;
    }
    default: {
      return 0.0;
    }
  }
}

fn calculateAshblazingSet(
  p_x: ptr<function, ComputedStats>,
  p_state: ptr<function, ConditionalState>,
  hitMulti: f32,
) -> f32 {
  if (p4((*p_x).sets.TheAshblazingGrandDuke) >= 1) {
    let ashblazingAtk = 0.06 * f32(valueTheAshblazingGrandDuke) * baseATK;
    let ashblazingMulti = hitMulti * baseATK;

    return ashblazingMulti - ashblazingAtk;
  }

  return 0;
}
`;function vh(t,a,i){return t+=Ah(a),t+=xs(a.character.base,"character"),t+=xs(a.character.lightCone,"lc"),t+=xs(a.character.traces,"trace"),t+=wh(),t+=Jh(a),t+=jh(i),t+=`
`,t}function wh(){return`
const baseHP = characterHP + lcHP;
const baseATK = characterATK + lcATK;
const baseDEF = characterDEF + lcDEF;
const baseSPD = characterSPD + lcSPD;
  `}function Ah(t){let a=`
`;for(const[i,l]of Object.entries(t))i.startsWith("enabled")&&(a+=`const ${i}: i32 = ${l?1:0};
`),i.startsWith("value")&&(a+=`const ${i}: i32 = ${l};
`);return a}function jh(t){let a=`
`;a+=`const statDisplay: i32 = ${t.statDisplay=="combat"?0:1};
`,a+=`
`,a+=`const BASIC_COMBO: f32 = ${t.combo.BASIC};
`,a+=`const SKILL_COMBO: f32 = ${t.combo.SKILL};
`,a+=`const ULT_COMBO: f32 = ${t.combo.ULT};
`,a+=`const FUA_COMBO: f32 = ${t.combo.FUA};
`,a+=`const DOT_COMBO: f32 = ${t.combo.DOT};
`,a+=`const BREAK_COMBO: f32 = ${t.combo.BREAK};
`,a+=`
`,a+=`const enemyCount: i32 = ${t.enemyCount};
`,a+=`const enemyElementalWeak: i32 = ${t.enemyElementalWeak?1:0};
`,a+=`const enemyLevel: i32 = ${t.enemyLevel};
`,a+=`const enemyMaxToughness: f32 = ${t.enemyMaxToughness};
`,a+=`const enemyResistance: f32 = ${t.enemyResistance};
`,a+=`const enemyEffectResistance: f32 = ${t.enemyEffectResistance};
`,a+=`const enemyWeaknessBroken: i32 = ${t.enemyWeaknessBroken?1:0};
`,a+=`
`,a+=`const resistance: f32 = ${(t.enemyElementalWeak?0:t.enemyResistance)-t.combatBuffs.RES_PEN};
`,a+=`
`;for(const[i,l]of Object.entries(t))(i.startsWith("min")||i.startsWith("max"))&&(a+=`const ${i}: f32 = ${l};
`);a+=`
`;for(const[i,l]of Object.entries(t.combatBuffs))a+=`const combatBuffs${i}: f32 = ${l};
`;return a+=`
`,a+=`const e: i32 = ${t.characterEidolon};
`,a+=`
`,a}function Jh(t){let a=`
`;return a+=`const ELEMENT_INDEX: i32 = ${Qh[t.ELEMENTAL_DMG_TYPE]};
`,a+=`const ELEMENTAL_BREAK_SCALING: f32 = ${t.ELEMENTAL_BREAK_SCALING};
`,a}function xs(t,a){let i=`
`;for(const[l,s]of Object.entries(Oh))i+=`const ${a}${l}: f32 = ${t[s]};
`;return i}const Oh={HP_P:e.HP_P,ATK_P:e.ATK_P,DEF_P:e.DEF_P,SPD_P:e.SPD_P,HP:e.HP,ATK:e.ATK,DEF:e.DEF,SPD:e.SPD,CR:e.CR,CD:e.CD,EHR:e.EHR,RES:e.RES,BE:e.BE,ERR:e.ERR,OHB:e.OHB,Physical_DMG:e.Physical_DMG,Fire_DMG:e.Fire_DMG,Ice_DMG:e.Ice_DMG,Lightning_DMG:e.Lightning_DMG,Wind_DMG:e.Wind_DMG,Quantum_DMG:e.Quantum_DMG,Imaginary_DMG:e.Imaginary_DMG},Qh={[e.Physical_DMG]:0,[e.Fire_DMG]:1,[e.Ice_DMG]:2,[e.Lightning_DMG]:3,[e.Wind_DMG]:4,[e.Quantum_DMG]:5,[e.Imaginary_DMG]:6};function _h(t,a,i){const l=Wa.get(a),s=ma.get(a),o=i.conditionalRegistry;return s.gpuFinalizeCalculations&&(t=t.replace("/* INJECT LIGHT CONE CONDITIONALS */",_e(s.gpuFinalizeCalculations(a,i),2))),l.gpuFinalizeCalculations&&(t=t.replace("/* INJECT CHARACTER CONDITIONALS */",_e(l.gpuFinalizeCalculations(a,i),2))),t+=$h(o,a,i),t}function Go(t){return`evaluate${t}(p_x, p_state);`}function zh(t,a){return`
fn evaluateDependencies${t}(p_x: ptr<function, ComputedStats>, p_state: ptr<function, ConditionalState>) {
${_e(a,1)}
}
  `}function qh(t,a){return`
fn evaluateNonRatioDependencies${t}(p_x: ptr<function, ComputedStats>, p_state: ptr<function, ConditionalState>) {
${_e(a,1)}
}
  `}function qe(t,a,i,l,s){let o="",c="",r="",u="",f="";return r+=t[a].map(p=>Go(p.id)).join(`
`),u+=t[a].filter(p=>!p.ratioConversion).map(p=>Go(p.id)).join(`
`),c+=t[a].map(p=>p.gpu(l,s)).join(`
`),f+=t[a].map(p=>p.id+`: f32,
`).join(""),o+=zh(i,r),o+=qh(i,u),{conditionalEvaluators:o,conditionalDefinitionsWgsl:c,conditionalStateDefinition:f}}function $h(t,a,i){let l="",s=`
`,o=`
`,c=`
`;function r(u){s+=u.conditionalEvaluators,o+=u.conditionalDefinitionsWgsl,c+=u.conditionalStateDefinition}return r(qe(t,e.HP,"HP",a,i)),r(qe(t,e.ATK,"ATK",a,i)),r(qe(t,e.DEF,"DEF",a,i)),r(qe(t,e.SPD,"SPD",a,i)),r(qe(t,e.CR,"CR",a,i)),r(qe(t,e.CD,"CD",a,i)),r(qe(t,e.EHR,"EHR",a,i)),r(qe(t,e.RES,"RES",a,i)),r(qe(t,e.BE,"BE",a,i)),r(qe(t,e.OHB,"OHB",a,i)),r(qe(t,e.ERR,"ERR",a,i)),l+=o,l+=s,l+=`
struct ConditionalState {
${_e(c,1)}
}
  `,l}function t1(t,a){const i=a.precomputedX;i.EHP=0;const l=`
    var x: ComputedStats = ComputedStats(  
      ${i[e.HP_P]}, // Stats.HP_P
      ${i[e.ATK_P]}, // Stats.ATK_P
      ${i[e.DEF_P]}, // Stats.DEF_P
      ${i[e.SPD_P]}, // Stats.SPD_P
      ${i[e.HP]}, // Stats.HP
      ${i[e.ATK]}, // Stats.ATK
      ${i[e.DEF]}, // Stats.DEF
      ${i[e.SPD]}, // Stats.SPD
      ${i[e.CR]}, // Stats.CR
      ${i[e.CD]}, // Stats.CD
      ${i[e.EHR]}, // Stats.EHR
      ${i[e.RES]}, // Stats.RES
      ${i[e.BE]}, // Stats.BE
      ${i[e.ERR]}, // Stats.ERR
      ${i[e.OHB]}, // Stats.OHB
      ${i[e.Physical_DMG]}, // Stats.Physical_DMG
      ${i[e.Fire_DMG]}, // Stats.Fire_DMG
      ${i[e.Ice_DMG]}, // Stats.Ice_DMG
      ${i[e.Lightning_DMG]}, // Stats.Lightning_DMG
      ${i[e.Wind_DMG]}, // Stats.Wind_DMG
      ${i[e.Quantum_DMG]}, // Stats.Quantum_DMG
      ${i[e.Imaginary_DMG]}, // Stats.Imaginary_DMG
      ${i.ELEMENTAL_DMG}, // ELEMENTAL_DMG
      ${i.BASIC_SCALING}, // BASIC_SCALING
      ${i.SKILL_SCALING}, // SKILL_SCALING
      ${i.ULT_SCALING}, // ULT_SCALING
      ${i.FUA_SCALING}, // FUA_SCALING
      ${i.DOT_SCALING}, // DOT_SCALING
      ${i.BASIC_CR_BOOST}, // BASIC_CR_BOOST
      ${i.SKILL_CR_BOOST}, // SKILL_CR_BOOST
      ${i.ULT_CR_BOOST}, // ULT_CR_BOOST
      ${i.FUA_CR_BOOST}, // FUA_CR_BOOST
      ${i.BASIC_CD_BOOST}, // BASIC_CD_BOOST
      ${i.SKILL_CD_BOOST}, // SKILL_CD_BOOST
      ${i.ULT_CD_BOOST}, // ULT_CD_BOOST
      ${i.FUA_CD_BOOST}, // FUA_CD_BOOST
      ${i.BASIC_BOOST}, // BASIC_BOOST
      ${i.SKILL_BOOST}, // SKILL_BOOST
      ${i.ULT_BOOST}, // ULT_BOOST
      ${i.FUA_BOOST}, // FUA_BOOST
      ${i.DOT_BOOST}, // DOT_BOOST
      ${i.VULNERABILITY}, // VULNERABILITY
      ${i.BASIC_VULNERABILITY}, // BASIC_VULNERABILITY
      ${i.SKILL_VULNERABILITY}, // SKILL_VULNERABILITY
      ${i.ULT_VULNERABILITY}, // ULT_VULNERABILITY
      ${i.FUA_VULNERABILITY}, // FUA_VULNERABILITY
      ${i.DOT_VULNERABILITY}, // DOT_VULNERABILITY
      ${i.BREAK_VULNERABILITY}, // BREAK_VULNERABILITY
      ${i.DEF_PEN}, // DEF_PEN
      ${i.BASIC_DEF_PEN}, // BASIC_DEF_PEN
      ${i.SKILL_DEF_PEN}, // SKILL_DEF_PEN
      ${i.ULT_DEF_PEN}, // ULT_DEF_PEN
      ${i.FUA_DEF_PEN}, // FUA_DEF_PEN
      ${i.DOT_DEF_PEN}, // DOT_DEF_PEN
      ${i.BREAK_DEF_PEN}, // BREAK_DEF_PEN
      ${i.SUPER_BREAK_DEF_PEN}, // SUPER_BREAK_DEF_PEN
      ${i.RES_PEN}, // RES_PEN
      ${i.PHYSICAL_RES_PEN}, // PHYSICAL_RES_PEN
      ${i.FIRE_RES_PEN}, // FIRE_RES_PEN
      ${i.ICE_RES_PEN}, // ICE_RES_PEN
      ${i.LIGHTNING_RES_PEN}, // LIGHTNING_RES_PEN
      ${i.WIND_RES_PEN}, // WIND_RES_PEN
      ${i.QUANTUM_RES_PEN}, // QUANTUM_RES_PEN
      ${i.IMAGINARY_RES_PEN}, // IMAGINARY_RES_PEN
      ${i.BASIC_RES_PEN}, // BASIC_RES_PEN
      ${i.SKILL_RES_PEN}, // SKILL_RES_PEN
      ${i.ULT_RES_PEN}, // ULT_RES_PEN
      ${i.FUA_RES_PEN}, // FUA_RES_PEN
      ${i.DOT_RES_PEN}, // DOT_RES_PEN
      ${i.BASIC_DMG}, // BASIC_DMG
      ${i.SKILL_DMG}, // SKILL_DMG
      ${i.ULT_DMG}, // ULT_DMG
      ${i.FUA_DMG}, // FUA_DMG
      ${i.DOT_DMG}, // DOT_DMG
      ${i.BREAK_DMG}, // BREAK_DMG
      ${i.COMBO_DMG}, // COMBO_DMG
      ${i.DMG_RED_MULTI}, // DMG_RED_MULTI
      ${i.EHP}, // EHP
      ${i.DOT_CHANCE}, // DOT_CHANCE
      ${i.EFFECT_RES_PEN}, // EFFECT_RES_PEN
      ${i.DOT_SPLIT}, // DOT_SPLIT
      ${i.DOT_STACKS}, // DOT_STACKS
      ${i.ENEMY_WEAKNESS_BROKEN}, // ENEMY_WEAKNESS_BROKEN
      ${i.SUPER_BREAK_MODIFIER}, // SUPER_BREAK_MODIFIER
      ${i.BASIC_SUPER_BREAK_MODIFIER}, // BASIC_SUPER_BREAK_MODIFIER
      ${i.SUPER_BREAK_HMC_MODIFIER}, // SUPER_BREAK_HMC_MODIFIER
      ${i.BASIC_TOUGHNESS_DMG}, // BASIC_TOUGHNESS_DMG
      ${i.SKILL_TOUGHNESS_DMG}, // SKILL_TOUGHNESS_DMG
      ${i.ULT_TOUGHNESS_DMG}, // ULT_TOUGHNESS_DMG
      ${i.FUA_TOUGHNESS_DMG}, // FUA_TOUGHNESS_DMG
      ${i.BASIC_ORIGINAL_DMG_BOOST}, // BASIC_ORIGINAL_DMG_BOOST
      ${i.SKILL_ORIGINAL_DMG_BOOST}, // SKILL_ORIGINAL_DMG_BOOST
      ${i.ULT_ORIGINAL_DMG_BOOST}, // ULT_ORIGINAL_DMG_BOOST
      ${i.BASIC_BREAK_DMG_MODIFIER}, // BASIC_BREAK_DMG_MODIFIER
      ${i.ULT_CD_OVERRIDE}, // ULT_CD_OVERRIDE
      ${i.ULT_BOOSTS_MULTI}, // ULT_BOOSTS_MULTI
      ${i.RATIO_BASED_HP_BUFF}, // RATIO_BASED_HP_BUFF
      ${i.RATIO_BASED_HP_P_BUFF}, // RATIO_BASED_HP_P_BUFF
      ${i.RATIO_BASED_ATK_BUFF}, // RATIO_BASED_ATK_BUFF
      ${i.RATIO_BASED_ATK_P_BUFF}, // RATIO_BASED_ATK_P_BUFF
      ${i.RATIO_BASED_DEF_BUFF}, // RATIO_BASED_DEF_BUFF
      ${i.RATIO_BASED_DEF_P_BUFF}, // RATIO_BASED_DEF_P_BUFF
      ${i.RATIO_BASED_SPD_BUFF}, // RATIO_BASED_SPD_BUFF
      ${i.RATIO_BASED_CD_BUFF}, // RATIO_BASED_CD_BUFF
      ${i.BREAK_EFFICIENCY_BOOST}, // BREAK_EFFICIENCY_BOOST
      ${i.BASIC_BREAK_EFFICIENCY_BOOST}, // BASIC_BREAK_EFFICIENCY_BOOST
      ${i.ULT_BREAK_EFFICIENCY_BOOST}, // ULT_BREAK_EFFICIENCY_BOOST
      ${i.BASIC_DMG_TYPE}, // BASIC_DMG_TYPE
      ${i.SKILL_DMG_TYPE}, // SKILL_DMG_TYPE
      ${i.ULT_DMG_TYPE}, // ULT_DMG_TYPE
      ${i.FUA_DMG_TYPE}, // FUA_DMG_TYPE
      ${i.DOT_DMG_TYPE}, // DOT_DMG_TYPE
      ${i.BREAK_DMG_TYPE}, // BREAK_DMG_TYPE
      ${i.SUPER_BREAK_DMG_TYPE}, // SUPER_BREAK_DMG_TYPE
      ${i.WEIGHT}, // WEIGHT
      Sets(),
    );
  `;return t=t.replace("/* INJECT COMPUTED STATS */",l),t}function e1(t){for(const a of["ATK","DEF","HP","SPD","CR","CD","EHR","BE","OHB","ERR"])(a=="ATK"||a=="DEF"||a=="HP"||a=="SPD")&&(t+=`
fn buffDynamic${a}_P(
  value: f32,
  p_x: ptr<function, ComputedStats>,
  p_state: ptr<function, ConditionalState>
) {
  if (value < 0.0001) {
    return;
  }
  (*p_x).${a} += value * base${a};
  evaluateDependencies${a}(p_x, p_state);
}
      `,t+=`
fn buffNonDynamic${a}_P(
  value: f32,
  p_x: ptr<function, ComputedStats>,
  p_state: ptr<function, ConditionalState>
) {
  if (value < 0.0001) {
    return;
  }
  (*p_x).${a} += value * base${a};
}
      `),t+=`
fn buffDynamic${a}(
  value: f32,
  p_x: ptr<function, ComputedStats>,
  p_state: ptr<function, ConditionalState>
) {
  if (value < 0.0001) {
    return;
  }
  (*p_x).${a} += value;
  evaluateDependencies${a}(p_x, p_state);
}
    `,t+=`
fn buffNonDynamic${a}(
  value: f32,
  p_x: ptr<function, ComputedStats>,
  p_state: ptr<function, ConditionalState>
) {
  if (value < 0.0001) {
    return;
  }
  (*p_x).${a} += value;
}
    `,t+=`
fn buffNonRatioDynamic${a}(
  value: f32,
  p_x: ptr<function, ComputedStats>,
  p_state: ptr<function, ConditionalState>
) {
  if (value < 0.0001) {
    return;
  }
  (*p_x).${a} += value;
  evaluateNonRatioDependencies${a}(p_x, p_state);
}
    `;return t}function a1(t,a,i){is(a,t),pl(a,t),Sl(a,t);let l="";return l=vh(l,t,a),l=n1(l),l=_h(l,a,t),l=t1(l,t),l=e1(l),l=o1(l,a,i),l=s1(l,a,i),l=l1(l,a,i),l=i1(l,i),l}function n1(t){return t+=`
${Kh}

${Xh}

${Yh}
  `,t}function oc(t){return a=>{const[i,l,s]=a.split(/[><]/).flatMap(r=>r.split(".")).map(r=>r.trim()),o=s.includes("min");return s.includes("max")&&t[s]==d.MAX_INT||o&&t[s]==0?"":a}}function cc(t){return _e(t.length>0?t:"false",2)}function i1(t,a){return t.replace("/* INJECT SET FILTERS */",_e(`
if (relicSetSolutionsMatrix[relicSetIndex] < 1 || ornamentSetSolutionsMatrix[ornamentSetIndex] < 1) {
  results[index] = ${a.DEBUG?"ComputedStats()":"-failures; failures = failures + 1"};
  continue;
}
  `,2))}function s1(t,a,i){const l=v[a.resultSort].gpuProperty,s=v[a.resultSort].isComputedRating,o=oc(a),c=s?`x.${l} < threshold`:`c.${l} < threshold`,r=[o("c.SPD < minSpd"),o("c.SPD > maxSpd"),o("c.HP  < minHp"),o("c.HP  > maxHp"),o("c.ATK < minAtk"),o("c.ATK > maxAtk"),o("c.DEF < minDef"),o("c.DEF > maxDef"),o("c.CR  < minCr"),o("c.CR  > maxCr"),o("c.CD  < minCd"),o("c.CD  > maxCd"),o("c.EHR < minEhr"),o("c.EHR > maxEhr"),o("c.RES < minRes"),o("c.RES > maxRes"),o("c.BE  < minBe"),o("c.BE  > maxBe"),o("c.ERR < minErr"),o("c.ERR > maxErr"),o(c)].filter(u=>u.length>0).join(` ||
`);return t=t.replace("/* INJECT BASIC STAT FILTERS */",_e(`
if (statDisplay == 1) {
  if (
${cc(r)}
  ) {
    results[index] = ${i.DEBUG?"ComputedStats()":"-failures; failures = failures + 1"};
    continue;
  }
}
  `,2)),t}function l1(t,a,i){const l=v[a.resultSort].gpuProperty,s=oc(a),o=[s("x.SPD < minSpd"),s("x.SPD > maxSpd"),s("x.HP  < minHp"),s("x.HP  > maxHp"),s("x.ATK < minAtk"),s("x.ATK > maxAtk"),s("x.DEF < minDef"),s("x.DEF > maxDef"),s("x.CR  < minCr"),s("x.CR  > maxCr"),s("x.CD  < minCd"),s("x.CD  > maxCd"),s("x.EHR < minEhr"),s("x.EHR > maxEhr"),s("x.RES < minRes"),s("x.RES > maxRes"),s("x.BE  < minBe"),s("x.BE  > maxBe"),s("x.ERR < minErr"),s("x.ERR > maxErr"),s("x.EHP < minEhp"),s("x.EHP > maxEhp"),s("x.WEIGHT < minWeight"),s("x.WEIGHT > maxWeight"),s("x.BASIC_DMG < minBasic"),s("x.BASIC_DMG > maxBasic"),s("x.SKILL_DMG < minSkill"),s("x.SKILL_DMG > maxSkill"),s("x.ULT_DMG < minUlt"),s("x.ULT_DMG > maxUlt"),s("x.FUA_DMG < minFua"),s("x.FUA_DMG > maxFua"),s("x.DOT_DMG < minDot"),s("x.DOT_DMG > maxDot"),s("x.BREAK_DMG < minBreak"),s("x.BREAK_DMG > maxBreak"),s("x.COMBO_DMG < minCombo"),s("x.COMBO_DMG > maxCombo"),s(`x.${l} < threshold`)].filter(c=>c.length>0).join(` ||
`);return t=t.replace("/* INJECT COMBAT STAT FILTERS */",_e(`
if (statDisplay == 0) {
  if (
${cc(o)}
  ) {
    results[index] = ${i.DEBUG?"ComputedStats()":"-failures; failures = failures + 1"};
    continue;
  }
}
  `,2)),t}function o1(t,a,i){const l=i.DEBUG?1:i.CYCLES_PER_INVOCATION;t=t.replace("/* INJECT GPU PARAMS */",`
const WORKGROUP_SIZE = ${i.WORKGROUP_SIZE};
const BLOCK_SIZE = ${i.BLOCK_SIZE};
const CYCLES_PER_INVOCATION = ${l};
const DEBUG = ${i.DEBUG?1:0};
  `),i.DEBUG?t=t.replace("/* INJECT RESULTS BUFFER */",`
@group(2) @binding(0) var<storage, read_write> results : array<ComputedStats>; // DEBUG
    `):t=t.replace("/* INJECT RESULTS BUFFER */",`
@group(2) @binding(0) var<storage, read_write> results : array<f32>;
    `);const s=v[a.resultSort].gpuProperty,c=v[a.resultSort].isComputedRating?`x.${s}`:`c.${s}`;return i.DEBUG?t=t.replace("/* INJECT RETURN VALUE */",_e(`
results[index] = x; // DEBUG
    `,2)):t=t.replace("/* INJECT RETURN VALUE */",_e(`
if (statDisplay == 0) {
  results[index] = x.${s};
  failures = 1;
} else {
  results[index] = ${c};
  failures = 1;
}
    `,2)),t}const ys={[e.HP_P]:0,[e.ATK_P]:1,[e.DEF_P]:2,[e.SPD_P]:3,[e.HP]:4,[e.ATK]:5,[e.DEF]:6,[e.SPD]:7,[e.CR]:8,[e.CD]:9,[e.EHR]:10,[e.RES]:11,[e.BE]:12,[e.ERR]:13,[e.OHB]:14,[e.Physical_DMG]:15,[e.Fire_DMG]:16,[e.Ice_DMG]:17,[e.Lightning_DMG]:18,[e.Wind_DMG]:19,[e.Quantum_DMG]:20,[e.Imaginary_DMG]:21};function c1(t,a,i,l,s){var Z;const o=i.LinkRope.length,c=i.PlanarSphere.length,r=i.Feet.length,u=i.Body.length,f=i.Hands.length,p=i.Head.length,G=a%o,h=(a-G)/o%c,m=(a-h*o-G)/(o*c)%r,b=(a-m*c*o-h*o-G)/(o*c*r)%u,R=(a-b*r*c*o-m*c*o-h*o-G)/(o*c*r*u)%f,S=(a-R*u*r*c*o-b*r*c*o-m*c*o-h*o-G)/(o*c*r*u*f)%p;return l[6]=G,l[7]=h,l[8]=m,l[9]=b,l[10]=R,l[11]=S,l[12]=((Z=s.resultsQueue.top())==null?void 0:Z.value)??0,Ki(t,new Float32Array(l),GPUBufferUsage.STORAGE)}function r1(t,a){const i=[t.LinkRope.length,t.PlanarSphere.length,t.Feet.length,t.Body.length,t.Hands.length,t.Head.length,0,0,0,0,0,0,0,Object.keys(d.SetsRelics).length,Object.keys(d.SetsOrnaments).length];for(const l of Object.values(d.Stats))i[15+ys[l]]=a.character.base[l];for(const l of Object.values(d.Stats))i[37+ys[l]]=a.character.lightCone[l];for(const l of Object.values(d.Stats))i[59+ys[l]]=a.character.traces[l];return i}function d1(t){return m1([...t.Head,...t.Hands,...t.Body,...t.Feet,...t.PlanarSphere,...t.LinkRope])}const u1=24;function m1(t){const a=[];for(let i=0;i<t.length;i++){const l=t[i],s=u1*i;let o=0;const c={},r=l.condensedStats;for(const u of r)c[u[0]]=u[1];a[s+o++]=c[e.HP_P]||0,a[s+o++]=c[e.ATK_P]||0,a[s+o++]=c[e.DEF_P]||0,a[s+o++]=c[e.SPD_P]||0,a[s+o++]=c[e.HP]||0,a[s+o++]=c[e.ATK]||0,a[s+o++]=c[e.DEF]||0,a[s+o++]=c[e.SPD]||0,a[s+o++]=c[e.CR]||0,a[s+o++]=c[e.CD]||0,a[s+o++]=c[e.EHR]||0,a[s+o++]=c[e.RES]||0,a[s+o++]=c[e.BE]||0,a[s+o++]=c[e.ERR]||0,a[s+o++]=c[e.OHB]||0,a[s+o++]=c[e.Physical_DMG]||0,a[s+o++]=c[e.Fire_DMG]||0,a[s+o++]=c[e.Ice_DMG]||0,a[s+o++]=c[e.Lightning_DMG]||0,a[s+o++]=c[e.Wind_DMG]||0,a[s+o++]=c[e.Quantum_DMG]||0,a[s+o++]=c[e.Imaginary_DMG]||0,a[s+o++]=b1(l),a[s+o++]=l.weightScore}return a}function b1(t){return Fn.includes(t.set)?aa[t.set]:mn[t.set]}const h1=`@group(0) @binding(0) var<storage, read_write> results : array<f32>;
@compute @workgroup_size(256)
fn main(
  @builtin(workgroup_id) workgroup_id : vec3<u32>,
  @builtin(local_invocation_id) local_invocation_id : vec3<u32>,
  @builtin(global_invocation_id) global_invocation_id : vec3<u32>,
  @builtin(local_invocation_index) local_invocation_index: u32,
  @builtin(num_workgroups) num_workgroups: vec3<u32>
) {
  var flag = 0;
  let offset = local_invocation_index * 256 * 512;

  for (var i: u32 = 511; i < 256 * 512; i += 512) {
    let index = offset + i;
    if (results[index] != -512) {
      flag = 1;
      break;
    }
  }

  if (flag == 0) {
    results[offset] = -1024;
  }

  workgroupBarrier();
  storageBarrier();

  if (local_invocation_index != 0) {
    return;
  }

  var skip: u32 = 256;
  for (var i: u32 = 0; i < 256; i += 1) {
    let index = i * 512 * 256;
    if (results[index] != -1024) {
      skip = i;
      break;
    }
  }

  if (skip > 0) {
    results[0] = -2048 - f32(skip);
  }
}
`;function rc(t,a,i,l,s,o,c,r,u=!1){const h=i.resultsLimit??1024,m=u,b=a1(l,i,{WORKGROUP_SIZE:256,BLOCK_SIZE:65536,CYCLES_PER_INVOCATION:512,RESULTS_LIMIT:h,DEBUG:m});m&&console.log(b);const R=p1(t,b),S=S1(t),Z=r1(a,l),C=Float32Array.BYTES_PER_ELEMENT*65536*512,D=t.createBuffer({size:C,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC}),V=d1(a),M=Ki(t,new Float32Array(V),GPUBufferUsage.STORAGE),E=Ki(t,new Int32Array(c),GPUBufferUsage.STORAGE,!0,!0),P=Ki(t,new Int32Array(r),GPUBufferUsage.STORAGE,!0,!0),H=t.createBindGroup({layout:R.getBindGroupLayout(1),entries:[{binding:0,resource:{buffer:M}},{binding:1,resource:{buffer:P}},{binding:2,resource:{buffer:E}}]}),k=t.createBindGroup({layout:R.getBindGroupLayout(2),entries:[{binding:0,resource:{buffer:D}}]}),B=t.createBindGroup({layout:S.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:D}}]}),J=Math.ceil(s/65536/512),st=new lc(h,(A,_)=>A.value-_.value);return{WORKGROUP_SIZE:256,BLOCK_SIZE:65536,CYCLES_PER_INVOCATION:512,RESULTS_LIMIT:h,DEBUG:m,request:i,params:l,resultMatrixBufferSize:C,permutations:s,iterations:J,startTime:0,relics:a,resultsQueue:st,baseParamsArray:Z,cancelled:!1,computeEngine:o,device:t,computePipeline:R,postComputePipeline:S,bindGroup1:H,bindGroup2:k,postComputeBindGroup0:B,resultMatrixBuffer:D,relicsMatrixBuffer:M,relicSetSolutionsMatrixBuffer:E,ornamentSetSolutionsMatrixBuffer:P}}function dc(t,a){const i=c1(t.device,a,t.relics,t.baseParamsArray,t),l=t.device,s=t.computePipeline,o=t.postComputePipeline,c=t.bindGroup1,r=t.bindGroup2,u=t.postComputeBindGroup0,f=t.resultMatrixBufferSize,p=t.resultMatrixBuffer,G=l.createBindGroup({layout:s.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:i}}]}),h=l.createCommandEncoder(),m=h.beginComputePass();m.setPipeline(s),m.setBindGroup(0,G),m.setBindGroup(1,c),m.setBindGroup(2,r),m.dispatchWorkgroups(t.WORKGROUP_SIZE),t.computeEngine==Ja&&(m.setPipeline(o),m.setBindGroup(0,u),m.dispatchWorkgroups(1)),m.end();const b=l.createBuffer({size:f,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});return h.copyBufferToBuffer(p,0,b,0,f),l.queue.submit([h.finish()]),t.startTime||(t.startTime=new Date().getTime()),b}function p1(t,a){const i=R1(t),l=t.createShaderModule({code:a});return t.createComputePipeline({layout:t.createPipelineLayout({bindGroupLayouts:i}),compute:{module:l,entryPoint:"main"}})}function S1(t){const a=[t.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"storage"}}]})],i=t.createShaderModule({code:h1});return t.createComputePipeline({layout:t.createPipelineLayout({bindGroupLayouts:a}),compute:{module:i,entryPoint:"main"}})}function R1(t){return[t.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"read-only-storage"}}]}),t.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"read-only-storage"}},{binding:1,visibility:GPUShaderStage.COMPUTE,buffer:{type:"read-only-storage"}},{binding:2,visibility:GPUShaderStage.COMPUTE,buffer:{type:"read-only-storage"}}]}),t.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"storage"}}]})]}function Ki(t,a,i,l=!0,s=!1){const o=t.createBuffer({mappedAtCreation:l,size:a.byteLength,usage:i}),c=o.getMappedRange();return s?new Int32Array(c).set(a):new Float32Array(c).set(a),o.unmap(),o}function uc(t){t.resultMatrixBuffer.unmap(),t.resultMatrixBuffer.destroy(),t.relicsMatrixBuffer.unmap(),t.relicsMatrixBuffer.destroy(),t.relicSetSolutionsMatrixBuffer.unmap(),t.relicSetSolutionsMatrixBuffer.destroy(),t.ornamentSetSolutionsMatrixBuffer.unmap(),t.ornamentSetSolutionsMatrixBuffer.destroy()}function f1(t,a){const i=new Float32Array(a);console.log(i),g1(i),Z1(i)}function G1(t){return{ED:t[22],BASIC:t[69],SKILL:t[70],ULT:t[71],FUA:t[72],DOT:t[73],BREAK:t[74],COMBO:t[75],WEIGHT:t[113],EHP:t[77],xHP:t[4],xATK:t[5],xDEF:t[6],xSPD:t[7],xCR:t[8],xCD:t[9],xEHR:t[10],xRES:t[11],xBE:t[12],xERR:t[13],xOHB:t[14],xELEMENTAL_DMG:t[22]}}function Z1(t){const a=window.optimizerGrid.current.api.getGridOption("pinnedTopRowData")??[],i=G1(t);a[1]=i,window.optimizerGrid.current.api.updateGridOptions({pinnedTopRowData:a})}function el(t){return{"HP%":t[0],"ATK%":t[1],"DEF%":t[2],"SPD%":t[3],HP:t[4],ATK:t[5],DEF:t[6],SPD:t[7],"CRIT Rate":t[8],"CRIT DMG":t[9],"Effect Hit Rate":t[10],"Effect RES":t[11],"Break Effect":t[12],"Energy Regeneration Rate":t[13],"Outgoing Healing Boost":t[14],"Physical DMG Boost":t[15],"Fire DMG Boost":t[16],"Ice DMG Boost":t[17],"Lightning DMG Boost":t[18],"Wind DMG Boost":t[19],"Quantum DMG Boost":t[20],"Imaginary DMG Boost":t[21],ELEMENTAL_DMG:t[22],BASIC_SCALING:t[23],SKILL_SCALING:t[24],ULT_SCALING:t[25],FUA_SCALING:t[26],DOT_SCALING:t[27],BASIC_CR_BOOST:t[28],SKILL_CR_BOOST:t[29],ULT_CR_BOOST:t[30],FUA_CR_BOOST:t[31],BASIC_CD_BOOST:t[32],SKILL_CD_BOOST:t[33],ULT_CD_BOOST:t[34],FUA_CD_BOOST:t[35],BASIC_BOOST:t[36],SKILL_BOOST:t[37],ULT_BOOST:t[38],FUA_BOOST:t[39],DOT_BOOST:t[40],VULNERABILITY:t[41],BASIC_VULNERABILITY:t[42],SKILL_VULNERABILITY:t[43],ULT_VULNERABILITY:t[44],FUA_VULNERABILITY:t[45],DOT_VULNERABILITY:t[46],BREAK_VULNERABILITY:t[47],DEF_PEN:t[48],BASIC_DEF_PEN:t[49],SKILL_DEF_PEN:t[50],ULT_DEF_PEN:t[51],FUA_DEF_PEN:t[52],DOT_DEF_PEN:t[53],BREAK_DEF_PEN:t[54],SUPER_BREAK_DEF_PEN:t[55],RES_PEN:t[56],PHYSICAL_RES_PEN:t[57],FIRE_RES_PEN:t[58],ICE_RES_PEN:t[59],LIGHTNING_RES_PEN:t[60],WIND_RES_PEN:t[61],QUANTUM_RES_PEN:t[62],IMAGINARY_RES_PEN:t[63],BASIC_RES_PEN:t[64],SKILL_RES_PEN:t[65],ULT_RES_PEN:t[66],FUA_RES_PEN:t[67],DOT_RES_PEN:t[68],BASIC_DMG:t[69],SKILL_DMG:t[70],ULT_DMG:t[71],FUA_DMG:t[72],DOT_DMG:t[73],BREAK_DMG:t[74],COMBO_DMG:t[75],DMG_RED_MULTI:t[76],EHP:t[77],DOT_CHANCE:t[78],EFFECT_RES_PEN:t[79],DOT_SPLIT:t[80],DOT_STACKS:t[81],ENEMY_WEAKNESS_BROKEN:t[82],SUPER_BREAK_MODIFIER:t[83],BASIC_SUPER_BREAK_MODIFIER:t[84],SUPER_BREAK_HMC_MODIFIER:t[85],BASIC_TOUGHNESS_DMG:t[86],SKILL_TOUGHNESS_DMG:t[87],ULT_TOUGHNESS_DMG:t[88],FUA_TOUGHNESS_DMG:t[89],BASIC_ORIGINAL_DMG_BOOST:t[90],SKILL_ORIGINAL_DMG_BOOST:t[91],ULT_ORIGINAL_DMG_BOOST:t[92],BASIC_BREAK_DMG_MODIFIER:t[93],ULT_CD_OVERRIDE:t[94],ULT_BOOSTS_MULTI:t[95],RATIO_BASED_HP_BUFF:t[96],RATIO_BASED_HP_P_BUFF:t[97],RATIO_BASED_ATK_BUFF:t[98],RATIO_BASED_ATK_P_BUFF:t[99],RATIO_BASED_DEF_BUFF:t[100],RATIO_BASED_DEF_P_BUFF:t[101],RATIO_BASED_SPD_BUFF:t[102],RATIO_BASED_CD_BUFF:t[103],BREAK_EFFICIENCY_BOOST:t[104],BASIC_BREAK_EFFICIENCY_BOOST:t[105],ULT_BREAK_EFFICIENCY_BOOST:t[106],BASIC_DMG_TYPE:t[107],SKILL_DMG_TYPE:t[108],ULT_DMG_TYPE:t[109],FUA_DMG_TYPE:t[110],DOT_DMG_TYPE:t[111],BREAK_DMG_TYPE:t[112],SUPER_BREAK_DMG_TYPE:t[113],WEIGHT:t[114]}}function g1(t){const a=el(t);for(const[i,l]of Object.entries(a))typeof l=="number"&&(a[i]=C1(l));console.log(el(t))}function C1(t){return x.precisionRound(t,5)||""}function Ia(t){return n.jsx(pt.Link,{target:"_blank",style:{color:"#3f8eff"},href:t.url,children:t.text})}function T1(t){try{const a=!t||o0.lt(t,Qi);if(console.log(`Is out of date? ${a}`,t,Qi),!a)return;const i=n.jsxs(br,{children:[n.jsx(w,{type:"primary",icon:n.jsx(c0,{}),onClick:()=>{window.notificationApi.destroy(),window.store.getState().setActiveKey(mt.CHANGELOG)},children:I.t("notifications:Changelog.View")}),n.jsx(w,{type:"default",onClick:()=>window.notificationApi.destroy(),children:I.t("notifications:Changelog.Dismiss")})]});window.notificationApi.success({message:I.t("notifications:Changelog.Message"),description:I.t("notifications:Changelog.Description"),btn:i,duration:30})}catch(a){console.error(a)}}function D1(){try{window.notificationApi.warning({message:"WebGPU is not supported on this browser!",description:n.jsxs(g,{vertical:!0,children:[n.jsx("div",{children:I.t("notifications:GPU.Description.l1")}),n.jsx("div",{children:n.jsxs("ul",{children:[n.jsx("li",{children:I.t("notifications:GPU.Description.l2")}),n.jsx("li",{children:n.jsx(Et,{t:I.t,i18nKey:"notifications:GPU.Description.l3",components:{CustomLink:n.jsx(Ia,{url:"https://github.com/gpuweb/gpuweb/wiki/Implementation-Status"})}})})]})}),n.jsx("div",{children:I.t("notifications:GPU.Description.l4")})]}),duration:15})}catch(t){console.error(t)}}async function cs(t){var i;const a=await((i=navigator==null?void 0:navigator.gpu)==null?void 0:i.requestAdapter());return a==null?(console.log("Webgpu not supported"),t&&D1(),null):await a.requestDevice({requiredLimits:{}})}async function mc(t){try{const a=await cs(t);return a||window.store.getState().setSavedSessionKey(ne.computeEngine,ta),a}catch(a){return console.log(a),null}}async function I1(t){const{params:a,request:i,relics:l,permutations:s,computeEngine:o,relicSetSolutions:c,ornamentSetSolutions:r}=t,u=await cs();if(u==null){console.error("Not supported");return}u.onuncapturederror=p=>{window.store.getState().optimizationInProgress&&(window.store.getState().setOptimizationInProgress(!1),j.error("The GPU acceleration process has crashed - results may be invalid. Please try again or report a bug to the Discord server",20))},window.store.getState().setOptimizerStartTime(Date.now()),window.store.getState().setOptimizerRunningEngine(o);const f=rc(u,l,i,a,s,o,c,r);f.DEBUG&&j.warning("Debug mode is ON",5),console.log("Raw inputs",{params:a,request:i,relics:l,permutations:s});for(let p=0;p<f.iterations;p++){const G=p*f.BLOCK_SIZE*f.CYCLES_PER_INVOCATION,h=G+f.BLOCK_SIZE*f.CYCLES_PER_INVOCATION,m=dc(f,G);if(o==Ja){await m.mapAsync(GPUMapMode.READ,0,4);const b=new Float32Array(m.getMappedRange(0,4))[0];if(m.unmap(),b!=-2304)if(b<=-2048){const S=-(b+2048)*512*256;await Ls(G,m,f,S)}else await Ls(G,m,f)}else await Ls(G,m,f);if(window.store.getState().setOptimizerEndTime(Date.now()),window.store.getState().setPermutationsResults(f.resultsQueue.size()),window.store.getState().setPermutationsSearched(Math.min(f.permutations,h)),m.unmap(),m.destroy(),f.permutations<=h||!window.store.getState().optimizationInProgress){f.cancelled=!0;break}}V1(f),uc(f)}async function Ls(t,a,i,l=0){var h;await a.mapAsync(GPUMapMode.READ,l);const s=a.getMappedRange(l*4),o=new Float32Array(s),c=i.resultsQueue;let r=((h=c.top())==null?void 0:h.value)??0,u=i.BLOCK_SIZE*i.CYCLES_PER_INVOCATION-l;const f=t+i.BLOCK_SIZE*i.CYCLES_PER_INVOCATION-l,p=i.permutations-f;p<0&&(u+=p);const G=t+l;if(c.size()>=i.RESULTS_LIMIT)for(let m=u-1;m>=0;m--){const b=o[m];if(b<0){m+=b+1;continue}b<=r||(r=c.fixedSizePushOvercapped({index:G+m,value:b}).value)}else for(let m=u-1;m>=0;m--){const b=o[m];if(b<0){m+=b+1;continue}b<=r&&c.size()>=i.RESULTS_LIMIT||(c.fixedSizePush({index:G+m,value:b}),r=c.top().value)}i.DEBUG&&f1(i,s)}function V1(t){const a=t.relics,i=a.LinkRope.length,l=a.PlanarSphere.length,s=a.Feet.length,o=a.Body.length,c=a.Hands.length,r=a.Head.length;t.cancelled||window.store.getState().setPermutationsSearched(t.permutations),window.store.getState().setOptimizationInProgress(!1),window.store.getState().setPermutationsResults(t.resultsQueue.size());const u=t.resultsQueue.toArray().sort((h,m)=>m.value-h.value),f=[];for(let h=0;h<u.length;h++){const m=u[h].index,b=m%i,R=(m-b)/i%l,S=(m-R*i-b)/(i*l)%s,Z=(m-S*l*i-R*i-b)/(i*l*s)%o,C=(m-Z*s*l*i-S*l*i-R*i-b)/(i*l*s*o)%c,D=(m-C*o*s*l*i-Z*s*l*i-S*l*i-R*i-b)/(i*l*s*o*c)%r,V=t.params,M=An(t.request,{Head:a.Head[D],Hands:a.Hands[C],Body:a.Body[Z],Feet:a.Feet[S],PlanarSphere:a.PlanarSphere[R],LinkRope:a.LinkRope[b]},V,!0);M.id=m,Zl(M),f.push(M)}const p=v[t.request.resultSort],G=t.request.statDisplay=="combat"?p.combatGridColumn:p.basicGridColumn;ls(G),tt.setRows(f),window.optimizerGrid.current.api.updateGridOptions({datasource:tt.getDataSource()})}let $a=!1;function bc(t){let a=x.clone(L.getRelics());ee.calculateWeightScore(t,a),a=a.filter(l=>l.equippedBy==t.characterId),a=ee.applyMainStatsFilter(t,a),a=ee.splitRelicsByPart(a),ee.condenseRelicSubstatsForOptimizer(a),Object.keys(a).map(l=>a[l]=a[l][0]);const i=An(t,a);Zl(i),tt.setTopRow(i,!0)}const Hn={cancel:t=>{$a=!0,ga.cancel(t)},getFilteredRelics:t=>{let a=x.clone(L.getRelics());ee.calculateWeightScore(t,a),a=ee.applyEquippedFilter(t,a),a=ee.applyEnhanceFilter(t,a),a=ee.applyGradeFilter(t,a),a=ee.applyRankFilter(t,a),a=ee.applyExcludeFilter(t,a);const i=ee.splitRelicsByPart(a);return a=ee.applyMainFilter(t,a),a=ee.applyMainStatsFilter(t,a),a=ee.applySetFilter(t,a),a=ee.splitRelicsByPart(a),a=ee.applyCurrentFilter(t,a),a=ee.applyTopFilter(t,a,i),[a,i]},optimize:async function(t){$a=!1;const a=[t.teammate0,t.teammate1,t.teammate2].filter(M=>!!M.characterId);for(let M=0;M<a.length;M++){const E=a[M],P=L.getMetadata().characters[E.characterId];E.ELEMENTAL_DMG_TYPE=vn[P.element]}const[i]=this.getFilteredRelics(t);ee.condenseRelicSubstatsForOptimizer(i),console.log("Optimize request",t);const l=Lh(t),s=Fh(t),o={hSize:i.Head.length,gSize:i.Hands.length,bSize:i.Body.length,fSize:i.Feet.length,pSize:i.PlanarSphere.length,lSize:i.LinkRope.length},c=o.hSize*o.gSize*o.bSize*o.fSize*o.pSize*o.lSize;if(tt.setMetadata(o,i),console.log(`Optimization permutations: ${c}, blocksize: ${d.THREAD_BUFFER_LENGTH}`),c==0){window.store.getState().setOptimizationInProgress(!1),kh(t),tt.setRows([]),tt.resetDataSource();return}if($a){window.store.getState().setOptimizationInProgress(!1);return}tt.scrollToGrid(),window.optimizerGrid.current.api.showLoadingOverlay();const r=ss(t);bc(t);let u=0,f=!1,p=[];const G=v[t.resultSort],h=t.statDisplay=="combat"?G.combatGridColumn:G.basicGridColumn,m=t.resultsLimit||1024,b=new lc(m,(M,E)=>M[h]-E[h]),R=2e4;let S=0;const Z=d.THREAD_BUFFER_LENGTH,C=x.clone(r);let D=window.store.getState().savedSession[ne.computeEngine];if(await cs()==null&&D!=ta&&(j.warning("GPU acceleration is not available on this browser - only desktop Chrome and Opera are supported. If you are on a supported browser, report a bug to the Discord server",15),window.store.getState().setSavedSessionKey(ne.computeEngine,ta),D=ta),D==ta){const M=[];for(let P=0;P<c;P+=S)S=Math.min(Z,S+R),M.push({skip:P,runSize:S});let E=M.length;window.store.getState().setOptimizerStartTime(Date.now()),window.store.getState().setOptimizerRunningEngine(ta);for(const P of M){const H={input:{params:C,request:t,relics:i,WIDTH:P.runSize,skip:P.skip,permutations:c,relicSetSolutions:l,ornamentSetSolutions:s},getMinFilter:()=>b.size()&&b.size()>=t.resultsLimit?b.top()[h]:0},k=B=>{if(u+=P.runSize,E-=1,$a&&f)return;const J=new Float64Array(B.buffer);if(mi.extractArrayToResults(J,P.runSize,p,b),window.store.getState().setPermutationsResults(b.size()),window.store.getState().setPermutationsSearched(Math.min(c,u)),window.store.getState().setOptimizerEndTime(Date.now()),E==0||$a){window.store.getState().setOptimizationInProgress(!1),p=b.toArray(),tt.setRows(p),ls(h),window.optimizerGrid.current.api.updateGridOptions({datasource:tt.getDataSource()}),console.log("Done",p.length),f=!0,!p.length&&!E&&Nh(t);return}p.length>=zr&&!$a&&($a=!0,Hn.cancel(t.optimizationId),j.error("Too many results, stopping at 2,000,000 - please narrow your filters to limit results",10))};ga.execute(H,k)}}else I1({params:r,request:t,relics:i,permutations:c,computeEngine:D,relicSetSolutions:l,ornamentSetSolutions:s})}};function Zl(t){t.ED=t.ELEMENTAL_DMG,t.BASIC=t.x.BASIC_DMG,t.SKILL=t.x.SKILL_DMG,t.ULT=t.x.ULT_DMG,t.FUA=t.x.FUA_DMG,t.DOT=t.x.DOT_DMG,t.BREAK=t.x.BREAK_DMG,t.COMBO=t.x.COMBO_DMG,t.WEIGHT=t.x.WEIGHT,t.EHP=t.x.EHP,t.xHP=t.x[e.HP],t.xATK=t.x[e.ATK],t.xDEF=t.x[e.DEF],t.xSPD=t.x[e.SPD],t.xCR=t.x[e.CR],t.xCD=t.x[e.CD],t.xEHR=t.x[e.EHR],t.xRES=t.x[e.RES],t.xBE=t.x[e.BE],t.xERR=t.x[e.ERR],t.xOHB=t.x[e.OHB],t.xELEMENTAL_DMG=t.x.ELEMENTAL_DMG}const Jt={ratingFilters:()=>({title:I.t("hint:RatingFilter.Title"),content:n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx("p",{children:I.t("hint:RatingFilter.p1")}),n.jsx("p",{children:I.t("hint:RatingFilter.p2")}),n.jsx("p",{children:I.t("hint:RatingFilter.p3")})]})}),combatBuffs:()=>({title:I.t("hint:CombatBuffs.Title"),content:n.jsx(g,{vertical:!0,gap:10,children:n.jsx("p",{children:I.t("hint:CombatBuffs.p1")})})}),statFilters:()=>({title:I.t("hint:StatFilters.Title"),content:n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx("p",{children:I.t("hint:StatFilters.p1")}),n.jsx("p",{children:I.t("hint:StatFilters.p2")}),n.jsx("p",{children:I.t("hint:StatFilters.p3")})]})}),mainStats:()=>({title:I.t("hint:Mainstats.Title"),content:n.jsx(g,{vertical:!0,gap:10,children:n.jsx("p",{children:I.t("hint:Mainstats.p1")})})}),sets:()=>({title:I.t("hint:Sets.Title"),content:n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx("p",{children:I.t("hint:Sets.p1")}),n.jsx("p",{children:I.t("hint:Sets.p2")})]})}),character:()=>({title:I.t("hint:Character.Title"),content:n.jsx(g,{vertical:!0,gap:10,children:n.jsx("p",{children:I.t("hint:Character.p1")})})}),characterPassives:()=>({title:I.t("hint:CharacterPassives.Title"),content:n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx("p",{children:I.t("hint:CharacterPassives.p1")}),n.jsx("p",{children:I.t("hint:CharacterPassives.p2")})]})}),lightConePassives:()=>({title:I.t("hint:LightconePassives.Title"),content:n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx("p",{children:I.t("hint:LightconePassives.p1")}),n.jsx("p",{children:I.t("hint:LightconePassives.p2")})]})}),lightCone:()=>({title:I.t("hint:Lightcone.Title"),content:n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx("p",{children:I.t("hint:Lightcone.p1")}),n.jsx("p",{children:I.t("hint:Lightcone.p2")})]})}),actions:()=>({title:I.t("hint:Actions.Title"),content:n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx("p",{children:I.t("hint:Actions.p1")}),n.jsx("p",{children:I.t("hint:Actions.p2")}),n.jsx("p",{children:I.t("hint:Actions.p3")}),n.jsx("p",{children:I.t("hint:Actions.p4")})]})}),optimizerOptions:()=>({title:I.t("hint:OptimizerOptions.Title"),content:(()=>{const{t}=et("hint",{keyPrefix:"OptimizerOptions"});return n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx("p",{children:n.jsxs(Et,{t,i18nKey:"p1",children:[n.jsx("strong",{children:"Character priority filter"}),"- When this option is enabled, the character may only steal relics from lower priority characters. The optimizer will ignore relics equipped by higher priority characters on the list. Change character ranks from the priority selector or by dragging them on the Characters page."]})}),n.jsx("p",{children:n.jsxs(Et,{t,i18nKey:"p2",children:[n.jsx("strong",{children:"Boost main stat"}),"- Calculates relic mains stats as if they were this level (or their max if they can't reach this level) if they are currently below it. Substats are not changed accordingly, so builds with lower level relics may be stronger once you level them."]})}),n.jsx("p",{children:n.jsxs(Et,{t,i18nKey:"p3",children:[n.jsx("strong",{children:"Keep current relics"}),"- The character must use its currently equipped items, and the optimizer will try to fill in empty slots"]})}),n.jsx("p",{children:n.jsxs(Et,{t,i18nKey:"p4",children:[n.jsx("strong",{children:"Include equipped relics"}),"- When enabled, the optimizer will allow using currently equipped by a character for the search. Otherwise equipped relics are excluded"]})}),n.jsx("p",{children:n.jsxs(Et,{t,i18nKey:"p5",children:[n.jsx("strong",{children:"Priority"}),"- See: Character priority filter. Changing this setting will change the character's priority"]})}),n.jsx("p",{children:n.jsxs(Et,{t,i18nKey:"p6",children:[n.jsx("strong",{children:"Exclude"}),"- Select specific characters' equipped relics to exclude for the search. This setting overrides the priority filter"]})}),n.jsx("p",{children:n.jsxs(Et,{t,i18nKey:"p7",children:[n.jsx("strong",{children:"Enhance / grade"}),"- Select the minimum enhance to search for and minimum stars for relics to include"]})})]})})()}),relics:()=>({title:I.t("hint:Relics.Title"),content:n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx("p",{children:I.t("hint:Relics.p1")}),n.jsx("p",{children:I.t("hint:Relics.p2")}),n.jsx("p",{children:I.t("hint:Relics.p3")}),n.jsx("p",{children:I.t("hint:Relics.p4")}),n.jsx("p",{children:I.t("hint:Relics.p5")})]})}),optimizationDetails:()=>({title:I.t("hint:OptimizationDetails.Title"),content:n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx("p",{children:I.t("hint:OptimizationDetails.p1")}),n.jsx("p",{children:I.t("hint:OptimizationDetails.p2")}),n.jsx("p",{children:I.t("hint:OptimizationDetails.p3")}),n.jsx("p",{children:I.t("hint:OptimizationDetails.p4")})]})}),enemyOptions:()=>({title:I.t("hint:EnemyOptions.Title"),content:n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx("p",{children:I.t("hint:EnemyOptions.p1")}),n.jsx("p",{children:I.t("hint:EnemyOptions.p2")}),n.jsx("p",{children:I.t("hint:EnemyOptions.p3")}),n.jsx("p",{children:I.t("hint:EnemyOptions.p4")}),n.jsx("p",{children:I.t("hint:EnemyOptions.p5")}),n.jsx("p",{children:I.t("hint:EnemyOptions.p6")})]})}),substatWeightFilter:()=>({title:I.t("hint:SubstatWeightFilter.Title"),content:n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx("p",{children:I.t("hint:SubstatWeightFilter.p1")}),n.jsx("p",{children:I.t("hint:SubstatWeightFilter.p2")}),n.jsx("p",{children:I.t("hint:SubstatWeightFilter.p3")}),n.jsx("p",{children:I.t("hint:SubstatWeightFilter.p4")})]})}),statDisplay:()=>({title:I.t("hint:StatDisplay.Title"),content:n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx("p",{children:I.t("hint:StatDisplay.p1")}),n.jsx("p",{children:I.t("hint:StatDisplay.p2")}),n.jsx("p",{children:I.t("hint:StatDisplay.p3")})]})}),valueColumns:()=>({title:I.t("hint:ValueColumns.Title"),content:n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx("p",{children:I.t("hint:ValueColumns.p1")}),n.jsx("p",{children:n.jsx("b",{children:I.t("hint:ValueColumns.p2")})}),n.jsx("p",{children:I.t("hint:ValueColumns.p3")}),n.jsx("p",{children:I.t("hint:ValueColumns.p4")}),n.jsx("p",{children:I.t("hint:ValueColumns.p5")}),n.jsx("p",{children:n.jsx("b",{children:I.t("hint:ValueColumns.p6")})}),n.jsx("p",{children:I.t("hint:ValueColumns.p7")}),n.jsx("p",{children:I.t("hint:ValueColumns.p8")}),n.jsx("p",{children:I.t("hint:ValueColumns.p9")}),n.jsx("p",{children:I.t("hint:ValueColumns.p10")})]})}),relicInsight:()=>({title:I.t("hint:RelicInsights.Title"),content:(()=>{const{t}=et("hint",{keyPrefix:"RelicInsights"});return n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx("p",{children:t("p1")}),n.jsx("p",{children:n.jsxs(Et,{t,i18nKey:"p2",children:["'Buckets' looks at how perfect this relic could be (with the best possible upgrade rolls) for each character, and buckets them into percentages.",n.jsx("br",{}),"If you hover over a character portrait you'll see the new stats and/or rolls necessary to reach the max potential of this relic.",n.jsx("br",{}),"⚠️ Relics with missing substats may have misleadingly high buckets, as best-case upgrade analysis assumes the best new substat per character."]})}),n.jsx("p",{children:t("p3")})]})})()}),relicLocation:()=>({title:I.t("hint:RelicLocation.Title"),content:n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx("p",{children:I.t("hint:RelicLocation.p1")}),n.jsx("p",{children:I.t("hint:RelicLocation.p2")}),n.jsxs(g,{vertical:!0,children:[n.jsx("div",{children:I.t("hint:RelicLocation.p3")}),n.jsxs("ul",{children:[n.jsx("li",{children:I.t("hint:RelicLocation.p4")}),n.jsx("li",{children:I.t("hint:RelicLocation.p5")}),n.jsx("li",{children:I.t("hint:RelicLocation.p6")})]})]})]})}),locatorParams:()=>({title:I.t("hint:LocatorParams.Title"),content:(()=>{const{t}=et("hint",{keyPrefix:"LocatorParams"});return n.jsxs(g,{vertical:!0,gap:8,children:[n.jsx("p",{children:n.jsxs(Et,{t,i18nKey:"p1",children:[n.jsx("strong",{children:"Inventory Width"}),"- Select the number of columns the inventory has ingame so that the relic locator can find your relic accurately"]})}),n.jsx("p",{children:n.jsxs(Et,{t,i18nKey:"p2",children:[n.jsx("strong",{children:"Auto Filter rows"}),"- Maximum number of rows before the relic locator applies a part/set filter to try and bring the searched relic closer to the top of your inventory"]})})]})})()})},Ot=t=>n.jsx(ri,{content:t.type.content,title:t.type.title,overlayStyle:{width:500},children:n.jsx("img",{src:N.getQuestion(),style:{width:16,opacity:.6}})});Ot.propTypes={type:z.object};function gl(t){const{currentCharacters:a,excludeCharacters:i,withNobodyOption:l}={currentCharacters:[],excludeCharacters:[],withNobodyOption:!0,...t},s=a.filter(o=>!i.includes(o)).map(o=>({value:o.id,label:n.jsxs(g,{gap:5,align:"center",children:[n.jsx("img",{src:N.getCharacterAvatarById(o.id),style:{height:22,marginRight:4}}),I.t(`gameData:Characters.${o.id}.Name`)]}),title:I.t(`gameData:Characters.${o.id}.Name`)})).sort((o,c)=>o.title.localeCompare(c.title));return l&&s.unshift({value:"None",label:"None",title:"None"}),s}const{Text:Fs}=pt,W1=()=>{const{t,i18n:a}=et(["optimizerTab","common"]),i=window.store(c=>c.characters),l=window.store(c=>c.optimizerTabFocusCharacter),s=y.useMemo(()=>gl({currentCharacters:i,excludeCharacters:[L.getCharacterById(l)],withNobodyOption:!1}),[i,l,a.resolvedLanguage]),o=y.useMemo(()=>i.map(c=>({value:c.rank,label:n.jsxs(g,{gap:5,children:[n.jsx("img",{src:N.getCharacterAvatarById(c.id),style:{height:22,marginRight:6}}),t("OptimizerOptions.Priority.Label",{rank:c.rank+1,id:c.id})]}),name:t("OptimizerOptions.Priority.Name",{rank:c.rank+1})})),[i,t]);return n.jsx(g,{vertical:!0,children:n.jsxs(g,{vertical:!0,gap:de,children:[n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsx(at,{children:t("OptimizerOptions.Header")}),n.jsx(Ot,{type:Jt.optimizerOptions()})]}),n.jsxs(g,{align:"center",children:[n.jsx(X.Item,{name:"includeEquippedRelics",valuePropName:"checked",children:n.jsx(Ya,{checkedChildren:n.jsx(Wn,{}),unCheckedChildren:n.jsx(Xa,{}),defaultChecked:!0,style:{width:45,marginRight:5}})}),n.jsx(Fs,{children:t("OptimizerOptions.AllowEquipped")})]}),n.jsxs(g,{align:"center",children:[n.jsx(X.Item,{name:"rankFilter",valuePropName:"checked",children:n.jsx(Ya,{checkedChildren:n.jsx(Wn,{}),unCheckedChildren:n.jsx(Xa,{}),defaultChecked:!0,style:{width:45,marginRight:5}})}),n.jsx(Fs,{children:t("OptimizerOptions.PriorityFilter")})]}),n.jsxs(g,{align:"center",children:[n.jsx(X.Item,{name:"keepCurrentRelics",valuePropName:"checked",children:n.jsx(Ya,{checkedChildren:n.jsx(Wn,{}),unCheckedChildren:n.jsx(Xa,{}),defaultChecked:!0,style:{width:45,marginRight:5}})}),n.jsx(Fs,{children:t("OptimizerOptions.KeepCurrent")})]}),n.jsxs(g,{gap:de,style:{marginTop:10},children:[n.jsxs(g,{vertical:!0,gap:2,children:[n.jsx(at,{children:t("OptimizerOptions.Priority.Header")}),n.jsx(X.Item,{name:"rank",children:n.jsx(K,{style:{width:(Xe-de)/2},options:o,popupMatchSelectWidth:225,listHeight:500,optionLabelProp:"name",placeholder:t("OptimizerOptions.Priority.Header"),showSearch:!0,filterOption:x.nameFilterOption})})]}),n.jsxs(g,{vertical:!0,gap:2,children:[n.jsx(at,{children:t("OptimizerOptions.Exclude")}),n.jsx(X.Item,{name:"exclude",children:n.jsx(K,{style:{width:(Xe-de)/2},mode:"multiple",maxTagCount:"responsive",popupMatchSelectWidth:225,listHeight:500,allowClear:!0,showSearch:!0,optionLabelProp:"title",placeholder:t("OptimizerOptions.Exclude"),options:s,filterOption:x.titleFilterOption})})]})]}),n.jsxs(g,{justify:"space-between",children:[n.jsxs(g,{vertical:!0,gap:2,children:[n.jsx(at,{children:t("OptimizerOptions.MinEnhance.Header")}),n.jsx(X.Item,{name:"enhance",children:n.jsx(K,{style:{width:(Xe-de)/2},options:[{value:0,label:t("OptimizerOptions.MinEnhance.Label0")},{value:3,label:t("OptimizerOptions.MinEnhance.Label3")},{value:6,label:t("OptimizerOptions.MinEnhance.Label6")},{value:9,label:t("OptimizerOptions.MinEnhance.Label9")},{value:12,label:t("OptimizerOptions.MinEnhance.Label12")},{value:15,label:t("OptimizerOptions.MinEnhance.Label15")}]})})]}),n.jsxs(g,{vertical:!0,gap:2,children:[n.jsx(at,{children:t("OptimizerOptions.MinRarity.Header")}),n.jsx(X.Item,{name:"grade",children:n.jsx(K,{style:{width:(Xe-de)/2},options:[{value:2,label:t("OptimizerOptions.MinRarity.Label2")},{value:3,label:t("OptimizerOptions.MinRarity.Label3")},{value:4,label:t("OptimizerOptions.MinRarity.Label4")},{value:5,label:t("OptimizerOptions.MinRarity.Label5")}]})})]})]}),n.jsx(g,{justify:"space-between",align:"center",children:n.jsxs(g,{vertical:!0,gap:2,children:[n.jsx(at,{children:t("OptimizerOptions.BoostMain.Header")}),n.jsx(X.Item,{name:"mainStatUpscaleLevel",children:n.jsx(K,{style:{width:(Xe-de)/2},options:[{value:3,label:t("OptimizerOptions.BoostMain.Label3")},{value:6,label:t("OptimizerOptions.BoostMain.Label6")},{value:9,label:t("OptimizerOptions.BoostMain.Label9")},{value:12,label:t("OptimizerOptions.BoostMain.Label12")},{value:15,label:t("OptimizerOptions.BoostMain.Label15")}]})})]})})]})})},{Text:Dn}=pt,zi=40,qi=200,xi=80,In=5;function E1(){const{t}=et("optimizerTab",{keyPrefix:"SetConditionals"}),a=window.store(G=>G.conditionalSetEffectsDrawerOpen),i=window.store(G=>G.setConditionalSetEffectsDrawerOpen),l=y.useMemo(()=>{const G=[];for(let h=0;h<=5;h++)G.push({display:t("SelectOptions.Streetwise.Display",{stackCount:h}),value:h,label:t("SelectOptions.Streetwise.Label",{stackCount:h,buffValue:5*h})});return G},[t]),s=y.useMemo(()=>[{display:t("SelectOptions.Wastelander.Off.Display"),value:0,label:t("SelectOptions.Wastelander.Off.Label")},{display:t("SelectOptions.Wastelander.Debuffed.Display"),value:1,label:t("SelectOptions.Wastelander.Debuffed.Label")},{display:t("SelectOptions.Wastelander.Imprisoned.Display"),value:2,label:t("SelectOptions.Wastelander.Imprisoned.Label")}],[t]),o=y.useMemo(()=>{const G=[];for(let h=0;h<=2;h++)G.push({display:t("SelectOptions.Longevous.Display",{stackCount:h}),value:h,label:t("SelectOptions.Longevous.Label",{stackCount:h,buffValue:8*h})});return G},[t]),c=y.useMemo(()=>{const G=[];for(let h=0;h<=8;h++)G.push({display:t("SelectOptions.Ashblazing.Display",{stackCount:h}),value:h,label:t("SelectOptions.Ashblazing.Label",{stackCount:h,buffValue:6*h})});return G},[t]),r=y.useMemo(()=>{const G=[];for(let h=0;h<=3;h++)G.push({display:t("SelectOptions.Prisoner.Display",{stackCount:h}),value:h,label:t("SelectOptions.Prisoner.Label",{stackCount:h,buffValue:6*h})});return G},[t]),u=y.useMemo(()=>[{display:t("SelectOptions.Diver.Off.Display"),value:-1,label:t("SelectOptions.Diver.Off.Label")},{display:t("SelectOptions.Diver.1Debuff.Display"),value:0,label:t("SelectOptions.Diver.1Debuff.Label")},{display:t("SelectOptions.Diver.2Debuff.Display"),value:1,label:t("SelectOptions.Diver.2Debuff.Label")},{display:t("SelectOptions.Diver.3Debuff.Display"),value:2,label:t("SelectOptions.Diver.3Debuff.Label")},{display:t("SelectOptions.Diver.2+Debuff.Display"),value:3,label:t("SelectOptions.Diver.2+Debuff.Label")},{display:t("SelectOptions.Diver.3+Debuff.Display"),value:4,label:t("SelectOptions.Diver.3+Debuff.Label")}],[t]),f=y.useMemo(()=>{const G=[];for(let h=0;h<=10;h++)G.push({display:t("SelectOptions.Sigonia.Display",{stackCount:h}),value:h,label:t("SelectOptions.Sigonia.Label",{stackCount:h,buffValue:4*h})});return G},[t]),p=y.useMemo(()=>{const G=[];for(let h=0;h<=5;h++)G.push({display:t("SelectOptions.Duran.Display",{stackCount:h}),value:h,label:t("SelectOptions.Duran.Label",{stackCount:h,buffValue:5*h})});return G[5].label=t("SelectOptions.Duran.Label5"),G},[t]);return n.jsx(as,{title:t("Title"),placement:"right",onClose:()=>i(!1),open:a,width:750,forceRender:!0,children:n.jsxs(g,{justify:"center",children:[n.jsxs(g,{vertical:!0,gap:In,children:[n.jsxs(g,{gap:In,align:"center",justify:"flex-start",children:[n.jsx(Dn,{style:{width:zi}}),n.jsx(Dn,{style:{width:qi}})]}),n.jsx(Zt,{set:d.Sets.PasserbyOfWanderingCloud,description:t("RelicDescription",{id:101}),conditional:t("Conditionals.DefaultMessage"),p4Checked:!0}),n.jsx(Zt,{set:d.Sets.MusketeerOfWildWheat,description:t("RelicDescription",{id:102}),conditional:t("Conditionals.DefaultMessage"),p4Checked:!0}),n.jsx(Zt,{set:d.Sets.KnightOfPurityPalace,description:t("RelicDescription",{id:103}),conditional:t("Conditionals.DefaultMessage"),p4Checked:!0}),n.jsx(Zt,{set:d.Sets.HunterOfGlacialForest,description:t("RelicDescription",{id:104}),conditional:t("Conditionals.Hunter")}),n.jsx(Zt,{set:d.Sets.ChampionOfStreetwiseBoxing,selectOptions:l,description:t("RelicDescription",{id:105}),conditional:t("Conditionals.Streetwise")}),n.jsx(Zt,{set:d.Sets.GuardOfWutheringSnow,description:t("RelicDescription",{id:106}),conditional:t("Conditionals.DefaultMessage"),p4Checked:!0}),n.jsx(Zt,{set:d.Sets.FiresmithOfLavaForging,description:t("RelicDescription",{id:107}),conditional:t("Conditionals.Firesmith")}),n.jsx(Zt,{set:d.Sets.GeniusOfBrilliantStars,description:t("RelicDescription",{id:108}),conditional:t("Conditionals.Genius")}),n.jsx(Zt,{set:d.Sets.BandOfSizzlingThunder,description:t("RelicDescription",{id:109}),conditional:t("Conditionals.Thunder")}),n.jsx(Zt,{set:d.Sets.EagleOfTwilightLine,description:t("RelicDescription",{id:110}),conditional:t("Conditionals.DefaultMessage"),p4Checked:!0}),n.jsx(Zt,{set:d.Sets.ThiefOfShootingMeteor,description:t("RelicDescription",{id:111}),conditional:t("Conditionals.DefaultMessage"),p4Checked:!0}),n.jsx(Zt,{set:d.Sets.WastelanderOfBanditryDesert,selectOptions:s,description:t("RelicDescription",{id:112}),conditional:t("Conditionals.Wastelander")}),n.jsx(Zt,{set:d.Sets.LongevousDisciple,selectOptions:o,description:t("RelicDescription",{id:113}),conditional:t("Conditionals.Longevous")}),n.jsx(Zt,{set:d.Sets.MessengerTraversingHackerspace,description:t("RelicDescription",{id:114}),conditional:t("Conditionals.Messenger")}),n.jsx(Zt,{set:d.Sets.TheAshblazingGrandDuke,selectOptions:c,description:t("RelicDescription",{id:115}),conditional:t("Conditionals.Ashblazing")}),n.jsx(Zt,{set:d.Sets.PrisonerInDeepConfinement,selectOptions:r,description:t("RelicDescription",{id:116}),conditional:t("Conditionals.Prisoner")}),n.jsx(Zt,{set:d.Sets.PioneerDiverOfDeadWaters,selectOptions:u,description:t("RelicDescription",{id:117}),conditional:t("Conditionals.Diver")}),n.jsx(Zt,{set:d.Sets.WatchmakerMasterOfDreamMachinations,description:t("RelicDescription",{id:118}),conditional:t("Conditionals.Watchmaker")}),n.jsx(Zt,{set:d.Sets.IronCavalryAgainstTheScourge,description:t("RelicDescription",{id:119}),conditional:t("Conditionals.DefaultMessage"),p4Checked:!0}),n.jsx(Zt,{set:d.Sets.TheWindSoaringValorous,description:t("RelicDescription",{id:120}),conditional:t("Conditionals.Valorous")}),!ja[d.SetsRelics.SacerdosRelivedOrdeal]&&n.jsx(Zt,{set:d.Sets.SacerdosRelivedOrdeal,description:t("RelicDescription",{id:121}),conditional:I.t("BetaMessage",{ns:"conditionals",Version:Je}),p4Checked:!0}),!ja[d.SetsRelics.ScholarLostInErudition]&&n.jsx(Zt,{set:d.Sets.ScholarLostInErudition,description:t("RelicDescription",{id:122}),conditional:I.t("BetaMessage",{ns:"conditionals",Version:Je})})]}),n.jsx(dn,{}),n.jsxs(g,{vertical:!0,gap:In,style:{marginLeft:5},children:[n.jsxs(g,{gap:In,align:"center",justify:"flex-start",children:[n.jsx(Dn,{style:{width:zi}}),n.jsx(Dn,{style:{width:qi}})]}),n.jsx(Zt,{set:d.Sets.SpaceSealingStation,description:t("PlanarDescription",{id:301}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),n.jsx(Zt,{set:d.Sets.FleetOfTheAgeless,description:t("PlanarDescription",{id:302}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),n.jsx(Zt,{set:d.Sets.PanCosmicCommercialEnterprise,description:t("PlanarDescription",{id:303}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),n.jsx(Zt,{set:d.Sets.BelobogOfTheArchitects,description:t("PlanarDescription",{id:304}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),n.jsx(Zt,{set:d.Sets.CelestialDifferentiator,description:t("PlanarDescription",{id:305}),conditional:t("Conditionals.Differentiator")}),n.jsx(Zt,{set:d.Sets.InertSalsotto,description:t("PlanarDescription",{id:306}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),n.jsx(Zt,{set:d.Sets.TaliaKingdomOfBanditry,description:t("PlanarDescription",{id:307}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),n.jsx(Zt,{set:d.Sets.SprightlyVonwacq,description:t("PlanarDescription",{id:308}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),n.jsx(Zt,{set:d.Sets.RutilantArena,description:t("PlanarDescription",{id:309}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),n.jsx(Zt,{set:d.Sets.BrokenKeel,description:t("PlanarDescription",{id:310}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),n.jsx(Zt,{set:d.Sets.FirmamentFrontlineGlamoth,description:t("PlanarDescription",{id:311}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),n.jsx(Zt,{set:d.Sets.PenaconyLandOfTheDreams,description:t("PlanarDescription",{id:312}),conditional:t("Conditionals.DefaultMessage"),p2Checked:!0}),n.jsx(Zt,{set:d.Sets.SigoniaTheUnclaimedDesolation,selectOptions:f,description:t("PlanarDescription",{id:313}),conditional:t("Conditionals.Sigonia")}),n.jsx(Zt,{set:d.Sets.IzumoGenseiAndTakamaDivineRealm,description:t("PlanarDescription",{id:314}),conditional:t("Conditionals.Izumo")}),n.jsx(Zt,{set:d.Sets.DuranDynastyOfRunningWolves,selectOptions:p,description:t("PlanarDescription",{id:315}),conditional:t("Conditionals.Duran")}),n.jsx(Zt,{set:d.Sets.ForgeOfTheKalpagniLantern,description:t("PlanarDescription",{id:316}),conditional:t("Conditionals.Kalpagni")}),n.jsx(Zt,{set:d.Sets.LushakaTheSunkenSeas,description:t("PlanarDescription",{id:317}),conditional:t("Conditionals.Lushaka"),p2Checked:!0}),n.jsx(Zt,{set:d.Sets.TheWondrousBananAmusementPark,description:t("PlanarDescription",{id:318}),conditional:t("Conditionals.Banana")})]})]})})}function Zt(t){const{t:a}=et("optimizerTab",{keyPrefix:"SetConditionals"}),i=n.jsxs(g,{vertical:!0,gap:10,children:[n.jsxs(g,{vertical:!0,children:[n.jsx(at,{children:n.jsx("p",{children:a("DescriptionHeader")})}),n.jsx("p",{dangerouslySetInnerHTML:{__html:t.description}})]}),n.jsxs(g,{vertical:!0,children:[n.jsx(at,{children:n.jsx("p",{children:a("EffectHeader")})}),n.jsx("p",{children:t.conditional})]})]});if(d.SetsRelicsNames.includes(t.set)){let l=n.jsx(Ya,{disabled:t.p4Checked});return t.selectOptions&&(l=n.jsx(K,{optionLabelProp:"display",listHeight:500,size:"small",style:{width:xi},dropdownStyle:{width:"fit-content"},options:t.selectOptions})),n.jsx(ri,{content:i,title:a("SetName",{id:Be[t.set]}),mouseEnterDelay:.5,overlayStyle:{width:600},children:n.jsxs(g,{gap:In,align:"center",justify:"flex-start",children:[n.jsx(g,{style:{width:zi},children:n.jsx("img",{src:N.getSetImage(t.set,d.Parts.PlanarSphere),style:{width:36,height:36}})}),n.jsx(Dn,{style:{width:qi,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:a("SetName",{id:Be[t.set]})}),n.jsx(g,{style:{width:xi},justify:"flex-end",children:n.jsx(X.Item,{name:["setConditionals",t.set,1],valuePropName:t.selectOptions?"value":"checked",children:l})})]})})}else{let l=n.jsx(Ya,{disabled:t.p2Checked});return t.selectOptions&&(l=n.jsx(K,{optionLabelProp:"display",listHeight:500,size:"small",style:{width:xi},dropdownStyle:{width:"fit-content"},options:t.selectOptions})),n.jsx(ri,{content:i,title:a("SetName",{id:Be[t.set]}),mouseEnterDelay:.5,overlayStyle:{width:600},children:n.jsxs(g,{gap:In,align:"center",justify:"flex-start",children:[n.jsx(g,{style:{width:zi},children:n.jsx("img",{src:N.getSetImage(t.set,d.Parts.PlanarSphere),style:{width:36,height:36}})}),n.jsx(Dn,{style:{width:qi,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:a("SetName",{id:Be[t.set]})}),n.jsx(g,{style:{width:xi},justify:"flex-end",children:n.jsx(X.Item,{name:["setConditionals",t.set,1],valuePropName:t.selectOptions?"value":"checked",children:l})})]})})}}Zt.propTypes={description:z.string,p2Checked:z.bool,p4Checked:z.bool,set:z.string,conditional:z.string,selectOptions:z.array};const x1=(t,a="#ebb434")=>{const i=[];let l="",s=!1,o=0;return t&&t.split("::BR::").forEach(c=>{i.length>0&&(i.push(n.jsx("br",{},o++)),i.push(n.jsx("br",{},o++)));for(let r=0;r<c.length;r++)c[r]>="0"&&c[r]<="9"||c[r]==="%"||c[r]==="A"&&c[r+1]&&/[2,4,6]/.test(c[r+1])||c[r]==="E"&&c[r+1]&&/[0-6]/.test(c[r+1])?(l+=c[r],s=!0):(s&&(i.push(n.jsx("span",{style:{color:a},children:l},o++)),l="",s=!1),i.push(n.jsx("span",{children:c[r]},o++)));s&&i.push(n.jsx("span",{style:{color:a},children:l},o++))}),n.jsx(n.Fragment,{children:i})},{Text:y1}=pt;function Si(t){const a=i=>{const[l,s]=Te.useState(!1),o=n.jsxs(y1,{style:{width:400,display:"block"},children:[n.jsx("hr",{}),i.content]});return n.jsx(ri,{trigger:"hover",placement:"left",content:o,title:i.title,open:l,mouseEnterDelay:.4,onOpenChange:s,children:n.jsx("span",{children:n.jsx(t,{...i})})})};return a.displayName="WithPopoverWrapped",a.propTypes=Si.propTypes,a}Si.displayName="WithPopover";Si.propTypes={title:Yl.string,content:Yl.object};const L1="flex-start",F1="center",M1=61,B1=55,P1=155,Zo=xe(pt)`
    white-space: pre-line;
`;function k1(t){return t.lc?"lightConeConditionals":"characterConditionals"}const H1=t=>{const a=t.percent?100:1,i=t.percent?.01:1,l=t.percent?"%":"",s=y.useRef(t.min),o=y.useRef(t.max),c=[k1(t),t.name];return t.teammateIndex!=null&&c.unshift(`teammate${t.teammateIndex}`),y.useEffect(()=>{const r=window.optimizerForm.getFieldValue(c);(r>=t.max||r==o.current)&&window.optimizerForm.setFieldValue(c,t.max),(r<=t.min||r==s.current)&&window.optimizerForm.setFieldValue(c,t.min),s.current=t.min,o.current=t.max},[t.min,t.max]),n.jsxs(g,{vertical:!0,gap:5,style:{marginBottom:0},children:[n.jsxs(g,{justify:L1,align:F1,children:[n.jsx("div",{style:{minWidth:M1,display:"block"},children:n.jsx(X.Item,{name:c,children:n.jsx(ua,{min:t.min,max:t.max,controls:!1,size:"small",style:{width:B1},parser:r=>r==null||r==""?0:Tn(parseFloat(r)/a),formatter:r=>`${Tn((r??0)*a)}${l}`,disabled:t.disabled})})}),n.jsx(Zo,{children:t.text})]}),n.jsxs(g,{align:"center",justify:"flex-start",gap:5,style:{height:14},children:[n.jsx(X.Item,{name:c,children:n.jsx(ns,{min:t.min,max:t.max,step:i,style:{minWidth:P1,marginTop:0,marginBottom:0,marginLeft:1},tooltip:{formatter:r=>`${Tn((r??0)*a)}${l}`},disabled:t.disabled})}),n.jsx(Zo,{style:{minWidth:20,marginBottom:2,textAlign:"center"},children:`${Tn(t.max*a)}${l}`})]})]})},N1=Si(H1),U1="flex-start",X1="center",Y1=xe(pt)`
    white-space: pre-line;
`;function K1(t){return t.lc?"lightConeConditionals":"characterConditionals"}const v1=t=>{const a=[K1(t),t.name];return t.teammateIndex!=null&&a.unshift(`teammate${t.teammateIndex}`),n.jsxs(g,{justify:U1,align:X1,children:[n.jsx(X.Item,{name:a,valuePropName:"checked",children:n.jsx(Ya,{checkedChildren:n.jsx(Wn,{}),unCheckedChildren:n.jsx(Xa,{}),disabled:t.disabled,defaultChecked:!1,style:{width:45,marginRight:5}})}),n.jsx(Y1,{children:t.text})]})},w1=Si(v1),A1={switch:w1,slider:N1},hc=({content:t,teammateIndex:a})=>{const{t:i}=et("optimizerTab"),l=[];let s=0;return t?t.length===0?a!=null?l.push(n.jsx("div",{children:i("NoTeamConditionals")},s++)):l.push(n.jsx("div",{children:i("NoConditionals")},s++)):t.forEach(o=>{const c=A1[o.formItem];o.teammateIndex=a,l.push(y.createElement(c,{...o,name:o.id,title:o.title,content:x1(o.content),text:o.text,key:s++})),s++}):a!=null?l.push(n.jsx("div",{children:i("NoTeamConditionals")},s++)):l.push(n.jsx("div",{children:i("NoConditionals")},s++)),n.jsx(g,{vertical:!0,gap:8,children:l})},Cl=y.memo(({id:t,eidolon:a,teammateIndex:i})=>{const{t:l}=et("optimizerTab"),s=t;if(!t||!qs[s])return n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsx(at,{children:l("CharacterPassives")}),n.jsx(Ot,{type:Jt.characterPassives()})]});const o=qs[s],c=o(a),r=i!=null?c.teammateContent?c.teammateContent():void 0:c.content();return n.jsxs(g,{vertical:!0,gap:5,children:[i==null&&n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsx(at,{children:l("CharacterPassives")}),n.jsx(Ot,{type:Jt.characterPassives()})]}),n.jsx(hc,{content:r,teammateIndex:i})]})});Cl.displayName="CharacterConditionalDisplay";const Tl=y.memo(t=>{const{t:a}=et("optimizerTab"),{id:i,superImposition:l,teammateIndex:s}=t,o=i;if(!o||!$s[o])return n.jsxs(g,{vertical:!0,gap:5,children:[n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsx(at,{children:a("LightconePassives")}),n.jsx(Ot,{type:Jt.lightConePassives()})]}),s==null&&n.jsx(pt.Text,{italic:!0})]});const c=$s[o],r=c(l-1),u=s!=null?r.teammateContent?r.teammateContent():void 0:r.content();return n.jsxs(g,{vertical:!0,gap:5,children:[n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsx(at,{children:a("LightconePassives")}),n.jsx(Ot,{type:Jt.lightConePassives()})]}),n.jsx(hc,{content:u,teammateIndex:s})]})});Tl.displayName="LightConeConditionalDisplay";const{useToken:j1}=Ze,{Paragraph:J1}=pt,O1=100,Q1=150,pc=t=>n.jsxs("div",{children:[n.jsx("img",{width:t.innerW,src:t.imgSrc,style:{transform:`translate(${(t.innerW-O1)/2/t.innerW*-100}%, ${(t.innerH-Q1)/2/t.innerH*-100}%)`}}),n.jsx(J1,{ellipsis:{rows:t.rows},style:{position:"absolute",bottom:0,left:0,width:"110%",textAlign:"center",background:"#282B31",color:"#D0D0D2",marginLeft:"-5%",paddingLeft:10,paddingRight:10,lineHeight:"16px",height:18*t.rows,alignItems:"center",marginBottom:0,fontSize:13},children:n.jsx("div",{style:{position:"relative",top:"50%",transform:"translateY(-50%)",maxHeight:18*t.rows,textOverflow:"ellipsis",overflow:"hidden"},children:t.text})})]});function Dl(){return Object.keys(Qr).map(t=>({key:t,display:n.jsx("img",{style:{width:32},src:N.getPath(t)})}))}function _1(){return[5,4,3].map(t=>{const a=[];for(let i=0;i<t;i++)a.push(n.jsx("img",{style:{width:16},src:N.getStar()},i));return{key:t,display:n.jsx(g,{flex:1,justify:"center",align:"center",style:{marginTop:1},children:a})}})}function Sc(){return Object.keys(vn).map(t=>({key:t,display:n.jsx("img",{style:{width:30},src:N.getElement(t)})}))}function Nn({currentFilters:t,name:a,flexBasis:i,tags:l,setCurrentFilters:s}){const{token:o}=j1(),c=t[a],r=(u,f)=>{const p=f?[...c,u]:c.filter(h=>h!=u),G=x.clone(t);G[a]=p,console.log("filters",a,G),s(G)};return n.jsx(g,{style:{flexWrap:"wrap",flexGrow:1,backgroundColor:o.colorBgContainer,boxShadow:`0px 0px 0px 1px ${o.colorBorder} inset`,borderRadius:6,overflow:"hidden",height:40},children:l.map(u=>n.jsx(r0,{checked:c.includes(u.key),onChange:f=>r(u.key,f),style:{flex:1,flexBasis:i,boxShadow:`1px 1px 1px 0px ${o.colorBorder}`,backgroundColor:c.includes(u.key)?o.colorPrimary:"transparent"},children:n.jsx(g,{align:"center",justify:"space-around",style:{height:"100%"},children:u.display})},u.key))})}const z1="linear-gradient(#8A6700 0px, #D6A100 63px, #D6A100 112px, #282B31 112px, #282B31 150px)",q1="linear-gradient(#5F388C 0px, #9F6CD9 63px, #9F6CD9 112px, #282B31 112px, #282B31 150px)",$1="linear-gradient(#2d4cc5 0px, #4A85C8 63px, #4A85C8 112px, #282B31 112px, #282B31 150px)",tp={5:z1,4:q1,3:$1},ep=100,ap=150,np=115,ip=150,Il=({characterId:t,value:a,onChange:i,selectStyle:l,initialPath:s,withIcon:o,externalOpen:c,setExternalOpen:r})=>{const u=L.getMetadata(),[f,p]=y.useState(!1),{t:G}=et("modals",{keyPrefix:"LightconeSelect"}),h=y.useMemo(()=>({rarity:[],path:s??(t?[u.characters[t].path]:[]),name:""}),[t,s]),m=y.useRef(null),[b,R]=y.useState(x.clone(h)),S=y.useMemo(()=>x.generateLightConeOptions(),[G]),Z=y.useMemo(()=>{const V=[];for(const M of S)V.push({value:M.value,label:n.jsxs(g,{gap:5,align:"center",children:[n.jsx("img",{src:N.getPath(u.lightCones[M.value].path),style:{height:22,marginRight:4}}),M.label]})});return V},[S]);y.useEffect(()=>{(f||c)&&setTimeout(()=>{var V;return(V=m==null?void 0:m.current)==null?void 0:V.focus()},100)},[f,c]);function C(V){return!(b.rarity.length&&!b.rarity.includes(V.rarity)||b.path.length&&!b.path.includes(V.path)||!V.name.toLowerCase().includes(b.name))}const D=V=>{p(!1),r&&r(!1),i&&i(V)};return n.jsxs(n.Fragment,{children:[n.jsx(K,{style:l,value:a,options:o?Z:S,placeholder:G("Placeholder"),allowClear:!0,onClear:()=>{i&&i(null)},onDropdownVisibleChange:V=>{V&&(p(!0),R(x.clone(h)))},dropdownStyle:{display:"none"},suffixIcon:null}),n.jsx(Ie,{open:f||c,centered:!0,width:"90%",style:{height:"70%",maxWidth:1200},destroyOnClose:!0,title:G("Title"),onCancel:()=>{p(!1),r&&r(!1)},footer:null,children:n.jsxs(g,{vertical:!0,gap:12,children:[n.jsxs(g,{gap:12,wrap:"wrap",children:[n.jsx(g,{vertical:!0,wrap:"wrap",style:{minWidth:300,flexGrow:1},children:n.jsx(Qe,{size:"large",style:{height:40},placeholder:G("Placeholder"),ref:m,onChange:V=>{const M=x.clone(b);M.name=V.target.value.toLowerCase(),R(M)},onPressEnter:()=>{const V=S.filter(C)[0];V&&D(V.id)}})}),n.jsxs(g,{wrap:"wrap",style:{flexGrow:1},gap:12,children:[n.jsx(g,{wrap:"wrap",style:{minWidth:350,flexGrow:1},children:n.jsx(Nn,{name:"path",tags:Dl(),flexBasis:"14.2%",currentFilters:b,setCurrentFilters:R})}),n.jsx(g,{wrap:"wrap",style:{minWidth:350,flexGrow:1},children:n.jsx(Nn,{name:"rarity",tags:_1(),flexBasis:"14.2%",currentFilters:b,setCurrentFilters:R})})]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(auto-fill, minmax(${ep}px, 1fr))`,gridGap:8},children:S.sort(x.sortRarityDesc).filter(C).map(V=>n.jsx(Ln,{hoverable:!0,style:{background:tp[V.rarity],overflow:"hidden",height:`${ap}px`},onMouseDown:()=>D(V.id),styles:{body:{padding:1}},children:n.jsx(pc,{imgSrc:N.getLightConeIconById(V.id),text:V.label,innerW:np,innerH:ip,rows:2})},V.id))})]})})]})},sp=100,lp=150,op=150,cp=170,rp="linear-gradient(#8A6700 0px, #D6A100 63px, #D6A100 130px, #282B31 130px, #282B31 150px)",dp="linear-gradient(#5F388C 0px, #9F6CD9 63px, #9F6CD9 130px, #282B31 130px, #282B31 150px)",go={rarity:[],path:[],element:[],name:""},Un=({value:t,onChange:a,selectStyle:i,multipleSelect:l,withIcon:s,externalOpen:o,setExternalOpen:c})=>{const r=y.useRef(null),{t:u}=et("modals",{keyPrefix:"CharacterSelect"}),[f,p]=y.useState(!1),[G,h]=y.useState(x.clone(go)),m=y.useMemo(()=>x.generateCharacterOptions(),[u]),[b,R]=y.useState(new Map),S=window.store(E=>E.excludedRelicPotentialCharacters),Z=[];for(const E of m)Z.push({value:E.value,label:n.jsxs(g,{gap:5,align:"center",children:[n.jsx("img",{src:N.getCharacterAvatarById(E.value),style:{height:22,marginRight:4}}),E.label]})});y.useEffect(()=>{if((f||o)&&(setTimeout(()=>{var E;return(E=r==null?void 0:r.current)==null?void 0:E.focus()},100),l)){const E=new Map(S.map(P=>[P,!0]));R(E)}},[f,o]);function C(E){return!(G.element.length&&!G.element.includes(E.element)||G.path.length&&!G.path.includes(E.path)||!E.label.toLowerCase().includes(G.name)||!E.displayName.toLowerCase().includes(G.name))}const D=E=>{l?(b.set(E,!b.get(E)),R(new Map(b))):(p(!1),c&&c(!1),a&&a(E))},V=()=>{const E=new Map(b);m.filter(C).forEach(P=>E.set(P.id,!0)),R(E)},M=()=>{const E=new Map(b);m.filter(C).forEach(P=>E.delete(P.id)),R(E)};return n.jsxs(n.Fragment,{children:[n.jsx(K,{style:i,value:t,options:s?Z:m,placeholder:u(l?"MultiSelect.Placeholder":"SingleSelect.Placeholder"),allowClear:!0,maxTagCount:0,maxTagPlaceholder:()=>n.jsx("span",{children:S.length?u("MultiSelect.MaxTagPlaceholderSome",{count:S.length}):u("MultiSelect.MaxTagPlaceholderNone")}),onClear:()=>{a&&a(null)},onDropdownVisibleChange:E=>{E&&(p(!0),h(x.clone(go)))},dropdownStyle:{display:"none"},suffixIcon:null,mode:l?"multiple":void 0}),n.jsx(Ie,{open:f||o,centered:!0,destroyOnClose:!0,width:"90%",style:{height:"80%",maxWidth:1450},title:u(l?"MultiSelect.ModalTitle":"SingleSelect.ModalTitle"),onCancel:()=>{l&&a&&a(b),p(!1),c&&c(!1)},footer:null,children:n.jsxs(g,{vertical:!0,gap:12,style:{minWidth:350},children:[n.jsxs(g,{gap:12,wrap:"wrap",children:[n.jsxs(g,{wrap:"nowrap",style:{flexGrow:1},gap:10,children:[n.jsx(Qe,{size:"large",style:{height:40,flex:1},placeholder:u("SearchPlaceholder"),ref:r,onChange:E=>{const P=x.clone(G);P.name=E.target.value.toLowerCase(),h(P)},onPressEnter:()=>{const E=m.filter(C)[0];E&&D(E.id)}}),l&&n.jsxs(g,{gap:12,children:[n.jsx(w,{onClick:V,style:{height:"100%",width:120},children:u("ExcludeButton")}),n.jsx(w,{onClick:M,style:{height:"100%",width:120},children:u("ClearButton")})]})]}),n.jsxs(g,{wrap:"wrap",style:{minWidth:350,flexGrow:1},gap:12,children:[n.jsx(g,{wrap:"wrap",style:{minWidth:350,flexGrow:1},children:n.jsx(Nn,{name:"element",tags:Sc(),flexBasis:"14.2%",currentFilters:G,setCurrentFilters:h})}),n.jsx(g,{wrap:"wrap",style:{minWidth:350,flexGrow:1},children:n.jsx(Nn,{name:"path",tags:Dl(),flexBasis:"14.2%",currentFilters:G,setCurrentFilters:h})})]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(auto-fill, minmax(${sp}px, 1fr))`,gridGap:8},children:m.sort(x.sortRarityDesc).filter(C).map(E=>n.jsx(Ln,{hoverable:!0,style:{background:E.rarity===5?rp:dp,overflow:"hidden",height:`${lp}px`,...b.get(E.id)?{opacity:.25,background:"grey"}:{}},styles:{body:{padding:1}},onMouseDown:()=>D(E.id),children:n.jsx(pc,{imgSrc:N.getCharacterPreviewById(E.id),text:E.label,innerW:op,innerH:cp,rows:1})},E.id))})]})})]})},{Text:Rc}=pt,Vn=110,up=Vn,mp=Vn,Ri=120,bp=Ri,hp=Ri,Co=Ri,To=Ri,pp=480,Do=t=>t.data.value?n.jsxs(g,{gap:10,align:"center",children:[n.jsx(g,{children:n.jsx("img",{src:N.getSetImage(t.data.value,d.Parts.PlanarSphere),style:{width:26,height:26}})}),t.data.desc]}):n.jsx(Rc,{children:"None"}),Pa=(t,a)=>n.jsxs(g,{align:"center",gap:3,children:[n.jsx("img",{src:N.getSetImage(t,d.Parts.PlanarSphere),style:{width:20,height:20}}),n.jsx(Rc,{style:{fontSize:12},children:a})]});function Sp(t){return`teammate${t}`}function Rp(){return{characterEidolon:0,characterConditionals:{},lightConeSuperimposition:1,lightConeConditionals:{}}}const fp=[F.MessengerTraversingHackerspace,F.WatchmakerMasterOfDreamMachinations],Gp=[F.BrokenKeel,F.FleetOfTheAgeless,F.PenaconyLandOfTheDreams,F.LushakaTheSunkenSeas];function Zp(t){const a=Object.values(t.equipped).map(l=>L.getRelicById(l)).filter(l=>l),i={};for(const l of fp)a.filter(s=>s.set==l).length==4&&l!=F.MessengerTraversingHackerspace&&(i.teamRelicSet=l);for(const l of Gp)a.filter(s=>s.set==l).length==2&&(i.teamOrnamentSet=l);return i}function gp(){const t=window.optimizerForm.getFieldsValue();return[t.teammate0,t.teammate1,t.teammate2].filter(a=>a==null?void 0:a.characterId).length}const Ms=t=>{const{t:a}=et("optimizerTab",{keyPrefix:"TeammateCard"}),i=y.useMemo(()=>Sp(t.index),[t.index]),l=X.useWatch([i,"characterId"],window.optimizerForm),s=X.useWatch([i,"characterEidolon"],window.optimizerForm),o=X.useWatch([i,"lightCone"],window.optimizerForm),c=X.useWatch([i,"lightConeSuperimposition"],window.optimizerForm),[r,u]=y.useState(!1),[f,p]=y.useState(!1),G=l==null,h=y.useMemo(()=>[{value:F.MessengerTraversingHackerspace,desc:a("TeammateSets.Messenger.Desc"),label:Pa(F.MessengerTraversingHackerspace,a("TeammateSets.Messenger.Text"))},{value:F.WatchmakerMasterOfDreamMachinations,desc:a("TeammateSets.Watchmaker.Desc"),label:Pa(F.WatchmakerMasterOfDreamMachinations,a("TeammateSets.Watchmaker.Text"))},{value:ul,desc:a("TeammateSets.Sacerdos1Stack.Desc"),label:Pa(F.SacerdosRelivedOrdeal,a("TeammateSets.Sacerdos1Stack.Text"))},{value:ml,desc:a("TeammateSets.Sacerdos2Stack.Desc"),label:Pa(F.SacerdosRelivedOrdeal,a("TeammateSets.Sacerdos2Stack.Text"))}],[a]),m=y.useMemo(()=>[{value:F.BrokenKeel,desc:a("TeammateSets.Keel.Desc"),label:Pa(F.BrokenKeel,a("TeammateSets.Keel.Text"))},{value:F.FleetOfTheAgeless,desc:a("TeammateSets.Ageless.Desc"),label:Pa(F.FleetOfTheAgeless,a("TeammateSets.Ageless.Text"))},{value:F.PenaconyLandOfTheDreams,desc:a("TeammateSets.Penacony.Desc"),label:Pa(F.PenaconyLandOfTheDreams,a("TeammateSets.Penacony.Text"))},{value:F.LushakaTheSunkenSeas,desc:a("TeammateSets.Lushaka.Desc"),label:Pa(F.LushakaTheSunkenSeas,a("TeammateSets.Lushaka.Text"))}],[a]),b=y.useMemo(()=>{const Z=[];for(let C=1;C<=5;C++)Z.push({value:C,label:a("SuperimpositionN",{superimposition:C})});return Z},[a]),R=y.useMemo(()=>{const Z=[];for(let C=0;C<=6;C++)Z.push({value:C,label:a("EidolonN",{eidolon:C})});return Z},[a]);function S(){if(window.store.getState().setTeammateCount(gp()),!l){window.optimizerForm.setFieldValue([i],Rp());return}const C=tt.getDisplayFormValues(tt.getForm())[i],D=L.getCharacterById(l);if(D){C.lightCone=D.form.lightCone,C.lightConeSuperimposition=D.form.lightConeSuperimposition||1,C.characterEidolon=D.form.characterEidolon;const M=Zp(D);C.teamRelicSet=M.teamRelicSet,C.teamOrnamentSet=M.teamOrnamentSet}else C.lightConeSuperimposition=1,C.characterEidolon=0;const V=Wa.get({characterId:l,characterEidolon:C.characterEidolon,characterConditionals:{},lightConeSuperimposition:C.lightConeSuperimposition,lightConeConditionals:{}});V.teammateDefaults&&(C.characterConditionals=Object.assign({},V.teammateDefaults(),C.characterConditionals),window.optimizerForm.setFieldValue([i],C))}return y.useEffect(()=>{S()},[l,t.index]),y.useEffect(()=>{if(!o)return;const Z=tt.getDisplayFormValues(tt.getForm()),C=ma.get({lightCone:o,lightConeSuperimposition:c});if(!C.teammateDefaults)return;const D=Object.assign({},C.teammateDefaults(),Z[i].lightConeConditionals);window.optimizerForm.setFieldValue([i,"lightConeConditionals"],D)},[o,c,t.index]),n.jsx(Ne,{size:"medium",height:pp,style:{overflow:"auto"},children:n.jsxs(g,{vertical:!0,gap:5,children:[n.jsxs(g,{gap:5,children:[n.jsx(X.Item,{name:[i,"characterId"],style:{flex:1},children:n.jsx(Un,{value:"",selectStyle:{},externalOpen:r,setExternalOpen:u})}),n.jsx(w,{icon:n.jsx(d0,{}),style:{width:35},disabled:G,onClick:()=>{S(),j.success(a("TeammateSyncSuccessMessage"))}}),n.jsx(X.Item,{name:[i,"characterEidolon"],children:n.jsx(K,{showSearch:!0,style:{width:110},options:R,placeholder:a("EidolonPlaceholder"),disabled:G})})]}),n.jsxs(g,{children:[n.jsx(g,{vertical:!0,style:{minWidth:258,marginLeft:5},children:n.jsx(Cl,{id:l,eidolon:s,teammateIndex:t.index})}),n.jsxs(g,{vertical:!0,gap:5,children:[n.jsx("div",{style:{width:`${Vn}px`,height:`${Vn}px`,borderRadius:"10px"},children:n.jsx("img",{width:Vn,height:Vn,src:N.getCharacterAvatarById(l),onClick:()=>u(!0),style:{cursor:"pointer"}})}),n.jsx(X.Item,{name:[i,"teamRelicSet"],children:n.jsx(K,{className:"teammate-set-select",style:{width:110},options:h,placeholder:a("RelicsPlaceholder"),allowClear:!0,popupMatchSelectWidth:!1,optionLabelProp:"label",optionRender:Do,disabled:G})}),n.jsx(X.Item,{name:[i,"teamOrnamentSet"],children:n.jsx(K,{className:"teammate-set-select",style:{width:110},options:m,placeholder:a("OrnamentsPlaceholder"),allowClear:!0,popupMatchSelectWidth:!1,optionLabelProp:"label",optionRender:Do,disabled:G})})]})]}),n.jsx("div",{style:{height:1}}),n.jsxs(g,{gap:5,children:[n.jsx(X.Item,{name:[i,"lightCone"],children:n.jsx(Il,{value:"",selectStyle:{width:258},characterId:l,externalOpen:f,setExternalOpen:p})}),n.jsx(X.Item,{name:[i,"lightConeSuperimposition"],children:n.jsx(K,{showSearch:!0,style:{width:110},options:b,placeholder:a("SuperimpositionPlaceholder"),disabled:G})})]}),n.jsxs(g,{children:[n.jsx(g,{vertical:!0,style:{minWidth:258,marginLeft:5},children:n.jsx(Tl,{id:o,superImposition:c,teammateIndex:t.index})}),n.jsx(g,{children:n.jsx("div",{style:{width:`${up}px`,height:`${mp}px`,borderRadius:"10px"},children:n.jsx("img",{width:Ri,src:N.getLightConeIconById(o),style:{marginLeft:-5,transform:`translate(${(Co-bp)/2/Co*-100}%, ${(To-hp)/2/To*-100}%)`,cursor:"pointer"},onClick:()=>p(!0)})})})]})]})})};function Cp(t){const{t:a}=et(["optimizerTab","common"]),i=window.store(m=>m.optimizerTabFocusCharacter),l=window.store(m=>m.setOptimizerTabFocusCharacter),s=window.store(m=>m.setOptimizerFormCharacterEidolon),o=window.store(m=>m.setOptimizerFormSelectedLightCone),c=window.store(m=>m.setOptimizerFormSelectedLightConeSuperimposition),r=window.store(m=>m.optimizerTabFocusCharacterSelectModalOpen),u=window.store(m=>m.setOptimizerTabFocusCharacterSelectModalOpen);y.useEffect(()=>{tt.updateCharacter(i)},[i]);const f=y.useMemo(()=>{const m=[];for(let b=0;b<=6;b++)m.push({value:b,label:a("common:EidolonNShort",{eidolon:b})});return m},[a]),p=y.useMemo(()=>{const m=[];for(let b=1;b<=5;b++)m.push({value:b,label:a("common:SuperimpositionNShort",{superimposition:b})});return m},[a]),G=y.useMemo(()=>{const m=[];for(let b=64;b<=65536;b=b*2)m.push({value:b,label:a("ResultLimitN",{limit:b})});return m},[a]),h=y.useMemo(()=>[{label:"Damage calculations",options:[{value:v.COMBO.key,label:a("SortOptions.COMBO")},{value:v.BASIC.key,label:a("SortOptions.BASIC")},{value:v.SKILL.key,label:a("SortOptions.SKILL")},{value:v.ULT.key,label:a("SortOptions.ULT")},{value:v.FUA.key,label:a("SortOptions.FUA")},{value:v.DOT.key,label:a("SortOptions.DOT")},{value:v.BREAK.key,label:a("SortOptions.BREAK")}]},{label:"Stats",options:[{value:v.HP.key,label:a("SortOptions.HP")},{value:v.ATK.key,label:a("SortOptions.ATK")},{value:v.DEF.key,label:a("SortOptions.DEF")},{value:v.SPD.key,label:a("SortOptions.SPD")},{value:v.CR.key,label:a("SortOptions.CR")},{value:v.CD.key,label:a("SortOptions.CD")},{value:v.EHR.key,label:a("SortOptions.EHR")},{value:v.RES.key,label:a("SortOptions.RES")},{value:v.BE.key,label:a("SortOptions.BE")},{value:v.OHB.key,label:a("SortOptions.OHB")},{value:v.ERR.key,label:a("SortOptions.ERR")},{value:v.ELEMENTAL_DMG.key,label:a("SortOptions.DMG")},{value:v.EHP.key,label:a("SortOptions.EHP")},{value:v.WEIGHT.key,label:a("SortOptions.WEIGHT")}]}],[a]);return n.jsxs(g,{vertical:!0,gap:de,children:[n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsx(at,{children:a("CharacterSelector.Character")}),n.jsx(Ot,{type:Jt.character()})]}),n.jsxs(g,{gap:de,children:[n.jsx(X.Item,{name:"characterId",children:n.jsx(Un,{value:"",selectStyle:{width:156},onChange:l,externalOpen:r,setExternalOpen:u})}),n.jsx(X.Item,{name:"characterEidolon",children:n.jsx(K,{showSearch:!0,style:{width:50},options:f,onChange:s,placeholder:a("CharacterSelector.EidolonPlaceholder"),popupMatchSelectWidth:55,suffixIcon:null})})]}),n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsx(at,{children:a("CharacterSelector.Lightcone")}),n.jsx(Ot,{type:Jt.lightCone()})]}),n.jsx(g,{vertical:!0,gap:de,children:n.jsxs(g,{gap:de,children:[n.jsx(X.Item,{name:"lightCone",children:n.jsx(Il,{value:"",selectStyle:{width:156},characterId:i,onChange:o})}),n.jsx(X.Item,{name:"lightConeSuperimposition",children:n.jsx(K,{showSearch:!0,style:{width:50},onChange:c,options:p,placeholder:a("CharacterSelector.SuperimpositionPlaceholder"),popupMatchSelectWidth:55,suffixIcon:null})})]})}),n.jsx(g,{justify:"space-between",align:"center",style:{marginTop:16},children:n.jsx(at,{children:a("CharacterSelector.Presets")})}),n.jsx(nh,{}),n.jsx(g,{justify:"space-between",align:"center",style:{marginTop:16},children:n.jsx(at,{children:a("CharacterSelector.Target")})}),n.jsx(X.Item,{name:"resultsLimit",children:n.jsx(K,{showSearch:!0,style:{width:Xe},options:G,placeholder:a("CharacterSelector.ResultsPlaceholder"),listHeight:800})}),n.jsx(X.Item,{name:"resultSort",children:n.jsx(K,{showSearch:!0,style:{width:Xe},options:h,listHeight:800,popupMatchSelectWidth:250,placeholder:a("CharacterSelector.TargetPlaceholder"),filterOption:x.labelFilterOption})})]})}function fc(t){const{value:a,closable:i,onClose:l}=t;if(!a)return n.jsx(ci,{closable:i,onClose:l,children:n.jsx(g,{children:(t.label||"").replace(/[^0-9+]/g,"")})});const s=a.split("__RC_CASCADER_SPLIT__");let o;return s[0]==De.relic4Piece&&(o=n.jsxs(Te.Fragment,{children:[n.jsx("img",{title:s[1],src:N.getSetImage(s[1],d.Parts.Head),style:{width:26,height:26}}),n.jsx("img",{title:s[1],src:N.getSetImage(s[1],d.Parts.Head),style:{width:26,height:26}})]})),s[0]==De.relic2Plus2Piece&&(o=n.jsxs(Te.Fragment,{children:[n.jsx("img",{title:s[1],src:N.getSetImage(s[1],d.Parts.Head),style:{width:26,height:26}}),n.jsx("img",{title:s[2],src:N.getSetImage(s[2],d.Parts.Head),style:{width:26,height:26}})]})),s[0]==De.relic2PlusAny&&(o=n.jsx(Te.Fragment,{children:n.jsx("img",{title:s[1],src:N.getSetImage(s[1],d.Parts.Head),style:{width:26,height:26}})})),n.jsx(ci,{closable:!1,onClose:l,style:{display:"flex",flexDirection:"row",paddingInline:"1px",marginInlineEnd:"4px",height:22,alignItems:"center",overflow:"hidden"},children:n.jsx(g,{children:o})})}fc.propTypes={value:z.string,closable:z.bool,onClose:z.func};const{SHOW_CHILD:Tp}=u0;function Dp(t){const{t:a}=et(["optimizerTab","common"]),i=window.store(l=>l.setConditionalSetEffectsDrawerOpen);return n.jsxs(g,{vertical:!0,gap:de,children:[n.jsxs(g,{vertical:!0,gap:de,children:[n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsx(at,{children:a("MainStats")}),n.jsx(Ot,{type:Jt.mainStats()})]}),n.jsx(X.Item,{name:"mainBody",children:n.jsxs(K,{mode:"multiple",allowClear:!0,style:{width:Xe},placeholder:a("common:Parts.Body"),optionLabelProp:"label",maxTagCount:"responsive",suffixIcon:n.jsx("img",{style:{width:16},src:N.getPart(T.Body)}),children:[n.jsx(K.Option,{value:d.Stats.HP_P,label:a("common:ShortStats.HP%"),children:a("common:Stats.HP%")}),n.jsx(K.Option,{value:d.Stats.ATK_P,label:a("common:ShortStats.ATK%"),children:a("common:Stats.ATK%")}),n.jsx(K.Option,{value:d.Stats.DEF_P,label:a("common:ShortStats.DEF%"),children:a("common:Stats.DEF%")}),n.jsx(K.Option,{value:d.Stats.CR,label:a("common:ShortStats.CRIT Rate"),children:a("common:Stats.CRIT Rate")}),n.jsx(K.Option,{value:d.Stats.CD,label:a("common:ShortStats.CRIT DMG"),children:a("common:Stats.CRIT DMG")}),n.jsx(K.Option,{value:d.Stats.EHR,label:a("common:ShortStats.Effect Hit Rate"),children:a("common:Stats.Effect Hit Rate")}),n.jsx(K.Option,{value:d.Stats.OHB,label:a("common:ShortStats.Outgoing Healing Boost"),children:a("common:Stats.Outgoing Healing Boost")})]})}),n.jsx(X.Item,{name:"mainFeet",children:n.jsxs(K,{mode:"multiple",allowClear:!0,style:{width:Xe},placeholder:a("common:Parts.Feet"),optionLabelProp:"label",maxTagCount:"responsive",suffixIcon:n.jsx("img",{style:{width:16},src:N.getPart(T.Feet)}),children:[n.jsx(K.Option,{value:d.Stats.HP_P,label:a("common:ShortStats.HP%"),children:a("common:Stats.HP%")}),n.jsx(K.Option,{value:d.Stats.ATK_P,label:a("common:ShortStats.ATK%"),children:a("common:Stats.ATK%")}),n.jsx(K.Option,{value:d.Stats.DEF_P,label:a("common:ShortStats.DEF%"),children:a("common:Stats.DEF%")}),n.jsx(K.Option,{value:d.Stats.SPD,label:a("common:ShortStats.SPD"),children:a("common:Stats.SPD")})]})}),n.jsx(X.Item,{name:"mainPlanarSphere",children:n.jsxs(K,{mode:"multiple",allowClear:!0,style:{width:Xe},placeholder:a("common:Parts.PlanarSphere"),optionLabelProp:"label",listHeight:400,maxTagCount:"responsive",suffixIcon:n.jsx("img",{style:{width:16},src:N.getPart(T.PlanarSphere)}),children:[n.jsx(K.Option,{value:d.Stats.HP_P,label:a("common:ShortStats.HP%"),children:a("common:Stats.HP%")}),n.jsx(K.Option,{value:d.Stats.ATK_P,label:a("common:ShortStats.ATK%"),children:a("common:Stats.ATK%")}),n.jsx(K.Option,{value:d.Stats.DEF_P,label:a("common:ShortStats.DEF%"),children:a("common:Stats.DEF%")}),n.jsx(K.Option,{value:d.Stats.Physical_DMG,label:a("common:ShortStats.Physical DMG Boost"),children:a("common:Stats.Physical DMG Boost")}),n.jsx(K.Option,{value:d.Stats.Fire_DMG,label:a("common:ShortStats.Fire DMG Boost"),children:a("common:Stats.Fire DMG Boost")}),n.jsx(K.Option,{value:d.Stats.Ice_DMG,label:a("common:ShortStats.Ice DMG Boost"),children:a("common:Stats.Ice DMG Boost")}),n.jsx(K.Option,{value:d.Stats.Lightning_DMG,label:a("common:ShortStats.Lightning DMG Boost"),children:a("common:Stats.Lightning DMG Boost")}),n.jsx(K.Option,{value:d.Stats.Wind_DMG,label:a("common:ShortStats.Wind DMG Boost"),children:a("common:Stats.Wind DMG Boost")}),n.jsx(K.Option,{value:d.Stats.Quantum_DMG,label:a("common:ShortStats.Quantum DMG Boost"),children:a("common:Stats.Quantum DMG Boost")}),n.jsx(K.Option,{value:d.Stats.Imaginary_DMG,label:a("common:ShortStats.Imaginary DMG Boost"),children:a("common:Stats.Imaginary DMG Boost")})]})}),n.jsx(X.Item,{name:"mainLinkRope",children:n.jsxs(K,{mode:"multiple",allowClear:!0,style:{width:Xe},placeholder:a("common:Parts.LinkRope"),optionLabelProp:"label",maxTagCount:"responsive",suffixIcon:n.jsx("img",{style:{width:16},src:N.getPart(T.LinkRope)}),children:[n.jsx(K.Option,{value:d.Stats.HP_P,label:a("common:ShortStats.HP%"),children:a("common:Stats.HP%")}),n.jsx(K.Option,{value:d.Stats.ATK_P,label:a("common:ShortStats.ATK%"),children:a("common:Stats.ATK%")}),n.jsx(K.Option,{value:d.Stats.DEF_P,label:a("common:ShortStats.DEF%"),children:a("common:Stats.DEF%")}),n.jsx(K.Option,{value:d.Stats.BE,label:a("common:ShortStats.Break Effect"),children:a("common:Stats.Break Effect")}),n.jsx(K.Option,{value:d.Stats.ERR,label:a("common:ShortStats.Energy Regeneration Rate"),children:a("common:Stats.Energy Regeneration Rate")})]})})]}),n.jsxs(g,{vertical:!0,gap:de,children:[n.jsxs(g,{justify:"space-between",align:"center",style:{marginTop:12},children:[n.jsx(at,{children:a("Sets")}),n.jsx(Ot,{type:Jt.sets()})]}),n.jsx(X.Item,{name:"relicSets",children:n.jsx(u0,{placeholder:"Relic set",options:y.useMemo(()=>Rh(),[a]),showCheckedStrategy:Tp,tagRender:fc,placement:"bottomLeft",maxTagCount:"responsive",multiple:!0,expandTrigger:"hover"})}),n.jsx(X.Item,{name:"ornamentSets",children:n.jsx(K,{dropdownStyle:{width:250},listHeight:800,mode:"multiple",allowClear:!0,style:{width:Xe},options:y.useMemo(()=>O0(),[a]),tagRender:si,placeholder:"Ornament set",maxTagCount:"responsive"})})]}),n.jsx(w,{onClick:()=>i(!0),icon:n.jsx(wa,{}),children:a("SetConditionals.Title")})]})}const Ip=140,Vp=xe(pt)`
    white-space: pre-line;
`;function sa(t){return n.jsxs(g,{children:[n.jsx(g,{justify:"flex-start",style:{width:45,marginRight:10},children:n.jsx(Vp,{children:t.text})}),n.jsx(g,{align:"center",children:n.jsx(X.Item,{name:["weights",t.name],children:n.jsx(ns,{min:0,max:1,step:.25,style:{minWidth:Ip,marginTop:0,marginBottom:0,marginLeft:0},onChangeComplete:a=>window.onOptimizerFormValuesChange(a,window.optimizerForm.getFieldsValue(),!0)})})})]})}sa.propTypes={text:z.string,name:z.string};const Wp={0:[T.Head,T.Hands],1:[T.Body,T.Feet],2:[T.PlanarSphere,T.LinkRope]},Ep={0:"headHands",1:"bodyFeet",2:"sphereRope"},Io=5;function Bs(t){const{index:a}=t,i=Wp[a],l=Ep[a],[s,o]=y.useState(1),c=r=>{o(r)};return n.jsxs(g,{gap:5,style:{marginBottom:0},align:"center",children:[n.jsxs(g,{gap:5,justify:"flex-start",style:{minWidth:50},children:[n.jsx("img",{src:Assets.getPart(i[0]),style:{width:18}}),n.jsx("img",{src:Assets.getPart(i[1]),style:{width:18}})]}),n.jsx(g,{align:"center",justify:"flex-start",gap:10,children:n.jsx(X.Item,{name:["weights",l],children:n.jsx(ns,{min:0,max:Io,step:.5,style:{minWidth:105,marginTop:0,marginBottom:0,marginLeft:0,marginRight:5},keyboard:!1,tooltip:{formatter:r=>`${x.precisionRound(r)}`},value:typeof s=="number"?s:0,onChange:c,onChangeComplete:r=>window.onOptimizerFormValuesChange(r,window.optimizerForm.getFieldsValue(),!0)})})}),n.jsx(X.Item,{name:["weights",l],children:n.jsx(ua,{size:"small",className:"center-input-text",style:{width:40},controls:!1,min:0,max:Io,variant:"borderless",onChange:r=>{c(r),window.onOptimizerFormValuesChange(r,window.optimizerForm.getFieldsValue(),!0)}})})]})}const xp=()=>{const{t}=et("optimizerTab",{keyPrefix:"WeightFilter"});return n.jsxs(g,{vertical:!0,gap:4,children:[n.jsxs(g,{vertical:!0,gap:0,children:[n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsx(at,{children:t("WeightFilterHeader")}),n.jsx(Ot,{type:Jt.substatWeightFilter()})]}),n.jsx(sa,{text:t("HPFilterText"),name:d.Stats.HP_P}),n.jsx(sa,{text:t("ATKFilterText"),name:d.Stats.ATK_P}),n.jsx(sa,{text:t("DEFFilterText"),name:d.Stats.DEF_P}),n.jsx(sa,{text:t("SPDFilterText"),name:d.Stats.SPD}),n.jsx(sa,{text:t("CRFilterText"),name:d.Stats.CR}),n.jsx(sa,{text:t("CDFilterText"),name:d.Stats.CD}),n.jsx(sa,{text:t("EHRFilterText"),name:d.Stats.EHR}),n.jsx(sa,{text:t("RESFilterText"),name:d.Stats.RES}),n.jsx(sa,{text:t("BEFilterText"),name:d.Stats.BE})]}),n.jsxs(g,{vertical:!0,gap:3,children:[n.jsx(at,{children:t("RollFilterHeader")}),n.jsxs(g,{vertical:!0,gap:5,children:[n.jsx(Bs,{index:0}),n.jsx(Bs,{index:1}),n.jsx(Bs,{index:2})]})]})]})},$i=xe(ua)`
    width: 60px
`,{Text:yp}=pt,Lp=xe(yp)`
    display: block;
    text-align: center;
`,le=t=>n.jsxs(g,{justify:"space-between",style:{margin:0},children:[n.jsx(X.Item,{name:`min${t.name}`,style:{margin:0},children:n.jsx($i,{size:"small",controls:!1,style:{margin:0,width:63}})}),n.jsx(Lp,{children:t.label}),n.jsx(X.Item,{name:`max${t.name}`,style:{marginRight:0},children:n.jsx($i,{size:"small",controls:!1,style:{margin:0,width:63}})})]});le.propTypes={name:z.string,label:z.string};const Fp=()=>{const{t}=et("optimizerTab",{keyPrefix:"MinMaxFilters"}),[a,i]=y.useState("Stats");return n.jsxs("div",{children:[n.jsxs(g,{vertical:!0,gap:de,style:{display:a=="Stats"?"flex":"none"},children:[n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsx(at,{children:t("StatHeader")}),n.jsx(Ot,{type:Jt.statFilters()})]}),n.jsxs(g,{vertical:!0,gap:5,children:[n.jsx(le,{name:"Hp",label:t("HPLabel")}),n.jsx(le,{name:"Atk",label:t("ATKLabel")}),n.jsx(le,{name:"Def",label:t("DEFLabel")}),n.jsx(le,{name:"Spd",label:t("SPDLabel")}),n.jsx(le,{name:"Cr",label:t("CRLabel")}),n.jsx(le,{name:"Cd",label:t("CDLabel")}),n.jsx(le,{name:"Ehr",label:t("EHRLabel")}),n.jsx(le,{name:"Res",label:t("RESLabel")}),n.jsx(le,{name:"Be",label:t("BELabel")}),n.jsx(le,{name:"Err",label:t("ERRLabel")})]}),n.jsx(g,{style:{height:20,width:"100%",marginTop:-4,cursor:"pointer"},justify:"space-around",align:"flex-start",onClick:()=>i("Ratings"),children:n.jsx(Kl,{})})]}),n.jsxs(g,{vertical:!0,gap:de,style:{display:a=="Ratings"?"flex":"none"},children:[n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsx(at,{children:t("RatingHeader")}),n.jsx(Ot,{type:Jt.ratingFilters()})]}),n.jsx(le,{name:"Weight",label:t("WEIGHTLabel")}),n.jsx(le,{name:"Ehp",label:t("EHPLabel")}),n.jsx(le,{name:"Basic",label:t("BASICLabel")}),n.jsx(le,{name:"Skill",label:t("SKILLLabel")}),n.jsx(le,{name:"Ult",label:t("ULTLabel")}),n.jsx(le,{name:"Fua",label:t("FUALabel")}),n.jsx(le,{name:"Dot",label:t("DOTLabel")}),n.jsx(le,{name:"Break",label:t("BREAKLabel")}),n.jsx(le,{name:"Combo",label:t("COMBOLabel")}),n.jsx(g,{style:{height:20,width:"100%",marginTop:-4,cursor:"pointer"},justify:"space-around",align:"flex-start",onClick:()=>i("Stats"),children:n.jsx(Kl,{})})]})]})},re=22,xt=8,zn=280*3+xt*2,Ra=198*2+xt,Mp=1024,Bp=240,Pp=280,Gc=250,kp=1260/902*Gc,Ps=240,{Text:Hp}=pt,Np=()=>{const{t}=et("optimizerTab",{keyPrefix:"CombatBuffs"}),a=window.store(s=>s.combatBuffsDrawerOpen),i=window.store(s=>s.setCombatBuffsDrawerOpen),l=y.useMemo(()=>Object.values(_i).map(s=>n.jsx(Up,{title:t(`${s.key}`),name:s.key},s.key)),[t]);return n.jsx(as,{title:t("Title"),placement:"right",onClose:()=>i(!1),open:a,width:300,forceRender:!0,children:n.jsx(g,{vertical:!0,gap:xt,children:n.jsx(g,{vertical:!0,gap:de,children:l})})})};function Up(t){return n.jsxs(g,{justify:"space-between",children:[n.jsx(Hp,{children:t.title}),n.jsx(X.Item,{name:["combatBuffs",t.name],children:n.jsx($i,{size:"small",controls:!1})})]})}const Vo=233,Wo=350,ks=350,Eo=400,Xp=()=>{const t=window.store(a=>a.optimizerTabFocusCharacter);return n.jsx("div",{style:{width:`${Vo}px`,height:`${Wo}px`,borderRadius:"10px",position:"relative"},children:n.jsx("img",{width:ks,src:N.getCharacterPreviewById(t),style:{transform:`translate(${(ks-Vo)/2/ks*-100}%, ${(Eo-Wo)/2/Eo*-100}%)`,cursor:"pointer"},onClick:()=>{window.store.getState().setOptimizerTabFocusCharacterSelectModalOpen(!0)}})})};function Yp(t){return n.jsx(g,{vertical:!0,style:{overflow:"hidden",borderRadius:"10px",paddingBottom:10,background:"rgb(29 42 81 / 73%)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(5px)",outline:"1px solid rgba(255, 255, 255, 0.10)",WebkitBackdropFilter:"blur(5px)"},children:t.children})}const{Text:Kp}=pt,vp=()=>{const{t}=et("optimizerTab",{keyPrefix:"ComboFilter"});return n.jsxs(g,{vertical:!0,gap:de,children:[n.jsx(at,{children:t("Header")}),n.jsxs(g,{vertical:!0,gap:de,children:[n.jsx(gn,{title:t("BASIC"),name:"BASIC"}),n.jsx(gn,{title:t("SKILL"),name:"SKILL"}),n.jsx(gn,{title:t("ULT"),name:"ULT"}),n.jsx(gn,{title:t("FUA"),name:"FUA"}),n.jsx(gn,{title:t("DOT"),name:"DOT"}),n.jsx(gn,{title:t("BREAK"),name:"BREAK"})]})]})};function gn(t){return n.jsxs(g,{justify:"space-between",children:[n.jsx(Kp,{children:t.title}),n.jsx(X.Item,{name:["combo",t.name],children:n.jsx($i,{addonBefore:"⨯",size:"small",controls:!0,style:{width:90},rootClassName:"comboInputNumber"})})]})}const{Text:xo}=pt,wp=()=>{const{t}=et("optimizerTab",{keyPrefix:"EnemyConfiguration"}),a=window.store(u=>u.enemyConfigurationsDrawerOpen),i=window.store(u=>u.setEnemyConfigurationsDrawerOpen),l=y.useMemo(()=>{const u=[];for(let f=95;f>=1;f--)u.push({value:f,label:t("LevelOptionLabel",{level:f,defense:200+10*f})});return u},[t]),s=y.useMemo(()=>{const u=[];for(let f=1;f<=5;f+=2)u.push({value:f,label:t("CountOptionLabel",{targetCount:f})});return u},[t]),o=y.useMemo(()=>{const u=[];for(let f=20;f<=60;f+=20)u.push({value:f/100,label:t("ResOptionLabel",{resistance:f})});return u},[t]),c=y.useMemo(()=>{const u=[];for(let f=0;f<=40;f+=10)u.push({value:f/100,label:t("EfresOptionLabel",{resistance:f})});return u},[t]),r=y.useMemo(()=>{const u=[];for(let f=720;f>=1;f-=30)u.push({value:f,label:t("ToughnessOptionLabel",{toughness:f})});return u},[t]);return n.jsx(as,{title:t("Title"),placement:"right",onClose:()=>i(!1),open:a,width:300,forceRender:!0,children:n.jsxs(g,{vertical:!0,gap:5,children:[n.jsxs(g,{justify:"space-between",align:"center",style:{marginBottom:5},children:[n.jsx(at,{children:t("StatHeader")}),n.jsx(Ot,{type:Jt.enemyOptions()})]}),n.jsx(X.Item,{name:"enemyLevel",children:n.jsx(K,{showSearch:!0,filterOption:x.labelFilterOption,options:l})}),n.jsx(X.Item,{name:"enemyResistance",children:n.jsx(K,{showSearch:!0,filterOption:x.labelFilterOption,options:o})}),n.jsx(X.Item,{name:"enemyEffectResistance",children:n.jsx(K,{showSearch:!0,filterOption:x.labelFilterOption,options:c})}),n.jsx(X.Item,{name:"enemyMaxToughness",children:n.jsx(K,{showSearch:!0,filterOption:x.labelFilterOption,options:r,optionLabelProp:"number"})}),n.jsx(X.Item,{name:"enemyCount",children:n.jsx(K,{showSearch:!0,filterOption:x.labelFilterOption,options:s})}),n.jsxs(g,{align:"center",children:[n.jsx(X.Item,{name:"enemyElementalWeak",valuePropName:"checked",children:n.jsx(Ya,{checkedChildren:n.jsx(Wn,{}),unCheckedChildren:n.jsx(Xa,{}),defaultChecked:!0,style:{width:45,marginRight:5}})}),n.jsx(xo,{children:t("WeaknessLabel")})]}),n.jsxs(g,{align:"center",children:[n.jsx(X.Item,{name:"enemyWeaknessBroken",valuePropName:"checked",children:n.jsx(Ya,{checkedChildren:n.jsx(Wn,{}),unCheckedChildren:n.jsx(Xa,{}),style:{width:45,marginRight:5}})}),n.jsx(xo,{children:t("BrokenLabel")})]})]})})};const Ap=()=>{const{t}=et("optimizerTab",{keyPrefix:"AdvancedOptions"}),a=window.store(o=>o.setCombatBuffsDrawerOpen),i=window.store(o=>o.setEnemyConfigurationsDrawerOpen),l=X.useWatch(o=>o.combatBuffs,window.optimizerForm),s=y.useMemo(()=>l?Object.values(l).filter(o=>o!=null).length:0,[l]);return n.jsxs(g,{vertical:!0,gap:de,children:[n.jsx(at,{style:{marginTop:25},children:t("Header")}),n.jsx(w,{onClick:()=>a(!0),icon:n.jsx(wa,{}),children:t(s?"CombatBuffsButtonText":"CombatBuffsButtonTextNone")}),n.jsx(w,{onClick:()=>i(!0),icon:n.jsx(wa,{}),children:t("EnemyConfigButtonText")})]})};function jp(){console.log("======================================================================= RENDER OptimizerForm");const[t]=X.useForm();window.optimizerForm=t,y.useEffect(()=>{var o;const l=L.getCharacters()||[],s=window.store.getState().savedSession[ne.optimizerCharacterId];tt.updateCharacter(s||((o=l[0])==null?void 0:o.id))},[]);const a=(l,s,o)=>{if(!l||!s||!s.characterId)return;const c=Object.keys(l);if(!o){if(c.length==1&&(c[0].startsWith("min")||c[0].startsWith("max")||c[0].startsWith("buff")||c[0].startsWith("statDisplay")||c[0].startsWith("statSim")||c[0].startsWith("teammate")||c[0].startsWith("combo")||c[0].startsWith("combatBuffs")||c[0]=="characterConditionals"||c[0]=="lightConeConditionals"))return}const r=s;c[0]==="characterId"&&(window.store.getState().setSavedSessionKey(ne.optimizerCharacterId,l.characterId),setTimeout(()=>Ct.save(),1e3)),!L.getCharacterById(s.characterId)&&c[0]!="characterId"&&L.addFromForm(s),l.rank!=null&&L.getCharacterById(s.characterId).rank!=s.rank&&(L.insertCharacter(s.characterId,s.rank),L.refreshCharacters());const[u,f]=Hn.getFilteredRelics(r,s.characterId),p={Head:u.Head.length,Hands:u.Hands.length,Body:u.Body.length,Feet:u.Feet.length,PlanarSphere:u.PlanarSphere.length,LinkRope:u.LinkRope.length,HeadTotal:f[d.Parts.Head].length,HandsTotal:f[d.Parts.Hands].length,BodyTotal:f[d.Parts.Body].length,FeetTotal:f[d.Parts.Feet].length,PlanarSphereTotal:f[d.Parts.PlanarSphere].length,LinkRopeTotal:f[d.Parts.LinkRope].length};window.store.getState().setPermutationDetails(p),window.store.getState().setPermutations(u.Head.length*u.Hands.length*u.Body.length*u.Feet.length*u.PlanarSphere.length*u.LinkRope.length)};window.onOptimizerFormValuesChange=a;function i(){console.log("Start clicked");const l=tt.getForm();if(!tt.validateForm(l))return;window.store.getState().setPermutationsSearched(0),window.store.getState().setPermutationsResults(0),window.store.getState().setOptimizationInProgress(!0),L.addFromForm(l),Ct.save();const s=x.randomId();window.store.getState().setOptimizationId(s),l.optimizationId=s,l.statDisplay=window.store.getState().statDisplay,console.log("Form finished",l),setTimeout(()=>Hn.optimize(l),50)}return window.optimizerStartClicked=i,n.jsx("div",{style:{position:"relative"},children:n.jsxs(X,{form:t,layout:"vertical",onValuesChange:a,children:[n.jsx(E1,{}),n.jsxs(Yp,{children:[n.jsxs(Ui,{id:Ta.characterOptions,children:[n.jsx(Ne,{style:{overflow:"hidden"},children:n.jsx(Xp,{})}),n.jsx(Ne,{children:n.jsx(Cp,{})}),n.jsx(Ne,{children:n.jsx(Jp,{})}),n.jsx(Ne,{justify:"space-between",children:n.jsx(Op,{})}),n.jsx(Ne,{children:n.jsx(W1,{})})]}),n.jsxs(Ui,{id:Ta.relicAndStatFilters,children:[n.jsx(Ne,{children:n.jsx(Dp,{})}),n.jsx(Ne,{children:n.jsx(xp,{})}),n.jsx(Ne,{children:n.jsx(Fp,{})}),n.jsx(Ne,{}),n.jsxs(Ne,{children:[n.jsx(vp,{}),n.jsx(Np,{}),n.jsx(wp,{})]})]}),n.jsxs(Ch,{id:Ta.teammates,children:[n.jsx(Ms,{index:0}),n.jsx(Ms,{index:1}),n.jsx(Ms,{index:2})]}),n.jsx(Ui,{id:Ta.characterStatsSimulation,children:n.jsx(Gh,{})})]})]})})}function Jp(){const t=window.store(i=>i.optimizerTabFocusCharacter),a=window.store(i=>i.optimizerFormCharacterEidolon);return n.jsx(Cl,{id:t,eidolon:a})}function Op(){const t=window.store(l=>l.optimizerTabFocusCharacter),a=window.store(l=>l.optimizerFormSelectedLightCone),i=window.store(l=>l.optimizerFormSelectedLightConeSuperimposition);return y.useEffect(()=>{var c;const s=ma.get(window.optimizerForm.getFieldsValue()).defaults(),o=((c=L.getCharacterById(t))==null?void 0:c.form.lightConeConditionals)||{};x.mergeDefinedValues(s,o),a==="21034"&&(s.maxEnergyStacks=Math.min(160,L.getMetadata().characters[t].max_sp)),window.optimizerForm.setFieldValue("lightConeConditionals",s)},[t,a,i]),n.jsxs(g,{vertical:!0,justify:"space-between",style:{height:"100%",marginBottom:8},children:[n.jsx(Tl,{id:a,superImposition:i}),n.jsx(Ap,{})]})}const Vl={onEditOk:(t,a)=>{a.id=t.id;const i={...t,...a};return window.rescoreSingleRelic(i),L.setRelic(i),window.setRelicRows(L.getRelics()),console.log("onEditOk",i),j.success(I.t("modals:Relic.Messages.EditSuccess")),setTimeout(()=>{Ct.save(),window.forceCharacterTabUpdate()},200),tt.updateFilters(),i}};function Qp(t){if(console.log("Form finished",t),!t.part)return j.error(I.t("modals:Relic.Messages.Error.PartMissing"));if(!t.mainStatType)return j.error(I.t("modals:Relic.Messages.Error.MainstatMissing"));if(!t.mainStatValue)return j.error(I.t("modals:Relic.Messages.Error.MainstatMissing"));if(!t.set)return j.error(I.t("modals:Relic.Messages.Error.SetMissing"));if(t.enhance==null)return j.error(I.t("modals:Relic.Messages.Error.EnhanceMissing"));if(t.grade==null)return j.error(I.t("modals:Relic.Messages.Error.GradeMissing"));if(t.grade>5||t.grade<2)return j.error(I.t("modals:Relic.Messages.Error.GradeInvalid"));if(t.enhance>15||t.enhance<0)return j.error(I.t("modals:Relic.Messages.Error.EnhanceInvalid"));if(t.enhance>t.grade*3)return j.error(I.t("modals:Relic.Messages.Error.EnhanceTooHigh"));if(!d.SetsRelicsNames.includes(t.set)&&!d.SetsOrnamentsNames.includes(t.set))return j.error(I.t("modals:Relic.Messages.Error.SetInvalid"));if(d.SetsRelicsNames.includes(t.set)&&(t.part==d.Parts.PlanarSphere||t.part==d.Parts.LinkRope))return j.error(I.t("modals:Relic.Messages.Error.SetNotOrnament"));if(d.SetsOrnamentsNames.includes(t.set)&&(t.part==d.Parts.Head||t.part==d.Parts.Hands||t.part==d.Parts.Body||t.part==d.Parts.Feet))return j.error(I.t("modals:Relic.Messages.Error.SetNotRelic"));if(t.substatType0!=null&&t.substatValue0==null||t.substatType0==null&&t.substatValue0!=null)return j.error(I.t("modals:Relic.Messages.Error.SubNInvalid",{number:1}));if(t.substatType1!=null&&t.substatValue1==null||t.substatType1==null&&t.substatValue1!=null)return j.error(I.t("modals:Relic.Messages.Error.SubNInvalid",{number:2}));if(t.substatType2!=null&&t.substatValue2==null||t.substatType2==null&&t.substatValue2!=null)return j.error(I.t("modals:Relic.Messages.Error.SubNInvalid",{number:3}));if(t.substatType3!=null&&t.substatValue3==null||t.substatType3==null&&t.substatValue3!=null)return j.error(I.t("modals:Relic.Messages.Error.SubNInvalid",{number:4}));if(t.substatType3!=null&&(t.substatType0==null||t.substatType1==null||t.substatType2==null))return j.error(I.t("modals:Relic.Messages.Error.SubsOutOfOrder"));if(t.substatType2!=null&&(t.substatType0==null||t.substatType1==null))return j.error(I.t("modals:Relic.Messages.Error.SubsOutOfOrder"));if(t.substatType1!=null&&t.substatType0==null)return j.error(I.t("modals:Relic.Messages.Error.SubsOutOfOrder"));const a=[t.substatType0,t.substatType1,t.substatType2,t.substatType3].filter(s=>s!=null);if(new Set(a).size!==a.length)return j.error(I.t("modals:Relic.Messages.Error.DuplicateSubs"));if(a.includes(t.mainStatType))return j.error(I.t("modals:Relic.Messages.Error.MainAsSub"));if(t.substatValue0>=1e3||t.substatValue1>=1e3||t.substatValue2>=1e3||t.substatValue3>=1e3)return j.error(I.t("modals:Relic.Messages.Error.SubTooBig"));if(t.mainStatValue>=1e3)return j.error(I.t("modals:Relic.Messages.Error.MainTooBig"));if(t.substatValue0<=0||t.substatValue1<=0||t.substatValue2<=0||t.substatValue3<=0)return j.error(I.t("modals:Relic.Messages.Error.SubTooSmall"));if(t.mainStatValue<=0)return j.error(I.t("modals:Relic.Messages.Error.MainTooSmall"));const i={equippedBy:t.equippedBy=="None"?void 0:t.equippedBy,enhance:t.enhance,grade:t.grade,part:t.part,set:t.set,main:{stat:t.mainStatType,value:t.mainStatValue}},l=[];return t.substatType0!=null&&t.substatValue0!=null&&l.push({stat:t.substatType0,value:t.substatValue0}),t.substatType1!=null&&t.substatValue1!=null&&l.push({stat:t.substatType1,value:t.substatValue1}),t.substatType2!=null&&t.substatValue2!=null&&l.push({stat:t.substatType2,value:t.substatValue2}),t.substatType3!=null&&t.substatValue3!=null&&l.push({stat:t.substatType3,value:t.substatValue3}),i.substats=l,bn.augment(i),i}function _p(t){const a=[{stat:t.substatType0,value:t.substatValue0},{stat:t.substatType1,value:t.substatValue1},{stat:t.substatType2,value:t.substatValue2},{stat:t.substatType3,value:t.substatValue3}],i=[];for(let{stat:l,value:s}of a)if(l!=null&&s!=null){if(s=="")s=0;else if(isNaN(parseFloat(s))){i.push({low:void 0,mid:void 0,high:void 0});continue}if(l==e.SPD){const u=parseFloat(s)+(t.grade==5?2:1);i.push({low:Math.floor(u),mid:void 0,high:Math.floor(u+1)});continue}const o=x.truncate10ths(x.precisionRound(parseFloat(s))),c=Bn.fixSubStatValue(l,o,5),r=x.clone(St[l][t.grade]);x.isFlat(l)?(r.low=Hs(c+r.low),r.mid=Hs(c+r.mid),r.high=Hs(c+r.high)):(r.low=Ns(c+r.low),r.mid=Ns(c+r.mid),r.high=Ns(c+r.high)),i.push(r)}else i.push({low:void 0,mid:void 0,high:void 0});return i}function Hs(t){return Math.floor(x.precisionRound(t))}function Ns(t){return x.truncate10ths(x.precisionRound(t)).toFixed(1)}const{useToken:zp}=Ze;function ln(t){return n.jsx(pe.Button,{value:t.value,style:{height:35,width:50,paddingLeft:10},children:n.jsx(oi,{preview:!1,width:30,src:t.src})})}ln.propTypes={value:z.string,src:z.string};xe(ua)`
    width: 90px
`;function yo(t){var l,s;const a=(l=t.main)==null?void 0:l.stat,i=(s=t.main)==null?void 0:s.value;return a?Zc(a,i):{}}function ka(t,a){const i=t.substats[a];if(!(i!=null&&i.stat))return{};const l=i.stat,s=i.value;return Zc(l,s,t)}function Zc(t,a,i){return t==e.SPD?i!=null&&i.verified?{stat:t,value:a.toFixed(1)}:{stat:t,value:a%1!==0?a.toFixed(1):Math.floor(a)}:x.isFlat(t)?{stat:t,value:Math.floor(a)}:{stat:t,value:x.precisionRound(Math.floor(a*10)/10).toFixed(1)}}function Xn(t){var V,M,E,P,H;const{t:a}=et(["modals","common","gameData"]),{token:i}=zp(),[l]=X.useForm(),[s,o]=y.useState([]),c=window.store(k=>k.characters),r=y.useMemo(()=>gl({currentCharacters:c}),[c,I.resolvedLanguage]),u=y.useMemo(function(){const B=[];for(const J of[...Object.entries(d.SetsRelics),...Object.entries(d.SetsOrnaments)].filter(st=>!ja[st[1]]))B.push({label:n.jsxs(g,{align:"center",gap:10,children:[n.jsx("img",{style:{height:22,width:22},src:N.getSetImage(J[1])}),I.t(`gameData:RelicSets.${Be[J[1]]}.Name`)]}),value:J[1]});return B},[I.resolvedLanguage]),f=X.useWatch("equippedBy",l),[p,G]=y.useState([]);y.useEffect(()=>{let k={grade:5,enhance:15,part:d.Parts.Head,mainStatType:d.Stats.HP,mainStatValue:Math.floor(d.MainStatsValues[d.Stats.HP][5].base+d.MainStatsValues[d.Stats.HP][5].increment*15)};const B=t.selectedRelic;!B||t.type!="edit"||(k={equippedBy:B.equippedBy??"None",grade:B.grade,enhance:B.enhance,set:B.set,part:B.part,mainStatType:yo(B).stat,mainStatValue:yo(B).value,substatType0:ka(B,0).stat,substatValue0:ka(B,0).value,substatType1:ka(B,1).stat,substatValue1:ka(B,1).value,substatType2:ka(B,2).stat,substatValue2:ka(B,2).value,substatType3:ka(B,3).stat,substatValue3:ka(B,3).value}),b(k),l.setFieldsValue(k)},[t.selectedRelic,t.open,l,t]),y.useEffect(()=>{var B,J,st,A;let k=[];(B=t.selectedRelic)!=null&&B.part&&(k=Object.entries(d.PartsMainStats[(J=t.selectedRelic)==null?void 0:J.part]).map(_=>({label:n.jsxs(g,{align:"center",gap:10,children:[n.jsx("img",{src:N.getStatIcon(_[1],!0),style:{width:22,height:22}}),a(`common:Stats.${_[1]}`)]}),value:_[1]}))),o(k),l.setFieldValue("mainStatType",(A=(st=t.selectedRelic)==null?void 0:st.main)==null?void 0:A.stat)},[(V=t.selectedRelic)==null?void 0:V.part,(E=(M=t.selectedRelic)==null?void 0:M.main)==null?void 0:E.stat,l,a]),y.useEffect(()=>{var k,B,J,st;s.length>0&&(s.map(_=>_.value).includes((B=(k=t.selectedRelic)==null?void 0:k.main)==null?void 0:B.stat)?l.setFieldValue("mainStatType",(st=(J=t.selectedRelic)==null?void 0:J.main)==null?void 0:st.stat):l.setFieldValue("mainStatType",s[0].value)),R()},[l,s,(H=(P=t.selectedRelic)==null?void 0:P.main)==null?void 0:H.stat]);const h=k=>{const B=Qp(k);B&&(qp(t.selectedRelic,B)&&(B.verified=!1),console.log(a("Relic.Messages.EditSuccess"),B),t.onOk(B),t.setOpen(!1))},m=()=>{j.error(a("Relic.Messages.SubmitFail")),t.setOpen(!1)},b=k=>{var _,dt;let B=[];k.part&&(B=Object.entries(d.PartsMainStats[k.part]).map(Yt=>({label:n.jsxs(g,{align:"center",gap:10,children:[n.jsx("img",{src:N.getStatIcon(Yt[1],!0),style:{width:22,height:22}}),a(`common:Stats.${Yt[1]}`)]}),value:Yt[1]})),o(B),l.setFieldValue("mainStatType",(_=B[0])==null?void 0:_.value));const J=((dt=B[0])==null?void 0:dt.value)||l.getFieldValue("mainStatType"),st=l.getFieldValue("enhance"),A=l.getFieldValue("grade");if(J!=null&&st!=null&&A!=null){const Yt=[d.Stats.OHB,d.Stats.Physical_DMG,d.Stats.Physical_DMG,d.Stats.Fire_DMG,d.Stats.Ice_DMG,d.Stats.Lightning_DMG,d.Stats.Wind_DMG,d.Stats.Quantum_DMG,d.Stats.Imaginary_DMG],vt=[d.Stats.HP,d.Stats.ATK,d.Stats.SPD];let ft=W.calculateRelicMainStatValue(J,A,st);Yt.includes(J)?ft=x.truncate10ths(ft):vt.includes(J)?ft=Math.floor(ft):ft=ft.toFixed(1),l.setFieldValue("mainStatValue",ft)}};function R(){const k=_p(l.getFieldsValue());G(k)}const S=()=>{t.setOpen(!1)},Z=()=>{l.submit()},C=()=>{l.setFieldValue("enhance",Math.min(l.getFieldValue("enhance")+3,15))},D=y.useMemo(()=>{const k=[];for(let B=15;B>=0;B--)k.push({value:B,label:"+"+B});return k},[]);return n.jsx(X,{form:l,layout:"vertical",preserve:!1,onFinish:h,onFinishFailed:m,onValuesChange:b,children:n.jsx(Ie,{width:560,centered:!0,destroyOnClose:!0,open:t.open,onCancel:()=>t.setOpen(!1),footer:[n.jsx(w,{onClick:S,children:a("common:Cancel",{capitalizeLength:1})},"back"),n.jsx(w,{type:"primary",onClick:Z,children:a("common:Submit",{capitalizeLength:1})},"submit")],children:n.jsxs(g,{vertical:!0,gap:5,children:[n.jsxs(g,{gap:10,children:[n.jsxs(g,{vertical:!0,gap:5,children:[n.jsx(at,{children:a("Relic.Part")}),n.jsx(X.Item,{name:"part",children:n.jsxs(pe.Group,{buttonStyle:"solid",children:[n.jsx(ln,{value:d.Parts.Head,src:N.getPart(d.Parts.Head)}),n.jsx(ln,{value:d.Parts.Hands,src:N.getPart(d.Parts.Hands)}),n.jsx(ln,{value:d.Parts.Body,src:N.getPart(d.Parts.Body)}),n.jsx(ln,{value:d.Parts.Feet,src:N.getPart(d.Parts.Feet)}),n.jsx(ln,{value:d.Parts.PlanarSphere,src:N.getPart(d.Parts.PlanarSphere)}),n.jsx(ln,{value:d.Parts.LinkRope,src:N.getPart(d.Parts.LinkRope)})]})}),n.jsx(at,{children:a("Relic.Set")}),n.jsx(X.Item,{name:"set",children:n.jsx(K,{showSearch:!0,allowClear:!0,style:{width:300},placeholder:"Sets",options:u,maxTagCount:"responsive"})}),n.jsx(at,{children:a("Relic.Enhance")}),n.jsxs(g,{gap:10,children:[n.jsx(X.Item,{name:"enhance",children:n.jsx(K,{showSearch:!0,style:{width:115},options:D})}),n.jsx(w,{style:{width:50},onClick:C,children:"+3"}),n.jsx(X.Item,{name:"grade",children:n.jsx(K,{showSearch:!0,style:{width:115},options:[{value:2,label:"2 ★"},{value:3,label:"3 ★"},{value:4,label:"4 ★"},{value:5,label:"5 ★"}],onChange:R})})]}),n.jsx(at,{children:a("Relic.Mainstat")}),n.jsxs(g,{gap:10,children:[n.jsx(X.Item,{name:"mainStatType",children:n.jsx(K,{showSearch:!0,style:{width:210},placeholder:"Main Stat",maxTagCount:"responsive",options:s,disabled:s.length<=1})}),n.jsx(X.Item,{name:"mainStatValue",children:n.jsx(ua,{controls:!1,disabled:!0,style:{width:80}})})]})]}),n.jsx("div",{style:{display:"block",minWidth:12}}),n.jsxs(g,{vertical:!0,gap:5,style:{},children:[n.jsx(at,{children:a("Relic.Wearer")}),n.jsx(X.Item,{name:"equippedBy",children:n.jsx(K,{showSearch:!0,filterOption:x.titleFilterOption,style:{height:35},options:r,optionLabelProp:"title"})}),n.jsx("div",{style:{height:180,overflow:"hidden",marginTop:7,borderRadius:10,boxShadow:`0px 0px 0px 1px ${i.colorBorder} inset`},children:n.jsx("img",{style:{width:"100%"},src:N.getCharacterPreviewById(f=="None"?"":f)})})]})]}),n.jsx(g,{gap:20,children:n.jsxs(g,{vertical:!0,gap:5,style:{width:"100%"},children:[n.jsxs(g,{justify:"space-between",children:[n.jsx(at,{children:a("Relic.Substat")}),n.jsx(g,{style:{width:180},children:n.jsx(at,{children:a("Relic.Upgrades")})})]}),n.jsx(yi,{index:0,upgrades:p,relicForm:l,resetUpgradeValues:R,plusThree:C}),n.jsx(yi,{index:1,upgrades:p,relicForm:l,resetUpgradeValues:R,plusThree:C}),n.jsx(yi,{index:2,upgrades:p,relicForm:l,resetUpgradeValues:R,plusThree:C}),n.jsx(yi,{index:3,upgrades:p,relicForm:l,resetUpgradeValues:R,plusThree:C})]})})]})})})}Xn.propTypes={selectedRelic:z.object,type:z.string,onOk:z.func,setOpen:z.func,open:z.bool};function yi(t){const a=y.useRef(null),[i,l]=Te.useState(!1),s=`substatType${t.index}`,o=`substatValue${t.index}`;t.relicForm.getFieldValue(s);const c=()=>{a.current&&a.current.select()};function r(p){console.log(t,p),t.relicForm.setFieldValue(o,t.upgrades[t.index][p]),t.resetUpgradeValues(),t.plusThree()}const u=y.useMemo(()=>{const p=[];for(const G of Object.entries(d.SubStats))p.push({label:n.jsxs(g,{align:"center",gap:10,children:[n.jsx("img",{style:{width:22,height:22},src:N.getStatIcon(G[1],!0)}),I.t(`common:Stats.${G[1]}`)]}),value:G[1]});return p},[I.resolvedLanguage]);function f(p){var h,m;const G=(m=(h=t.upgrades)==null?void 0:h[t.index])==null?void 0:m[p.quality];return n.jsx(g,{style:{width:"100%"},children:n.jsx(w,{type:i?"default":"dashed",style:{width:"100%",padding:0},onClick:()=>r(p.quality),disabled:G==null,tabIndex:-1,children:G||""})})}return n.jsxs(g,{gap:10,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[n.jsxs(g,{gap:10,children:[n.jsx(X.Item,{name:s,children:n.jsx(K,{showSearch:!0,allowClear:!0,style:{width:210},placeholder:"Substat",maxTagCount:"responsive",options:u,listHeight:750,onChange:()=>{t.relicForm.getFieldValue(s)?t.relicForm.setFieldValue(o,0):t.relicForm.setFieldValue(o,void 0),t.resetUpgradeValues()},tabIndex:0})}),n.jsx(X.Item,{name:`substatValue${t.index}`,children:n.jsx(Qe,{ref:a,onFocus:c,style:{width:80},onChange:t.resetUpgradeValues,tabIndex:0})})]}),n.jsx(hr,{style:{width:12}}),n.jsxs(g,{gap:5,style:{width:"100%"},children:[n.jsx(f,{quality:"low"}),n.jsx(f,{quality:"mid"}),n.jsx(f,{quality:"high"})]})]})}function Lo(t){var a;return x.objectHash({grade:t.grade,enhance:t.enhance,part:t.part,set:t.set,mainStatType:(a=t.main)==null?void 0:a.stat,substats:t.substats})}function qp(t,a){if(!t||!a)return!0;const i=Lo(t),l=Lo(a);return i!=l}const{Text:$p}=pt,yn=xe($p)`
    font-stretch: 95%;
    white-space: nowrap;
`,tS=()=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",children:n.jsx("g",{transform:"translate(24 1) scale(-1 1)",children:n.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"3",d:"M8 12L15 5M8 12L15 19"})})}),eS=t=>n.jsx(un,{component:tS,...t}),qn=(t,a,i)=>{const{t:l}=et("common");if(!(t!=null&&t.stat)||t.value==null)return n.jsx(g,{justify:"space-between",children:n.jsx(g,{children:n.jsx("img",{src:N.getBlank(),style:{width:re,height:re,marginRight:2,marginLeft:-3}})})});let s;return a?s=Q.renderMainStatNumber(t):s=Q.renderSubstatNumber(t,i),s+=x.isFlat(t.stat)?"":"%",n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsxs(g,{children:[n.jsx("img",{src:N.getStatIcon(t.stat),style:{width:re,height:re,marginRight:2,marginLeft:-3}}),n.jsx(yn,{children:l(`ReadableStats.${t.stat}`)})]}),a?n.jsx(yn,{children:s}):n.jsxs(g,{justify:"space-between",style:{width:"41.5%"},children:[n.jsx(g,{gap:0,align:"center",children:t.addedRolls!=null&&aS(t)}),n.jsx(yn,{children:s})]})]})};function aS(t){const a=[];for(let i=0;i<t.addedRolls;i++)a.push(n.jsx(eS,{style:{marginRight:-5,opacity:.75}},i));return t.addedRolls==0&&a.push(n.jsx("div",{},0)),a}const ce=({relic:t,characterId:a=void 0,score:i,source:l="",setSelectedRelic:s=()=>{},setEditModalOpen:o=()=>{},setAddModelOpen:c=()=>{}})=>{var D;t={enhance:0,part:void 0,set:void 0,grade:0,substats:[],main:void 0,equippedBy:void 0,...t};const{t:r}=et("common"),{enhance:u,part:f,set:p,substats:G,main:h,equippedBy:m,id:b}=t,R=p?N.getSetImage(p,f):N.getBlank(),S=m?N.getCharacterAvatarById(m):N.getBlank(),Z=t!==void 0&&i!==void 0,C=()=>{!b&&!a||l==="scorer"||l==="builds"||(b?(s(t),o(!0)):(console.log(`Add new relic for characterId=${a}.`),t.equippedBy=a,t.enhance=15,t.grade=5,s(t),c(!0)))};return n.jsx(Ln,{size:"small",hoverable:l!="scorer"&&l!="builds",onClick:C,style:{width:200,height:280},children:n.jsxs(g,{vertical:!0,justify:"space-between",style:{height:255},children:[n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsx("img",{style:{height:50,width:50},title:p,src:R}),n.jsx(g,{vertical:!0,align:"center",children:n.jsxs(g,{align:"center",gap:5,children:[Q.renderGrade(t),n.jsx(g,{style:{width:30},justify:"space-around",children:n.jsx(yn,{children:b!=null?`+${u}`:""})})]})}),n.jsx("img",{style:{height:50,width:50},src:S})]}),n.jsx(Ge,{style:{margin:"6px 0px 6px 0px"}}),qn(h,!0,t),n.jsx(Ge,{style:{margin:"6px 0px 6px 0px"}}),n.jsxs(g,{vertical:!0,gap:0,children:[qn(G[0],!1,t),qn(G[1],!1,t),qn(G[2],!1,t),qn(G[3],!1,t)]}),n.jsx(Ge,{style:{margin:"6px 0px 6px 0px"}}),n.jsxs(g,{justify:"space-between",children:[n.jsxs(g,{children:[n.jsx("img",{src:Z?N.getStarBw():N.getBlank(),style:{width:re,height:re,marginRight:2,marginLeft:-3}}),n.jsx(yn,{children:Z?r("Score",{capitalizeLength:1}):""})]}),n.jsx(yn,{children:Z?`${i.score} (${i.rating})${(D=i.meta)!=null&&D.modified?" *":""}`:""})]})]})})};ce.propTypes={relic:z.object,source:z.string,characterId:z.string,score:z.object,setEditModalOpen:z.func,setSelectedRelic:z.func};const Fo=["F","F","F","F+","D","D+","C","C+","B","B+","A","A+","S","S+","SS","SS+","SSS","SSS+","WTF","WTF+"],Na=1.8,fa=.582,bi=5.1,oe={[d.Parts.Body]:{[d.Stats.HP_P]:1.3,[d.Stats.ATK_P]:1.3,[d.Stats.DEF_P]:1.3,[d.Stats.CR]:1.7,[d.Stats.CD]:1.7,[d.Stats.OHB]:1.7,[d.Stats.EHR]:1.7},[d.Parts.Feet]:{[d.Stats.HP_P]:1,[d.Stats.ATK_P]:1,[d.Stats.DEF_P]:1,[d.Stats.SPD]:1.6},[d.Parts.PlanarSphere]:{[d.Stats.HP_P]:1.6,[d.Stats.ATK_P]:1.6,[d.Stats.DEF_P]:1.6,[d.Stats.Physical_DMG]:Na,[d.Stats.Fire_DMG]:Na,[d.Stats.Ice_DMG]:Na,[d.Stats.Lightning_DMG]:Na,[d.Stats.Wind_DMG]:Na,[d.Stats.Quantum_DMG]:Na,[d.Stats.Imaginary_DMG]:Na},[d.Parts.LinkRope]:{[d.Stats.HP_P]:1.1,[d.Stats.ATK_P]:1.1,[d.Stats.DEF_P]:1.1,[d.Stats.BE]:1.4,[d.Stats.ERR]:2}},Mo=new Set(d.SubStats);class ae{constructor(){Rn(this,"characterRelicScoreMetas");Rn(this,"optimalPartCharacterScore");Rn(this,"characterBaseStats");this.characterRelicScoreMetas=new Map,this.optimalPartCharacterScore=new Map,this.characterBaseStats=new Map}getBaseStats(a){let i=this.characterBaseStats.get(a);if(!i){const l=L.getMetadata().characters[a].stats;i={HP:l[d.Stats.HP],ATK:l[d.Stats.ATK],DEF:l[d.Stats.DEF]},this.characterBaseStats.set(a,i)}return i}getRelicScoreMeta(a){let i=this.characterRelicScoreMetas.get(a);if(!i){i=x.clone(L.getScoringMetadata(a));const l=this.getBaseStats(a);i.stats[d.Stats.HP]=i.stats[d.Stats.HP_P]*38/(l.HP*2*.03888),i.stats[d.Stats.ATK]=i.stats[d.Stats.ATK_P]*19/(l.ATK*2*.03888),i.stats[d.Stats.DEF]=i.stats[d.Stats.DEF_P]*19/(l.DEF*2*.0486),i.sortedSubstats=Object.entries(i.stats).filter(s=>Mo.has(s[0])).sort((s,o)=>o[1]-s[1]),i.groupedSubstats=new Map;for(const[s,o]of i.sortedSubstats)i.groupedSubstats.has(o)||i.groupedSubstats.set(o,[]),i.groupedSubstats.get(o).push(s);for(const s of i.groupedSubstats.values())s.sort();this.characterRelicScoreMetas.set(a,i)}return i}substatScore(a,i){const l=this.getRelicScoreMeta(i);if(!l||!i||!a)return console.warn("substatScore() called but missing 1 or more arguments. relic:",a,"meta:",l,"id:",i),{score:0,mainStatScore:0,scoringMetadata:l,part:a==null?void 0:a.part};const s={[d.Stats.HP_P]:64.8/43.2,[d.Stats.ATK_P]:64.8/43.2,[d.Stats.DEF_P]:64.8/54,[d.Stats.HP]:64.8/43.2*St[d.Stats.HP_P][5].high/St[d.Stats.HP][5].high,[d.Stats.ATK]:64.8/43.2*St[d.Stats.ATK_P][5].high/St[d.Stats.ATK][5].high,[d.Stats.DEF]:64.8/54*St[d.Stats.DEF_P][5].high/St[d.Stats.DEF][5].high,[d.Stats.CR]:64.8/32.4,[d.Stats.CD]:64.8/64.8,[d.Stats.OHB]:64.8/34.5606,[d.Stats.EHR]:64.8/43.2,[d.Stats.RES]:64.8/43.2,[d.Stats.SPD]:64.8/25.032,[d.Stats.BE]:64.8/64.8},o=l.stats;let c=0;for(const u of a.substats)c+=u.value*(o[u.stat]||0)*s[u.stat];const r=((u,f,p,G)=>{if([d.Parts.Head,d.Parts.Hands].includes(p))return 0;let h=0;switch(f){case 2:h=12.8562;break;case 3:h=25.8165;break;case 4:h=43.1304;break;default:h=64.8}return h*(G[p].includes(u)?1:o[u])})(a.main.stat,a.grade,a.part,l.parts);return{score:c,mainStatScore:r,part:a.part,scoringMetadata:l}}scoreOptimalRelic(a,i){var r;const l=(r=this.optimalPartCharacterScore.get(a))==null?void 0:r.get(i);if(l!=null)return l;let s=0;const o=this.getRelicScoreMeta(i),c=iS(o);switch(c){case 5:s=1/0;break;case 1:case 2:case 3:{let u=[];const f=o.sortedSubstats[0][0],p=o.sortedSubstats[1][0];a==d.Parts.Head&&c==1||a==d.Parts.Hands&&c==2?u=tn(5,{stat:f,value:St[f][5].high*6}):u=tn(5,{stat:f,value:St[f][5].high*6},{stat:p,value:St[p][5].high});const G=Cn(5,15,a,d.Stats.HP_P,u);s=this.substatScore(G,i).score}break;case 0:{const u=o.sortedSubstats[0][0],f=tn(5,{stat:u,value:St[u][5].high*6});s=this.substatScore(Cn(5,15,a,d.Stats.HP_P,f),i).score}break;case 4:{let u="";const f=o.parts[a]||[],p=Object.entries(o.stats).map(R=>f.includes(R[0])?[R[0],1]:[R[0],R[1]]).sort((R,S)=>S[1]-R[1]);if(x.hasMainStat(a)){const R=p.findIndex(([D,V])=>ni[a].includes(D)),S=p[R][1];u=p[R][0];let Z=!1,C=!0;for(let D=R;D<p.length;D++){const[V,M]=p[D];if(M!=S)break;if(!ni[a].includes(V))continue;const E=f.includes(V),P=Mo.has(V);Z&&!E||!C&&P||Z===E&&C==P||(u=V,Z=E,C=P)}}else u=p.find(([R,S])=>ni[a][0]===R)[0];const h=o.sortedSubstats.filter(([R,S])=>R!==u).slice(0,4),m=tn(5,{stat:h[0][0],value:St[h[0][0]][5].high*6},{stat:h[1][0],value:St[h[1][0]][5].high},{stat:h[2][0],value:St[h[2][0]][5].high},{stat:h[3][0],value:St[h[3][0]][5].high}),b=Cn(5,15,a,u,m);s=this.substatScore(b,i).score}break}return this.optimalPartCharacterScore.has(a)||this.optimalPartCharacterScore.set(a,new Map),this.optimalPartCharacterScore.get(a).set(i,s),s}static scoreFutureRelic(a,i,l=!1){return new ae().scoreFutureRelic(a,i,l)}scoreFutureRelic(a,i,l=!1){if(!i||!a)return console.warn("scoreFutureRelic() called but lacking arguments"),{current:0,best:0,average:0,worst:0,meta:{bestAddedStats:[""],bestUpgradedStats:[""]},substatScore:{best:0,average:0,worst:0}};const s=this.getRelicScoreMeta(i);if(!s.sortedSubstats[0][0])return{current:0,best:0,average:0,worst:0,meta:{bestAddedStats:[""],bestUpgradedStats:[""]},substatScore:{best:0,average:0,worst:0}};const o=(()=>{switch(a.grade){case 2:return 12.8562;case 3:return 25.8165;case 4:return 43.1304;case 5:return 64.8}})(),c=x.hasMainStat(a.part)?(oS(a,s)-1)*o:0,r=s.sortedSubstats.filter(H=>H[0]!=a.main.stat&&!a.substats.map(k=>k.stat).includes(H[0])),u=Math.ceil((Li(a.grade)-a.enhance)/3)-(4-a.substats.length),f=Us(a.part,a.main.stat,s),p=this.scoreOptimalRelic(a.part,i),G=Math.max(0,this.substatScore(a,i).score/p*100*fa+f+c),h=[{stat:"",value:0},{stat:"",value:0},{stat:"",value:0},{stat:"",value:0}];for(let H=0;H<a.substats.length;H++)h[H].stat=a.substats[H].stat,h[H].value=a.substats[H].value;for(let H=a.substats.length;H<4;H++){const k=r[H-a.substats.length][0];h[H].stat=k,h[H].value=St[k][5].high}const m=sS(h,s);h[m.index].value+=u*St[m.stat][a.grade].high;let b=Cn(a.grade,Li(a.grade),a.part,a.main.stat,tn(5,h[0],h[1],h[2],h[3]));const R=Math.max(0,(this.substatScore(b,i).score+c)/p*100*fa+f),S=[{stat:"",value:0},{stat:"",value:0},{stat:"",value:0},{stat:"",value:0}];for(let H=0;H<a.substats.length;H++)S[H].stat=a.substats[H].stat,S[H].value=a.substats[H].value+u/4*St[S[H].stat][a.grade].mid;let Z=0;const C={[d.Stats.HP_P]:64.8/43.2,[d.Stats.ATK_P]:64.8/43.2,[d.Stats.DEF_P]:64.8/54,[d.Stats.HP]:64.8/43.2*St[d.Stats.HP_P][5].high/St[d.Stats.HP][5].high,[d.Stats.ATK]:64.8/43.2*St[d.Stats.ATK_P][5].high/St[d.Stats.ATK][5].high,[d.Stats.DEF]:64.8/54*St[d.Stats.DEF_P][5].high/St[d.Stats.DEF][5].high,[d.Stats.CR]:64.8/32.4,[d.Stats.CD]:64.8/64.8,[d.Stats.OHB]:64.8/34.5606,[d.Stats.EHR]:64.8/43.2,[d.Stats.RES]:64.8/43.2,[d.Stats.SPD]:64.8/25.032,[d.Stats.BE]:64.8/64.8};for(const H of r){const[k,B]=H;Z+=St[k][a.grade].mid*B*C[k]}Z=Z/r.length;for(let H=a.substats.length;H<4;H++)S[H].stat=s.sortedSubstats[0][0],S[H].value=Z*(1+u/4)/(C[s.sortedSubstats[0][0]]*s.sortedSubstats[0][1]);b=Cn(a.grade,Li(a.grade),a.part,a.main.stat,tn(5,S[0],S[1],S[2],S[3]));const D=Math.max(0,(this.substatScore(b,i).score+c)/p*100*fa+f);r.reverse();const V=[{stat:"",value:0},{stat:"",value:0},{stat:"",value:0},{stat:"",value:0}];for(let H=0;H<a.substats.length;H++)V[H].stat=a.substats[H].stat,V[H].value=a.substats[H].value;for(let H=a.substats.length;H<4;H++){const k=r[H-a.substats.length][0];V[H].stat=k,V[H].value=St[k][5].high}const M=lS(V,s);V[M.index].value+=St[M.stat][a.grade].low*u,b=Cn(a.grade,Li(a.grade),a.part,a.main.stat,tn(5,V[0],V[1],V[2],V[3]));const E=Math.max(0,(this.substatScore(b,i).score+c)/p*100*fa+f);let P;if(l){const H=[];if(a.substats.length<4)for(const[_,dt]of r)dt>=r[r.length-1][1]&&H.push(I.t(`common:Stats.${_}`));const k=s.sortedSubstats.filter(_=>a.main.stat!==_[0]),B=[],J={...x.arrayToMap(a.substats,"stat"),...x.stringArrayToMap(H)},st=k.filter(_=>J[_[0]]),A=st[0][1];for(const[_,dt]of st)J[_]&&dt>=A&&B.push(I.t(`common:Stats.${_}`));P={bestAddedStats:H,bestUpgradedStats:B}}return{current:G,best:R,average:D,worst:E,meta:P}}static scoreCurrentRelic(a,i){return new ae().scoreCurrentRelic(a,i)}scoreCurrentRelic(a,i){if(!a)return{score:"",rating:"",mainStatScore:0};if(!i)return console.warn("scoreCurrentRelic called but lacking character",a),{score:"",rating:"",mainStatScore:0};const l=this.getRelicScoreMeta(i),s=a.part,o=Us(a.part,a.main.stat,l),c=this.substatScore(a,i),r=this.scoreOptimalRelic(s,i),u=c.score/r*100*fa+o,f=Bo(u),p=c.mainStatScore;return{score:u.toFixed(1),rating:f,mainStatScore:p,part:s,meta:l}}static scoreCharacterWithRelics(a,i){return new ae().scoreCharacterWithRelics(a,i)}scoreCharacterWithRelics(a,i){if(!(a!=null&&a.id))return console.warn("scoreCharacterWithRelics called but no character given"),{relics:[],totalScore:0,totalRating:"???"};const l=i.map(r=>this.scoreCurrentRelic(r,a.id));let s=0;for(const r of l)s+=Number(r.score)+Number(r.mainStatScore);const o=3-nS(i.filter(r=>r!=null).map(r=>r.set));s=Math.max(0,s-o*3*bi);const c=Bo((s-4*64.8)/6);return{relics:l,totalScore:s,totalRating:c}}static scoreCharacter(a){return new ae().scoreCharacter(a)}scoreCharacter(a){if(!a)return{};const i=window.store.getState().relicsById,l=Object.values(a.equipped).map(s=>i[s??""]);return this.scoreCharacterWithRelics(a,l)}static scoreRelicPotential(a,i,l=!1){return new ae().scoreRelicPotential(a,i,l)}scoreRelicPotential(a,i,l=!1){const s=this.getRelicScoreMeta(i),o=Us(a.part,a.main.stat,s),c=this.scoreFutureRelic(a,i,l);return x.hasMainStat(a.part)&&(c.best=Math.max(0,c.best-o),c.average=Math.max(0,c.average-o),c.worst=Math.max(0,c.worst-o)),{bestPct:c.best/fa,averagePct:c.average/fa,worstPct:c.worst/fa,meta:c.meta}}}function nS(t){let a=0;const i={};return t.forEach(l=>{i[l]?(a+=1,i[l]=0):i[l]=1}),a}function Us(t,a,i){const l=i.stats,s=i.parts;if(t==d.Parts.Body||t==d.Parts.Feet||t==d.Parts.PlanarSphere||t==d.Parts.LinkRope){const o=s[t].includes(a)?1:l[a];return oe[t][a]*bi*o}return 0}function Cn(t,a,i,l,s){return{weights:void 0,enhance:a,equippedBy:"",grade:t,id:"",set:"",part:i,main:{stat:l,value:Qs[l][t].base+Qs[l][t].increment*a},substats:s}}function tn(t,a,i,l,s){const o=[{stat:a.stat,value:a.value,rolls:{high:St[a.stat][t].high,mid:St[a.stat][t].mid,low:St[a.stat][t].low},addedRolls:0}];return i&&o.push({stat:i.stat,value:i.value,rolls:{high:St[i.stat][t].high,mid:St[i.stat][t].mid,low:St[i.stat][t].low},addedRolls:0}),l&&o.push({stat:l.stat,value:l.value,rolls:{high:St[l.stat][t].high,mid:St[l.stat][t].mid,low:St[l.stat][t].low},addedRolls:0}),s&&o.push({stat:s.stat,value:s.value,rolls:{high:St[s.stat][t].high,mid:St[s.stat][t].mid,low:St[s.stat][t].low},addedRolls:0}),o}function iS(t){const a=t.sortedSubstats;if(a[0][1]==0)return 5;if(a[1][1]==0)return 0;const i=[d.Stats.HP,d.Stats.HP_P],l=[d.Stats.ATK,d.Stats.ATK_P],s=[d.Stats.DEF,d.Stats.DEF_P];return i.includes(a[1][0])&&i.includes(a[0][0])&&a[2][1]==0?1:l.includes(a[1][0])&&l.includes(a[0][0])&&a[2][1]==0?2:s.includes(a[1][0])&&s.includes(a[0][0])&&a[2][1]==0?3:4}function sS(t,a){let i=0,l=0,s="";for(let o=0;o<t.length;o++){const c=a.stats[t[o].stat];(c>l||o==0)&&(l=c,i=o,s=t[o].stat)}return{index:i,weight:l,stat:s}}function lS(t,a){let i=0,l=1,s="";for(let o=0;o<t.length;o++){const c=a.stats[t[o].stat];(c<l||o==0)&&(l=c,i=o,s=t[o].stat)}return{index:i,weight:l,stat:s}}function Li(t){switch(t){case 2:return 6;case 3:return 9;case 4:return 12;default:return 15}}function Bo(t){const a=Math.min(Math.floor(t/(bi/2)),Fo.length-1);return a<0?"???":Fo[a]}function oS(t,a){return x.hasMainStat(t.part)?a.parts[t.part].includes(t.main.stat)?1:a.stats[t.main.stat]:0}function gc(t){const[a,i]=y.useState();window.setOptimizerBuild=i;function l(S){const Z=Vl.onEditOk(s,S);o(Z)}const[s,o]=y.useState(),[c,r]=y.useState(!1),u=L.getRelicsById(),f=tt.getForm().characterId,p=a?ae.scoreCurrentRelic(u[a==null?void 0:a.Head],f):void 0,G=a?ae.scoreCurrentRelic(u[a==null?void 0:a.Hands],f):void 0,h=a?ae.scoreCurrentRelic(u[a==null?void 0:a.Body],f):void 0,m=a?ae.scoreCurrentRelic(u[a==null?void 0:a.Feet],f):void 0,b=a?ae.scoreCurrentRelic(u[a==null?void 0:a.PlanarSphere],f):void 0,R=a?ae.scoreCurrentRelic(u[a==null?void 0:a.LinkRope],f):void 0;return n.jsxs("div",{children:[n.jsxs(g,{gap:5,id:"optimizerBuildPreviewContainer",children:[n.jsx(ce,{setEditModalOpen:r,setSelectedRelic:o,relic:u[a==null?void 0:a.Head],score:p}),n.jsx(ce,{setEditModalOpen:r,setSelectedRelic:o,relic:u[a==null?void 0:a.Hands],score:G}),n.jsx(ce,{setEditModalOpen:r,setSelectedRelic:o,relic:u[a==null?void 0:a.Body],score:h}),n.jsx(ce,{setEditModalOpen:r,setSelectedRelic:o,relic:u[a==null?void 0:a.Feet],score:m}),n.jsx(ce,{setEditModalOpen:r,setSelectedRelic:o,relic:u[a==null?void 0:a.PlanarSphere],score:b}),n.jsx(ce,{setEditModalOpen:r,setSelectedRelic:o,relic:u[a==null?void 0:a.LinkRope],score:R})]}),n.jsx(Xn,{selectedRelic:s,type:"edit",onOk:l,setOpen:r,open:c})]})}gc.propTypes={build:z.object};const{useToken:Cc}=Ze,{useBreakpoint:cS}=pr,{Text:ts}=pt;function rS(t){return[{label:n.jsx("div",{style:{width:"100%",fontWeight:t==Ja?"bold":""},children:I.t("optimizerTab:Sidebar.GPUOptions.Experimental")}),key:Ja},{label:n.jsx("div",{style:{width:"100%",fontWeight:t==ui?"bold":""},children:I.t("optimizerTab:Sidebar.GPUOptions.Stable")}),key:ui},{label:n.jsx("div",{style:{width:"100%",fontWeight:t==ta?"bold":""},children:I.t("optimizerTab:Sidebar.GPUOptions.CPU")}),key:ta}]}function Ue(t){const a=t.total?`${Number(t.right).toLocaleString()} / ${Number(t.total).toLocaleString()} - (${Math.ceil(Number(t.right)/Number(t.total)*100)}%)`:`${Number(t.right).toLocaleString()}`;return n.jsxs(g,{justify:"space-between",children:[n.jsx(ts,{style:{lineHeight:"24px"},children:t.left}),n.jsx(Ge,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),n.jsx(ts,{style:{lineHeight:"24px"},children:a})]})}Ue.propTypes={total:z.number,right:z.number,left:z.string};const Ee=5;function dS(){const{lg:t,xl:a,xxl:i}=cS(),l=L.getState().settings[At.PermutationsSidebarBehavior.name]==At.PermutationsSidebarBehavior.NoShow,s=L.getState().settings[At.PermutationsSidebarBehavior.name]==At.PermutationsSidebarBehavior.ShowXL,o=L.getState().settings[At.PermutationsSidebarBehavior.name]==At.PermutationsSidebarBehavior.ShowXXL;function c(){return l?n.jsx(Po,{}):t&&s&&!a||t&&o&&!i?n.jsx(uS,{}):n.jsx(Po,{})}return c()}function Tc(){const{t}=et("optimizerTab",{keyPrefix:"Sidebar.GPUOptions"}),a=window.store(i=>i.savedSession[ne.computeEngine]);return n.jsx(hi,{menu:{items:rS(a),onClick:i=>{i.key==ta?(window.store.getState().setSavedSessionKey(ne.computeEngine,ta),Message.success(t("EngineSwitchSuccessMsg.CPU"))):mc(!0).then(l=>{l&&(window.store.getState().setSavedSessionKey(ne.computeEngine,i.key),Message.success(i.key==Ja?t("EngineSwitchSuccessMsg.Experimental"):t("EngineSwitchSuccessMsg.Stable")))})}},style:{width:"100%",flex:1},className:"custom-dropdown-button",trigger:["click"],children:n.jsx(w,{style:{padding:3},children:n.jsxs(g,{justify:"space-around",align:"center",style:{width:"100%"},children:[n.jsx("div",{style:{width:1}}),n.jsx(ts,{children:t(`Display.${a}`)}),n.jsx(es,{})]})})})}function Dc(){const t=window.optimizerGrid.current.api.getGridOption("pinnedTopRowData"),a=window.optimizerGrid.current.api.getSelectedNodes();if(!a||a.length==0)Message.warning(I.t("optimizerTab:Sidebar.Pinning.Messages.NoneSelected"));else if(a[0].data.statSim)Message.warning(I.t("optimizerTab:Sidebar.Pinning.Messages.SimSelected"));else if(t.find(i=>String(i.id)==String(a[0].data.id)))Message.warning(I.t("optimizerTab:Sidebar.Pinning.Messages.AlreadyPinned"));else{const i=a[0].data;t.push(i),window.optimizerGrid.current.api.updateGridOptions({pinnedTopRowData:t})}}function Ic(){const t=window.optimizerGrid.current.api.getGridOption("pinnedTopRowData");t.length&&window.optimizerGrid.current.api.updateGridOptions({pinnedTopRowData:[t[0]]})}function Po(){const{token:t}=Cc(),{t:a}=et(["optimizerTab","common"]),i=window.store(P=>P.statDisplay),l=window.store(P=>P.setStatDisplay),s=window.store(P=>P.permutationDetails),o=window.store(P=>P.permutations),c=window.store(P=>P.permutationsSearched),r=window.store(P=>P.permutationsResults),u=window.store(P=>P.optimizationInProgress),f=window.store(P=>P.setOptimizationInProgress),p=window.store(P=>P.optimizerStartTime),G=window.store(P=>P.optimizerEndTime),h=window.store(P=>P.savedSession[ne.computeEngine]),m=window.store(P=>P.optimizerRunningEngine),[b,R]=y.useState(void 0),[S,Z]=y.useState(!1);function C(){console.log("Cancel clicked"),f(!1),Hn.cancel(window.store.getState().optimizationId)}window.optimizerCancelClicked=C;function D(){console.log("Reset clicked"),tt.resetFilters()}function V(){console.log("Filter clicked"),tt.applyRowFilters()}function M(){o<1e9||h==Ja||h==ui?E():Z(!0)}function E(){R(Date.now()),window.optimizerStartClicked()}return n.jsxs(g,{children:[n.jsx(Vc,{startSearch:E,manyPermsModalOpen:S,setManyPermsModalOpen:Z}),n.jsx(g,{vertical:!0,style:{overflow:"clip"},children:n.jsx(g,{style:{position:"sticky",top:"50%",transform:"translateY(-50%)",paddingLeft:10},children:n.jsxs(Ne,{height:635,children:[n.jsxs(g,{vertical:!0,gap:10,children:[n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsx(at,{children:a("Sidebar.Permutations")}),n.jsx(Ot,{type:Jt.optimizationDetails()})]}),n.jsxs(g,{vertical:!0,children:[n.jsx(Ue,{left:a("common:ReadableParts.Head"),right:s.Head,total:s.HeadTotal}),n.jsx(Ue,{left:a("common:ReadableParts.Hands"),right:s.Hands,total:s.HandsTotal}),n.jsx(Ue,{left:a("common:ReadableParts.Body"),right:s.Body,total:s.BodyTotal}),n.jsx(Ue,{left:a("common:ReadableParts.Feet"),right:s.Feet,total:s.FeetTotal}),n.jsx(Ue,{left:a("common:ReadableParts.PlanarSphere"),right:s.PlanarSphere,total:s.PlanarSphereTotal}),n.jsx(Ue,{left:a("common:ReadableParts.LinkRope"),right:s.LinkRope,total:s.LinkRopeTotal})]}),n.jsxs(g,{vertical:!0,children:[n.jsx(Ue,{left:a("Sidebar.Perms"),right:o}),n.jsx(Ue,{left:a("Sidebar.Searched"),right:c}),n.jsx(Ue,{left:a("Sidebar.Results"),right:r})]}),n.jsxs(g,{vertical:!0,children:[n.jsx(at,{children:mS(p,G,o,c,u,m)}),n.jsx(Sr,{strokeColor:t.colorPrimary,steps:17,size:[8,5],percent:Math.floor(Number(c)/Number(o)*100)})]})]}),n.jsxs(g,{vertical:!0,gap:5,children:[n.jsx(at,{children:a("Sidebar.ControlsGroup.Header")}),n.jsxs(g,{gap:Ee,style:{marginBottom:2},vertical:!0,children:[n.jsx(g,{gap:Ee,children:n.jsx(w,{icon:n.jsx(m0,{}),type:"primary",loading:u,onClick:M,style:{flex:1},children:a("Sidebar.ControlsGroup.Start")})}),n.jsx(Tc,{}),n.jsxs(g,{gap:Ee,children:[n.jsx(w,{onClick:C,style:{flex:1},children:a("Sidebar.ControlsGroup.Cancel")}),n.jsx(Oa,{title:a("Sidebar.ControlsGroup.ResetConfirm.Title"),description:a("Sidebar.ControlsGroup.ResetConfirm.Description"),onConfirm:D,okText:a("Sidebar.ControlsGroup.ResetConfirm.Yes"),cancelText:a("Sidebar.ControlsGroup.ResetConfirm.No"),children:n.jsx(w,{style:{flex:1},children:a("Sidebar.ControlsGroup.Reset")})})]}),n.jsx(g,{gap:Ee})]})]}),n.jsxs(g,{vertical:!0,gap:5,children:[n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsx(at,{children:a("Sidebar.StatViewGroup.Header")}),n.jsx(Ot,{type:Jt.statDisplay()})]}),n.jsxs(pe.Group,{onChange:P=>{const{target:{value:H}}=P;l(H)},optionType:"button",buttonStyle:"solid",value:i,style:{width:"100%",display:"flex"},children:[n.jsx(pe,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"combat",children:a("Sidebar.StatViewGroup.CombatStats")}),n.jsx(pe,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"base",defaultChecked:!0,children:a("Sidebar.StatViewGroup.BasicStats")})]})]}),n.jsxs(g,{vertical:!0,gap:5,children:[n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsx(at,{children:a("Sidebar.ResultsGroup.Header")}),n.jsx(Ot,{type:Jt.actions()})]}),n.jsxs(g,{gap:Ee,justify:"space-around",children:[n.jsx(w,{type:"primary",onClick:tt.equipClicked,style:{width:"100px"},children:a("Sidebar.ResultsGroup.Equip")}),n.jsx(w,{onClick:V,style:{width:"100px"},children:a("Sidebar.ResultsGroup.Filter")})]}),n.jsxs(g,{gap:Ee,justify:"space-around",children:[n.jsx(w,{style:{width:"100px"},onClick:Dc,children:a("Sidebar.ResultsGroup.Pin")}),n.jsx(w,{style:{width:"100px"},onClick:Ic,children:a("Sidebar.ResultsGroup.Clear")})]})]})]})})})]})}function uS(){const{t}=et(["optimizerTab","common"]);Cc();const a="rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.15) 0px 0px 0px 1px inset",i=window.store(C=>C.statDisplay),l=window.store(C=>C.setStatDisplay),s=window.store(C=>C.permutations),o=window.store(C=>C.permutationsSearched),c=window.store(C=>C.permutationsResults),r=window.store(C=>C.optimizationInProgress),u=window.store(C=>C.setOptimizationInProgress),[f,p]=y.useState(void 0);window.store(C=>C.optimizerStartTime),window.store(C=>C.optimizerEndTime);const[G,h]=y.useState(!1);function m(){console.log("Cancel clicked"),u(!1),Hn.cancel(window.store.getState().optimizationId)}window.optimizerCancelClicked=m;function b(){console.log("Reset clicked"),tt.resetFilters()}function R(){console.log("Filter clicked"),tt.applyRowFilters()}function S(){const C=window.store.getState().savedSession[ne.computeEngine];s<1e9||C==Ja||C==ui?Z():h(!0)}function Z(){p(Date.now()),window.optimizerStartClicked()}return n.jsxs(g,{height:150,justify:"center",style:{overflow:"clip",position:"fixed",width:"100%",bottom:0,left:0,backgroundColor:"rgb(29 42 71)",boxShadow:a,borderRadius:5,padding:T0,zIndex:3},children:[n.jsx(Vc,{startSearch:Z,manyPermsModalOpen:G,setManyPermsModalOpen:h}),n.jsxs(g,{gap:20,justify:"space-evenly",children:[n.jsxs(g,{vertical:!0,gap:Ee,children:[n.jsxs(g,{justify:"space-between",align:"center",style:{minWidth:211},children:[n.jsx(at,{children:t("Sidebar.Permutations")}),n.jsx(Ot,{type:Jt.optimizationDetails()})]}),n.jsxs(g,{vertical:!0,children:[n.jsx(Ue,{left:t("Sidebar.Perms"),right:s}),n.jsx(Ue,{left:t("Sidebar.Searched"),right:o}),n.jsx(Ue,{left:t("Sidebar.Results"),right:c})]})]}),n.jsxs(g,{vertical:!0,gap:Ee,style:{minWidth:211},children:[n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsx(at,{children:t("Sidebar.StatViewGroup.Header")}),n.jsx(Ot,{type:Jt.statDisplay()})]}),n.jsxs(pe.Group,{onChange:C=>{const{target:{value:D}}=C;l(D)},optionType:"button",buttonStyle:"solid",value:i,style:{width:"100%",display:"flex"},children:[n.jsx(pe,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"base",defaultChecked:!0,children:t("Sidebar.StatViewGroup.BasicStats")}),n.jsx(pe,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"combat",children:t("Sidebar.StatViewGroup.CombatStats")})]}),n.jsx(g,{vertical:!0,children:n.jsx(Tc,{})})]}),n.jsxs(g,{vertical:!0,gap:5,style:{minWidth:211},children:[n.jsx(at,{children:t("Sidebar.ControlsGroup.Header")}),n.jsxs(g,{vertical:!0,gap:Ee,style:{marginBottom:2},children:[n.jsx(g,{gap:Ee,children:n.jsx(w,{icon:n.jsx(m0,{}),type:"primary",loading:r,onClick:S,style:{flex:1},children:t("Sidebar.ControlsGroup.Start")})}),n.jsxs(g,{gap:Ee,children:[n.jsx(w,{onClick:m,style:{flex:1},children:t("Sidebar.ControlsGroup.Cancel")}),n.jsx(Oa,{title:t("Sidebar.ControlsGroup.ResetConfirm.Title"),description:t("Sidebar.ControlsGroup.ResetConfirm.Description"),onConfirm:b,okText:t("Sidebar.ControlsGroup.ResetConfirm.Yes"),cancelText:t("Sidebar.ControlsGroup.ResetConfirm.No"),children:n.jsx(w,{style:{flex:1},children:t("Sidebar.ControlsGroup.Reset")})})]})]})]}),n.jsx(g,{vertical:!0,gap:Ee,style:{minWidth:211}}),n.jsxs(g,{vertical:!0,gap:Ee,style:{minWidth:211},children:[n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsx(at,{children:t("Sidebar.ResultsGroup.Header")}),n.jsx(Ot,{type:Jt.actions()})]}),n.jsxs(g,{gap:Ee,justify:"space-around",children:[n.jsx(w,{type:"primary",onClick:tt.equipClicked,style:{width:"100px"},children:t("Sidebar.ResultsGroup.Equip")}),n.jsx(w,{onClick:R,style:{width:"100px"},children:t("Sidebar.ResultsGroup.Filter")})]}),n.jsxs(g,{gap:Ee,justify:"space-around",children:[n.jsx(w,{style:{width:"100px"},onClick:Dc,children:t("Sidebar.ResultsGroup.Pin")}),n.jsx(w,{style:{width:"100px"},onClick:Ic,children:t("Sidebar.ResultsGroup.Clear")})]})]})]})]})}function mS(t,a,i,l,s,o){if(!t)return I.t("optimizerTab:Sidebar.ProgressText.Progress");let c=Date.now();a&&(c=a);const r=o==ta?l:Math.max(l,65536*512),u=c-t;if(!a&&u<5e3&&l<5e6||!l)return I.t("optimizerTab:Sidebar.ProgressText.CalculatingETA");const f=u/l*(i-l),p=r/(u/1e3);return s?I.t("optimizerTab:Sidebar.ProgressText.TimeRemaining",{rate:Math.floor(p).toLocaleString(),timeRemaining:x.msToReadable(f)}):I.t("optimizerTab:Sidebar.ProgressText.Finished",{rate:Math.floor(p).toLocaleString()})}function Vc(t){const{t:a}=et("modals",{keyPrefix:"ManyPerms"});return n.jsx(Ie,{title:a("Title"),open:t.manyPermsModalOpen,width:900,destroyOnClose:!0,centered:!0,onOk:()=>t.setManyPermsModalOpen(!1),onCancel:()=>t.setManyPermsModalOpen(!1),footer:null,children:n.jsxs(g,{justify:"space-between",align:"center",style:{height:45,marginTop:30,marginBottom:15},gap:16,children:[n.jsx(ts,{children:a("Text")}),n.jsx(w,{onClick:()=>t.setManyPermsModalOpen(!1),style:{width:250},type:"primary",children:a("Cancel")}),n.jsx(w,{onClick:()=>{t.setManyPermsModalOpen(!1),t.startSearch()},style:{width:250},type:"primary",children:a("Proceed")})]})})}const bS="ArrowLeft",hS="ArrowUp",pS="ArrowRight",SS="ArrowDown",Wl=(t,a,i)=>{const l=t.previousCellPosition;let s,o,c;function r(u){return u>=o||u<=-1?null:(c=a.current.api.getDisplayedRowAtIndex(u),a.current.api.setNodesSelected({nodes:[c],newValue:!0}),i(c),{rowIndex:u,column:l.column,rowPinned:l.rowPinned})}switch(t.key){case hS:return s=l.rowIndex-1,r(s);case SS:return s=l.rowIndex+1,o=t.api.getDisplayedRowCount(),r(s);case bS:case pS:default:return null}},{useToken:RS}=Ze;function fS(){console.log("======================================================================= RENDER OptimizerGrid");const{token:t}=RS(),{t:a,i18n:i}=et("optimizerTab"),l=y.useRef();window.optimizerGrid=l;const[s,o]=y.useState(!1),c=y.useMemo(()=>tt.getDataSource(),[]),r=window.store(G=>G.statDisplay),u=y.useMemo(()=>r=="combat"?ld(a):sd(a),[r,a]);_l.datasource=c;const f=y.useCallback(G=>Wl(G,l,h=>tt.cellClicked(h)),[]);y.useEffect(()=>{o(!0),setTimeout(()=>o(!1),50)},[i.resolvedLanguage]);const p=y.useCallback(G=>({to:a("Grid.To"),pageSizeSelectorLabel:a("Grid.PageSelectorLabel"),of:a("Grid.Of"),page:a("Grid.Page")})[G.key]??G.defaultValue,[a]);return n.jsx(g,{children:!s&&n.jsx("div",{id:"optimizerGridContainer",className:"ag-theme-balham-dark",style:{width:1225,minHeight:300,height:600,resize:"vertical",overflow:"hidden",...fl(t)},children:n.jsx(ol,{animateRows:!1,columnDefs:u,defaultColDef:od,gridOptions:_l,headerHeight:24,onCellClicked:tt.cellClicked,ref:l,rowSelection:"single",paginationNumberFormatter:G=>G.value.toLocaleString(i.resolvedLanguage),getLocaleText:p,navigateToNextCell:f})})})}function Wc(){return console.log("======================================================================= RENDER OptimizerTab"),n.jsxs(g,{children:[n.jsxs(g,{vertical:!0,gap:10,style:{marginBottom:100},children:[n.jsx(jp,{}),n.jsx(fS,{}),n.jsx(gc,{})]}),n.jsx(Hh,{}),n.jsx(Uh,{}),n.jsx(dS,{})]})}Wc.propTypes={active:z.bool};const Ec=(t,a)=>{const i=()=>{document.removeEventListener(t,a)};y.useEffect(()=>(document.addEventListener(t,a),()=>i()),[t,a])},{useToken:GS}=Ze,{Text:ZS}=pt,gS=34,CS=34,TS=N.getBlank();function xc(t){const a=window.store(B=>B.setRelicTabFilters),i=window.store(B=>B.setRelicsTabFocusCharacter),[l,s]=y.useState(),{t:o,i18n:c}=et(["relicsTab","common","gameData"]),r=y.useMemo(()=>x.generateCharacterOptions(),[]);function u(B,J,st){function A(_){const dt={[e.Physical_DMG]:"Physical",[e.Fire_DMG]:"Fire",[e.Ice_DMG]:"Ice",[e.Lightning_DMG]:"Lightning",[e.Wind_DMG]:"Wind",[e.Quantum_DMG]:"Quantum",[e.Imaginary_DMG]:"Imaginary"},Yt=dt[_]?30:CS,vt=N.getElement(dt[_]),ft=vt!=TS?vt:J(_);return st?n.jsx(s0,{title:c.exists(`common:Stats.${_}`)?o(`common:Stats.${_}`):o(`gameData:RelicSets.${Be[_]}.Name`),mouseEnterDelay:.2,children:n.jsx("img",{style:{width:Yt},src:ft})}):n.jsx("img",{style:{width:Yt},src:ft})}return B.map(_=>({key:_,display:A(_)}))}function f(B,J){return B.map(st=>({key:st[0],display:n.jsx(g,{style:{width:J,height:gS},justify:"space-around",align:"center",children:n.jsx(ZS,{style:{fontSize:18},children:st[1]})})}))}function p(B){return B.map(J=>({key:J,display:Q.renderGrade({grade:J})}))}function G(B){return B.map(J=>({key:J,display:Q.renderGrade({grade:-1,verified:J},!0)}))}function h(B){return B.map(J=>({key:J,display:Q.renderEquippedBy({equippedBy:J})}))}const m=p([2,3,4,5]),b=G(["true","false"]),R=u(Object.values(d.SetsRelics).concat(Object.values(d.SetsOrnaments)).filter(B=>!ja[B]),B=>N.getSetImage(B,d.Parts.PlanarSphere),!0),S=u(Object.values(d.Parts),B=>N.getPart(B),!1),Z=u(d.MainStats,B=>N.getStatIcon(B,!0),!0),C=u(d.SubStats,B=>N.getStatIcon(B,!0),!0),D=f([[0,"+0"],[3,"+3"],[6,"+6"],[9,"+9"],[12,"+12"],[15,"+15"]]),V=h(["true","false"]);window.refreshRelicsScore=()=>{setTimeout(()=>{M(l)},100)},Ec("refreshRelicsScore",window.refreshRelicsScore),y.useEffect(()=>{L.getState().settings[At.RelicPotentialLoadBehavior.name]==At.RelicPotentialLoadBehavior.ScoreAtStartup&&M(l)},[]);function M(B,J){var Yt,vt;const st=J?[J]:Object.values(L.getRelicsById());console.log("idChange",B),i(B),s(B);const A=r.map(ft=>ft.id),_=window.store.getState().excludedRelicPotentialCharacters,dt=new ae;for(const ft of st){ft.weights=B?dt.scoreFutureRelic(ft,B):{current:0,best:0,average:0},ft.weights.potentialSelected=B?dt.scoreRelicPotential(ft,B):{bestPct:0,averagePct:0},ft.weights.potentialAllAll={bestPct:0,averagePct:0},ft.weights.potentialAllCustom={bestPct:0,averagePct:0};for(const _t of A){const Re=dt.scoreRelicPotential(ft,_t);ft.weights.potentialAllAll={bestPct:Math.max(Re.bestPct,ft.weights.potentialAllAll.bestPct),averagePct:Math.max(Re.averagePct,ft.weights.potentialAllAll.averagePct)},_.includes(_t)||(ft.weights.potentialAllCustom={bestPct:Math.max(Re.bestPct,ft.weights.potentialAllCustom.bestPct),averagePct:Math.max(Re.averagePct,ft.weights.potentialAllCustom.averagePct)})}}J||(L.setRelics(x.clone(st)),B&&((vt=(Yt=window.relicsGrid)==null?void 0:Yt.current)!=null&&vt.api)&&(window.relicsGrid.current.api.getColumnState().filter(_t=>_t.sort!==null)||window.relicsGrid.current.api.applyColumnState({state:[{colId:"weights.current",sort:"desc"}],defaultState:{sort:null}})),L.refreshRelics())}function E(){a({set:[],part:[],enhance:[],mainStats:[],subStats:[],grade:[],verified:[],equippedBy:[]})}function P(){const B=store.getState().relicsTabFocusCharacter;B&&store.getState().setScoringAlgorithmFocusCharacter(B),window.setIsScoringModalOpen(!0)}function H(){M(l)}function k(B){M(l,B)}return window.rescoreSingleRelic=k,n.jsxs(g,{vertical:!0,gap:2,children:[n.jsxs(g,{gap:10,children:[n.jsxs(g,{vertical:!0,flex:1,children:[n.jsx(at,{children:o("RelicFilterBar.Part")}),n.jsx(Ga,{name:"part",tags:S,flexBasis:"15%"})]}),n.jsxs(g,{vertical:!0,style:{height:"100%"},flex:1,children:[n.jsx(at,{children:o("RelicFilterBar.Enhance")}),n.jsx(Ga,{name:"enhance",tags:D,flexBasis:"15%"})]}),n.jsxs(g,{vertical:!0,flex:.5,children:[n.jsx(at,{children:o("RelicFilterBar.Grade")}),n.jsx(Ga,{name:"grade",tags:m,flexBasis:"15%"})]}),n.jsxs(g,{vertical:!0,flex:.25,children:[n.jsx(at,{children:o("RelicFilterBar.Verified")}),n.jsx(Ga,{name:"verified",tags:b,flexBasis:"15%"})]}),n.jsxs(g,{vertical:!0,flex:.25,children:[n.jsx(at,{children:o("RelicFilterBar.Equipped")}),n.jsx(Ga,{name:"equippedBy",tags:V,flexBasis:"15%"})]}),n.jsxs(g,{vertical:!0,flex:.4,children:[n.jsx(at,{children:o("RelicFilterBar.Clear")}),n.jsx(w,{icon:n.jsx(Rr,{}),onClick:E,style:{flexGrow:1,height:"100%"},children:o("RelicFilterBar.ClearButton")})]})]}),n.jsxs(g,{vertical:!0,children:[n.jsx(at,{children:o("RelicFilterBar.Set")}),n.jsx(Ga,{name:"set",tags:R,flexBasis:`${100/Object.values(Aa).length}%`})]}),n.jsxs(g,{vertical:!0,children:[n.jsx(at,{children:o("RelicFilterBar.Mainstat")}),n.jsx(Ga,{name:"mainStats",tags:Z})]}),n.jsxs(g,{vertical:!0,children:[n.jsx(at,{children:o("RelicFilterBar.Substat")}),n.jsx(Ga,{name:"subStats",tags:C})]}),n.jsxs(g,{gap:10,children:[n.jsxs(g,{vertical:!0,flex:.5,children:[n.jsx(at,{children:o("RelicFilterBar.RecommendationHeader")}),n.jsxs(g,{gap:10,children:[n.jsx(Un,{value:l,selectStyle:{flex:1},onChange:B=>{setTimeout(()=>M(B),20)},withIcon:!0}),n.jsx(w,{onClick:H,style:{flex:1,padding:"0px"},children:o("RelicFilterBar.ReapplyButton")}),n.jsx(w,{onClick:P,style:{flex:1,padding:"0px"},children:o("RelicFilterBar.ScoringButton")})]})]}),n.jsx(g,{vertical:!0,flex:.25,gap:10,children:n.jsxs(g,{vertical:!0,children:[n.jsxs(g,{justify:"space-between",align:"center",children:[n.jsx(at,{children:o("RelicFilterBar.Rating")}),n.jsx(Ot,{type:Jt.valueColumns()})]}),n.jsx(g,{gap:10,children:n.jsx(K,{mode:"multiple",allowClear:!0,value:t.valueColumns,onChange:t.setValueColumns,options:t.valueColumnOptions,maxTagCount:"responsive",style:{flex:1},listHeight:750})})]})}),n.jsxs(g,{vertical:!0,flex:.25,children:[n.jsx(at,{children:o("RelicFilterBar.CustomCharsHeader")}),n.jsx(Un,{value:window.store.getState().excludedRelicPotentialCharacters,selectStyle:{flex:1},onChange:B=>{const J=Array.from(B||new Map).filter(st=>st[1]==!0).map(st=>st[0]);window.store.getState().setExcludedRelicPotentialCharacters(J),Ct.save(),setTimeout(()=>H(),100)},multipleSelect:!0})]})]})]})}xc.propTypes={setValueColumns:z.func,valueColumnOptions:z.array,valueColumns:z.array};function Ga(t){const{token:a}=GS(),i=window.store(c=>c.relicTabFilters),l=window.store(c=>c.setRelicTabFilters),s=i[t.name],o=(c,r)=>{const u=r?[...s,c]:s.filter(p=>p!=c),f=x.clone(i);f[t.name]=u,console.log("Relic tab filters",t.name,f),l(f)};return n.jsx(g,{style:{flexWrap:"wrap",flexGrow:1,backgroundColor:a.colorBgContainer,boxShadow:`0px 0px 0px 1px ${a.colorBorder} inset`,borderRadius:6,overflow:"hidden"},children:t.tags.map(c=>n.jsx(r0,{checked:s.includes(c.key),onChange:r=>o(c.key,r),style:{flex:1,flexBasis:t.flexBasis,boxShadow:`1px 1px 1px 0px ${a.colorBorder}`,backgroundColor:s.includes(c.key)?a.colorPrimary:"transparent"},children:n.jsx(g,{align:"center",justify:"space-around",style:{height:"100%"},children:c.display})},c.key))})}Ga.propTypes={name:z.string,tags:z.array,flexBasis:z.string};const{useToken:DS}=Ze,IS="PLOT_ALL",Xs="PLOT_CUSTOM";function yc(){const{token:t}=DS();console.log("======================================================================= RENDER RelicsTab");const a=y.useRef();window.relicsGrid=a;const[i,l]=y.useState(L.getRelics());window.setRelicRows=l;const[s,o]=y.useState(),[c,r]=y.useState([]),[u,f]=y.useState(!1),[p,G]=y.useState(!1),[h,m]=y.useState(!1),[b,R]=y.useState(Xs),[S,Z]=y.useState("buckets"),[C,D]=y.useState(!1),V=window.store(U=>U.relicTabFilters),M=window.store(U=>U.inventoryWidth),E=window.store(U=>U.setInventoryWidth),P=window.store(U=>U.rowLimit),H=window.store(U=>U.setRowLimit),{t:k,i18n:B}=et(["relicsTab","common","gameData"]),J=[{value:"buckets",label:k("Toolbar.InsightOptions.Buckets")},{value:"top10",label:k("Toolbar.InsightOptions.Top10")}],st=[{value:IS,label:k("Toolbar.PlotOptions.PlotAll")},{value:Xs,label:k("Toolbar.PlotOptions.PlotCustom")}];y.useEffect(()=>{D(!0),setTimeout(()=>D(!1))},[B.resolvedLanguage]),y.useEffect(()=>{var Wt,Y;if(!((Y=(Wt=window.relicsGrid)==null?void 0:Wt.current)!=null&&Y.api))return;if(console.log("RelicTabFilters",V),Object.values(V).filter(q=>q.length>0).length==0){window.relicsGrid.current.api.setFilterModel(null);return}const U={};U.set={conditions:V.set.map(q=>({filterType:"text",type:"equals",filter:q})),operator:"OR"},U.part={conditions:V.part.map(q=>({filterType:"text",type:"equals",filter:q})),operator:"OR"},U.grade={conditions:V.grade.map(q=>({filterType:"number",type:"equals",filter:q})),operator:"OR"},U.verified={conditions:[V.verified.includes("true")&&{filterType:"text",type:"true"},V.verified.includes("false")&&{filterType:"text",type:"false"}],operator:"OR"},U.equippedBy={conditions:[V.equippedBy.includes("true")&&{filterType:"text",type:"notBlank"},V.equippedBy.includes("false")&&{filterType:"text",type:"blank"}],operator:"OR"},U["main.stat"]={conditions:V.mainStats.map(q=>({filterType:"text",type:"equals",filter:q})),operator:"OR"};for(const q of V.subStats)U[`augmentedStats.${q}`]={filterType:"number",type:"greaterThan",filter:0};U.enhance={conditions:V.enhance.flatMap(q=>[{filterType:"number",type:"equals",filter:q},{filterType:"number",type:"equals",filter:q+1},{filterType:"number",type:"equals",filter:q+2}]),operator:"OR"},console.log("FilterModel",U),window.relicsGrid.current.api.setFilterModel(U)},[V]);const[A,_]=y.useState(0),[dt,Yt]=y.useState({set:void 0,part:void 0});y.useEffect(()=>{if(!s)return;const U=Math.max(1,P)*Math.max(1,M),Wt=L.getRelics().filter(Tt=>Tt.ageIndex<=s.ageIndex),Y=Wt.filter(Tt=>s.part==Tt.part).length-1;if(Y<U){_(Y),Yt({set:void 0,part:s.part});return}const q=Wt.filter(Tt=>s.part==Tt.part&&s.set==Tt.set).length-1;_(q),Yt({set:s.set,part:s.part})},[s,M,P]);const vt=y.useMemo(()=>[{label:k("RelicGrid.ValueColumns.SelectedCharacter.Label"),options:[{column:k("RelicGrid.ValueColumns.SelectedCharacter.ScoreCol.Header"),value:"weights.current",label:k("RelicGrid.ValueColumns.SelectedCharacter.ScoreCol.Label")},{column:k("RelicGrid.ValueColumns.SelectedCharacter.AvgPotCol.Header"),value:"weights.potentialSelected.averagePct",label:k("RelicGrid.ValueColumns.SelectedCharacter.AvgPotCol.Label"),percent:!0},{column:k("RelicGrid.ValueColumns.SelectedCharacter.MaxPotCol.Header"),value:"weights.potentialSelected.bestPct",label:k("RelicGrid.ValueColumns.SelectedCharacter.MaxPotCol.Label"),percent:!0}]},{label:k("RelicGrid.ValueColumns.CustomCharacters.Label"),options:[{column:k("RelicGrid.ValueColumns.CustomCharacters.AvgPotCol.Header"),value:"weights.potentialAllCustom.averagePct",label:k("RelicGrid.ValueColumns.CustomCharacters.AvgPotCol.Label"),percent:!0},{column:k("RelicGrid.ValueColumns.CustomCharacters.MaxPotCol.Header"),value:"weights.potentialAllCustom.bestPct",label:k("RelicGrid.ValueColumns.CustomCharacters.MaxPotCol.Label"),percent:!0}]},{label:k("RelicGrid.ValueColumns.AllCharacters.Label"),options:[{column:k("RelicGrid.ValueColumns.AllCharacters.AvgPotCol.Header"),value:"weights.potentialAllAll.averagePct",label:k("RelicGrid.ValueColumns.AllCharacters.AvgPotCol.Label"),percent:!0},{column:k("RelicGrid.ValueColumns.AllCharacters.MaxPotCol.Header"),value:"weights.potentialAllAll.bestPct",label:k("RelicGrid.ValueColumns.AllCharacters.MaxPotCol.Label"),percent:!0}]},{label:k("RelicGrid.ValueColumns.ComingSoon.Label"),options:[{column:k("RelicGrid.ValueColumns.ComingSoon.SetsPotential.Header"),disabled:!0,value:"weights.potentialAllSets",label:k("RelicGrid.ValueColumns.ComingSoon.SetsPotential.Label"),percent:!0}]}],[k]),ft=y.useMemo(()=>vt.flatMap(U=>U.options),[vt]),[_t,Re]=y.useState(["weights.current","weights.potentialSelected.averagePct","weights.potentialSelected.bestPct","weights.potentialAllCustom.averagePct","weights.potentialAllCustom.bestPct"]),me=y.useMemo(()=>[{field:"verified",hide:!0,filter:"agTextColumnFilter",filterParams:{maxNumConditions:2}},{field:"equippedBy",headerName:k("RelicGrid.Headers.EquippedBy"),width:40,cellRenderer:Q.characterIcon,filter:"agTextColumnFilter"},{field:"set",cellRenderer:Q.anySet,width:40,headerName:k("RelicGrid.Headers.Set"),filter:"agTextColumnFilter"},{field:"grade",width:40,cellRenderer:Q.renderGradeCell,headerName:k("RelicGrid.Headers.Grade"),filter:"agNumberColumnFilter"},{field:"part",valueFormatter:Q.readablePart,width:55,headerName:k("RelicGrid.Headers.Part"),filter:"agTextColumnFilter"},{field:"enhance",width:55,headerName:k("RelicGrid.Headers.Enhance"),filter:"agNumberColumnFilter"},{field:"main.stat",valueFormatter:Q.readableStat,headerName:k("RelicGrid.Headers.Mainstat"),width:70,filter:"agTextColumnFilter"},{field:"main.value",headerName:k("RelicGrid.Headers.Mainvalue"),width:50,valueFormatter:Q.mainValueRenderer,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.HP_P}`,headerName:k("RelicGrid.Headers.hpP"),cellStyle:yt.getRelicGradient,valueFormatter:Q.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.ATK_P}`,headerName:k("RelicGrid.Headers.atkP"),cellStyle:yt.getRelicGradient,valueFormatter:Q.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.DEF_P}`,headerName:k("RelicGrid.Headers.defP"),cellStyle:yt.getRelicGradient,valueFormatter:Q.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.HP}`,headerName:k("RelicGrid.Headers.hp"),cellStyle:yt.getRelicGradient,valueFormatter:Q.hideZeroesFloor,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.ATK}`,headerName:k("RelicGrid.Headers.atk"),cellStyle:yt.getRelicGradient,valueFormatter:Q.hideZeroesFloor,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.DEF}`,headerName:k("RelicGrid.Headers.def"),cellStyle:yt.getRelicGradient,valueFormatter:Q.hideZeroesFloor,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.SPD}`,headerName:k("RelicGrid.Headers.spd"),cellStyle:yt.getRelicGradient,valueFormatter:Q.hideZeroes10thsRelicTabSpd,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.CR}`,headerName:k("RelicGrid.Headers.cr"),cellStyle:yt.getRelicGradient,valueFormatter:Q.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.CD}`,headerName:k("RelicGrid.Headers.cd"),cellStyle:yt.getRelicGradient,valueFormatter:Q.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.EHR}`,headerName:k("RelicGrid.Headers.ehr"),cellStyle:yt.getRelicGradient,valueFormatter:Q.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.RES}`,headerName:k("RelicGrid.Headers.res"),cellStyle:yt.getRelicGradient,valueFormatter:Q.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.BE}`,headerName:k("RelicGrid.Headers.be"),cellStyle:yt.getRelicGradient,valueFormatter:Q.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:"cv",valueGetter:VS,headerName:k("RelicGrid.Headers.cv"),cellStyle:yt.getRelicGradient,valueFormatter:Q.hideZeroesX100Tenths,filter:"agNumberColumnFilter"}].concat(_t.map(U=>{const Wt=ft.findIndex(Y=>Y.value===U);return[Wt,ft[Wt]]}).sort((U,Wt)=>U[0]-Wt[0]).map(([U,Wt])=>({field:Wt.value,headerName:Wt.column,cellStyle:yt.getRelicGradient,valueFormatter:Wt.percent?Q.hideNaNAndFloorPercent:Q.hideNaNAndFloor,filter:"agNumberColumnFilter",width:75}))),[ft,_t,k]),ve=y.useMemo(()=>({rowHeight:33,rowSelection:"single",suppressDragLeaveHidesColumns:!0,suppressScrollOnNewData:!0,enableRangeSelection:!1,suppressMultiSort:!0,getRowId:U=>String(U.data.id)}),[]),fe=y.useMemo(()=>({sortable:!0,width:46,headerClass:"relicsTableHeader",sortingOrder:["desc","asc"],filterParams:{maxNumConditions:200},wrapHeaderText:!0,autoHeaderHeight:!0,suppressHeaderMenuButton:!0}),[]),bt=y.useCallback(U=>{console.log("selectionChanged",U),r(U.api.getSelectedRows())},[]),ht=y.useCallback(U=>{console.log("rowClicked",U),U.type||a.current.api.getRowNode(U.id).setSelected(!0,!0),o(U.data)},[]),Vt=y.useCallback(U=>{console.log("rowDblClicked",U),o(U.data),f(!0)},[]),Rt=y.useCallback(U=>Wl(U,a,Wt=>ht(Wt)),[]),Kt=y.useCallback(U=>U.key=="to"?k("RelicGrid.To"):U.key=="of"?k("RelicGrid.Of"):U.key,[k]);function Pe(U){L.setRelic(U),window.forceCharacterTabUpdate(),l(L.getRelics()),Ct.save(),o(U),j.success(k("Messages.AddRelicSuccess")),console.log("onAddOk",U)}function ct(U){const Wt=Vl.onEditOk(s,U);o(Wt)}function ie(){if(console.log("edit clicked"),!s)return j.error(k("Messages.NoRelicSelected"));f(!0)}function ge(){console.log("add clicked"),G(!0)}function ze(U){if(console.log("delete clicked"),c.length===0)return m(!1),j.error(k("Messages.NoRelicSelected"));m(U)}function ha(){if(c.length===0)return j.error(k("Messages.NoRelicSelected"));c.forEach(U=>{L.deleteRelic(U.id)}),l(L.getRelics()),o(void 0),Ct.save(),j.success(k("Messages.DeleteRelicSuccess"))}const Gt=window.store.getState().relicsTabFocusCharacter;let Fe;Gt&&s&&(Fe=ae.scoreCurrentRelic(s,Gt));const xa=10,[Qa,Sn]=y.useState(null),[ia,_a]=y.useState(null),pa=window.store(U=>U.excludedRelicPotentialCharacters);return y.useEffect(()=>{if(s){const U=L.getMetadata().characters,Wt=Object.keys(U).filter(q=>!(b===Xs&&pa.includes(q))).map(q=>({cid:q,name:k(`gameData:Characters.${q}.Name`),score:ae.scoreRelicPotential(s,q,!0),color:"#000",owned:!!L.getCharacterById(q)}));Wt.sort((q,Tt)=>Tt.score.bestPct-q.score.bestPct),Wt.forEach((q,Tt)=>{q.color="hsl("+Tt*360/(xa+1)+",50%,50%)"}),Sn(Wt.slice(0,xa));const Y=[[],[],[],[],[],[],[],[],[],[]];for(const q of Wt){let Tt=Math.floor(q.score.bestPct/10);Tt=Math.min(9,Math.max(0,Tt)),Y[Tt].push(q)}Y.forEach(q=>q.sort((Tt,ke)=>Tt.name.localeCompare(ke.name))),_a(Y)}},[b,s,pa,k]),n.jsxs(g,{style:{width:1350,marginBottom:100},children:[n.jsx(Xn,{selectedRelic:s,type:"add",onOk:Pe,setOpen:G,open:p}),n.jsx(Xn,{selectedRelic:s,type:"edit",onOk:ct,setOpen:f,open:u}),n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx(xc,{setValueColumns:Re,valueColumns:_t,valueColumnOptions:vt}),!C&&n.jsx("div",{id:"relicGrid",className:"ag-theme-balham-dark",style:{width:1350,height:500,resize:"vertical",overflow:"hidden",...fl(t)},children:n.jsx(ol,{ref:a,rowData:i,gridOptions:ve,columnDefs:me,defaultColDef:fe,animateRows:!0,headerHeight:24,rowSelection:"multiple",pagination:!0,paginationPageSizeSelector:!1,paginationPageSize:2100,paginationNumberFormatter:U=>U.value.toLocaleString(B.resolvedLanguage),getLocaleText:Kt,onSelectionChanged:bt,onRowClicked:ht,onRowDoubleClicked:Vt,navigateToNextCell:Rt})}),n.jsxs(g,{gap:10,children:[n.jsx(w,{type:"primary",onClick:ie,style:{width:170},disabled:c.length===0||c.length>1,children:k("Toolbar.EditRelic")}),n.jsx(Oa,{title:k("common:Confirm"),description:k("Toolbar.DeleteRelic.Warning",{count:c.length}),open:h,onOpenChange:ze,onConfirm:ha,placement:"bottom",okText:k("common:Yes"),cancelText:k("common:Cancel"),children:n.jsx(w,{type:"primary",style:{width:170},disabled:c.length===0,children:k("Toolbar.DeleteRelic.ButtonText")})}),n.jsx(w,{type:"primary",onClick:ge,style:{width:170},children:k("Toolbar.AddRelic")}),n.jsx(ri,{trigger:"click",onOpenChange:U=>{U||Ct.save()},content:n.jsxs(g,{gap:8,style:{width:260},children:[n.jsxs(g,{vertical:!0,children:[n.jsx(g,{justify:"space-between",align:"center",children:n.jsx(at,{children:k("Toolbar.RelicLocator.Width")})}),n.jsx(ua,{defaultValue:window.store.getState().inventoryWidth,style:{width:"auto"},min:1,onChange:U=>{E(U)}})]}),n.jsxs(g,{vertical:!0,children:[n.jsxs(g,{justify:"space-between",align:"center",gap:10,children:[n.jsx(at,{children:k("Toolbar.RelicLocator.Filter")}),n.jsx(Ot,{type:Jt.locatorParams()})]}),n.jsx(ua,{defaultValue:window.store.getState().rowLimit,style:{width:"auto"},min:1,onChange:U=>{H(U)}})]})]}),children:n.jsxs(g,{justify:"space-between",align:"center",style:{cursor:"pointer",paddingLeft:8,paddingRight:10,width:285,marginTop:1,borderRadius:5,height:30,background:"rgba(36, 51, 86)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.2)",outline:"1px solid rgba(63, 90, 150)"},children:[s&&n.jsxs(g,{align:"center",justify:"space-between",style:{width:"100%"},children:[n.jsxs(g,{gap:5,style:{minWidth:10},justify:"flex-start",children:[dt.part&&n.jsx("img",{src:N.getPart(dt.part),style:{height:25}}),dt.set&&n.jsx("img",{src:N.getSetImage(dt.set,void 0,!0),style:{height:26}}),!dt.part&&!dt.set&&n.jsx("div",{style:{width:10}})]}),n.jsx(pt,{children:s?k("Toolbar.RelicLocator.Location",{columnindex:A%M+1,rowindex:Math.ceil((A+1)/M)}):""}),n.jsx(wa,{})]}),!s&&n.jsxs(g,{style:{width:"100%"},justify:"space-between",children:[n.jsx("div",{style:{width:10}}),n.jsx("div",{children:k("Toolbar.RelicLocator.NoneSelected")}),n.jsx(wa,{})]})]})}),n.jsx(g,{style:{display:"block"},children:n.jsx(Ot,{type:Jt.relicLocation()})}),n.jsx(K,{value:b,onChange:R,options:st,style:{width:225}}),n.jsx(K,{value:S,onChange:Z,options:J,style:{width:225}}),n.jsx(g,{style:{display:"block"},children:n.jsx(Ot,{type:Jt.relicInsight()})})]}),n.jsxs(g,{gap:10,children:[n.jsx(ce,{relic:s,setSelectedRelic:o,setEditModalOpen:f,score:Fe}),n.jsx(g,{style:{display:"block"},children:n.jsx(Ot,{type:Jt.relics()})}),S==="top10"&&Qa&&n.jsxs(g,{gap:10,children:[n.jsx(g,{style:{borderRadius:8,overflow:"hidden",border:`1px solid ${t.colorBorderSecondary}`},children:n.jsx(vl,{onClick:U=>{store.getState().setScoringAlgorithmFocusCharacter(U.points[0].data.cid),window.setIsScoringModalOpen(!0)},data:Qa.map(U=>({x:[U.score.averagePct],y:[U.name],hoverinfo:"name",mode:"markers",type:"scatter",error_x:{type:"data",symmetric:!1,array:[U.score.bestPct-U.score.averagePct],arrayminus:[U.score.averagePct-U.score.worstPct]},marker:{color:U.color},name:U.name,cid:U.cid})).reverse(),layout:{plot_bgcolor:"rgba(0, 0, 0, 0)",paper_bgcolor:t.colorBgContainer,font:{color:"rgba(255, 255, 255, 0.85)"},autosize:!0,width:320,height:278,margin:{b:20,l:10,r:20,t:10},showlegend:!1,xaxis:{fixedrange:!0,range:[0,100],tick0:0,dtick:10,showgrid:!0,showline:!0,showticklabels:!0,type:"linear",zeroline:!0,gridcolor:"rgba(128, 128, 128, 0.15)"},yaxis:{fixedrange:!0,showticklabels:!1,gridcolor:"rgba(128, 128, 128, 0.15)"}},config:{displayModeBar:!1,editable:!1,scrollZoom:!1}})}),n.jsx("ol",{children:n.jsx(g,{vertical:!0,gap:5.5,children:Qa.map(U=>{const Wt=n.jsx("svg",{width:10,height:10,children:n.jsx("rect",{width:10,height:10,style:{fill:U.color,strokeWidth:1,stroke:"rgb(0,0,0)"}})}),Y=Math.floor(U.score.worstPct),q=Math.floor(U.score.bestPct),Tt=Y===q?`${Y}%`:`${Y}% - ${q}%`;return n.jsx(g,{gap:4,children:n.jsx("li",{style:U.owned?{fontWeight:"bold"}:void 0,children:n.jsxs(g,{align:"center",gap:8,children:[Wt,n.jsxs("a",{style:{height:"19px"},children:[" ",n.jsx("img",{src:N.getCharacterAvatarById(U.cid),style:{height:"19px"},onClick:ke=>{store.getState().setScoringAlgorithmFocusCharacter(ke.target.attributes.src.nodeValue.split("avatar/")[1].split(".webp")[0]),window.setIsScoringModalOpen(!0)}})]}),U.name,": ",Tt]})})},U.cid)})})})]}),n.jsx(g,{style:{borderRadius:8,overflow:"hidden",border:`1px solid ${t.colorBorderSecondary}`},children:S==="buckets"&&ia&&n.jsx(vl,{onClick:U=>{store.getState().setScoringAlgorithmFocusCharacter(U.points[0].data.cid[U.points[0].pointIndex]),window.setIsScoringModalOpen(!0)},data:[{type:"scatter",x:[0,0,0,0,0,0,0,0,0,0],y:["0%+","10%+","20%+","30%+","40%+","50%+","60%+","70%+","80%+","90%+"],hoverinfo:"skip",mode:"markers",marker:{color:"rgba(0, 0, 0, 0)",symbol:"circle",size:16}},{type:"scatter",hoverinfo:"text",mode:"markers",x:ia.flatMap((U,Wt)=>U.map((Y,q)=>q+.5)),y:ia.flatMap((U,Wt)=>U.map((Y,q)=>Wt*10+"%+")),hovertext:ia.flatMap((U,Wt)=>U.map((Y,q)=>[Y.name,Y.score.meta.bestAddedStats.length===0?"":k("RelicInsights.NewStats")+Y.score.meta.bestAddedStats.join(" / "),Y.score.meta.bestUpgradedStats==null?"":k("RelicInsights.UpgradedStats")+Y.score.meta.bestUpgradedStats.join(" / ")].filter(Tt=>Tt!=="").join("<br>"))),cid:ia.flatMap((U,Wt)=>U.map((Y,q)=>Y.cid)),marker:{color:"rgba(0, 0, 0, 0)",symbol:"circle",size:16}}],layout:{plot_bgcolor:"rgba(0, 0, 0, 0)",paper_bgcolor:t.colorBgContainer,font:{color:"rgba(255, 255, 255, 0.85)"},autosize:!0,height:278,width:1112,margin:{b:5,l:50,r:20,t:0},hovermode:"closest",hoverdistance:20,showlegend:!1,images:ia.flatMap((U,Wt)=>U.map((Y,q)=>({source:N.getCharacterAvatarById(Y.cid),xref:"x",yref:"y",x:q+.6,y:Wt,sizex:1,sizey:1,xanchor:"center",yanchor:"middle"}))),xaxis:{fixedrange:!0,range:[0,Math.max(...ia.map(U=>U.length))+1],tick0:0,showgrid:!1,showticklabels:!1,type:"linear",zeroline:!1},yaxis:{fixedrange:!0,showticklabels:!0,gridcolor:"rgba(128, 128, 128, 0.15)"}},config:{displayModeBar:!1,editable:!1,scrollZoom:!1}})})]})]})]})}yc.propTypes={active:z.bool};function VS(t){return t.data.augmentedStats[e.CR]*2+t.data.augmentedStats[e.CD]}const Lc=({rarity:t=0})=>{const a=[];for(let i=0;i<t;i++)a.push(n.jsx("img",{src:N.getStar(),style:{width:20,height:20}},i));return n.jsx(g,{gap:0,align:"center",children:a})};Lc.propTypes={rarity:z.number};const{Text:Fc}=pt,ca=xe(Fc)`
    font-family: Segoe UI, Frutiger, Frutiger Linotype, Dejavu Sans, Helvetica Neue, Arial, sans-serif;
    font-size: 17px;
    font-weight: 400;
    white-space: nowrap;
`,on=xe(Fc)`
    font-family: Segoe UI, Frutiger, Frutiger Linotype, Dejavu Sans, Helvetica Neue, Arial, sans-serif;
    font-size: 16px;
    font-weight: 400;
    white-space: nowrap;
`,WS=t=>[[111.1,111.2],[114.2,114.3],[133.3,133.4],[142.8,142.9],[155.5,155.6],[171.4,171.5],[177.7,177.8]].some(([i,l])=>t>=i&&t<l),ko={"Fire DMG Boost":"Fire DMG","Ice DMG Boost":"Ice DMG","Imaginary DMG Boost":"Imaginary DMG","Lightning DMG Boost":"Lightning DMG","Physical DMG Boost":"Physical DMG","Quantum DMG Boost":"Quantum DMG","Wind DMG Boost":"Wind DMG"},ES={simScore:"Combo DMG","Fire DMG Boost":"Fire DMG","Ice DMG Boost":"Ice DMG","Imaginary DMG Boost":"Imaginary DMG","Lightning DMG Boost":"Lightning DMG","Physical DMG Boost":"Physical DMG","Quantum DMG Boost":"Quantum DMG","Wind DMG Boost":"Wind DMG","Outgoing Healing Boost":"Healing Boost","Energy Regeneration Rate":"Energy Regen",BASIC:"Basic Damage",ULT:"Ult Damage",SKILL:"Skill Damage",FUA:"FUA Damage",DOT:"DoT Damage"},We=t=>{const{stat:a,finalStats:i}=t,l=x.precisionRound(i[a]),{t:s,i18n:o}=et("common"),c=ES[a]||a=="CV"?o.exists(`ReadableStats.${a}`)?s(`ReadableStats.${a}`):s(`DMGTypes.${a}`):s(`Stats.${a}`);let r,u;return a=="CV"?(r=x.truncate10ths(t.value).toFixed(1),u=x.truncate1000ths(t.value).toFixed(3)):a=="simScore"?(r=`${x.truncate10ths(x.precisionRound((t.value??0)/1e3)).toFixed(1)}${s("ThousandsSuffix")}`,u=x.truncate1000ths(t.value).toFixed(3)):a==d.Stats.SPD?(r=WS(l)?x.truncate1000ths(l).toFixed(3):r=x.truncate10ths(l).toFixed(1),u=x.truncate1000ths(l).toFixed(3)):x.isFlat(a)?(r=Math.floor(l),u=x.truncate1000ths(l).toFixed(3)):(r=x.truncate10ths(x.precisionRound(l*100)).toFixed(1),u=x.truncate1000ths(x.precisionRound(l*100)).toFixed(3)),i?n.jsxs(g,{justify:"space-between",align:"center",title:u,children:[n.jsx("img",{src:N.getStatIcon(a),style:{width:re,height:re,marginRight:3}}),n.jsx(ca,{children:c}),n.jsx(Ge,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),n.jsx(ca,{children:`${r}${x.isFlat(a)||a=="CV"||a=="simScore"?"":"%"}`})]}):(console.log("No final stats"),n.jsx("div",{}))};We.propTypes={finalStats:z.object,stat:z.string};const xS=.001,al=t=>n.jsxs(g,{vertical:!0,style:{paddingLeft:4,paddingRight:6},gap:3,children:[n.jsx(We,{finalStats:t.finalStats,stat:d.Stats.HP}),n.jsx(We,{finalStats:t.finalStats,stat:d.Stats.ATK}),n.jsx(We,{finalStats:t.finalStats,stat:d.Stats.DEF}),n.jsx(We,{finalStats:t.finalStats,stat:d.Stats.SPD}),n.jsx(We,{finalStats:t.finalStats,stat:d.Stats.CR}),n.jsx(We,{finalStats:t.finalStats,stat:d.Stats.CD}),n.jsx(We,{finalStats:t.finalStats,stat:d.Stats.EHR}),n.jsx(We,{finalStats:t.finalStats,stat:d.Stats.RES}),n.jsx(We,{finalStats:t.finalStats,stat:d.Stats.BE}),!t.simScore&&t.finalStats[e.OHB]>xS&&n.jsx(We,{finalStats:t.finalStats,stat:e.OHB}),(t.simScore==null||t.cv<=64.8)&&n.jsx(We,{finalStats:t.finalStats,stat:d.Stats.ERR}),n.jsx(We,{finalStats:t.finalStats,stat:t.elementalDmgValue}),t.cv!=null&&t.cv>64.8&&n.jsx(We,{finalStats:t.finalStats,stat:"CV",value:t.cv}),t.simScore!=null&&n.jsx(We,{finalStats:t.finalStats,stat:"simScore",value:t.simScore})]}),{Text:yS}=pt,Ho="https://api.imgur.com/3/image",No="b6ed18a250f2835",Uo={width:0,height:0},Xo={x:0,y:0},Yo=1,Ko={croppedArea:{x:0,y:0,width:0,height:0},croppedAreaPixels:{x:0,y:0,width:0,height:0}},Ys=1,Ks=5,LS=({existingConfig:t,aspectRatio:a,open:i,setOpen:l,onOk:s,title:o=I.t("modals:EditImage.DefaultTitle"),width:c=400,defaultImageUrl:r})=>{const[u,f]=y.useState(0),[p]=X.useForm(),{t:G}=et("modals",{keyPrefix:"EditImage"}),[h,m]=y.useState(!1),[b,R]=y.useState(""),[S,Z]=y.useState(t?t.originalDimensions:Uo),[C,D]=y.useState(t?t.cropper.crop:Xo),[V,M]=y.useState(t?t.cropper.zoom:Yo),[E,P]=y.useState(t?t.customImageParams:Ko),[H,k]=y.useState("upload"),B=y.useCallback(()=>{p.resetFields(),f(0),m(!1),R(""),Z(Uo),D(Xo),M(Yo),P(Ko)},[p]);y.useEffect(()=>{i?t&&(p.setFieldsValue({imageUrl:t.imageUrl,artistName:t.artistName}),k("upload"),f(1),R(t.imageUrl),Z(t.originalDimensions)):B()},[r,i,t,p,B]);const J=(bt,ht)=>{u==1&&P({croppedArea:bt,croppedAreaPixels:ht})},st=()=>{const bt=p.getFieldValue("artistName"),ht={originalDimensions:S,customImageParams:E,cropper:{zoom:V,crop:C}};switch(H){case"upload":s({type:"add",imageUrl:b,...ht,artistName:bt}),f(0);break;case"url":p.validateFields().then(Vt=>{s({type:"add",imageUrl:Vt.imageUrl,...ht,artistName:bt})}).catch(Vt=>{console.error("Error:",Vt)}).finally(()=>{f(0)});break;case"default":r||console.error("defaultImageUrl does not exist, but default image was chosen."),s({type:"delete"}),l(!1),f(0);break;default:console.warn(`Unexpected radio value: ${H}`),l(!1),f(0)}};async function A(bt){if(!bt.includes("http"))return!1;m(!0);const ht=new Image;return ht.src=bt,new Promise(Vt=>{m(!1),ht.onerror=()=>Vt(!1),ht.onload=async()=>{const Rt=await createImageBitmap(ht);Z({width:Rt.width,height:Rt.height}),Vt(!0)}})}async function _(bt){return m(!0),new Promise(ht=>{const Vt=new FileReader;Vt.onerror=()=>{m(!1),ht(!1)},Vt.onload=Rt=>{var Pe;const Kt=new Image;Kt.src=(Pe=Rt.target)==null?void 0:Pe.result,Kt.onload=async()=>{Z({width:Kt.width,height:Kt.height}),m(!1),ht(!0)},Kt.onerror=()=>{m(!1),ht(!1)}},Vt.readAsDataURL(bt)})}async function dt(bt){try{return(await fetch(bt,{method:"HEAD",mode:"cors"})).ok}catch{return console.log("CORS blocked image fetch, uploading to imgur:",bt),!1}}const Yt=async bt=>{const ht=new FormData;ht.append("image",bt);try{m(!0);const Vt=await fetch(Ho,{method:"POST",headers:{Authorization:`Client-ID ${No}`},body:ht});if(!Vt.ok){const Kt=await Vt.json();throw m(!1),new Error(`Imgur API error: ${Kt.data.error}`)}const Rt=await Vt.json();if(Rt.data.width&&Rt.data.height&&Z({width:Rt.data.width,height:Rt.data.height}),Rt.success){const Kt=Rt.data.link;R(Kt),f(u+1),m(!1)}else throw m(!1),new Error("Image url upload to Imgur failed but did not return a typical error response")}catch(Vt){return m(!1),console.error("There was an error uploading the image to Imgur:",Vt),null}},vt=async bt=>{const ht=new FormData;ht.append("image",bt);try{m(!0);const Vt=await fetch(Ho,{method:"POST",headers:{Authorization:`Client-ID ${No}`},body:ht});if(!Vt.ok){const Kt=await Vt.json();throw m(!1),new Error(`Imgur API error: ${Kt.data.error}`)}const Rt=await Vt.json();if(Rt.data.width&&Rt.data.height&&Z({width:Rt.data.width,height:Rt.data.height}),Rt.success){const Kt=Rt.data.link;return m(!1),Kt}else throw m(!1),new Error("Image file upload to Imgur failed but did not return a typical error response")}catch(Vt){return console.error("There was an error uploading the image to Imgur:",Vt),m(!1),null}},ft=async bt=>{if(!await _(bt))return console.error("File is not a valid image file"),!1;const ht=await vt(bt);return ht?(R(ht),f(u+1),!1):(j.error("Image upload failed"),!1)},_t=async bt=>{if(!bt){p.setFields([{name:"imageUrl",errors:["An image URL is required"]}]);return}if(m(!0),!await A(bt)){p.setFields([{name:"imageUrl",errors:["URL does not lead to an image"]}]),m(!1);return}if(await dt(bt))R(bt),f(u+1);else{const ht=await Yt(bt);ht?(R(ht),f(u+1)):p.setFields([{name:"imageUrl",errors:["Failed to process image, upload image instead."]}])}m(!1)},Re=async()=>{if(u!==0){console.error(`Stage #${u} not implemented!`);return}switch(H){case"url":await _t(p.getFieldValue("imageUrl"));break;case"default":s({type:"delete"}),l(!1);break;case null:default:console.warn("Radio select must be either 'upload' or 'url'");break}},me=()=>f(u-1),ve=bt=>k(bt.target.value),fe=[{title:"Provide image",content:n.jsxs(n.Fragment,{children:[n.jsx(g,{justify:"center",style:{marginBottom:16},children:n.jsxs(pe.Group,{onChange:ve,value:H,buttonStyle:"solid",children:[n.jsx(pe.Button,{value:"upload",children:G("Upload.Radio.Upload")}),n.jsx(pe.Button,{value:"url",children:G("Upload.Radio.Url")}),r&&n.jsx(pe.Button,{value:"default",children:G("Upload.Radio.Default")})]})}),H==="upload"&&n.jsx(n.Fragment,{children:n.jsx(fr,{name:"file",multiple:!1,accept:"image/png, image/jpeg, image/jpg, image/gif",beforeUpload:ft,disabled:h,showUploadList:!1,children:h?n.jsx(g,{style:{height:"300px"},justify:"center",align:"center",children:n.jsx(wl,{size:"large"})}):n.jsxs(g,{style:{height:"300px"},justify:"center",align:"center",vertical:!0,children:[n.jsx("p",{className:"ant-upload-drag-icon",children:n.jsx(Gr,{})}),n.jsx("p",{className:"ant-upload-text",children:G("Upload.Upload.Method")}),n.jsx("p",{className:"ant-upload-hint",children:G("Upload.Upload.Limit")})]})})}),H==="url"&&n.jsx(X.Item,{name:"imageUrl",label:G("Upload.Url.Label"),style:{margin:"0 20px"},rules:[{required:!0,message:G("Upload.Url.Rule")}],children:n.jsx(Qe,{autoComplete:"off"})}),H==="default"&&n.jsx(g,{justify:"center",style:{height:"400px"},children:n.jsx("img",{src:r})})]})},{title:"Crop image",content:n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{height:"380px",position:"relative"},children:n.jsx(Zr,{image:b,crop:C,zoom:V,aspect:a,onCropChange:D,onCropComplete:J,onMediaLoaded:()=>{t&&(D(t.cropper.crop),M(t.cropper.zoom))},onZoomChange:bt=>{navigator.maxTouchPoints===0?(bt<V&&M(Math.max(Ys,V*.95)),bt>V&&M(Math.min(Ks,V*1.05))):M(bt)},zoomSpeed:navigator.maxTouchPoints===0?1e-4:1,minZoom:Ys,maxZoom:Ks})}),n.jsxs(g,{style:{width:"100%",marginTop:4},gap:8,align:"center",children:[n.jsx("label",{children:G("Edit.Zoom")}),n.jsx(ns,{style:{width:"100%"},min:Ys,max:Ks,step:.1,tooltip:{formatter:null},onChange:M,value:V})]}),n.jsxs(g,{style:{marginTop:0},children:[n.jsxs(g,{vertical:!0,style:{flex:1},children:[n.jsxs("div",{children:[n.jsx(gr,{style:{marginRight:8}}),G("Edit.Drag")]}),n.jsxs("div",{style:{flex:1,marginTop:8},children:[n.jsx(Cr,{style:{marginRight:8}}),G("Edit.Pinch")]})]}),n.jsxs(g,{vertical:!0,style:{flex:1},children:[n.jsx(yS,{style:{flex:1,marginLeft:3},children:G("Edit.ArtBy")}),n.jsx(X.Item,{name:"artistName",children:n.jsx(Qe,{style:{flex:1,marginTop:3},placeholder:G("Edit.CreditPlaceholder"),autoComplete:"off"})})]})]})]})}];return n.jsx(X,{form:p,layout:"vertical",children:n.jsx(Ie,{open:i,width:c,destroyOnClose:!0,centered:!0,maskClosable:!1,onOk:st,onCancel:()=>l(!1),footer:[n.jsx(g,{justify:"flex-end",children:n.jsxs(g,{style:{marginTop:16},justify:"center",align:"center",gap:8,children:[h&&H!=="upload"&&n.jsx(wl,{style:{textAlign:"center"},size:"large"}),n.jsx(w,{onClick:()=>l(!1),children:G("Footer.Cancel")}),u>0&&t&&n.jsx(w,{onClick:me,danger:!0,children:G("Footer.Change")}),u>0&&!t&&n.jsx(w,{onClick:me,children:G("Footer.Previous")}),u<fe.length-1&&n.jsx(w,{type:"primary",onClick:Re,disabled:H==="upload",children:G("Footer.Next")}),u===fe.length-1&&n.jsx(w,{type:"primary",onClick:st,children:G("Footer.Submit")})]})},1)],title:o,children:n.jsxs("div",{style:{height:"505px",position:"relative"},children:[!t&&n.jsx(Oi,{current:u,style:{marginBottom:12},children:fe.map(bt=>n.jsx(Oi.Step,{title:bt.title=="Provide image"?G("Upload.Title"):G("Edit.Title")},bt.title))}),fe.map((bt,ht)=>n.jsx("div",{style:{display:u===ht?"block":"none"},children:bt.content},bt.title))]})})})},vi=({src:t,style:a})=>{const[i,l]=y.useState({}),[s,o]=y.useState({}),[c,r]=y.useState(!1),[u,f]=y.useState(!0);return y.useEffect(()=>{if(t==i.src&&W.objectHash(a)==W.objectHash(i.style)||t==s.src&&W.objectHash(a)==W.objectHash(s.style))return;f(!0),o({src:t,style:a});const p=new Image;if(p.src=t,p.complete||p.naturalWidth>0){r(!0);return}p.onload=()=>{r(!0)}},[i,t,a]),y.useEffect(()=>{c&&(setTimeout(()=>{f(!1)},150),l({src:s.src,style:s.style}),r(!1))},[c]),n.jsx("img",{src:i.src,loading:"eager",style:{...i.style,filter:u?"blur(6px)":"none",transition:u?"":"filter 0.5s cubic-bezier(.41,.65,.39,.99)"}})},FS=({customPortrait:t,parentW:a})=>{const i=a/t.customImageParams.croppedAreaPixels.width;return n.jsx("div",{style:{position:"absolute"},children:n.jsx(vi,{src:t.imageUrl,style:{position:"relative",left:`-${t.customImageParams.croppedAreaPixels.x*i}px`,top:`-${t.customImageParams.croppedAreaPixels.y*i}px`,width:`${t.originalDimensions.width*i}px`,height:`${t.originalDimensions.height*i}px`,objectFit:"cover"}})})},vs={},oa={quality:.8,speedRollValue:2.3,substatGoal:48,freeRolls:2,maxPerSub:30,deductionPerMain:5,baselineFreeRolls:2,limitFlatStats:!0,enforcePossibleDistribution:!1,substatRollsModifier:BS},MS={...oa,substatRollsModifier:t=>t},Fi={quality:1,speedRollValue:2.6,substatGoal:54,freeRolls:0,maxPerSub:36,deductionPerMain:6,baselineFreeRolls:0,limitFlatStats:!1,enforcePossibleDistribution:!0,substatRollsModifier:t=>t};function BS(t,a,i){if(a==e.SPD)return t;const s=12-2*Object.values(i).filter(r=>r.augmentedStats.mainStat==a).length;if(t<=s)return t;const o=Math.max(0,t-s),c=o/Math.pow(o,.25);return s+c}function PS(t){const a=W.clone(t),i={};for(const l of Object.values(T))i[l]=a[l]||{set:-1,substats:[],main:{stat:"NONE",value:0}};return i}function kS(t,a,i){const l=t.form,s=l.characterId,o=l.characterEidolon,c=l.lightCone,r=l.lightConeSuperimposition,u=L.getMetadata().characters[s];if(!u)return null;const f=u.scoringMetadata,p=L.getScoringMetadata(s),G=W.clone(f.simulation),h=W.clone(p.simulation);if(!G)return console.log("No scoring sim defined for this character"),null;i==nn&&(G.teammates=h.teammates);const m=G,b=PS(a),R=x.objectHash({characterId:s,characterEidolon:o,lightCone:c,lightConeSuperimposition:r,relicsByPart:b,metadata:m});if(vs[R])return vs[R];if(!s||!l||!m)return console.log("Invalid character sim setup"),null;const S=m.substats;let Z=!1;m.formula.BREAK>0&&(Z=!0),G.teammates.find(ct=>ct.characterId=="8005"||ct.characterId=="8006")&&(Z=!0),Z&&!S.includes(e.BE)&&S.push(e.BE),Z&&!m.parts[T.LinkRope].includes(e.BE)&&m.parts[T.LinkRope].push(e.BE),Z&&!m.relicSets.find(ct=>ct[0]==ct[1]&&ct[1]==F.IronCavalryAgainstTheScourge)&&m.relicSets.push([F.IronCavalryAgainstTheScourge,F.IronCavalryAgainstTheScourge]),Z&&!m.relicSets.find(ct=>ct[0]==ct[1]&&ct[1]==F.IronCavalryAgainstTheScourge)&&m.relicSets.push([F.IronCavalryAgainstTheScourge,F.IronCavalryAgainstTheScourge]),Z&&!m.ornamentSets.find(ct=>ct==F.TaliaKingdomOfBanditry)&&m.ornamentSets.push(F.TaliaKingdomOfBanditry),Z&&!m.ornamentSets.find(ct=>ct==F.ForgeOfTheKalpagniLantern)&&m.ornamentSets.push(F.ForgeOfTheKalpagniLantern);const C=Mi(s,c,o,r,!1),D=Mi(m.teammates[0].characterId,m.teammates[0].lightCone,m.teammates[0].characterEidolon,m.teammates[0].lightConeSuperimposition,!0),V=Mi(m.teammates[1].characterId,m.teammates[1].lightCone,m.teammates[1].characterEidolon,m.teammates[1].lightConeSuperimposition,!0),M=Mi(m.teammates[2].characterId,m.teammates[2].lightCone,m.teammates[2].characterEidolon,m.teammates[2].lightConeSuperimposition,!0);C.teammate0=D,C.teammate1=V,C.teammate2=M;const E=ss(C);pl(C,E),is(C,E),Sl(C,E);const P=m.formula,H=(ct,ie=!0)=>{if(!ct)return;const ge=ct.BASIC*P.BASIC+ct.SKILL*P.SKILL+ct.ULT*P.ULT+ct.FUA*P.FUA+ct.DOT*P.DOT+ct.BREAK*P.BREAK;ct.unpenalizedSimScore=ge,ct.penaltyMultiplier=vS(ct,m.breakpoints,oa),ct.simScore=ct.unpenalizedSimScore*(ie?ct.penaltyMultiplier:1)},k=XS(m,b),{originalSimResult:B,originalSim:J}=kc(b,k,C,E,MS),st=B.xSPD;B.SPD,H(B);const{baselineSimResult:A,baselineSim:_}=KS(b,C,E,k,oa);H(A);const dt=YS(t,m,k),Yt=[];for(const ct of dt){const ge=Ka(C,E,[ct.simulation],oa)[0].xSPD;ct.finalSpeed=ge,ct.speedRollsDeduction=Math.max(0,W.precisionRound((st-ge)/oa.speedRollValue));const ze=Bc(ct,oa),ha=Pc(ct,m,oa,A);Object.values(Ye).map(Fe=>ct.simulation.request.stats[Fe]=ha[Fe]);const Gt=Mc(ct,ze,ha,C,E,H,m,oa);H(Gt.result),Gt.key=JSON.stringify(Gt.request),Gt.name="",ct.simulation.request.stats[e.SPD]>26&&ct.simulation.request.simFeet!=e.SPD?console.log("Rejected candidate sim"):Yt.push(Gt)}Yt.sort(Nc);const vt=Yt[0],ft=vt.result;console.log("bestSims",Yt);const _t=HS(vt,m,C,E,H,A),Re=_t.result;H(Re);const me=ft.simScore,ve=B.simScore,fe=A.simScore,bt=Re.simScore,ht=ve>=me?1+(ve-me)/(bt-me):(ve-fe)/(me-fe),{substatUpgradeResults:Vt,setUpgradeResults:Rt,mainUpgradeResults:Kt}=NS(B,J,Yt[0],C,E,m,H,oa);for(const ct of[...Vt,...Rt,...Kt]){const ie=ct.simulationResult.simScore,ge=ie>=me?1+(ie-me)/(bt-me):(ie-fe)/(me-fe);ct.percent=ge}Vt.sort((ct,ie)=>ie.percent-ct.percent),Rt.sort((ct,ie)=>ie.percent-ct.percent),Kt.sort((ct,ie)=>ie.percent-ct.percent);const Pe={percent:ht,originalSim:J,baselineSim:_,benchmarkSim:vt,maximumSim:_t,originalSimResult:B,baselineSimResult:A,benchmarkSimResult:ft,maximumSimResult:Re,originalSimScore:ve,baselineSimScore:fe,benchmarkSimScore:me,maximumSimScore:bt,substatUpgrades:Vt,setUpgrades:Rt,mainUpgrades:Kt,simulationForm:C,simulationMetadata:m,characterMetadata:u};return vs[R]=Pe,console.log("simScoringResult",Pe),Pe}function HS(t,a,i,l,s,o){const c=t.request.stats[e.SPD]*oa.speedRollValue/Fi.speedRollValue,r=[];for(const u of a.parts[T.PlanarSphere]){const f=W.clone(t);f.request.simPlanarSphere=u;const p={simulation:f,finalSpeed:0,speedRollsDeduction:c},G=Bc(p,Fi),h=Pc(p,a,Fi,o);Object.values(Ye).map(b=>p.simulation.request.stats[b]=h[b]);const m=Mc(p,G,h,i,l,s,a,Fi);r.push(m)}return r.sort(Nc),r[0]}function NS(t,a,i,l,s,o,c,r){const u=[];for(const b of o.substats){const R=b,S=W.clone(a);S.request.stats[R]=(S.request.stats[R]??0)+1;const Z=Ka(l,s,[S],{...r,substatRollsModifier:C=>C})[0];c(Z),u.push({stat:R,simulation:S,simulationResult:Z})}const f=[],p=W.clone(a);p.request.simRelicSet1=i.request.simRelicSet1,p.request.simRelicSet2=i.request.simRelicSet2,p.request.simOrnamentSet=i.request.simOrnamentSet;const G=Ka(l,s,[p],{...r,substatRollsModifier:b=>b})[0];c(G),f.push({simulation:p,simulationResult:G});const h=[];function m(b){const R=W.clone(a);for(const S of o.parts[b]){const Z={[T.Body]:"simBody",[T.Feet]:"simFeet",[T.PlanarSphere]:"simPlanarSphere",[T.LinkRope]:"simLinkRope"}[b],C=R.request[Z];if(S==C||S==e.SPD||C==e.SPD)continue;R.request[Z]=S;const D=Ka(l,s,[R],{...r,substatRollsModifier:V=>V})[0];c(D),h.push({stat:S,part:b,simulation:R,simulationResult:D})}}return m(T.Body),m(T.Feet),m(T.PlanarSphere),m(T.LinkRope),console.log("Stat improvements",t,a,o,u),{substatUpgradeResults:u,setUpgradeResults:f,mainUpgradeResults:h}}function Mi(t,a,i,l,s=!1){if(!t)return null;const o={characterId:t,characterEidolon:i},c={lightCone:a,eidolon:l},r=pn({id:t});r.characterId=t,r.characterEidolon=i,r.lightCone=a,r.lightConeSuperimposition=l,r.characterConditionals={},r.lightConeConditionals={};const u=Wa.get(o),f=ma.get(c);return s?(u.teammateDefaults&&x.mergeUndefinedValues(r.characterConditionals,u.teammateDefaults()),f.teammateDefaults&&x.mergeUndefinedValues(r.lightConeConditionals,f.teammateDefaults())):(u.defaults&&x.mergeUndefinedValues(r.characterConditionals,u.defaults()),f.defaults&&x.mergeUndefinedValues(r.lightConeConditionals,f.defaults())),r}function Mc(t,a,i,l,s,o,c,r){const u=a,f=i,p=c.breakpoints,G=r.substatGoal;let h=vo(f),m=t.simulation,b,R=!0,S=!0,Z=0;const C=W.sumArray(Object.values(m.request.stats)),D=W.sumArray(Object.values(u));if(C==D||C<G)return m.result=Ka(l,s,[m],{...r,substatRollsModifier:r.substatRollsModifier})[0],m;const V={parts:[]};if(r.enforcePossibleDistribution){S=!1,f[e.SPD]=Math.max(6,f[e.SPD]),m.request.stats[e.SPD]=Math.max(6,f[e.SPD]),h=vo(f);const E=[...c.substats,e.SPD],P=k=>{const B={};return E.forEach(J=>{J!=k&&(B[J]=!0)}),{main:k,substats:B}},H=t.simulation.request;V.parts=[P(H.simLinkRope),P(H.simPlanarSphere),P(H.simFeet),P(H.simBody),P(e.ATK),P(e.HP)]}const M={};for(;h>G;){let E,P,H;const k=Object.entries(m.request.stats).filter(([B,J])=>J>r.freeRolls).map(([B])=>B).filter(B=>!M[B]);m.request.stats;for(const B of k){if(m.request.stats[B]<=r.freeRolls||x.sumArray(Object.values(m.request.stats))<=r.substatGoal||B==e.SPD&&m.request.stats[e.SPD]<=Math.ceil(t.speedRollsDeduction)||m.request.stats[B]<=u[B])continue;const J=W.clone(m);J.request.stats[B]-=1;const st=Ka(l,s,[J],{...r,substatRollsModifier:r.substatRollsModifier})[0];Z++,!(R&&p[B]&&st.x[B]<p[B])&&(o(st),o(P),(!E||st.simScore>P.simScore)&&(E=J,P=st,H=B))}if(!P){if(R){R=!1;continue}if(S){S=!1;continue}h-=1;continue}if(r.enforcePossibleDistribution&&E.request.stats[H]<6){const B=H,J=E.request.stats[B],st=V.parts.map(A=>A.substats[B]).filter(A=>A).length;if(J<st){let A=!1;for(const _ of V.parts)if(_.substats[B]&&!(Object.values(_.substats).length<=4)){delete _.substats[B],A=!0;break}if(!A){M[B]=!0;continue}}}m=E,b=P,h-=1}return m.result=b,console.log("simulationRuns",Z,t.simulation.request.simBody,t.simulation.request.simFeet,t.simulation.request.simLinkRope,t.simulation.request.simPlanarSphere),m}function vo(t){let a=0;for(const i of Ye)a+=t[i];return a}function Bc(t,a){return{[e.HP_P]:a.freeRolls,[e.ATK_P]:a.freeRolls,[e.DEF_P]:a.freeRolls,[e.HP]:a.freeRolls,[e.ATK]:a.freeRolls,[e.DEF]:a.freeRolls,[e.SPD]:t.speedRollsDeduction,[e.CR]:a.freeRolls,[e.CD]:a.freeRolls,[e.EHR]:a.freeRolls,[e.RES]:a.freeRolls,[e.BE]:a.freeRolls}}function Pc(t,a,i,l){var G;const s=t.simulation.request,o={[e.HP_P]:0,[e.ATK_P]:0,[e.DEF_P]:0,[e.HP]:0,[e.ATK]:0,[e.DEF]:0,[e.SPD]:0,[e.CR]:0,[e.CD]:0,[e.EHR]:0,[e.RES]:0,[e.BE]:0};for(const h of a.substats)o[h]=i.maxPerSub;o[s.simBody]-=i.deductionPerMain,o[s.simFeet]-=i.deductionPerMain,o[s.simPlanarSphere]-=i.deductionPerMain,o[s.simLinkRope]-=i.deductionPerMain;for(const h of Ye)o[h]=Math.min(o[h],i.substatGoal-10*i.freeRolls-Math.ceil(t.speedRollsDeduction)),o[h]=Math.max(o[h],i.freeRolls),((G=a.maxBonusRolls)==null?void 0:G[h])!=null&&(o[h]=Math.min(o[h],a.maxBonusRolls[h]+i.freeRolls));i.limitFlatStats&&(o[e.ATK]=i.freeRolls,o[e.HP]=i.freeRolls,o[e.DEF]=i.freeRolls),o[e.ATK]=Math.min(10,o[e.ATK]),o[e.HP]=Math.min(10,o[e.HP]),o[e.DEF]=Math.min(10,o[e.DEF]),o[e.SPD]=t.speedRollsDeduction;const c=Oe.getMaxedSubstatValue(e.CR,i.quality),r=Math.max(0,100-l.x[e.CR]*100);o[e.CR]=Math.max(i.baselineFreeRolls,Math.max(i.enforcePossibleDistribution?6:0,Math.min(s.simBody==e.CR?Math.ceil((r-32.4)/c):Math.ceil(r/c),o[e.CR])));const u=Oe.getMaxedSubstatValue(e.EHR,i.quality),f=Math.max(0,120-l.x[e.EHR]*100);o[e.EHR]=Math.max(i.baselineFreeRolls,Math.max(i.enforcePossibleDistribution?6:0,Math.min(s.simBody==e.EHR?Math.ceil((f-43.2)/u):Math.ceil(f/u),o[e.EHR])));const p=Math.ceil(t.speedRollsDeduction)-6;for(const h of Ye)h!=e.SPD&&(o[h]=Math.min(o[h],36-p));return o}function US(t){const a=L.getMetadata().characters[t.id];return a.stats.SPD+(a.traces.SPD||0)}function XS(t,a){const{relicSetNames:i,ornamentSetName:l}=Hc(a);let s=t.relicSets[0][0],o=t.relicSets[0][1],c=t.ornamentSets[0];const r=t.relicSets.map(f=>f.sort());for(const f of r){if(i[0]==f[0]&&i[1]==f[1]){s=f[0],o=f[1];break}if(f[0]!=f[1]&&i[0]in f&&i[1]in f){s=i[0],o=i[1];break}}const u=t.ornamentSets;for(const f of u)if(l==f){c=f;break}return{relicSet1:s,relicSet2:o,ornamentSet:c}}function YS(t,a,i,l){US(t);const s=a.parts[T.Feet],{relicSet1:o,relicSet2:c,ornamentSet:r}=i,u=[];for(const f of a.parts[T.Body])for(const p of s)for(const G of a.parts[T.PlanarSphere])for(const h of a.parts[T.LinkRope]){const m={name:"",simRelicSet1:o,simRelicSet2:c,simOrnamentSet:r,simBody:f,simFeet:p,simPlanarSphere:G,simLinkRope:h,stats:{[e.HP_P]:0,[e.ATK_P]:0,[e.DEF_P]:0,[e.HP]:0,[e.ATK]:0,[e.DEF]:0,[e.SPD]:0,[e.CR]:0,[e.CD]:0,[e.EHR]:0,[e.RES]:0,[e.BE]:0}},R={simulation:{name:"",key:"",simType:Ea.SubstatRolls,request:m},finalSpeed:0,speedRollsDeduction:0};u.push(R)}return u}function KS(t,a,i,l,s){const o=W.clone(t);Object.values(T).forEach(u=>o[u]=o[u]||Za()),Object.values(T).forEach(u=>o[u].part=u),Object.values(o).map(u=>{if(u.substats=[],u.part==T.Head)for(const f of Ye)f!=e.SPD&&u.substats.push({stat:f,value:Oe.getMaxedSubstatValue(f,s.quality)*0})});const{originalSimResult:c,originalSim:r}=kc(o,l,a,i,s,0,!0);return{baselineSimResult:c,baselineSim:r}}function kc(t,a,i,l,s,o=1,c=!1){const r=W.clone(t);Object.values(T).forEach(m=>r[m].part=m);const{relicSetNames:u,ornamentSetName:f}=Hc(r),p=A0(r,u[0],u[1],f,s.quality,s.speedRollValue);if(c){const{relicSet1:m,relicSet2:b,ornamentSet:R}=a;p.simRelicSet1=m,p.simRelicSet2=b,p.simOrnamentSet=R}const G={name:"",key:"",simType:Ea.SubstatRolls,request:p},h=Ka(i,l,[G],{...s,substatRollsModifier:m=>m,mainStatMultiplier:o})[0];return G.result=h,{originalSimResult:h,originalSim:G}}function Hc(t){Object.values(T).forEach(o=>t[o]=t[o]||Za());const a=[t[T.Head].set,t[T.Hands].set,t[T.Body].set,t[T.Feet].set].filter(o=>o!=-1),i=[t[T.PlanarSphere].set,t[T.LinkRope].set].filter(o=>o!=-1),l=j0(a,!0),s=J0(i,!0);return l.sort(),{relicSetNames:l,ornamentSetName:s}}function vS(t,a,i){let l=1;for(const s of Object.keys(a))x.isFlat(s)?l*=(Math.min(1,t.x[s]/a[s])+1)/2:l*=Math.min(1,1-(a[s]-t.x[s])/Oe.getMaxedSubstatValue(s,i.quality));return t.penaltyMultiplier=l,l}function wS(t){let a="WTF+";const i=W.precisionRound(t*100);for(const[l,s]of Object.entries(AS))if(a=l,i>=s)return a;return"???"}function Nc(t,a){const i=t.result;return a.result.simScore-i.simScore}const AS={"WTF+":135,WTF:126,"SSS+":118,SSS:111,"SS+":105,SS:100,"S+":95,S:90,"A+":85,A:80,"B+":75,B:70,"C+":65,C:60,"D+":55,D:50,"F+":45,F:40},jS=()=>n.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",fill:"none",viewBox:"0 1 20 20",children:n.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v13m0-13 4 4m-4-4-4 4"})}),JS=t=>n.jsx(un,{component:jS,...t}),{Text:OS}=pt,QS=t=>{const a=W.clone(t.simScoringResult),{t:i}=et(["charactersTab","common"]);if(!a)return n.jsx("pre",{style:{height:200},children:" "});const l=a.simulationForm.characterId,s=L.getMetadata().characters[l],o=vn[s.element];function c(M){return n.jsx(g,{vertical:!0,align:"center",gap:2,children:n.jsx("img",{src:N.getSetImage(M.set),style:{height:60}})})}function r(M){var P;const E=((P=M.stat)==null?void 0:P.replace("Boost",""))||"";return n.jsxs(g,{align:"center",gap:10,children:[n.jsx("img",{src:N.getPart(M.part),style:{height:30}}),n.jsx("pre",{style:{margin:0},children:E})]})}function u(M){const E=M.precision??1,P=M.number??0,H=P!=0;return n.jsxs(g,{align:"center",gap:15,children:[n.jsx("pre",{style:{margin:0},children:M.label}),n.jsx("pre",{style:{margin:0},children:H&&P.toFixed(E)})]})}function f(M){const E=M.text??"";return n.jsxs(g,{align:"center",gap:15,children:[n.jsx("pre",{style:{margin:0},children:M.label}),n.jsx("pre",{style:{margin:0},children:E})]})}function p(){const M=[],E=a.originalSimScore,P=a.percent;for(const H of a.substatUpgrades){const k=H,B=k.simulationResult.simScore,J=k.percent,st=k.stat,_=x.isFlat(k.stat)?"":"%",dt=x.precisionRound(Oe.getMaxedSubstatValue(st,.8));M.push(n.jsxs(g,{align:"center",gap:10,children:[n.jsx("img",{src:N.getStatIcon(st),style:{height:30}}),n.jsx("pre",{style:{margin:0,width:200},children:`+1x ${i("CharacterPreview.SubstatUpgradeComparisons.Roll")}: ${i(`common:ShortStats.${st}`)} +${dt.toFixed(1)}${_}`}),n.jsx("pre",{style:{margin:0,width:250},children:`${i("CharacterPreview.SubstatUpgradeComparisons.Score")}: +${((J-P)*100).toFixed(2)}% -> ${(k.percent*100).toFixed(2)}%`}),n.jsx("pre",{style:{margin:0,width:300},children:`${i("CharacterPreview.SubstatUpgradeComparisons.Damage")}: +${(B-E).toFixed(1)} -> ${B.toFixed(1)}`}),n.jsx("pre",{style:{margin:0,width:150},children:`${i("CharacterPreview.SubstatUpgradeComparisons.Damage")} %: +${((B-E)/E*100).toFixed(3)}%`})]},x.randomId()))}return n.jsx(g,{vertical:!0,gap:xt,children:M})}function G(){return n.jsxs(g,{vertical:!0,style:{marginTop:80,width:1e3},children:[n.jsx("h1",{style:{margin:"auto"},children:i("CharacterPreview.ScoringDetails.Header")}),n.jsxs(OS,{style:{fontSize:18},children:[n.jsxs(Et,{t:i,i18nKey:"CharacterPreview.ScoringDetails.WhatIsDPSScore",children:[n.jsx("h2",{children:"What is DPS Score?"}),n.jsx("p",{children:"DPS Score is a damage calculation based metric for accurately scoring how optimal the character's relics are for maximizing damage in combat."}),n.jsx("p",{children:"This score is calculated by using the optimizer to simulate the character's combat stats and rates the build based on how much the relics contribute to damage, for a more accurate evaluation than scores based solely on stat weights."}),n.jsx("p",{children:"The scoring calculation takes into consideration:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Character eidolons / light cone / superimpositions"}),n.jsx("li",{children:"Teammate eidolons / light cone / superimpositions"}),n.jsx("li",{children:"Combat passives and buffs from abilities and light cones"}),n.jsx("li",{children:"Team composition and teammate buffs"}),n.jsx("li",{children:"Character ability rotations"}),n.jsx("li",{children:"Stat breakpoints"}),n.jsx("li",{children:"Stat overcapping"}),n.jsx("li",{children:"Relic set effects"}),n.jsx("li",{children:"Super break"}),n.jsx("li",{children:"...etc"})]})]}),n.jsxs(Et,{t:i,i18nKey:"CharacterPreview.ScoringDetails.HowIsCalculatedPart1",children:[n.jsx("h2",{children:"How is it calculated?"}),n.jsx("p",{children:"At its heart, this score is calculated using a Basic / Skill / Ult / FuA / DoT / Break ability damage rotation predefined per character. These simulations use the optimizer's default conditional settings for the character / teammates / light cones / relic sets, and the damage sum is then used to compare between builds."}),n.jsx("h4",{children:"Simulation benchmarks"}),n.jsx("p",{children:"The scoring algorithm generates three builds to measure the damage of the original character against."}),n.jsxs("ul",{style:{lineHeight:"32px"},children:[n.jsx("li",{children:"Baseline (0%) - No substats, no main stats"}),n.jsx("li",{children:"Benchmark (100%) - A strong build, generated following certain rules with a realistic distribution of 48x min rolls"}),n.jsx("li",{children:"Perfection (200%) - The perfect build, generated with an ideal distribution of 54x max rolled substats"})]}),n.jsx("p",{children:"The original character's build is scored based on how its Combo DMG compares to the benchmark percentages. The benchmark and perfection builds will always match the original character's SPD."})]}),n.jsxs(Et,{t:i,i18nKey:"CharacterPreview.ScoringDetails.HowIsCalculatedPart2",children:[n.jsx("h4",{children:"100% benchmark ruleset"}),n.jsx("p",{children:"The 100% benchmark character is designed to be a strong and realistic build that is difficult to reach, but attainable with some character investment into relic farming. The following ruleset defines how the build is generated and why it differs from the perfect build."}),n.jsxs("ul",{style:{lineHeight:"32px"},children:[n.jsx("li",{children:"The default damage simulation uses a common team composition and the character's BiS relic + ornament set"}),n.jsx("li",{children:"The 100% benchmark uses the same eidolon and superimposition as the original character, at level 80 and maxed traces"}),n.jsx("li",{children:"The 100% benchmark has 4 main stats and 48 total substats: 8 from each gear slot"}),n.jsx("li",{children:"Each substat is equivalent to a 5 star relic's low roll value, except for SPD which uses mid rolls"}),n.jsx("li",{children:"First, 2 substats are allocated to each substat type, except for SPD"}),n.jsx("li",{children:"Substats are then allocated to SPD to match the original character's in-combat SPD"}),n.jsx("li",{children:"The remaining substats are then distributed to the other stats options to maximize the build's damage output"}),n.jsx("li",{children:"The resulting build must be a substat distribution that is possible to make with the in-game sub and main stat restrictions (for example, relics with a main stat cannot also have the same substat, and no duplicate substat slots per piece, etc)"}),n.jsxs("li",{children:["An artificial diminishing returns penalty is applied to substats with greater than ",n.jsx("code",{children:"12 - (2 * main stats)"})," rolls, to simulate the difficulty of obtaining multiple rolls in a single stat"]})]}),n.jsx("p",{children:"This process is repeated through all the possible main stat permutations and substat distributions until the highest damage simulation is found. That build's damage is then used as the standard for a 100% DPS Score."}),n.jsx("h4",{children:"200% benchmark ruleset"}),n.jsx("p",{children:"The 200% perfection character follows a similar generation process with a few differences."}),n.jsxs("ul",{style:{lineHeight:"32px"},children:[n.jsx("li",{children:"54x max roll substats"}),n.jsx("li",{children:"No diminishing returns penalty"}),n.jsx("li",{children:"All substats are ideally distributed, but the build must still be possible to make"})]})]}),n.jsxs(Et,{t:i,i18nKey:"CharacterPreview.ScoringDetails.HowIsCalculatedPart3",shouldUnescape:!0,children:[n.jsx("h4",{children:"Score normalization"}),n.jsx("p",{children:"All simulation scores are normalized by deducting a baseline damage simulation. The baseline uses the same eidolon and light cone, but no main stats and no substats. This adjusts for the base amount of damage that a character's kit deals, so that the DPS Score can then measure the resulting damage contribution of each additional substat."}),n.jsx("h4",{children:"Relic / ornament sets"}),n.jsx("p",{children:"Each character has a defined BiS set, and a few other equivalent sets that can be considered similar in performance. If the original character's sets matches any of the acceptable sets, the character will be scored against a benchmark generated matching that set, otherwise the original character will be scored against the BiS."}),n.jsx("h4",{children:"Stat breakpoint penalty"}),n.jsx("p",{children:"Certain characters will have breakpoints that are forced. For example, 120% combat EHR on Black Swan to maximize her passive EHR to DMG conversion, and to land Arcana stacks. Failing to reach the breakpoint will penalize the DPS Score for the missing percentage. This penalty applies to both the original character and the benchmark simulations but not the baseline."}),n.jsx("h4",{children:"Formula"}),n.jsx("p",{children:"The resulting formula is:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"If DMG < 100% benchmark"}),n.jsx("ul",{style:{paddingLeft:20},children:n.jsx("li",{children:n.jsx("code",{children:"DMG Score = (character dmg - 0% baseline dmg) / (100% benchmark dmg - 0% baseline dmg)"})})})]}),n.jsxs("ul",{children:[n.jsx("li",{children:"If DMG ≥ 100% benchmark"}),n.jsx("ul",{style:{paddingLeft:20},children:n.jsx("li",{children:n.jsx("code",{children:"DMG Score = 1 + (character dmg - 100% benchmark dmg) / (200% perfect dmg - 100% benchmark dmg)"})})})]}),n.jsx("h3",{children:"What are the grade thresholds?"}),n.jsx("p",{children:"Grading is based on the benchmark as 100%."}),n.jsx("pre",{style:{width:500},children:n.jsxs(g,{children:[n.jsxs("ul",{style:{width:300},children:[n.jsx("li",{children:"WTF+ = 135% ↑ 9%"}),n.jsx("li",{children:"WTF  = 126% ↑ 8%"}),n.jsx("li",{children:"SSS+ = 118% ↑ 7%"}),n.jsx("li",{children:"SSS  = 111% ↑ 6%"}),n.jsx("li",{children:"SS+  = 105% ↑ 5%"}),n.jsx("li",{children:"SS   = 100% [Benchmark]"}),n.jsx("li",{children:"S+   = 95%"}),n.jsx("li",{children:"S    = 90%"}),n.jsx("li",{children:"A+   = 85%"})]}),n.jsxs("ul",{children:[n.jsx("li",{children:"A  = 80%"}),n.jsx("li",{children:"B+ = 75%"}),n.jsx("li",{children:"B  = 70%"}),n.jsx("li",{children:"C+ = 65%"}),n.jsx("li",{children:"C  = 60%"}),n.jsx("li",{children:"D+ = 55%"}),n.jsx("li",{children:"D  = 50%"}),n.jsx("li",{children:"F+ = 45%"}),n.jsx("li",{children:"F  = 40%"})]})]})})]}),n.jsxs(Et,{t:i,i18nKey:"CharacterPreview.ScoringDetails.FAQ",children:[n.jsx("h2",{children:"FAQs"}),n.jsx("h4",{children:"Why does the sim match speed?"}),n.jsx("p",{children:"Speed is controlled separately from the other stats because damage isn't comparable between different speed thresholds. For example, higher speed can actually result in lower damage with Bronya as a teammate if the speed tuning is thrown off. To make damage comparisons fair, we equalize the speed variable by forcing the sim's substats to match the original character's combat speed."}),n.jsx("h4",{children:"Why does a build score lower even though it has higher Sim Damage?"}),n.jsx("p",{children:"The benchmark sims have to equalize speed, so if the higher damage build has lower speed, then it will be compared to benchmark builds at that same lower speed, and therefore may score lower. In general this means that the sim will reallocate every reduced speed roll into a damage stat instead."}),n.jsx("h4",{children:"What's the reasoning behind the benchmark simulation rules?"}),n.jsx("p",{children:"The simulation rules were designed to create a realistic benchmark build for 100% DPS Score, which should be difficult to achieve yet possible with character investment. After trialing many methodologies for generating simulation stats, this set of rules produced the most consistent and reasonable 100% benchmarks across all characters and builds."}),n.jsx("p",{children:"The spread of 2 substats across all stat options provides some baseline consistency, and simulates how substats are imperfectly distributed in actual player builds. The spread rolls also help to balance out characters that are more stat hungry and require multiple stats to be effective, vs characters that only need two or three stats."}),n.jsx("p",{children:"Applying diminishing returns to high stacking substats is a way to make the benchmark fair for characters that primarily scale off of a single stat, for example Boothill and break effect. The ideal distribution will want every relic roll to go into break effect, but stacking 5x rolls of a single stat on a relic is extremely rare / unrealistic in practice, so the simulation rules add diminishing returns to account for that."}),n.jsx("h4",{children:"Why are the scores different for different teams?"}),n.jsx("p",{children:"Team buffs and synergy will change the ideal benchmark simulation's score. For example, a benchmark sim with Fu Xuan on the team may invest more substats into Crit DMG instead of Crit Rate since her passive Crit Rate will change the optimal distribution of crit rolls. Teams should be customized to fit the actual teammates used for the character ingame for an accurate score."}),n.jsx("h4",{children:"Why are certain stat breakpoints forced?"}),n.jsx("p",{children:"The only forced breakpoints currently are Effect Hit Rate minimums for DoT characters. Take Black Swan for example, the purpose of forcing the sim to use her 120% breakpoint is so it can't just ignore EHR to chase more maximum DoT damage. EHR is more than just DMG conversion as it also lets her land Arcana debuffs to reach her 7th Arcana stack for DEF pen. The penalty is calculated as a 1% deduction per missing roll from the breakpoint."}),n.jsx("p",{children:n.jsx("code",{children:"dmg scale = min(1, (breakpoint - combat stat) / (min stat value))"})}),n.jsx("h4",{children:"How were the default simulation teams / sets chosen?"}),n.jsx("p",{children:"The defaults come from a combination of usage statistics and community guidance. Best in slot sets and teammates will change with new game updates, so the default parameters may also change. Please visit the Discord server for suggestions and feedback on the scoring design."}),n.jsx("h4",{children:"Why is a character scoring low?"}),n.jsx("p",{children:"The `Damage Upgrades` section will give a quick overview of the sets and stats that could be improved. Substat upgrades will show the damage increase for a single max roll. For a more detailed explanation, the full simulation is detailed below the character card, including the benchmark character's stat distribution, basic stats, combat stats, and main stats. Comparing the original character's stats to the benchmark character's stats is helpful to show the difference in builds and see where to improve."}),n.jsx("p",{children:"An often underestimated component of the build is completed BiS set effects. Set effects can play a large part in optimizing a character's potential damage output and rainbow or broken sets will often score worse than full sets."})]})]})]})}const h=W.clone(a.originalSimResult),m=W.clone(a.benchmarkSimResult),b=W.clone(a.maximumSimResult),R=h.x,S=m.x,Z=b.x;h[o]=h.ELEMENTAL_DMG,m[o]=m.ELEMENTAL_DMG,b[o]=b.ELEMENTAL_DMG,R[o]=R.ELEMENTAL_DMG,S[o]=S.ELEMENTAL_DMG,Z[o]=Z.ELEMENTAL_DMG;const C=300,D=n.jsx(g,{vertical:!0,children:n.jsx(Ge,{type:"vertical",style:{flexGrow:1,margin:"10px 30px"}})});function V(M){const E=M.simulation.request,P=W.clone(M.simulation.result),H=P,k=H.x,B=M.type=="Character",J="rgb(225, 165, 100)";return H[o]=H.ELEMENTAL_DMG,k[o]=k.ELEMENTAL_DMG,n.jsxs(g,{vertical:!0,gap:25,children:[n.jsx(g,{vertical:!0,gap:xt,children:n.jsx(g,{justify:"space-around",children:n.jsx("pre",{style:{fontSize:20,fontWeight:"bold",color:B?J:""},children:n.jsx("u",{children:i(`CharacterPreview.ScoringColumn.${M.type}.Header`,{score:x.truncate10ths(x.precisionRound(M.percent*100))})})})})}),n.jsxs(g,{vertical:!0,gap:xt,style:{width:C},children:[n.jsx("pre",{style:{margin:"auto",color:B?J:""},children:i(`CharacterPreview.ScoringColumn.${M.type}.BasicStats`)}),n.jsx(al,{finalStats:H,elementalDmgValue:o,simScore:P.simScore})]}),n.jsxs(g,{vertical:!0,gap:xt,style:{width:C},children:[n.jsx("pre",{style:{margin:"auto",color:B?J:""},children:n.jsxs(Et,{t:i,i18nKey:`CharacterPreview.ScoringColumn.${M.type}.CombatStats`,children:["build type ",n.jsx("u",{children:"combat stats"})]})}),n.jsx(al,{finalStats:k,elementalDmgValue:o,simScore:P.simScore})]}),n.jsxs(g,{vertical:!0,gap:xt,children:[n.jsx("pre",{style:{margin:"10px auto",color:B?J:""},children:i(`CharacterPreview.ScoringColumn.${M.type}.Substats`)}),n.jsxs(g,{gap:5,justify:"space-around",children:[n.jsxs(g,{vertical:!0,gap:xt,style:{width:120},children:[n.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.ATKP"),number:E.stats[e.ATK_P],precision:M.precision}),n.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.ATK"),number:E.stats[e.ATK],precision:M.precision}),n.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.HPP"),number:E.stats[e.HP_P],precision:M.precision}),n.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.HP"),number:E.stats[e.HP],precision:M.precision}),n.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.DEFP"),number:E.stats[e.DEF_P],precision:M.precision}),n.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.DEF"),number:E.stats[e.DEF],precision:M.precision})]}),n.jsxs(g,{vertical:!0,gap:xt,style:{width:100},children:[n.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.SPD"),number:E.stats[e.SPD],precision:2}),n.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.CR"),number:E.stats[e.CR],precision:M.precision}),n.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.CD"),number:E.stats[e.CD],precision:M.precision}),n.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.EHR"),number:E.stats[e.EHR],precision:M.precision}),n.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.RES"),number:E.stats[e.RES],precision:M.precision}),n.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedStatLabels.BE"),number:E.stats[e.BE],precision:M.precision})]})]})]}),n.jsxs(g,{vertical:!0,gap:xt,children:[n.jsx("pre",{style:{margin:"0 auto",color:B?J:""},children:i(`CharacterPreview.ScoringColumn.${M.type}.Mainstats`)}),n.jsx(g,{gap:xt,justify:"space-around",children:n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx(r,{stat:E.simBody!=="NONE"?i(`common:ReadableStats.${E.simBody}`):"",part:T.Body}),n.jsx(r,{stat:E.simFeet!=="NONE"?i(`common:ReadableStats.${E.simFeet}`):"",part:T.Feet}),n.jsx(r,{stat:E.simPlanarSphere!=="NONE"?i(`common:ReadableStats.${E.simPlanarSphere}`):"",part:T.PlanarSphere}),n.jsx(r,{stat:E.simLinkRope!=="NONE"?i(`common:ReadableStats.${E.simLinkRope}`):"",part:T.LinkRope})]})})]}),n.jsxs(g,{vertical:!0,gap:20,children:[n.jsx("pre",{style:{margin:"0 auto",color:B?J:""},children:i(`CharacterPreview.ScoringColumn.${M.type}.Abilities`)}),n.jsx(g,{gap:xt,justify:"space-around",children:n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedDMGLabels.Basic"),number:P.BASIC}),n.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedDMGLabels.Skill"),number:P.SKILL}),n.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedDMGLabels.Ult"),number:P.ULT}),n.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedDMGLabels.Fua"),number:P.FUA}),n.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedDMGLabels.Dot"),number:P.DOT}),n.jsx(u,{label:i("CharacterPreview.ScoringColumn.PaddedDMGLabels.Break"),number:P.BREAK})]})})]})]})}return n.jsxs(g,{vertical:!0,gap:15,align:"center",children:[n.jsx(g,{justify:"space-around",style:{marginTop:15},children:n.jsx("pre",{style:{fontSize:28,fontWeight:"bold",margin:0},children:i("CharacterPreview.BuildAnalysis.Header")})}),n.jsxs(g,{gap:40,children:[n.jsxs(g,{vertical:!0,gap:xt,style:{marginLeft:10},children:[n.jsx("pre",{style:{margin:"5px auto"},children:i("CharacterPreview.BuildAnalysis.SimulationTeammates")}),n.jsxs(g,{gap:15,children:[n.jsx(ws,{result:a,index:0}),n.jsx(ws,{result:a,index:1}),n.jsx(ws,{result:a,index:2})]})]}),n.jsx(dn,{}),n.jsxs(g,{vertical:!0,gap:xt,children:[n.jsx("pre",{style:{margin:"5px auto"},children:i("CharacterPreview.BuildAnalysis.SimulationSets")}),n.jsxs(g,{vertical:!0,gap:xt,children:[n.jsxs(g,{children:[n.jsx(c,{set:a.maximumSim.request.simRelicSet1}),n.jsx(c,{set:a.maximumSim.request.simRelicSet2})]}),n.jsx(c,{set:a.maximumSim.request.simOrnamentSet})]})]}),n.jsx(dn,{}),n.jsxs(g,{vertical:!0,gap:xt,children:[n.jsx("pre",{style:{margin:"5px auto"},children:i("CharacterPreview.BuildAnalysis.Formula.Header")}),n.jsxs(g,{vertical:!0,gap:xt,children:[n.jsx(u,{label:i("CharacterPreview.BuildAnalysis.Formula.BASIC"),number:a.simulationMetadata.formula.BASIC,precision:0}),n.jsx(u,{label:i("CharacterPreview.BuildAnalysis.Formula.SKILL"),number:a.simulationMetadata.formula.SKILL,precision:0}),n.jsx(u,{label:i("CharacterPreview.BuildAnalysis.Formula.ULT"),number:a.simulationMetadata.formula.ULT,precision:0}),n.jsx(u,{label:i("CharacterPreview.BuildAnalysis.Formula.FUA"),number:a.simulationMetadata.formula.FUA,precision:0}),n.jsx(u,{label:i("CharacterPreview.BuildAnalysis.Formula.DOT"),number:a.simulationMetadata.formula.DOT,precision:0}),n.jsx(u,{label:i("CharacterPreview.BuildAnalysis.Formula.BREAK"),number:a.simulationMetadata.formula.BREAK,precision:0})]})]}),n.jsx(dn,{}),n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx("pre",{style:{margin:"5px auto"},children:i("CharacterPreview.BuildAnalysis.CombatResults.Header")}),n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx(f,{label:i("CharacterPreview.BuildAnalysis.CombatResults.Primary"),text:i(`CharacterPreview.BuildAnalysis.CombatResults.Abilities.${a.characterMetadata.scoringMetadata.sortOption.key}`)}),n.jsx(u,{label:i("CharacterPreview.BuildAnalysis.CombatResults.Character"),number:a.originalSimScore}),n.jsx(u,{label:i("CharacterPreview.BuildAnalysis.CombatResults.Baseline"),number:a.baselineSimScore}),n.jsx(u,{label:i("CharacterPreview.BuildAnalysis.CombatResults.Benchmark"),number:a.benchmarkSimScore}),n.jsx(u,{label:i("CharacterPreview.BuildAnalysis.CombatResults.Maximum"),number:a.maximumSimScore}),n.jsx(u,{label:i("CharacterPreview.BuildAnalysis.CombatResults.Score"),number:a.percent*100,precision:2})]})]})]}),n.jsxs(g,{children:[n.jsx(V,{simulation:a.originalSim,percent:a.percent,precision:2,type:"Character"}),D,n.jsx(V,{simulation:a.benchmarkSim,percent:1,precision:0,type:"Benchmark"}),D,n.jsx(V,{simulation:a.maximumSim,percent:2,precision:0,type:"Perfect"})]}),n.jsx(g,{gap:xt,justify:"space-around",children:n.jsxs(g,{vertical:!0,gap:xt,children:[n.jsx("pre",{style:{marginLeft:"auto",marginRight:"auto"},children:i("CharacterPreview.SubstatUpgradeComparisons.Header")}),n.jsx(p,{})]})}),n.jsx(g,{vertical:!0,gap:xt,children:n.jsx(G,{})})]})};function ws(t){const{t:a}=et("common"),i=t.result.simulationMetadata.teammates[t.index],l=60;return n.jsxs(g,{vertical:!0,align:"center",gap:5,children:[n.jsx("img",{src:N.getCharacterAvatarById(i.characterId),style:{height:l}}),n.jsx("pre",{style:{margin:0},children:a("EidolonNShort",{eidolon:i.characterEidolon})}),n.jsx("img",{src:N.getLightConeIconById(i.lightCone),style:{height:l}}),n.jsx("pre",{style:{margin:0},children:a("SuperimpositionNShort",{superimposition:i.lightConeSuperimposition})})]})}function _S(t){const i=t.characterMetadata.scoringMetadata.sortOption.key,l=t.originalSimResult.x;l.ELEMENTAL_DMG+=l[`${i}_BOOST`],i!=v.DOT.key&&(l[e.CR]+=l[`${i}_CR_BOOST`],l[e.CD]+=l[`${i}_CD_BOOST`])}const wo={[e.ATK_P]:!0,[e.DEF_P]:!0,[e.HP_P]:!0};function zS(t){const a=W.clone(t.result);_S(a);const{t:i}=et("common"),l=a.characterMetadata.scoringMetadata.simulation,s=a.simulationMetadata,o=vn[a.characterMetadata.element],c=s.nonDisplayStats||[];let r=l.substats;r=r.filter(f=>!c.includes(f)),r=x.filterUnique(r).filter(f=>!wo[f]),r.length<5&&r.push(e.SPD),r.sort((f,p)=>Ye.indexOf(f)-Ye.indexOf(p)),r.push(o);const u=[];for(const f of r){if(wo[f])continue;const p=ko[f]?a.originalSimResult.x.ELEMENTAL_DMG:a.originalSimResult.x[f],G=x.isFlat(f),h=ko[f]?x.precisionRound(a.originalSimResult.x.ELEMENTAL_DMG,2)!=x.precisionRound(a.originalSimResult.ELEMENTAL_DMG,2):x.precisionRound(a.originalSimResult.x[f],2)!=x.precisionRound(a.originalSimResult[f],2);let m=Math.floor(p);f==e.SPD?m=x.truncate10ths(p).toFixed(1):G||(m=x.truncate10ths(p*100).toFixed(1)),u.push(n.jsxs(g,{justify:"space-between",align:"center",style:{width:"100%"},children:[n.jsx("img",{src:N.getStatIcon(f),style:{width:re,height:re,marginRight:3}}),n.jsx(on,{children:n.jsxs(g,{gap:3,align:"center",children:[i(`ReadableStats.${f}`),h&&n.jsx(qS,{})]})}),n.jsx(Ge,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),n.jsx(on,{children:`${m}${G?"":"%"}`})]},x.randomId()))}return n.jsxs(g,{vertical:!0,gap:1,align:"center",style:{paddingLeft:4,paddingRight:6,marginBottom:1},children:[n.jsx(g,{vertical:!0,align:"center",children:n.jsx(at,{style:{fontSize:16},children:i("CombatStats")})}),u]})}function qS(){return n.jsx(g,{style:{},align:"center",children:n.jsx(JS,{})})}function $S(t){const{t:a}=et(["common","charactersTab"]),i=t.result,l=[],s=i.originalSimResult.simScore,o=i.percent,c=i.substatUpgrades.filter(p=>p.stat!=e.SPD);for(const p of c.slice(0,4)){const G=p.stat,h=p.simulationResult.simScore/s-1;l.push(n.jsxs(g,{justify:"space-between",align:"center",style:{width:"100%"},children:[n.jsx("img",{src:N.getStatIcon(G),style:{width:re,height:re,marginRight:3}}),n.jsx(on,{children:`+1x ${a(`ShortReadableStats.${G}`)}`}),n.jsx(Ge,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),n.jsx(on,{children:`+ ${(h*100).toFixed(2)}%`})]},x.randomId()))}const r=[],u=i.mainUpgrades[0];if(u&&u.percent-o>0){const p=u.part,G=u.stat,h=u.simulationResult.simScore/s-1;r.push(n.jsxs(g,{gap:3,justify:"space-between",align:"center",style:{width:"100%",paddingLeft:1},children:[n.jsx("img",{src:N.getPart(p),style:{width:re,height:re,marginRight:3}}),n.jsx(on,{children:`➔ ${a(`ShortReadableStats.${G}`)}`}),n.jsx(Ge,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),n.jsx(on,{children:`+ ${(h*100).toFixed(2)}%`})]},x.randomId()))}const f=i.setUpgrades[0];if(f.percent-o>0){const p=f.simulationResult.simScore/s-1;r.push(n.jsxs(g,{gap:2,justify:"space-between",align:"center",style:{width:"100%",paddingLeft:1},children:[n.jsx("img",{src:N.getSetImage(f.simulation.request.simRelicSet1),style:{width:re,height:re,marginRight:3}}),n.jsx("img",{src:N.getSetImage(f.simulation.request.simRelicSet2),style:{width:re,height:re,marginRight:5}}),n.jsx("img",{src:N.getSetImage(f.simulation.request.simOrnamentSet),style:{width:re,height:re,marginRight:3}}),n.jsx(Ge,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),n.jsx(on,{children:`+ ${(p*100).toFixed(2)}%`})]},x.randomId()))}return r.length&&(l.splice(4-r.length,r.length),r.map(p=>l.unshift(p))),n.jsxs(g,{vertical:!0,gap:1,align:"center",style:{paddingLeft:4,paddingRight:6,marginBottom:0},children:[n.jsx(g,{vertical:!0,align:"center",children:n.jsx(at,{style:{fontSize:16},children:a("charactersTab:CharacterPreview.DMGUpgrades")})}),l]})}function rs(t){var G,h,m;const[a]=X.useForm();window.characterForm=a;const{t:i}=et("modals",{keyPrefix:"EditCharacter"}),[l,s]=y.useState(((G=t.initialCharacter)==null?void 0:G.form.characterId)||""),[o,c]=y.useState(((h=t.initialCharacter)==null?void 0:h.form.characterEidolon)||0),[r,u]=y.useState(((m=t.initialCharacter)==null?void 0:m.form.lightConeSuperimposition)||1);y.useEffect(()=>{var R,S,Z,C,D;if(!t.open)return;const b={characterId:(R=t.initialCharacter)==null?void 0:R.form.characterId,characterLevel:80,characterEidolon:((S=t.initialCharacter)==null?void 0:S.form.characterEidolon)||0,lightCone:(Z=t.initialCharacter)==null?void 0:Z.form.lightCone,lightConeLevel:80,lightConeSuperimposition:((C=t.initialCharacter)==null?void 0:C.form.lightConeSuperimposition)||1};s((D=t.initialCharacter)==null?void 0:D.form.characterId),a.setFieldsValue(b)},[t.open]);function f(){const b=a.getFieldsValue();console.log("Character modal submitted with form:",b),t.onOk(b),t.setOpen(!1)}const p=()=>{t.setOpen(!1)};return n.jsx(Ie,{open:t.open,width:400,destroyOnClose:!0,centered:!0,onOk:f,onCancel:p,footer:[n.jsx(w,{onClick:p,children:i("Cancel")},"back"),n.jsx(w,{type:"primary",onClick:f,children:i("Save")},"submit")],children:n.jsx(X,{form:a,preserve:!1,layout:"vertical",children:n.jsxs(g,{vertical:!0,gap:10,children:[n.jsxs(g,{vertical:!0,gap:5,children:[n.jsx(at,{children:i("Character")}),n.jsx(X.Item,{size:"default",name:"characterId",children:n.jsx(Un,{value:"",withIcon:!0,onChange:b=>{var S,Z;s(b);const R=((Z=(S=L.getCharacterById(b))==null?void 0:S.form)==null?void 0:Z.characterEidolon)||0;a.setFieldValue("characterEidolon",R)}})}),n.jsx(X.Item,{size:"default",name:"characterEidolon",children:n.jsxs(pe.Group,{value:o,buttonStyle:"solid",style:{width:"100%",display:"flex"},children:[n.jsx(je,{text:i("EidolonButton",{eidolon:0}),value:0}),n.jsx(je,{text:i("EidolonButton",{eidolon:1}),value:1}),n.jsx(je,{text:i("EidolonButton",{eidolon:2}),value:2}),n.jsx(je,{text:i("EidolonButton",{eidolon:3}),value:3}),n.jsx(je,{text:i("EidolonButton",{eidolon:4}),value:4}),n.jsx(je,{text:i("EidolonButton",{eidolon:5}),value:5}),n.jsx(je,{text:i("EidolonButton",{eidolon:6}),value:6})]})})]}),n.jsxs(g,{vertical:!0,gap:5,children:[n.jsx(at,{children:i("Lightcone")}),n.jsx(X.Item,{size:"default",name:"lightCone",children:n.jsx(Il,{value:"",withIcon:!0,characterId:l,onChange:()=>{a.setFieldValue("lightConeSuperimposition",1)}})}),n.jsx(X.Item,{size:"default",name:"lightConeSuperimposition",children:n.jsxs(pe.Group,{value:r,onChange:b=>u(b.target.value),buttonStyle:"solid",style:{width:"100%",display:"flex"},children:[n.jsx(je,{text:i("SuperimpositionButton",{superimposition:1}),value:1}),n.jsx(je,{text:i("SuperimpositionButton",{superimposition:2}),value:2}),n.jsx(je,{text:i("SuperimpositionButton",{superimposition:3}),value:3}),n.jsx(je,{text:i("SuperimpositionButton",{superimposition:4}),value:4}),n.jsx(je,{text:i("SuperimpositionButton",{superimposition:5}),value:5})]})})]})]})})})}rs.propTypes={open:z.bool,onOk:z.func,setOpen:z.func,initialCharacter:z.object,addCharacter:z.bool};function je(t){return n.jsx(pe.Button,{value:t.value,style:{flex:1,textAlign:"center"},children:t.text})}const{useToken:tR}=Ze,{Text:ti}=pt,ei="rgb(255 255 255 / 40%) solid 1px",eR="rgba(0, 0, 0, 0.5) 1px 1px 1px 1px",wi="drop-shadow(rgb(0, 0, 0) 1px 1px 3px)",As={opacity:0,transition:"opacity 0.3s ease",visibility:"hidden",flex:"auto",position:"absolute",left:6,width:150};function ds(t){var Fl,Ml,Bl,Pl,kl,Hl;console.log("======================================================================= RENDER CharacterPreview");const{token:a}=tR(),{t:i}=et(["charactersTab","modals","common"]),{source:l,character:s,setOriginalCharacterModalOpen:o,setOriginalCharacterModalInitialCharacter:c,setCharacterModalAdd:r}=t,u=l=="scorer",f=l=="builds",p=a.colorBgLayout,G=window.store(ut=>ut.relicsById),[h,m]=y.useState(),[b,R]=y.useState(!1),[S,Z]=y.useState(!1),[C,D]=y.useState(!1),[V,M]=y.useState(null),[E,P]=y.useState(Jn),[H,k]=y.useState(Hi),[B,J]=y.useState(Gs),[st,A]=y.useState(!1),[_,dt]=y.useState(),[Yt,vt]=y.useState(),[ft,_t]=y.useState(),Re=y.useRef(null);y.useEffect(()=>{var ut;if(M(((ut=L.getCharacterById(s==null?void 0:s.id))==null?void 0:ut.portrait)||null),s!=null&&s.id){const zt=L.getMetadata().characters[s.id].scoringMetadata;if(zt!=null&&zt.simulation){const qt=L.getScoringMetadata(s.id);x.objectHash(qt.simulation.teammates)!=x.objectHash(zt.simulation.teammates)?P(nn):P(Jn)}Re.current=s.id}},[s]);function me(){var qt,La,Sa;const ut=((qt=s==null?void 0:s.portrait)==null?void 0:qt.artistName)||((Sa=(La=L.getCharacterById(s==null?void 0:s.id))==null?void 0:La.portrait)==null?void 0:Sa.artistName);if(!ut)return null;const zt=ut.trim();return zt.length<1?null:zt}function ve(ut){const zt=Vl.onEditOk(h,ut);m(zt)}function fe(ut){L.setRelic(ut),setRelicRows(L.getRelics()),Ct.save(),m(ut),j.success(i("CharacterPreview.Messages.AddedRelic"))}function bt(ut){const{type:zt,...qt}=ut;switch(zt){case"add":M({...qt}),L.saveCharacterPortrait(s.id,qt),j.success(i("CharacterPreview.Messages.SavedPortrait")),Ct.save();break;case"delete":L.deleteCharacterPortrait(s.id),M(null),j.success(i("CharacterPreview.Messages.RevertedPortrait")),Ct.save();break;default:console.error(`Payload of type '${zt}' is not valid!`)}D(!1)}if(!s)return n.jsxs(g,{style:{display:"flex",height:zn,backgroundColor:p},gap:xt,id:t.id,children:[n.jsx("div",{style:{width:Ra,overflow:"hidden",outline:`2px solid ${a.colorBgContainer}`,height:"100%",borderRadius:"8px"}}),n.jsxs(g,{gap:xt,children:[n.jsx(g,{vertical:!0,gap:xt,align:"center",style:{outline:`2px solid ${a.colorBgContainer}`,width:"100%",height:"100%",borderRadius:"8px"},children:n.jsx(g,{vertical:!0,style:{width:Ps,height:280*2+xt},justify:"space-between",children:n.jsx(g,{})})}),n.jsxs(g,{vertical:!0,gap:xt,children:[n.jsx(ce,{setSelectedRelic:m}),n.jsx(ce,{setSelectedRelic:m}),n.jsx(ce,{setSelectedRelic:m})]}),n.jsxs(g,{vertical:!0,gap:xt,children:[n.jsx(ce,{setSelectedRelic:m}),n.jsx(ce,{setSelectedRelic:m}),n.jsx(ce,{setSelectedRelic:m})]})]})]});let ht,Vt;if(u||f){const ut=Object.values(s.equipped);Vt=ae.scoreCharacterWithRelics(s,ut),ht=s.equipped}else Vt=ae.scoreCharacter(s),ht={Head:G[(Fl=s.equipped)==null?void 0:Fl.Head],Hands:G[(Ml=s.equipped)==null?void 0:Ml.Hands],Body:G[(Bl=s.equipped)==null?void 0:Bl.Body],Feet:G[(Pl=s.equipped)==null?void 0:Pl.Feet],PlanarSphere:G[(kl=s.equipped)==null?void 0:kl.PlanarSphere],LinkRope:G[(Hl=s.equipped)==null?void 0:Hl.LinkRope]};const Rt=s.form.characterId,Kt=L.getMetadata().characters[Rt],Pe=Kt.element,ct=vn[Pe],ie=x.clone(ht);RelicFilters.condenseRelicSubstatsForOptimizerSingle(Object.values(ie));const ge=An(tt.fixForm(tt.getDisplayFormValues(s.form)),ie);ge.CV=StatCalculator.calculateCv(Object.values(ie)),ge[ct]=ge.ELEMENTAL_DMG;let ze=E;if(s!=null&&s.id){const ut=L.getMetadata().characters[s.id].scoringMetadata;if(ut!=null&&ut.simulation){const zt=L.getScoringMetadata(s.id),qt=x.objectHash(zt.simulation.teammates)!=x.objectHash(ut.simulation.teammates);Re.current==null&&(qt?ze=nn:ze=Jn),Re.current!=s.id&&(qt?ze=nn:ze=E)}}let ha=kS(s,ht,ze),Gt=H==Hi&&ha;Gt!=null&&Gt.originalSim?Gt.originalSimResult[ct]=Gt.originalSimResult.ELEMENTAL_DMG:(ha=null,Gt=null);const Fe=Vt.relics||[],xa=s.form.lightCone,Qa=80,Sn=s.form.lightConeSuperimposition,ia=L.getMetadata().lightCones[xa],_a=xa?i(`gameData:Lightcones.${xa}.Name`):"",pa=N.getLightConePortrait(ia)||"",U=80,Wt=s.form.characterEidolon,Y=Rt?i(`gameData:Characters.${Rt}.Name`):"",q=Kt.path,Tt=5,ke=125,ya=L.getMetadata().characters[s.id].imageCenter,nr=s.form.lightCone&&s.form.lightCone!="0"?L.getMetadata().lightCones[s.form.lightCone].imageCenter:0,bs=Gt?Ra:Bp,hs=Gt?ke:Pp,fi=Gt?Ra+16:Gc,Ll=Gt?1260/902*fi:kp,Gi=Gt?zn-ke-Tt:zn,ps=Gt?950:Mp;function ir(ut){if(!ut.characterId||!ut.lightCone)return j.error(i("CharacterPreview.Messages.NoSelectedCharacter"));const qt=x.clone(L.getScoringMetadata(Rt)).simulation;qt.teammates[Yt]=ut,L.updateSimulationScoreOverrides(Rt,qt),_t(x.randomId()),P(nn)}function sr(ut){const zt=ut.result,qt={fontSize:17,fontWeight:"600",textAlign:"center",color:"rgb(225, 165, 100)",height:23,whiteSpace:"nowrap"},La=n.jsxs(g,{align:"center",vertical:!0,style:{marginBottom:4,paddingTop:3,paddingBottom:3},children:[n.jsx(ca,{style:qt,children:i("CharacterPreview.ScoreHeader.Title")}),n.jsx(ca,{style:qt,children:i("CharacterPreview.ScoreHeader.Score",{score:x.truncate10ths(Math.max(0,zt.percent*100)).toFixed(1),grade:wS(zt.percent)})})]});return n.jsx(g,{vertical:!0,children:La})}function lr(ut){const zt=n.jsx(ki,{style:{marginLeft:10,marginRight:10,marginTop:2,marginBottom:0,alignItems:"center"},onChange:qt=>{qt==jl?window.modalApi.info({icon:null,width:400,okText:i("common:Ok",{capitalizeLength:-1}),maskClosable:!0,content:n.jsx("div",{style:{width:"100%"},children:n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx(at,{children:i("modals:ScoreFooter.ModalTitle")}),n.jsx(w,{icon:n.jsx(d0,{}),onClick:()=>{const Sa=x.clone(L.getMetadata().characters[s.id]).scoringMetadata.simulation;L.updateSimulationScoreOverrides(s.id,Sa),P(Jn),_t(Math.random()),j.success(i("modals:ScoreFooter.ResetSuccessMsg"))},children:i("modals:ScoreFooter.ResetButtonText")}),n.jsx(w,{icon:n.jsx(Tr,{}),onClick:()=>{var Fa;const Sa=x.clone(L.getScoringMetadata(s.id)).simulation;for(const Ma of Sa.teammates){const jn=(Fa=L.getCharacterById(Ma.characterId))==null?void 0:Fa.form;jn!=null&&(Ma.characterEidolon=jn.characterEidolon,jn.lightCone&&(Ma.lightCone=jn.lightCone,Ma.lightConeSuperimposition=jn.lightConeSuperimposition||1))}L.updateSimulationScoreOverrides(s.id,Sa),P(nn),_t(Math.random()),j.success(i("modals:ScoreFooter.SyncSuccessMsg"))},children:i("modals:ScoreFooter.SyncButtonText")})]})})}):P(qt)},value:E,block:!0,options:[{value:Jn,label:i("modals:ScoreFooter.TeamOptions.Default")},{label:n.jsx(wa,{}),value:jl,className:"short-segmented"},{value:nn,label:i("modals:ScoreFooter.TeamOptions.Custom")}]});return n.jsxs(g,{vertical:!0,style:{},gap:2,children:[n.jsx(rs,{onOk:ir,open:st,setOpen:A,initialCharacter:_}),zt]})}function Ss(ut){const{result:zt,index:qt,setCharacterModalOpen:La,setSelectedTeammateIndex:Sa}=ut,Fa=zt.simulationMetadata.teammates[qt],Ma=64;return n.jsx(Ln.Grid,{style:aR,hoverable:!0,onClick:()=>{dt({form:Fa}),La(!0),Sa(qt)},className:"custom-grid",children:n.jsxs(g,{vertical:!0,align:"center",gap:0,children:[n.jsx("img",{src:N.getCharacterAvatarById(Fa.characterId),style:{height:Ma,width:Ma,borderRadius:40,background:"rgba(255, 255, 255, 0.1)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.2)",backdropFilter:"blur(5px)",outline:"1px solid rgba(255, 255, 255, 0.3)"}}),n.jsx(Ao,{text:i("common:EidolonNShort",{eidolon:Fa.characterEidolon}),top:-12}),n.jsx("img",{src:N.getLightConeIconById(Fa.lightCone),style:{height:Ma,marginTop:-3}}),n.jsx(Ao,{text:i("common:SuperimpositionNShort",{superimposition:Fa.lightConeSuperimposition}),top:-18})]})})}return n.jsxs(g,{vertical:!0,children:[n.jsx(g,{vertical:!0,id:t.id,style:{backgroundColor:p},children:n.jsxs(g,{style:{display:s?"flex":"none",height:zn,margin:1},children:[n.jsx(Xn,{selectedRelic:h,type:"edit",onOk:ve,setOpen:R,open:b}),n.jsx(Xn,{selectedRelic:h,type:"edit",onOk:fe,setOpen:Z,open:S}),n.jsxs(g,{vertical:!0,gap:12,className:"character-build-portrait",children:[!f&&n.jsxs("div",{style:{width:`${Ra}px`,height:`${Gi}px`,overflow:"hidden",borderRadius:"8px",marginRight:xt,outline:ei,filter:wi},children:[n.jsxs("div",{style:{position:"relative",zIndex:1},children:[s.portrait||V?n.jsx(FS,{customPortrait:V??s.portrait,parentW:Ra}):n.jsx(vi,{src:N.getCharacterPortraitById(s.id),style:{position:"absolute",left:-ya.x*ya.z/2*ps/1024+Ra/2,top:-ya.y*ya.z/2*ps/1024+Gi/2,width:ps*ya.z}}),!u&&n.jsx(w,{style:{...As,top:46},className:"character-build-portrait-button",icon:n.jsx(Pi,{}),onClick:()=>{r(!1),c(s),o(!0)},type:"primary",children:i("CharacterPreview.EditCharacter")}),u&&n.jsx(w,{style:{...As,top:46},className:"character-build-portrait-button",icon:n.jsx(Pi,{}),onClick:()=>{c(s),o(!0)},type:"primary",children:i("CharacterPreview.EditCharacter")}),n.jsx(w,{style:{...As,top:7},className:"character-build-portrait-button",icon:n.jsx(Pi,{}),onClick:()=>D(!0),type:"primary",children:i("CharacterPreview.EditPortrait")}),n.jsx(LS,{title:i("CharacterPreview.EditPortrait"),aspectRatio:Ra/zn,existingConfig:V??s.portrait,open:C,setOpen:D,onOk:bt,defaultImageUrl:N.getCharacterPortraitById(s.id),width:500})]}),n.jsx(g,{vertical:!0,style:{position:"relative",top:Gt?Gi-44:Gi-34,height:34,paddingLeft:4,display:me()?"flex":"none"},align:"flex-start",children:n.jsx(ti,{style:{backgroundColor:"rgb(0 0 0 / 40%)",padding:"4px 12px",borderRadius:8,fontSize:14,maxWidth:Ra-150,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",zIndex:2,textShadow:"0px 0px 10px black"},children:i("CharacterPreview.ArtBy",{artistName:me()||""})})})]}),Gt&&!f&&n.jsxs(g,{vertical:!0,children:[_a&&n.jsx(g,{vertical:!0,style:{position:"relative",height:0,top:ke-35,paddingRight:12},align:"flex-end",children:n.jsx(ti,{style:{position:"absolute",height:30,backgroundColor:"rgb(0 0 0 / 70%)",padding:"4px 12px",borderRadius:8,fontSize:14,maxWidth:Ra-50,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",zIndex:3,textShadow:"0px 0px 10px black",outline:ei,boxShadow:eR},children:`${i("common:SuperimpositionNShort",{superimposition:Sn})} - ${_a}`})}),n.jsx(g,{className:"lightConeCard",style:{width:`${bs}px`,height:`${hs}px`,overflow:"hidden",zIndex:2,borderRadius:"8px",outline:ei,filter:wi,position:"relative"},onClick:()=>{u?(c(s),o(!0)):(r(!1),c(s),o(!0))},children:n.jsx(vi,{src:pa,style:{position:"absolute",width:420,top:-nr+ke/2,left:-8}})})]})]}),n.jsxs(g,{gap:xt,children:[n.jsx(g,{vertical:!0,gap:xt,align:"center",justify:"space-between",children:n.jsxs(g,{vertical:!0,style:{width:Ps,height:"100%"},justify:"space-between",children:[n.jsxs(g,{vertical:!0,children:[n.jsxs(g,{justify:"space-around",style:{height:26,marginBottom:6},align:"center",children:[n.jsx(oi,{preview:!1,width:32,src:N.getElement(Pe)}),n.jsx(Lc,{rarity:Kt.rarity}),n.jsx(oi,{preview:!1,width:32,src:N.getPathFromClass(q)})]}),n.jsxs(g,{vertical:!0,children:[n.jsx(ca,{style:{fontSize:24,lineHeight:"30px",fontWeight:400,textAlign:"center"},children:Y}),n.jsx(ca,{style:{fontSize:16,fontWeight:400,textAlign:"center"},children:`${i("common:LevelShort",{level:U})} ${i("common:EidolonNShort",{eidolon:Wt})}`})]})]}),n.jsx(al,{finalStats:ge,elementalDmgValue:ct,cv:ge.CV,simScore:Gt?Gt.originalSimResult.simScore:void 0}),Gt&&n.jsx(sr,{result:Gt}),Gt&&n.jsxs(g,{vertical:!0,children:[n.jsx(Ln,{style:{backgroundColor:a.colorBgLayout,padding:"0px !important",body:{height:500}},styles:{body:{padding:0,borderRadius:10}},className:"teamSelectionCard",size:"small",bordered:!1,children:n.jsxs(g,{justify:"space-around",style:{paddingTop:0},children:[n.jsx(Ss,{result:Gt,index:0,setCharacterModalOpen:A,setSelectedTeammateIndex:vt}),n.jsx(Ss,{result:Gt,index:1,setCharacterModalOpen:A,setSelectedTeammateIndex:vt}),n.jsx(Ss,{result:Gt,index:2,setCharacterModalOpen:A,setSelectedTeammateIndex:vt})]})}),n.jsx(lr,{result:Gt})]}),Gt&&B==_s&&n.jsx(g,{vertical:!0,gap:xt,children:n.jsx($S,{result:Gt})}),Gt&&B==Gs&&n.jsx(g,{vertical:!0,gap:xt,children:n.jsx(zS,{result:Gt})}),!Gt&&n.jsx(g,{vertical:!0,children:n.jsx(ca,{style:{fontSize:17,fontWeight:600,textAlign:"center",color:"#e1a564"},children:i("CharacterPreview.CharacterScore",{score:Vt.totalScore.toFixed(0),grade:Vt.totalScore==0?"":"("+Vt.totalRating+")"})})}),!Gt&&n.jsxs(g,{vertical:!0,style:{width:Ps},children:[n.jsxs(g,{vertical:!0,children:[n.jsxs(ca,{style:{fontSize:18,fontWeight:400,marginLeft:10,marginRight:10,textAlign:"center"},ellipsis:!0,children:[`${_a}`," "]}),n.jsx(ca,{style:{fontSize:18,fontWeight:400,textAlign:"center"},children:`${i("common:LevelShort",{level:Qa})} ${i("common:SuperimpositionNShort",{superimposition:Sn})}`})]}),n.jsx("div",{className:"lightConeCard",style:{width:`${bs}px`,height:`${hs}px`,overflow:"hidden",borderRadius:"8px",outline:ei,filter:wi},onClick:()=>{u?(c(s),o(!0)):(r(!1),c(s),o(!0))},children:n.jsx(vi,{src:pa,style:{width:fi,transform:`translate(${(fi-bs)/2/fi*-100}%, ${(Ll-hs)/2/Ll*-100+8}%)`}})})]})]})}),n.jsxs(g,{vertical:!0,gap:xt,children:[n.jsx(ce,{setEditModalOpen:R,setSelectedRelic:m,setAddModelOpen:Z,relic:{...ht.Head,part:d.Parts.Head},source:t.source,characterId:Rt,score:Fe.find(ut=>ut.part==d.Parts.Head)}),n.jsx(ce,{setEditModalOpen:R,setSelectedRelic:m,setAddModelOpen:Z,relic:{...ht.Body,part:d.Parts.Body},source:t.source,characterId:Rt,score:Fe.find(ut=>ut.part==d.Parts.Body)}),n.jsx(ce,{setEditModalOpen:R,setSelectedRelic:m,setAddModelOpen:Z,relic:{...ht.PlanarSphere,part:d.Parts.PlanarSphere},source:t.source,characterId:Rt,score:Fe.find(ut=>ut.part==d.Parts.PlanarSphere)})]}),n.jsxs(g,{vertical:!0,gap:xt,children:[n.jsx(ce,{setEditModalOpen:R,setSelectedRelic:m,setAddModelOpen:Z,relic:{...ht.Hands,part:d.Parts.Hands},source:t.source,characterId:Rt,score:Fe.find(ut=>ut.part==d.Parts.Hands)}),n.jsx(ce,{setEditModalOpen:R,setSelectedRelic:m,setAddModelOpen:Z,relic:{...ht.Feet,part:d.Parts.Feet},source:t.source,characterId:Rt,score:Fe.find(ut=>ut.part==d.Parts.Feet)}),n.jsx(ce,{setEditModalOpen:R,setSelectedRelic:m,setAddModelOpen:Z,relic:{...ht.LinkRope,part:d.Parts.LinkRope},source:t.source,characterId:Rt,score:Fe.find(ut=>ut.part==d.Parts.LinkRope)})]})]})]})}),!f&&n.jsxs(g,{vertical:!0,children:[n.jsxs(g,{justify:"center",gap:25,children:[n.jsxs(g,{justify:"center",style:{paddingLeft:20,paddingRight:5,borderRadius:7,height:40,marginTop:10,backgroundColor:a.colorBgContainer+"85"},align:"center",children:[n.jsx(ti,{style:{width:150},children:i("CharacterPreview.AlgorithmSlider.Title")}),n.jsx(ki,{style:{width:300,height:30},onChange:ut=>{k(ut),window.store.getState().setSavedSessionKey(ne.scoringType,ut),setTimeout(()=>Ct.save(),1e3)},value:H,block:!0,options:[{label:Kt.scoringMetadata.simulation==null?i("CharacterPreview.AlgorithmSlider.Labels.CombatScoreTBD"):i("CharacterPreview.AlgorithmSlider.Labels.CombatScore"),value:Hi,disabled:!1},{label:i("CharacterPreview.AlgorithmSlider.Labels.StatScore"),value:fs,disabled:!1}]})]}),n.jsxs(g,{justify:"center",style:{paddingLeft:20,paddingRight:5,borderRadius:7,height:40,marginTop:10,backgroundColor:a.colorBgContainer+"85"},align:"center",children:[n.jsx(ti,{style:{width:150},children:i("CharacterPreview.DetailsSlider.Title")}),n.jsx(ki,{style:{width:300,height:30},onChange:ut=>{J(ut),window.store.getState().setSavedSessionKey(ne.combatScoreDetails,ut),setTimeout(()=>Ct.save(),1e3)},value:B,block:!0,options:[{label:i("CharacterPreview.DetailsSlider.Labels.CombatStats"),value:Gs,disabled:Kt.scoringMetadata.simulation==null||H==fs},{label:i("CharacterPreview.DetailsSlider.Labels.DMGUpgrades"),value:_s,disabled:Kt.scoringMetadata.simulation==null||H==fs}]})]})]}),n.jsx(QS,{simScoringResult:Gt})]})]})}ds.propTypes={source:z.string,character:z.object,id:z.string};function Ao(t){const a=t.top;return n.jsx(g,{vertical:!0,style:{position:"relative",height:0,top:a},align:"center",children:n.jsx(ti,{style:{position:"absolute",backgroundColor:"rgb(0 0 0 / 75%)",padding:"2px 14px",borderRadius:4,fontSize:12,textOverflow:"ellipsis",whiteSpace:"nowrap",textShadow:"0px 0px 10px black",outline:ei,filter:wi,lineHeight:"12px"},children:t.text})})}const aR={width:"33.3333%",textAlign:"center",padding:1,boxShadow:"none"},nR=({open:t,setOpen:a,onOk:i})=>{const[l]=X.useForm();window.characterForm=l;const{t:s}=et("modals",{keyPrefix:"SaveBuild"});function o(){const u=l.getFieldsValue();i(u.name)}const c=()=>{a(!1)};return n.jsx(Ie,{open:t,width:350,destroyOnClose:!0,centered:!0,onOk:o,onCancel:c,footer:[n.jsx(w,{onClick:c,children:s("Cancel")},"back"),n.jsx(w,{type:"primary",onClick:o,children:s("Save")},"submit")],children:n.jsx(X,{form:l,preserve:!1,layout:"vertical",children:n.jsx(X.Item,{name:"name",label:s("Label"),rules:[{required:!0,message:s("Rule")}],style:{width:300},children:n.jsx(Qe,{})})})})},iR=({open:t,setOpen:a,selectedCharacter:i})=>{var Z,C;const{t:l}=et(["modals","gameData"]),[s,o]=Ie.useModal(),[c,r]=y.useState(null),u=l(`gameData:Characters.${i==null?void 0:i.id}.Name`);y.useEffect(()=>{var D;t&&((D=i==null?void 0:i.builds)!=null&&D.length)&&(r(0),G(i.builds))},[t,i]);const f=y.useMemo(()=>{var D;if(c!=null&&((D=i==null?void 0:i.builds)!=null&&D[c].build)){const V=window.store.getState().relicsById,M=Object.values(i.builds[c].build).map(H=>V[H]),E={};M.filter(H=>!!H).map(H=>E[H.part]=H);const P=JSON.parse(JSON.stringify(i));return P.equipped=E,console.log("Previewing builds character:",P),n.jsx(ds,{character:P,source:"builds",id:"relicScorerPreview"})}return n.jsx("div",{style:{width:656,height:856,border:"1px solid #354b7d"}})},[c,i]);if(!((Z=i==null?void 0:i.builds)!=null&&Z.length))return n.jsxs(Ie,{open:t,width:300,destroyOnClose:!0,onOk:()=>a(!1),onCancel:()=>a(!1),centered:!0,okText:l("Builds.NoBuilds.Ok"),cancelText:l("Builds.NoBuilds.Cancel"),children:[l("Builds.NoBuilds.NoneSaved"),o]});async function p(D){return s.confirm({title:l("Builds.ConfirmModal.Title"),icon:n.jsx(b0,{}),content:D,okText:l("Builds.ConfirmModal.ConfirmButton"),cancelText:l("Builds.ConfirmModal.CancelButton"),centered:!0})}function G(D){for(const V of D){const M=window.store.getState().relicsById,E=Object.values(V.build).map(H=>M[H]),P=ae.scoreCharacterWithRelics(i,E);V.score={score:Math.round(P.totalScore??0),rating:P.totalRating??"N/A"}}}function h(){a(!1)}const m=()=>{r(null),a(!1)},b=async()=>{await p(l("Builds.ConfirmDelete.DeleteAll"))&&(r(null),L.clearCharacterBuilds(i==null?void 0:i.id),window.forceCharacterTabUpdate(),Ct.save(),j.success(l("Builds.ConfirmDelete.SuccessMessageAll",{characterName:u})),a(!1))},R=async D=>{await p(l("Builds.ConfirmDelete.DeleteSingle",{name:D}))&&(r(null),L.deleteCharacterBuild(i==null?void 0:i.id,D),window.forceCharacterTabUpdate(),Ct.save(),j.success(l("Builds.ConfirmDelete.SuccessMessageSingle",{name:D})),(i==null?void 0:i.Builds.length)==0&&a(!1))},S=async D=>{await p(l("Builds.ConfirmEquip.Content"))&&(L.equipRelicIdsToCharacter(Object.values(D.build),i==null?void 0:i.id),window.forceCharacterTabUpdate(),Ct.save(),j.success(l("Builds.ConfirmEquip.SuccessMessage",{buildName:D.name})),m())};return n.jsx(Ie,{open:t,width:1115,destroyOnClose:!0,centered:!0,onOk:h,onCancel:m,footer:[n.jsx(w,{onClick:()=>b(),children:l("Builds.DeleteAll")},"delete"),n.jsx(w,{onClick:m,children:l("Builds.Cancel")},"back")],children:n.jsxs(g,{gap:10,children:[i&&n.jsx(n.Fragment,{children:n.jsx(g,{vertical:!0,style:{overflowY:"auto",marginBottom:20,minWidth:400,maxWidth:400,height:840},gap:8,children:(C=i.builds)==null?void 0:C.map((D,V)=>n.jsx(Ln,{style:{backgroundColor:c===V?"#001529":void 0,cursor:"pointer"},onClick:M=>{M.target.closest("button")!==null||r(V)},hoverable:!0,children:n.jsxs(g,{justify:"space-between",gap:8,align:"center",children:[n.jsxs(g,{vertical:!0,align:"flex-start",children:[n.jsx(at,{style:{flex:1,fontSize:16,fontWeight:600},children:D.name}),n.jsx(ca,{style:{fontSize:14,fontWeight:400,textAlign:"center"},children:`${l("Builds.Score")}: ${D.score.score} ${D.score.score==0?"":"("+D.score.rating+")"}`})]}),n.jsxs(g,{gap:5,children:[n.jsx(w,{onClick:()=>{S(D)},children:l("Builds.Equip")}),n.jsx(w,{style:{width:35},type:"primary",icon:n.jsx(ll,{}),onClick:()=>{R(D.name)}})]})]})},V))})}),o,f]})})};function Uc({onOk:t,open:a,setOpen:i,currentCharacter:l}){const[s]=X.useForm();window.characterForm=s;const o=window.store(G=>G.characters),{t:c}=et("modals",{keyPrefix:"SwitchRelics"}),r=y.useMemo(()=>gl({currentCharacters:o,excludeCharacters:[l],withNobodyOption:!1}),[o,l,c]);y.useEffect(()=>{a&&s.setFieldsValue({characterId:null})},[s,a]);function u(){const{selectedCharacter:G}=s.getFieldsValue();console.log("Switch relics modal submitted with:",G),t(G),i(!1)}const f=()=>{i(!1)};return n.jsx(Ie,{open:a,width:300,destroyOnClose:!0,centered:!0,onOk:u,onCancel:f,footer:[n.jsx(w,{onClick:f,children:c("Cancel")},"back"),n.jsx(w,{type:"primary",onClick:u,children:c("Save")},"submit")],children:n.jsxs(X,{form:s,preserve:!1,layout:"vertical",children:[n.jsx(g,{justify:"space-between",align:"center",children:n.jsx(at,{children:c("Title")})}),n.jsx(g,{vertical:!0,gap:xt,children:n.jsx(g,{gap:xt,children:n.jsx(X.Item,{size:"default",name:"selectedCharacter",children:n.jsx(K,{labelInValue:!0,showSearch:!0,filterOption:x.titleFilterOption,style:{width:253},options:r})})})})]})})}Uc.propTypes={onOk:z.func,open:z.bool,setOpen:z.func,currentCharacter:z.object};const{useToken:sR}=Ze,{Text:Xc}=pt;function jo(t){const a=t.data,i=N.getCharacterAvatarById(a.id);return n.jsx(oi,{preview:!1,width:50,src:i,style:{flex:"0 0 auto",maxWidth:"100%",minWidth:50}})}function lR(t){const a=t.data,i=L.getCharacters().find(l=>l.id==a.id);return n.jsx(Xc,{style:{height:"100%"},children:i.rank+1})}function oR(t){const a=t.data,i=I.t(`gameData:Characters.${a.id}.Name`),l=a.equipped?Object.values(a.equipped).filter(o=>o!=null).length:0;let s="#81d47e";return l<6&&(s="rgb(229, 135, 66)"),l<1&&(s="#d72f2f"),n.jsxs(g,{align:"center",justify:"flex-start",style:{height:"100%",width:"100%"},children:[n.jsx(Xc,{style:{margin:"auto",padding:"0px 5px",textAlign:"center",overflow:"hidden",whiteSpace:"break-spaces",textWrap:"wrap",fontSize:14,width:"100%",lineHeight:"18px"},children:i}),n.jsx(g,{style:{display:"block",width:3,height:"100%",backgroundColor:s,zIndex:2}})]})}const cR={path:[],element:[]};function Yc(){const{token:t}=sR(),[a,i]=Ie.useModal(),[l,s]=y.useState(!1),[o,c]=y.useState(!1),[r,u]=y.useState(!1),[f,p]=y.useState(!1),[G,h]=y.useState(!1),[m,b]=y.useState(!1),[R,S]=y.useState(!1),[Z,C]=y.useState(),D=y.useRef(""),[V,M]=y.useState(cR),{t:E}=et("charactersTab");console.log("======================================================================= RENDER CharacterTab"),Ec("refreshRelicsScore",()=>{setTimeout(()=>{window.forceCharacterTabUpdate()},100)});const P=[{key:"character group",type:"group",label:E("CharacterMenu.Character.Label"),children:[{label:E("CharacterMenu.Character.Options.Add"),key:"add"},{label:E("CharacterMenu.Character.Options.Edit"),key:"edit"},{label:E("CharacterMenu.Character.Options.Switch"),key:"switchRelics"},{label:E("CharacterMenu.Character.Options.Unequip"),key:"unequip"},{label:E("CharacterMenu.Character.Options.Delete"),key:"delete"}]},{key:"builds group",type:"group",label:E("CharacterMenu.Build.Label"),children:[{label:E("CharacterMenu.Build.Options.Save"),key:"saveBuild"},{label:E("CharacterMenu.Build.Options.View"),key:"viewBuilds"}]},{key:"scoring group",type:"group",label:E("CharacterMenu.Scoring.Label"),children:[{label:E("CharacterMenu.Scoring.Options.ScoringModal"),key:"scoring"}]},{key:"priority group",type:"group",label:E("CharacterMenu.Priority.Label"),children:[{label:E("CharacterMenu.Priority.Options.SortByScore"),key:"sortByScore"},{label:E("CharacterMenu.Priority.Options.MoveToTop"),key:"moveToTop"}]}],H=y.useRef();window.characterGrid=H;const[k,B]=Te.useState(L.getCharacters());window.setCharacterRows=B;const J=window.store(Y=>Y.characterTabFocusCharacter),st=window.store(Y=>Y.setCharacterTabFocusCharacter),A=window.store(Y=>Y.setScoringAlgorithmFocusCharacter),dt=window.store(Y=>Y.charactersById)[J],[,Yt]=Te.useReducer(Y=>!Y);window.forceCharacterTabUpdate=()=>{var Y,q;console.log("__________ CharacterTab forceCharacterTabUpdate"),Yt(),(q=(Y=H==null?void 0:H.current)==null?void 0:Y.api)!=null&&q.redrawRows?H.current.api.redrawRows():console.log("@forceCharacterTabUpdate: No characterGrid.current.api")};const vt=y.useMemo(()=>[{field:"",headerName:E("GridHeaders.Icon"),cellRenderer:jo,width:52},{field:"",headerName:E("GridHeaders.Priority"),cellRenderer:lR,width:50,rowDrag:!0},{field:"",headerName:E("GridHeaders.Character"),flex:1,cellRenderer:oR}],[E]),ft=y.useMemo(()=>({rowHeight:50,rowSelection:"single",rowDragManaged:!0,animateRows:!0,suppressDragLeaveHidesColumns:!0,suppressScrollOnNewData:!0}),[]),_t=y.useMemo(()=>({sortable:!1,cellStyle:{display:"flex"}}),[]),Re=y.useCallback(()=>{H.current.api.onFilterChanged()},[]),me=y.useCallback(Y=>{const q=L.getMetadata().characters[Y.data.id];return V.element.length&&!V.element.includes(q.element)||V.path.length&&!V.path.includes(q.path)?!1:q.name.toLowerCase().includes(D.current)||q.displayName.toLowerCase().includes(D.current)},[V]),ve=y.useCallback(()=>V.element.length+V.path.length+D.current.length>0,[V]),fe=y.useCallback(Y=>{const q=Y.data;st(q.id),console.log(`@CharacterTab::setCharacterTabFocusCharacter - [${q.id}]`,Y.data)},[st]),bt=window.store(Y=>Y.setActiveKey),ht=y.useCallback(Y=>{bt(mt.OPTIMIZER),tt.setCharacter(Y.data.id),console.log(`@CharacterTab.cellDoubleClickedListener::setOptimizerTabFocusCharacter - focus [${Y.data.id}]`,Y.data)},[]),Vt=y.useCallback(Y=>Wl(Y,H,q=>fe(q)),[]);function Rt(Y,q){const Tt=Y.node.data;L.insertCharacter(Tt.id,q),Ct.save(),H.current.api.redrawRows()}const Kt=y.useCallback(Y=>{Rt(Y,Y.overIndex)},[]),Pe=y.useCallback(Y=>{Y.overIndex==0?Rt(Y,0):Y.overIndex==-1&&Y.vDirection=="down"?Rt(Y,L.getCharacters().length):Y.overIndex==-1&&Y.vDirection=="up"?Rt(Y,0):Rt(Y,Y.overIndex)},[]);function ct(){var ke,ya;const Y=H.current.api.getSelectedNodes();if(!Y||Y.length==0)return;const Tt=Y[0].data.id;L.removeCharacter(Tt),B(L.getCharacters()),st(void 0),(ya=(ke=window.relicsGrid)==null?void 0:ke.current)!=null&&ya.api&&window.relicsGrid.current.api.redrawRows(),Ct.save(),j.success(E("Messages.RemoveSuccess"))}function ie(){console.log("unequipClicked",L.getCharacterById(J));const Y=H.current.api.getSelectedNodes();if(!Y||Y.length==0)return;const Tt=Y[0].data.id;L.unequipCharacter(Tt),H.current.api.redrawRows(),window.forceCharacterTabUpdate(),j.success(E("Messages.UnequipSuccess")),window.relicsGrid.current.api.redrawRows(),Ct.save()}function ge(Y){if(!Y.characterId)return j.error(E("Messages.NoSelectedCharacter"));const q=L.addFromForm(Y);window.characterGrid.current.api.ensureIndexVisible(q.rank)}function ze(Y){if(!Y)return j.error(E("Messages.NoSelectedCharacter"));L.switchRelics(dt.id,Y.value),Ct.save(),H.current.api.redrawRows(),window.forceCharacterTabUpdate(),j.success(E("Messages.SwitchSuccess",{charid:Y.value})),window.relicsGrid.current.api.redrawRows()}function ha(){J&&A(J),window.setIsScoringModalOpen(!0)}function Gt(){L.insertCharacter(J,0),L.refreshCharacters(),Ct.save()}async function Fe(){if(!await pa(n.jsx(n.Fragment,{children:n.jsx(Et,{t:E,i18nKey:"Messages.SortByScoreWarning",children:n.jsx("br",{})})})))return;const q=L.getCharacters().map(Tt=>({score:ae.scoreCharacter(Tt),character:Tt})).sort((Tt,ke)=>ke.score.totalScore-Tt.score.totalScore).map(Tt=>Tt.character);L.setCharacters(q),L.refreshCharacters(),Ct.save()}function xa(){s(!0),setTimeout(()=>{x.screenshotElementById("characterTabPreview","clipboard").finally(()=>{s(!1)})},100)}function Qa(){c(!0),setTimeout(()=>{const Y=dt?E(`gameData:Characters.${dt.id}.Name`):null;x.screenshotElementById("characterTabPreview","download",Y).finally(()=>{c(!1)})},100)}function Sn(Y){const q=ae.scoreCharacter(dt),Tt=L.saveCharacterBuild(Y,dt.id,{score:q.totalScore.toFixed(0),rating:q.totalRating});if(Tt){j.error(Tt.error);return}j.success(E("charactersTab:Messages.SaveSuccess",{name:Y})),Ct.save(),h(!1)}const _a={items:P,onClick:async Y=>{if(!dt&&Y.key!="add"&&Y.key!="scoring"&&Y.key!="sortByScore"){j.error(E("Messages.NoSelectedCharacter"));return}switch(Y.key){case"add":S(!0),C(null),u(!0);break;case"edit":S(!1),C(dt),u(!0);break;case"switchRelics":p(!0);break;case"unequip":if(!await pa(E("Messages.UnequipWarning",{charid:dt.id})))return;ie();break;case"delete":if(!await pa(E("Messages.DeleteWarning",{charid:dt.id})))return;ct();break;case"saveBuild":h(!0);break;case"viewBuilds":b(!0);break;case"scoring":ha();break;case"moveToTop":Gt();break;case"sortByScore":Fe();break;default:console.error(`Unknown key ${Y.key} in handleActionsMenuClick`)}}};async function pa(Y){return a.confirm({title:"Confirm",icon:n.jsx(b0,{}),content:Y,okText:E("Confirm"),cancelText:E("Cancel"),centered:!0})}const U=8,Wt=280*3+U*2;return n.jsxs(g,{vertical:!0,style:{height:"100%",marginBottom:200},children:[n.jsxs(g,{vertical:!0,gap:U,children:[n.jsxs(g,{gap:6,style:{width:"100%",marginBottom:0,paddingRight:1},children:[n.jsx(g,{justify:"space-between",gap:8,style:{width:230,height:"100%"},children:n.jsx(hi,{placement:"topLeft",menu:_a,trigger:["hover"],children:n.jsxs(w,{style:{width:"100%",height:"100%"},icon:n.jsx(h0,{}),type:"default",children:[E("CharacterMenu.ButtonText"),n.jsx(es,{})]})})}),n.jsx(g,{style:{width:242},children:n.jsx(Qe,{allowClear:!0,size:"large",style:{height:40},placeholder:E("SearchPlaceholder"),onChange:Y=>{D.current=Y.target.value.toLowerCase(),Re()}})}),n.jsx(g,{style:{flex:1},children:n.jsx(Nn,{name:"path",tags:Dl(),flexBasis:"14.2%",currentFilters:V,setCurrentFilters:M})}),n.jsx(g,{style:{flex:1},children:n.jsx(Nn,{name:"element",tags:Sc(),flexBasis:"14.2%",currentFilters:V,setCurrentFilters:M})})]}),n.jsxs(g,{style:{height:"100%"},children:[n.jsxs(g,{vertical:!0,gap:8,style:{marginRight:dt?6:8},children:[n.jsx("div",{id:"characterGrid",className:"ag-theme-balham-dark",style:{display:"block",width:230,height:Wt-38,...fl(t)},children:n.jsx(ol,{ref:H,rowData:k,gridOptions:ft,getRowNodeId:Y=>Y.id,columnDefs:vt,defaultColDef:_t,deltaRowDataMode:!0,headerHeight:24,onCellClicked:fe,onCellDoubleClicked:ht,onRowDragEnd:Kt,onRowDragLeave:Pe,navigateToNextCell:Vt,isExternalFilterPresent:ve,doesExternalFilterPass:me})}),n.jsx(g,{vertical:!0,gap:8,children:n.jsxs(g,{gap:8,children:[n.jsx(w,{style:{flex:"auto"},icon:n.jsx(p0,{}),onClick:xa,type:"primary",loading:l,children:E("CopyScreenshot")}),n.jsx(w,{style:{width:40},type:"primary",icon:n.jsx(cl,{}),onClick:Qa,loading:o})]})})]}),n.jsx(g,{vertical:!0,children:n.jsx(ds,{id:"characterTabPreview",character:dt,setOriginalCharacterModalOpen:u,setOriginalCharacterModalInitialCharacter:C,setCharacterModalAdd:S})})]})]}),n.jsx(rs,{onOk:ge,open:r,setOpen:u,initialCharacter:Z,addCharacter:R}),n.jsx(Uc,{onOk:ze,open:f,setOpen:p,currentCharacter:dt}),n.jsx(nR,{open:G,setOpen:h,onOk:Sn}),n.jsx(iR,{open:m,setOpen:b,selectedCharacter:dt,imgRenderer:jo}),i]})}Yc.propTypes={active:z.bool};const{useToken:rR}=Ze,dR="https://9di5b7zvtb.execute-api.us-west-2.amazonaws.com/prod";function uR(){const t=i=>{var l;return((l=Object.values(L.getMetadata().characters).find(s=>s.displayName==i))==null?void 0:l.id)||null},a=i=>{var l;return((l=Object.values(L.getMetadata().lightCones).find(s=>s.displayName==i))==null?void 0:l.id)||null};return[{characterId:t("Rappa"),lightConeId:a("Ninjutsu Inscription: Dazzling Evilbreaker")},{characterId:t("Feixiao"),lightConeId:a("I Venture Forth to Hunt")},{characterId:t("Lingsha"),lightConeId:a("Scent Alone Stays True")},{characterId:t("Jiaoqiu"),lightConeId:a("Those Many Springs")},{custom:!0}].filter(i=>i.characterId!=null||i.custom)}const{Text:mR}=pt,js=10;function Kc(){console.log("======================================================================= RENDER RelicScorerTab");const[t,a]=y.useState(!1),[i,l]=y.useState([]),[s,o]=y.useState(),c=y.useRef(null),r=window.store(b=>b.scorerId),u=window.store(b=>b.setScorerId),[f]=X.useForm();window.scorerForm=f;const{t:p}=et("relicScorerTab");y.useEffect(()=>{const b=window.location.href.split("?")[1];if(b){const R=b.split("id=")[1].split("&")[0];h({scorerId:R})}},[]);const G=window.store(b=>b.activeKey);y.useEffect(()=>{i.length&&r&&G==mt.RELIC_SCORER&&window.history.replaceState({id:r},`profile: ${r}`,Ca[mt.RELIC_SCORER]+`?id=${r}`)},[G]);function h(b){var S;if(c.current){j.warning(p("Messages.ThrottleWarning",{seconds:Math.max(1,Math.ceil(js-(new Date-c.current)/1e3))})),t&&a(!1);return}else a(!0),c.current=new Date,setTimeout(()=>{c.current=null},js*1e3);console.log("finish",b);const R=((S=b==null?void 0:b.scorerId)==null?void 0:S.toString().trim())||"";if(!R||R.length!=9){a(!1),j.error(p("Messages.InvalidIdWarning"));return}u(R),Ct.save(),window.history.replaceState({id:R},`profile: ${R}`,Ca[mt.RELIC_SCORER]+`?id=${R}`),fetch(`${dR}/profile/${R}`,{method:"GET"}).then(Z=>{if(!Z.ok&&!Z.source)throw new Error(`HTTP error! Status: ${Z.status}`);return Z.json()}).then(Z=>{console.log(Z);let C;if(Z.source=="mana")Z=x.recursiveToCamel(Z),C=[Z.detailInfo.assistAvatars[0],Z.detailInfo.assistAvatars[1],Z.detailInfo.assistAvatars[2],Z.detailInfo.avatarDetailList[0],Z.detailInfo.avatarDetailList[1],Z.detailInfo.avatarDetailList[2],Z.detailInfo.avatarDetailList[3],Z.detailInfo.avatarDetailList[4]].filter(V=>!!V);else if(Z.source=="mihomo"){C=Z.characters.filter(V=>!!V);for(const V of C){V.relicList=V.relics||[],V.equipment=V.light_cone,V.avatarId=V.id,V.equipment&&(V.equipment.tid=V.equipment.id);for(const M of V.relicList)M.tid=M.id,M.subAffixList=M.sub_affix}}else{if(!Z.detailInfo)return a(!1),j.error(p("Messages.IdLoadError")),"ERROR";C=[...Z.detailInfo.assistAvatarList||[],...Z.detailInfo.avatarDetailList||[]].filter(V=>!!V).sort((V,M)=>M._assist&&V._assist?(V.pos||0)-(M.pos||0):M._assist?1:V._assist?-1:0).filter((V,M,E)=>E.findIndex(P=>P.avatarId===V.avatarId)===M)}console.log("characters",C);const D=C.map(V=>bl.convert(V)).filter((V,M,E)=>E.map(P=>P.id).indexOf(V.id)==M);for(let V=0;V<D.length;V++)D[V].index=V;l(D),D.length&&o(D[0]),a(!1),j.success(p("Messages.SuccessMsg")),console.log(D),f.setFieldValue("scorerId",R)}).catch(Z=>{setTimeout(()=>{j.warning(p("Messages.LookupError")),console.error("Fetch error:",Z),a(!1)},Math.max(0,js*1e3-(new Date-c.current)))})}let m;if(r)try{const b=parseInt(r);m=isNaN(b)?void 0:b}catch(b){console.error(b)}return n.jsx("div",{children:n.jsxs(g,{vertical:!0,gap:0,align:"center",children:[n.jsx(g,{gap:10,vertical:!0,align:"center",children:n.jsx(mR,{children:p("Header.WithVersion",{beta_version:Je})})}),n.jsx(X,{form:f,onFinish:h,initialValues:{scorerId:m},children:n.jsxs(g,{style:{margin:10,width:1100},justify:"center",align:"center",gap:10,children:[n.jsx(X.Item,{size:"default",name:"scorerId",children:n.jsx(Qe,{style:{width:150},placeholder:p("SubmissionBar.Placeholder")})}),n.jsx(w,{type:"primary",htmlType:"submit",loading:t,style:{width:150},children:p("SubmissionBar.ButtonText")}),n.jsx(w,{style:{width:150},onClick:()=>window.setIsScoringModalOpen(!0),children:p("SubmissionBar.AlgorithmButton")})]})}),n.jsx(vc,{availableCharacters:i,setAvailableCharacters:l,setSelectedCharacter:o,selectedCharacter:s})]})})}Kc.propTypes={active:z.bool};function vc(t){var J,st;const a=window.store(A=>A.activeKey),{token:i}=rR(),l=window.store(A=>A.setScoringAlgorithmFocusCharacter),[s,o]=y.useState(!1),[c,r]=y.useState(t.selectedCharacter),[u,f]=y.useState(!1),[p,G]=y.useState(!1),{t:h}=et(["relicScorerTab","gameData"]),R={items:[{label:n.jsxs(g,{gap:10,children:[n.jsx(ai,{}),h("ImportLabels.AllCharacters")]}),key:"import characters"},{label:n.jsxs(g,{gap:10,children:[n.jsx(ai,{}),h("ImportLabels.SingleCharacter")]}),key:"import single character"}],onClick:A=>{switch(A.key){case"import characters":console.log("importing with characters"),M();break;case"import single character":console.log("importing single character"),E();break;default:j.error(h("Messages.UnknownButtonClicked"));break}}};y.useEffect(()=>{var A;l((A=t.selectedCharacter)==null?void 0:A.id)},[(J=t.selectedCharacter)==null?void 0:J.id,l]);const S=[];for(let A=0;A<t.availableCharacters.length;A++){const _=t.availableCharacters[A];S.push({label:n.jsx(g,{align:"center",justify:"space-around",children:n.jsx("img",{style:{width:100,height:100,objectFit:"contain",borderRadius:50,border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.05)"},src:N.getCharacterAvatarById(_.id)})}),value:_.id,key:A})}function Z(A){console.log("selectionChange",A),t.setSelectedCharacter(t.availableCharacters.find(_=>_.id==A)),l(A)}async function C(){console.log("Simulate",t.selectedCharacter),o(!0)}function D(A){if(!A.characterId)return j.error(h("Messages.NoCharacterSelected"));if(t.availableCharacters.find(dt=>dt.id==A.characterId)&&t.selectedCharacter.id!=A.characterId)return j.error(h("Messages.CharacterAlreadyExists"));const _=t.availableCharacters[t.selectedCharacter.index];_.form=A,_.id=A.characterId,t.selectedCharacter.form=A,t.selectedCharacter.id=A.characterId,Object.values(t.selectedCharacter.equipped).filter(dt=>!!dt).map(dt=>dt.equippedBy=A.characterId),t.setAvailableCharacters(JSON.parse(JSON.stringify(t.availableCharacters))),t.setSelectedCharacter(JSON.parse(JSON.stringify(t.selectedCharacter))),console.log("Modified character",t.selectedCharacter)}function V(){const A=t.availableCharacters.flatMap(_=>Object.values(_.equipped)).filter(_=>!!_);console.log("importClicked",t.availableCharacters,A),L.mergePartialRelicsWithState(A),Ct.save()}function M(){for(const _ of t.availableCharacters)L.addFromForm(_.form,!1);const A=t.availableCharacters.flatMap(_=>Object.values(_.equipped)).filter(_=>!!_);console.log("importCharactersClicked",t.availableCharacters,A),L.mergePartialRelicsWithState(A,t.availableCharacters),Ct.save()}function E(){L.addFromForm(t.selectedCharacter.form,!1);const A=t.availableCharacters.flatMap(_=>Object.values(_.equipped)).filter(_=>!!_);console.log("importCharacterClicked",t.selectedCharacter,A),L.mergePartialRelicsWithState(A,[t.selectedCharacter]),Ct.save()}async function P(){f(!0),setTimeout(()=>{x.screenshotElementById("relicScorerPreview","clipboard").finally(()=>{f(!1)})},100)}async function H(){G(!0),setTimeout(()=>{const A=t.selectedCharacter?h(`gameData:Characters.${t.selectedCharacter.id}.Name`):null;x.screenshotElementById("relicScorerPreview","download",A).finally(()=>{G(!1)})},100)}function k(A){if(A.custom)return C();D({characterId:A.characterId,lightCone:A.lightConeId,characterLevel:80,lightConeLevel:80,characterEidolon:0,lightConeSuperimposition:A.lightConeSuperimposition||1})}function B(){const A=t.selectedCharacter.form,_=A.characterId;V(),L.addFromForm(A),window.store.getState().setActiveKey(mt.OPTIMIZER),window.store.getState().setOptimizerTabFocusCharacter(_),setTimeout(()=>{const dt=x.clone(t.selectedCharacter.equipped),Yt=tt.getDisplayFormValues(A),vt={};for(const _t of Object.values(d.Parts))vt[_t]=[dt[_t]];RelicFilters.condenseRelicSubstatsForOptimizer(vt);const ft=An(Yt,dt);Y0(x.precisionRound(ft.SPD,3),_),setTimeout(()=>{window.optimizerStartClicked()},500)},1e3)}return n.jsx(g,{style:{width:1300,marginLeft:25},justify:"space-around",children:n.jsxs(g,{vertical:!0,align:"center",gap:5,style:{marginBottom:100,width:1068},children:[n.jsxs(g,{vertical:!0,style:{display:t.availableCharacters.length>0?"flex":"none",width:"100%"},children:[n.jsx(bR,{presetClicked:k,optimizeClicked:B,activeKey:a}),n.jsxs(g,{style:{display:t.availableCharacters.length>0?"flex":"none"},justify:"space-between",children:[n.jsx(w,{onClick:P,style:{width:225},icon:n.jsx(p0,{}),loading:u,type:"primary",children:h("CopyScreenshot")}),n.jsx(w,{style:{width:40},icon:n.jsx(cl,{}),onClick:H,loading:p}),n.jsxs(hi.Button,{onClick:V,style:{width:250},menu:R,children:[n.jsx(ai,{}),h("ImportLabels.Relics")]}),n.jsx(w,{icon:n.jsx(S0,{}),onClick:C,style:{width:280},children:h("SimulateRelics")}),n.jsx(w,{icon:n.jsx(R0,{}),onClick:B,style:{width:228},children:h("OptimizeOnCharacter")})]})]}),n.jsx(ki,{style:{width:"100%",overflow:"hidden"},options:S,block:!0,onChange:Z,value:(st=t.selectedCharacter)==null?void 0:st.id}),n.jsx(g,{id:"previewWrapper",style:{padding:"5px",backgroundColor:i.colorBgBase},children:n.jsx(ds,{class:"relicScorerCharacterPreview",character:t.selectedCharacter,source:"scorer",id:"relicScorerPreview",setOriginalCharacterModalOpen:o,setOriginalCharacterModalInitialCharacter:r})}),n.jsx(rs,{onOk:D,open:s,setOpen:o,initialCharacter:c})]})})}vc.propTypes={availableCharacters:z.array,setAvailableCharacters:z.func,selectedCharacter:z.object,setSelectedCharacter:z.func};function bR(t){const[a,i]=y.useState(window.store.getState().savedSession[ne.relicScorerSidebarOpen]);y.useEffect(()=>{window.store.getState().setSavedSessionKey(ne.relicScorerSidebarOpen,a),setTimeout(()=>Ct.save(),1e3)},[a]);const l=y.useMemo(()=>{let s=0;return n.jsx(g,{vertical:!0,gap:0,children:uR().map(o=>{const c=o.custom?n.jsx(un,{component:Pi,style:{fontSize:85}}):n.jsx("img",{src:N.getCharacterAvatarById(o.characterId),style:{height:100,width:100,borderRadius:100,border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.05)"}});return n.jsx(w,{type:"text",style:{width:107,height:107,padding:5,paddingTop:2,marginLeft:-5,display:t.activeKey==mt.RELIC_SCORER?"flex":"none"},onClick:()=>t.presetClicked(o),children:c},s++)})})},[t]);return n.jsx(g,{vertical:!0,style:{position:"relative",left:-125,top:38,width:0,height:0},gap:5,children:n.jsx(hi,{dropdownRender:()=>l,open:a,children:n.jsx("a",{onClick:s=>{s.preventDefault(),i(!a)},children:n.jsx(w,{type:"primary",shape:"round",style:{height:100,width:100,borderRadius:50,marginBottom:5},children:n.jsx(un,{component:S0,style:{fontSize:65}})})})})})}const hR=[{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"CRIT Rate",value:11.016,scoreMeta:{multiplier:1,score:22}},{stat:"CRIT DMG",value:10.367999999999999,scoreMeta:{multiplier:1,score:10.3}},{stat:"Effect RES",value:3.456,scoreMeta:{multiplier:0,score:0}},{stat:"Break Effect",value:5.183999999999999,scoreMeta:{multiplier:0,score:0}}],id:"cd85c14c-a662-4413-a149-a379e6d538d3",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"CRIT Rate":.11016,"CRIT DMG":.10367999999999998,"Effect RES":.03456,"Break Effect":.05183999999999999,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:32.3,ss:5.184,ds:5.183999999999999,cs:32.4,equippedBy:"1212",weightScore:42.767999999999994},{part:"Head",set:"Passerby of Wandering Cloud",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"DEF",value:19.0518957},{stat:"HP%",value:12.096},{stat:"DEF%",value:14.580000000000002},{stat:"Effect RES",value:7.344}],id:"0bd7404f-3420-4bf5-9e45-f79343728685",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,DEF:19.0518957,"HP%":.12096,"DEF%":.1458,"Effect RES":.07344,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:46.656,ds:0,equippedBy:"1217",cs:0},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK",value:35.9869141},{stat:"SPD",value:8},{stat:"CRIT Rate",value:2.916},{stat:"Effect RES",value:7.344}],id:"77ac4c85-21a7-4526-999a-6e54646dda6d",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,ATK:35.9869141,SPD:8,"CRIT Rate":.02916,"Effect RES":.07344,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:26.6,ss:31.816000000000003,ds:20.8,cs:26.632,weightScore:41.5581710950614},{part:"Head",set:"Longevous Disciple",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK%",value:4.32},{stat:"SPD",value:4},{stat:"CRIT Rate",value:10.367999999999999},{stat:"Effect RES",value:4.32}],id:"e898e418-bc4e-404d-be3f-2477dec9839a",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"ATK%":.0432,SPD:4,"CRIT Rate":.10367999999999998,"Effect RES":.0432,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:37.45,ss:16.880000000000003,ds:16.880000000000003,equippedBy:"1205",cs:31.135999999999996},{part:"Head",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"DEF",value:19.0518957},{stat:"CRIT Rate",value:8.424},{stat:"CRIT DMG",value:18.144},{stat:"Effect RES",value:8.208}],id:"eda5ede8-dfaa-4fa9-b2c2-17011ed0abe6",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,DEF:19.0518957,"CRIT Rate":.08424,"CRIT DMG":.18144,"Effect RES":.08208,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.900000000000006,ss:12.312000000000001,ds:0,equippedBy:"1102",cs:34.992},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"DEF",value:38.1037914},{stat:"DEF%",value:5.4},{stat:"CRIT Rate",value:2.916},{stat:"CRIT DMG",value:23.976}],id:"8de51c73-36b5-40ea-91a2-e566d97da2a9",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,DEF:38.1037914,"DEF%":.054000000000000006,"CRIT Rate":.02916,"CRIT DMG":.23976,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:29.7,ss:6.48,ds:0,equippedBy:"1101",cs:29.808,weightScore:41.00089936920223},{part:"Head",set:"Band of Sizzling Thunder",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK%",value:10.8},{stat:"DEF%",value:9.719999999999999},{stat:"SPD",value:2},{stat:"Break Effect",value:12.312}],id:"354bde06-a10b-4449-8365-16f0dcac7b88",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"ATK%":.10800000000000001,"DEF%":.0972,SPD:2,"Break Effect":.12312,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:21.400000000000002,ss:16.863999999999997,ds:33.712,equippedBy:"1005",cs:5.2},{part:"Head",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"HP%",value:3.456},{stat:"ATK%",value:7.776},{stat:"DEF%",value:10.26},{stat:"CRIT DMG",value:17.496000000000002}],id:"1e0de4ea-c1bf-4990-a0bd-739b1eea2e1d",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"HP%":.03456,"ATK%":.07776,"DEF%":.1026,"CRIT DMG":.17496000000000003,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:28.95,ss:17.496,ds:11.664,cs:17.496000000000002},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK",value:40.2206687},{stat:"DEF",value:21.168773},{stat:"ATK%",value:12.096},{stat:"CRIT Rate",value:9.072}],id:"be226101-f443-4ea0-93e8-81813e48f692",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,ATK:40.2206687,DEF:21.168773,"ATK%":.12096,"CRIT Rate":.09072,"HP%":0,"DEF%":0,"SPD%":0,HP:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:36,ss:0,ds:18.144,cs:18.144,weightScore:43.34799806299142},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"HP%",value:12.528,scoreMeta:{multiplier:0,score:0}},{stat:"DEF%",value:9.719999999999999,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT Rate",value:5.832,scoreMeta:{multiplier:1,score:11.664}},{stat:"CRIT DMG",value:12.959999999999999,scoreMeta:{multiplier:1,score:12.959999999999999}}],id:"e30bce86-38ef-42db-9cea-58b18a94d4bc",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"HP%":.12528,"DEF%":.0972,"CRIT Rate":.05832,"CRIT DMG":.1296,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:24.5,ss:30.456,ds:0,cs:24.624,weightScore:55.08},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK%",value:15.552},{stat:"DEF%",value:9.719999999999999},{stat:"SPD",value:2},{stat:"CRIT DMG",value:6.4799999999999995}],id:"01287db9-7fe8-49c9-b30e-907db3b6d0d0",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"ATK%":.15552,"DEF%":.0972,SPD:2,"CRIT DMG":.0648,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.85,ss:16.863999999999997,ds:28.528,cs:11.68,weightScore:46.655999999999985},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK",value:19.0518957},{stat:"HP%",value:3.456},{stat:"SPD",value:6},{stat:"CRIT DMG",value:18.792}],id:"85c1d15d-a89e-4e08-ab91-29c09449eaf7",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,ATK:19.0518957,"HP%":.03456,SPD:6,"CRIT DMG":.18792,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.3,ss:20.784000000000002,ds:15.600000000000001,cs:34.392,weightScore:41.63197293267957},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"HP%",value:4.32},{stat:"DEF%",value:13.5},{stat:"CRIT Rate",value:8.748000000000001},{stat:"CRIT DMG",value:5.832}],id:"15153c3a-7c55-4f18-8b0f-5938ea3165a9",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"HP%":.0432,"DEF%":.135,"CRIT Rate":.08748000000000002,"CRIT DMG":.05832,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.2,ss:22.68,ds:0,cs:23.328000000000003,weightScore:46.008},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"DEF",value:38.1037914},{stat:"HP%",value:11.664},{stat:"CRIT Rate",value:6.156},{stat:"CRIT DMG",value:12.312}],id:"406b32a8-1a17-4a85-a9b2-f707bbb7d789",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,DEF:38.1037914,"HP%":.11664,"CRIT Rate":.06156,"CRIT DMG":.12312,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:24.5,ss:17.496,ds:0,cs:24.624,weightScore:46.832899369202224},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"SPD",value:4},{stat:"CRIT DMG",value:23.976},{stat:"Effect Hit Rate",value:7.776},{stat:"Effect RES",value:3.888}],id:"32478990-1729-40f5-a85a-c6c448abf4e3",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,SPD:4,"CRIT DMG":.23976,"Effect Hit Rate":.07776,"Effect RES":.03888,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.3,ss:16.232,ds:22.064,cs:34.376,weightScore:51.839999999999996},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"DEF",value:16.9350184},{stat:"HP%",value:11.664},{stat:"SPD",value:4},{stat:"CRIT Rate",value:6.156}],id:"631dc239-48a5-4109-b4ad-57db6387e61a",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,DEF:16.9350184,"HP%":.11664,SPD:4,"CRIT Rate":.06156,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:22.6,ss:27.896,ds:10.4,cs:22.712,weightScore:42.27062194186765},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK",value:38.1037914},{stat:"SPD",value:4},{stat:"CRIT DMG",value:11.016},{stat:"Effect RES",value:8.208}],id:"f02e66d8-7de8-4d81-97d1-3ea73fce4056",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,ATK:38.1037914,SPD:4,"CRIT DMG":.11016,"Effect RES":.08208,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:21.4,ss:22.712000000000003,ds:10.4,cs:21.416,weightScore:37.90394586535913},{part:"Head",set:"Musketeer of Wild Wheat",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"DEF",value:33.8700368},{stat:"HP%",value:8.208},{stat:"CRIT Rate",value:5.832},{stat:"Effect Hit Rate",value:8.208}],id:"e3169778-e239-4cc6-b673-f02137df9378",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,DEF:33.8700368,"HP%":.08208,"CRIT Rate":.05832,"Effect Hit Rate":.08208,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:11.6,ss:12.312000000000001,ds:12.312000000000001,cs:11.664},{part:"Head",set:"Genius of Brilliant Stars",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"HP%",value:6.912},{stat:"ATK%",value:8.208},{stat:"CRIT Rate",value:5.183999999999999},{stat:"CRIT DMG",value:5.832}],id:"f5ca028c-ebfc-4a3f-86b9-92e8c191ca0f",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"HP%":.06912,"ATK%":.08208,"CRIT Rate":.05183999999999999,"CRIT DMG":.05832,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:28.299999999999997,ss:10.368,ds:12.312000000000001,cs:16.2},{part:"Head",set:"Longevous Disciple",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"HP%",value:7.776},{stat:"DEF%",value:9.180000000000001},{stat:"CRIT DMG",value:6.4799999999999995},{stat:"Effect RES",value:7.776}],id:"712b4702-b22a-4e75-8921-1fe6dcca2f50",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"HP%":.07776,"DEF%":.09180000000000002,"CRIT DMG":.0648,"Effect RES":.07776,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:6.4,ss:34.344,ds:0,cs:6.4799999999999995},{part:"Head",set:"Messenger Traversing Hackerspace",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"HP%",value:6.912},{stat:"ATK%",value:7.344},{stat:"SPD",value:2},{stat:"Break Effect",value:11.664}],id:"0ad72590-0a68-46b5-b2ba-1d7a45d77fd7",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"HP%":.06912,"ATK%":.07344,SPD:2,"Break Effect":.11664,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.15,ss:15.568000000000001,ds:27.88,cs:5.2},{part:"Head",set:"Longevous Disciple",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"CRIT Rate",value:6.156},{stat:"CRIT DMG",value:16.848},{stat:"Effect RES",value:4.32},{stat:"Break Effect",value:6.4799999999999995}],id:"5e6a0316-5618-4e9e-8c7f-ae788edea454",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"CRIT Rate":.06156,"CRIT DMG":.16848,"Effect RES":.0432,"Break Effect":.0648,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:29,ss:6.48,ds:6.4799999999999995,cs:29.159999999999997},{part:"Head",set:"Longevous Disciple",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"ATK",value:40.2206687},{stat:"HP%",value:4.32},{stat:"CRIT DMG",value:12.312},{stat:"Effect Hit Rate",value:6.912}],id:"f8667a7d-7ba6-4e2f-931e-cbe2230b51bc",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,ATK:40.2206687,"HP%":.0432,"CRIT DMG":.12312,"Effect Hit Rate":.06912,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:12.3,ss:6.48,ds:10.368,cs:12.312},{part:"Head",set:"Band of Sizzling Thunder",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"HP%",value:4.32},{stat:"ATK%",value:3.456},{stat:"CRIT Rate",value:6.4799999999999995},{stat:"Effect Hit Rate",value:10.367999999999999}],id:"3a3dcda5-a6b0-4514-9aa3-5930e832aca5",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"HP%":.0432,"ATK%":.03456,"CRIT Rate":.0648,"Effect Hit Rate":.10367999999999998,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:17.900000000000002,ss:6.48,ds:20.735999999999997,cs:12.959999999999999},{part:"Head",set:"Band of Sizzling Thunder",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"ATK",value:40.2206687},{stat:"HP%",value:3.888},{stat:"SPD",value:4},{stat:"CRIT Rate",value:9.072}],id:"75756842-66be-4ac6-bb65-70b51f222b0a",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,ATK:40.2206687,"HP%":.03888,SPD:4,"CRIT Rate":.09072,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:28.4,ss:16.232,ds:10.4,cs:28.543999999999997},{part:"Head",set:"Hunter of Glacial Forest",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"CRIT Rate",value:5.832},{stat:"CRIT DMG",value:12.959999999999999},{stat:"Effect RES",value:7.344},{stat:"Break Effect",value:11.664}],id:"c4adf66e-d769-47be-bf6d-d22f94786308",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"CRIT Rate":.05832,"CRIT DMG":.1296,"Effect RES":.07344,"Break Effect":.11664,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:24.5,ss:11.016,ds:11.664,cs:24.624},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:3.456,scoreMeta:{multiplier:0,score:0}},{stat:"SPD",value:4,scoreMeta:{multiplier:1,score:10.368}},{stat:"CRIT DMG",value:22.68,scoreMeta:{multiplier:1,score:22.6}},{stat:"Effect Hit Rate",value:3.456,scoreMeta:{multiplier:0,score:0}}],id:"798657c8-5c5c-4b44-9c5f-f5f094414289",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.03456,SPD:4,"CRIT DMG":.2268,"Effect Hit Rate":.03456,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:33,ss:15.584,ds:15.584,equippedBy:"1212",cs:33.08,weightScore:43.416},{part:"Hands",set:"Passerby of Wandering Cloud",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:8.208},{stat:"ATK%",value:4.32},{stat:"CRIT DMG",value:17.496000000000002},{stat:"Effect RES",value:7.776}],id:"9b3f7f9b-b394-4c87-af67-0f4f7e41a6a8",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.08208,"ATK%":.0432,"CRIT DMG":.17496000000000003,"Effect RES":.07776,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.849999999999998,ss:23.976,ds:6.48,equippedBy:"1217",cs:17.496000000000002},{part:"Hands",set:"Longevous Disciple",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"SPD",value:7},{stat:"CRIT Rate",value:5.508},{stat:"CRIT DMG",value:11.664},{stat:"Effect Hit Rate",value:4.32}],id:"71b088e8-e254-4219-96d5-f56cde1702d3",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,SPD:7,"CRIT Rate":.05508,"CRIT DMG":.11664,"Effect Hit Rate":.0432,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:40.8,ss:18.2,ds:24.68,equippedBy:"1205",cs:40.879999999999995},{part:"Hands",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP",value:38.1037941},{stat:"ATK%",value:7.776},{stat:"CRIT Rate",value:8.748000000000001},{stat:"CRIT DMG",value:12.312}],id:"d0b2b781-33dc-4029-b875-81ecbc659466",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,HP:38.1037941,"ATK%":.07776,"CRIT Rate":.08748000000000002,"CRIT DMG":.12312,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:41.25,ss:0,ds:11.664,equippedBy:"1102",cs:29.808},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:3.456},{stat:"SPD",value:4},{stat:"CRIT DMG",value:17.496000000000002},{stat:"Effect RES",value:10.8}],id:"1c3f175d-c9db-4b42-aa7d-0ffb5f9f3cf4",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.03456,SPD:4,"CRIT DMG":.17496000000000003,"Effect RES":.10800000000000001,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.799999999999997,ss:31.784000000000006,ds:10.4,cs:27.896,weightScore:49.248000000000005},{part:"Hands",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP",value:38.1037941},{stat:"CRIT Rate",value:5.832},{stat:"CRIT DMG",value:16.2},{stat:"Effect Hit Rate",value:8.208}],id:"9f2ab764-badb-4240-9b57-484fdab84ff7",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,HP:38.1037941,"CRIT Rate":.05832,"CRIT DMG":.162,"Effect Hit Rate":.08208,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.799999999999997,ss:0,ds:12.312000000000001,cs:27.863999999999997},{part:"Hands",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP",value:42.337549},{stat:"DEF",value:69.8569509},{stat:"ATK%",value:10.367999999999999},{stat:"CRIT Rate",value:2.5919999999999996}],id:"25966262-0749-4675-a5c3-7e701163e083",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,HP:42.337549,DEF:69.8569509,"ATK%":.10367999999999998,"CRIT Rate":.025919999999999995,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:20.450000000000003,ss:0,ds:15.551999999999998,cs:5.183999999999999},{part:"Hands",set:"Band of Sizzling Thunder",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP",value:42.337549},{stat:"ATK%",value:15.120000000000001},{stat:"CRIT DMG",value:11.664},{stat:"Break Effect",value:5.832}],id:"81a06240-1434-4b48-b7c4-cedbca15ff50",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,HP:42.337549,"ATK%":.1512,"CRIT DMG":.11664,"Break Effect":.05832,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.25,ss:0,ds:28.512,equippedBy:"1005",cs:11.664},{part:"Hands",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF%",value:4.32},{stat:"SPD",value:4},{stat:"Effect Hit Rate",value:12.096},{stat:"Effect RES",value:7.776}],id:"24a8bb7d-4924-446c-8d8d-56b7d782ab70",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"DEF%":.0432,SPD:4,"Effect Hit Rate":.12096,"Effect RES":.07776,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:10.4,ss:27.247999999999998,ds:28.543999999999997,cs:10.4},{part:"Hands",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:3.888},{stat:"ATK%",value:8.208},{stat:"DEF%",value:4.859999999999999},{stat:"SPD",value:9}],id:"039ac008-c1a4-453a-92d2-0aaece2fb9ca",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.03888,"ATK%":.08208,"DEF%":.0486,SPD:9,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:35.7,ss:35.064,ds:35.712,cs:23.400000000000002},{part:"Hands",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF",value:42.337546},{stat:"SPD",value:4},{stat:"Effect Hit Rate",value:8.64},{stat:"Break Effect",value:12.959999999999999}],id:"0d95b359-89d2-4809-9f84-e0dc5794a367",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,DEF:42.337546,SPD:4,"Effect Hit Rate":.0864,"Break Effect":.1296,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:10.4,ss:10.4,ds:36.32,cs:10.4},{part:"Hands",set:"Band of Sizzling Thunder",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:7.776},{stat:"ATK%",value:15.984000000000002},{stat:"CRIT Rate",value:5.832},{stat:"CRIT DMG",value:5.183999999999999}],id:"19cb32c1-62e9-4a24-8b09-2e4d48056681",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.07776,"ATK%":.15984,"CRIT Rate":.05832,"CRIT DMG":.05183999999999999,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:40.550000000000004,ss:11.664,ds:23.976000000000003,cs:16.848},{part:"Hands",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF",value:38.1037914},{stat:"ATK%",value:3.888},{stat:"SPD",value:6},{stat:"CRIT Rate",value:5.508}],id:"58fd5666-2e8a-4a56-a675-5098c886ff87",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,DEF:38.1037914,"ATK%":.03888,SPD:6,"CRIT Rate":.05508,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:32.3,ss:15.600000000000001,ds:21.432000000000002,cs:26.616},{part:"Hands",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF",value:55.0388098},{stat:"CRIT Rate",value:2.5919999999999996},{stat:"CRIT DMG",value:11.016},{stat:"Effect RES",value:10.8}],id:"92158d7b-fd3a-462c-b4fd-2091b81286b2",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,DEF:55.0388098,"CRIT Rate":.025919999999999995,"CRIT DMG":.11016,"Effect RES":.10800000000000001,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16,ss:16.200000000000003,ds:0,cs:16.2},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:7.776},{stat:"CRIT Rate",value:5.183999999999999},{stat:"CRIT DMG",value:16.2},{stat:"Break Effect",value:10.367999999999999}],id:"26d1567a-3fe8-4c02-9874-80612a6fa4a7",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.07776,"CRIT Rate":.05183999999999999,"CRIT DMG":.162,"Break Effect":.10367999999999998,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:26.4,ss:11.664,ds:10.367999999999999,cs:26.567999999999998,weightScore:48.599999999999994},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF",value:40.2206687},{stat:"CRIT Rate",value:9.072},{stat:"CRIT DMG",value:5.832},{stat:"Break Effect",value:18.144}],id:"130a284c-8e10-40bf-9ba9-b3e56ac894b9",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,DEF:40.2206687,"CRIT Rate":.09072,"CRIT DMG":.05832,"Break Effect":.18144,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.8,ss:0,ds:18.144,cs:23.976,weightScore:47.09472711193568},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:7.344},{stat:"DEF%",value:9.719999999999999},{stat:"CRIT Rate",value:5.832},{stat:"CRIT DMG",value:11.016}],id:"0bb9bf7e-5f26-496b-91ff-fa0087f1407b",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.07344,"DEF%":.0972,"CRIT Rate":.05832,"CRIT DMG":.11016,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:22.6,ss:22.68,ds:0,cs:22.68,weightScore:45.35999999999999},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:7.776,scoreMeta:{multiplier:0,score:0}},{stat:"SPD",value:8,scoreMeta:{multiplier:1,score:20.736}},{stat:"CRIT DMG",value:6.4799999999999995,scoreMeta:{multiplier:1,score:6.4799999999999995}},{stat:"Effect Hit Rate",value:7.344,scoreMeta:{multiplier:0,score:0}}],id:"5b198c90-85fd-4baa-b44a-556f6e9d4d18",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.07776,SPD:8,"CRIT DMG":.0648,"Effect Hit Rate":.07344,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.200000000000003,ss:32.464,ds:31.816000000000003,cs:27.28,weightScore:49.895999999999994},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF",value:19.0518957},{stat:"CRIT Rate",value:5.183999999999999},{stat:"CRIT DMG",value:12.312},{stat:"Effect RES",value:10.8}],id:"85589ec4-df10-4cbc-b190-8a3fca0030b0",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,DEF:19.0518957,"CRIT Rate":.05183999999999999,"CRIT DMG":.12312,"Effect RES":.10800000000000001,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:22.5,ss:16.200000000000003,ds:0,cs:22.68,weightScore:41.23644968460111},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:3.456},{stat:"ATK%",value:7.776},{stat:"CRIT Rate",value:11.988},{stat:"Effect RES",value:3.888}],id:"467aa841-1d6b-4d13-8b7b-3f6d4c288367",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.03456,"ATK%":.07776,"CRIT Rate":.11988,"Effect RES":.03888,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:35.35,ss:11.016,ds:11.664,cs:23.976,weightScore:46.656},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"ATK%",value:8.64},{stat:"DEF%",value:9.180000000000001},{stat:"CRIT DMG",value:12.312},{stat:"Break Effect",value:12.959999999999999}],id:"df9b4eda-ad97-4940-935e-a2094414414c",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"ATK%":.0864,"DEF%":.09180000000000002,"CRIT DMG":.12312,"Break Effect":.1296,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:25.2,ss:11.016000000000002,ds:25.92,cs:12.312,weightScore:49.248},{part:"Hands",set:"Guard of Wuthering Snow",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"HP%",value:3.888},{stat:"DEF%",value:4.32},{stat:"Effect Hit Rate",value:6.912},{stat:"Effect RES",value:10.8}],id:"605af0bc-ad64-46da-9681-e8889fa8d66d",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,"HP%":.03888,"DEF%":.0432,"Effect Hit Rate":.06912,"Effect RES":.10800000000000001,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:27.216,ds:10.368,cs:0},{part:"Hands",set:"Musketeer of Wild Wheat",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"HP",value:71.9738333},{stat:"DEF",value:33.8700368},{stat:"HP%",value:12.959999999999999},{stat:"DEF%",value:4.32}],id:"67999399-0a5f-4a94-9267-32c42a7fbbe5",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,HP:71.9738333,DEF:33.8700368,"HP%":.1296,"DEF%":.0432,"ATK%":0,"SPD%":0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:24.624,ds:0,equippedBy:"1202",cs:0},{part:"Hands",set:"Longevous Disciple",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"HP%",value:16.416},{stat:"ATK%",value:7.776},{stat:"CRIT DMG",value:5.832},{stat:"Effect Hit Rate",value:3.456}],id:"2fa02060-e9c7-4910-bd20-c89864379aff",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,"HP%":.16416,"ATK%":.07776,"CRIT DMG":.05832,"Effect Hit Rate":.03456,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:17.35,ss:24.624000000000002,ds:16.848,cs:5.832},{part:"Hands",set:"Hunter of Glacial Forest",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"DEF",value:57.1556871},{stat:"ATK%",value:8.64},{stat:"CRIT Rate",value:3.2399999999999998},{stat:"CRIT DMG",value:5.183999999999999}],id:"5e67a642-be84-4d5d-b887-cc323b84e8c6",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,DEF:57.1556871,"ATK%":.0864,"CRIT Rate":.0324,"CRIT DMG":.05183999999999999,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:24.4,ss:0,ds:12.96,cs:11.663999999999998},{part:"Hands",set:"Hunter of Glacial Forest",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"HP",value:38.1037941},{stat:"SPD",value:6},{stat:"CRIT DMG",value:6.4799999999999995},{stat:"Effect RES",value:10.8}],id:"6f1373fd-b42f-4dc3-a562-9c44fbe8e1fb",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,HP:38.1037941,SPD:6,"CRIT DMG":.0648,"Effect RES":.10800000000000001,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:22,ss:31.800000000000004,ds:15.600000000000001,cs:22.080000000000002},{part:"Hands",set:"Hunter of Glacial Forest",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"HP",value:42.337549},{stat:"SPD",value:2},{stat:"CRIT DMG",value:11.664},{stat:"Effect RES",value:12.096}],id:"63457d83-ec25-40dd-a1d1-04dda49a3740",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,HP:42.337549,SPD:2,"CRIT DMG":.11664,"Effect RES":.12096,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.8,ss:23.343999999999998,ds:5.2,cs:16.864},{part:"Hands",set:"Guard of Wuthering Snow",enhance:10,grade:3,main:{stat:"ATK",value:152.40960001200438},substats:[{stat:"HP",value:71},{stat:"HP%",value:8.2},{stat:"Effect Hit Rate",value:8.2},{stat:"Effect RES",value:3.8}],id:"d6aaf5a8-2351-4880-bcd6-0f7ceb011956",augmentedStats:{mainStat:"ATK",mainValue:152.40960001200438,HP:71,"HP%":.08199999999999999,"Effect Hit Rate":.08199999999999999,"Effect RES":.038,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:18,ds:12.299999999999999},{part:"Hands",set:"Musketeer of Wild Wheat",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP%",value:3.4},{stat:"DEF%",value:10.2},{stat:"Effect RES",value:7.3},{stat:"Break Effect",value:5.1}],id:"d61a533d-e721-4edb-99f4-787708a08132",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"HP%":.034,"DEF%":.102,"Effect RES":.073,"Break Effect":.051,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:28.29,ds:5.1},{part:"Hands",set:"Passerby of Wandering Cloud",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP",value:42},{stat:"HP%",value:7.7},{stat:"CRIT Rate",value:5.5},{stat:"Effect Hit Rate",value:3.4}],id:"a75828e1-5e27-49ab-8bca-67e2e1fdd3ec",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,HP:42,"HP%":.077,"CRIT Rate":.055,"Effect Hit Rate":.034,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11,ss:11.55,ds:5.1000000000000005},{part:"Hands",set:"Guard of Wuthering Snow",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"DEF",value:38},{stat:"DEF%",value:15.6},{stat:"CRIT Rate",value:2.9},{stat:"Effect Hit Rate",value:3.4}],id:"1c2a19ba-fb58-4ff6-9f4d-582c3db368ae",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,DEF:38,"DEF%":.156,"CRIT Rate":.028999999999999998,"Effect Hit Rate":.034,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:5.8,ss:18.72,ds:5.1000000000000005},{part:"Hands",set:"Band of Sizzling Thunder",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP%",value:8.6},{stat:"DEF%",value:4.3},{stat:"SPD",value:2},{stat:"Break Effect",value:11}],id:"30362d67-7152-4dd2-a57c-4408c0287b8e",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"HP%":.086,"DEF%":.043,SPD:2,"Break Effect":.11,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:5.2,ss:23.259999999999998,ds:16.2},{part:"Hands",set:"Longevous Disciple",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP%",value:3.4},{stat:"DEF%",value:14.5},{stat:"CRIT DMG",value:6.4},{stat:"Effect Hit Rate",value:3.8}],id:"0a4f8d97-9ca4-452c-b872-3d19a9576b4c",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"HP%":.034,"DEF%":.145,"CRIT DMG":.064,"Effect Hit Rate":.038,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:6.4,ss:22.5,ds:5.699999999999999},{part:"Hands",set:"Band of Sizzling Thunder",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP%",value:3.8},{stat:"ATK%",value:3.4},{stat:"Effect Hit Rate",value:12},{stat:"Break Effect",value:5.8}],id:"4e512372-e8b0-456e-a37e-8080445edfed",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"HP%":.038,"ATK%":.034,"Effect Hit Rate":.12,"Break Effect":.057999999999999996,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:5.699999999999999,ds:28.900000000000002},{part:"Hands",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"DEF",value:21.5921488},{stat:"SPD",value:2},{stat:"CRIT Rate",value:5.8},{stat:"Effect RES",value:7.3}],id:"c128854c-b34e-4a05-acdc-5179534bf55f",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,DEF:21.5921488,SPD:2,"CRIT Rate":.057999999999999996,"Effect RES":.073,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:16.8,ss:16.15,ds:5.2},{part:"Hands",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP",value:71},{stat:"ATK%",value:3.8},{stat:"DEF%",value:4.8},{stat:"CRIT Rate",value:5.5}],id:"9e27d180-01ec-4b06-86fc-cd7cb7868724",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,HP:71,"ATK%":.038,"DEF%":.048,"CRIT Rate":.055,"HP%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11,ss:5.76,ds:5.699999999999999},{part:"Hands",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"DEF%",value:5.4},{stat:"SPD",value:4},{stat:"CRIT DMG",value:5.8},{stat:"Effect RES",value:8.2}],id:"8ed0420b-66e4-4b5e-83d0-6aa75db77e5d",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"DEF%":.054000000000000006,SPD:4,"CRIT DMG":.057999999999999996,"Effect RES":.08199999999999999,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:16.2,ss:29.18,ds:10.4},{part:"Hands",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP%",value:3.4},{stat:"ATK%",value:3.8},{stat:"DEF%",value:9.7},{stat:"CRIT Rate",value:5.8}],id:"0d3e87b1-c8de-4a05-a817-4e1e59f0281f",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"HP%":.034,"ATK%":.038,"DEF%":.09699999999999999,"CRIT Rate":.057999999999999996,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11.6,ss:16.74,ds:5.699999999999999},{part:"Hands",set:"Passerby of Wandering Cloud",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"DEF",value:16},{stat:"HP%",value:4.3},{stat:"DEF%",value:15.1},{stat:"Break Effect",value:6.4}],id:"98fdd38c-9f98-41b4-ba20-9b9333a4ed22",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,DEF:16,"HP%":.043,"DEF%":.151,"Break Effect":.064,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:24.569999999999997,ds:6.4},{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP",value:114.3113823,scoreMeta:{multiplier:0,score:0}},{stat:"ATK%",value:7.344,scoreMeta:{multiplier:.75,score:8.212499999999999}},{stat:"DEF%",value:4.32,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT Rate",value:8.1,scoreMeta:{multiplier:1,score:16.2}}],id:"b3376a19-62f9-489e-80e6-8f98335af158",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,HP:114.3113823,"ATK%":.07344,"DEF%":.0432,"CRIT Rate":.081,"HP%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.15,ss:5.184,ds:11.016,equippedBy:"1212",cs:16.2,weightScore:38.37073442122549},{part:"Body",set:"Passerby of Wandering Cloud",enhance:15,grade:5,main:{stat:"Outgoing Healing Boost",value:34.5606000395488},substats:[{stat:"DEF",value:21.5921488},{stat:"DEF%",value:14.04},{stat:"Effect RES",value:7.776},{stat:"Break Effect",value:11.664}],id:"0241587d-bbff-4ffb-b93c-d201728d1c0b",augmentedStats:{mainStat:"Outgoing Healing Boost",mainValue:.345606000395488,DEF:21.5921488,"DEF%":.1404,"Effect RES":.07776,"Break Effect":.11664,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:28.512,ds:11.664},{part:"Body",set:"Longevous Disciple",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP",value:139.7139117},{stat:"DEF%",value:4.32},{stat:"SPD",value:4},{stat:"Break Effect",value:5.832}],id:"7cdd90c6-73fc-4a5f-9cea-6458d5e6f456",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,HP:139.7139117,"DEF%":.0432,SPD:4,"Break Effect":.05832,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:10.4,ss:15.584,ds:16.232,equippedBy:"1205",cs:10.4},{part:"Body",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"CRIT Rate",value:32.399999862536205},substats:[{stat:"ATK%",value:12.096},{stat:"SPD",value:4},{stat:"Effect Hit Rate",value:6.912},{stat:"Break Effect",value:5.183999999999999}],id:"4b8dafeb-6f5a-410c-bcbc-4caaef116af2",augmentedStats:{mainStat:"CRIT Rate",mainValue:.32399999862536205,"ATK%":.12096,SPD:4,"Effect Hit Rate":.06912,"Break Effect":.05183999999999999,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:28.4,ss:10.4,ds:44.096,equippedBy:"1102",cs:10.4},{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP",value:71.9738333},{stat:"DEF",value:21.5921488},{stat:"SPD",value:5},{stat:"Break Effect",value:17.496000000000002}],id:"1717f468-9cb4-495a-b20d-57f69205b5f6",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,HP:71.9738333,DEF:21.5921488,SPD:5,"Break Effect":.17496000000000003,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:13,ss:13,ds:30.496000000000002,weightScore:36.885994320187535},{part:"Body",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP",value:110.0776274},{stat:"ATK%",value:8.64},{stat:"CRIT Rate",value:6.156},{stat:"Break Effect",value:5.832}],id:"3e94d21f-f47c-4dba-8470-8eaf4b8624e9",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,HP:110.0776274,"ATK%":.0864,"CRIT Rate":.06156,"Break Effect":.05832,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:25.099999999999998,ss:0,ds:18.792,cs:12.312},{part:"Body",set:"Band of Sizzling Thunder",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"HP",value:71.9738333},{stat:"DEF%",value:9.180000000000001},{stat:"SPD",value:4},{stat:"Break Effect",value:12.312}],id:"dd7d21eb-5a85-466e-a7a3-98fc6f63e546",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,HP:71.9738333,"DEF%":.09180000000000002,SPD:4,"Break Effect":.12312,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:10.4,ss:21.416000000000004,ds:22.712,equippedBy:"1005",cs:10.4},{part:"Body",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP%",value:8.64},{stat:"ATK%",value:7.776},{stat:"DEF%",value:10.26},{stat:"Effect Hit Rate",value:12.528}],id:"29f91de6-5c70-4e10-90e1-cf79888932d6",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,"HP%":.0864,"ATK%":.07776,"DEF%":.1026,"Effect Hit Rate":.12528,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:11.55,ss:25.272,ds:30.456000000000003,cs:0},{part:"Body",set:"Eagle of Twilight Line",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP%",value:11.232000000000001},{stat:"SPD",value:2},{stat:"CRIT Rate",value:6.4799999999999995},{stat:"Effect RES",value:7.344}],id:"b41c1519-2f34-4701-9d04-2c54cbfa8a3f",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,"HP%":.11232000000000002,SPD:2,"CRIT Rate":.0648,"Effect RES":.07344,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:18.16,ss:33.06400000000001,ds:5.2},{part:"Body",set:"Eagle of Twilight Line",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"HP",value:76.2075882},{stat:"DEF%",value:4.32},{stat:"SPD",value:6},{stat:"CRIT DMG",value:12.312}],id:"834292d9-899b-42a7-84b1-82f663bc007d",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,HP:76.2075882,"DEF%":.0432,SPD:6,"CRIT DMG":.12312,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.900000000000002,ss:20.784000000000002,ds:15.600000000000001,cs:27.912},{part:"Body",set:"Guard of Wuthering Snow",enhance:15,grade:5,main:{stat:"Outgoing Healing Boost",value:34.5606000395488},substats:[{stat:"HP%",value:7.344},{stat:"DEF%",value:10.26},{stat:"Effect Hit Rate",value:3.456},{stat:"Effect RES",value:12.096}],id:"9a5915a8-e547-47aa-9ff1-fd907341a6c3",augmentedStats:{mainStat:"Outgoing Healing Boost",mainValue:.345606000395488,"HP%":.07344,"DEF%":.1026,"Effect Hit Rate":.03456,"Effect RES":.12096,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:41.471999999999994,ds:5.184,cs:0},{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP",value:67.7400784},{stat:"ATK%",value:7.776},{stat:"CRIT Rate",value:5.832},{stat:"Break Effect",value:16.848}],id:"b1006c27-f93f-4965-911b-4a934cd41021",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,HP:67.7400784,"ATK%":.07776,"CRIT Rate":.05832,"Break Effect":.16848,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.15,ss:0,ds:28.512,cs:11.664,weightScore:43.71421299035585},{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"ATK%",value:7.776,scoreMeta:{multiplier:.75,score:8.748}},{stat:"CRIT Rate",value:6.156,scoreMeta:{multiplier:1,score:12.312}},{stat:"Effect RES",value:7.344,scoreMeta:{multiplier:0,score:0}},{stat:"Break Effect",value:12.312,scoreMeta:{multiplier:0,score:0}}],id:"a8d2e198-7d41-4251-91ef-f7259ff39df4",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,"ATK%":.07776,"CRIT Rate":.06156,"Effect RES":.07344,"Break Effect":.12312,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.75,ss:11.016,ds:23.976,cs:12.312,weightScore:47.303999999999995},{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"ATK",value:19.0518957},{stat:"DEF",value:40.2206687},{stat:"HP%",value:15.984000000000002},{stat:"CRIT Rate",value:2.916}],id:"f3177930-819d-4e84-8818-adc97455f734",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,ATK:19.0518957,DEF:40.2206687,"HP%":.15984,"CRIT Rate":.02916,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.8,ss:23.976000000000003,ds:0,cs:5.832,weightScore:36.886700044615246},{part:"Body",set:"Passerby of Wandering Cloud",enhance:15,grade:5,main:{stat:"Outgoing Healing Boost",value:34.5606000395488},substats:[{stat:"HP",value:38.1037941},{stat:"SPD",value:9},{stat:"CRIT DMG",value:12.312},{stat:"Effect RES",value:3.456}],id:"725e6ee5-9465-45a2-8172-ed69241c1e54",augmentedStats:{mainStat:"Outgoing Healing Boost",mainValue:.345606000395488,HP:38.1037941,SPD:9,"CRIT DMG":.12312,"Effect RES":.03456,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:35.7,ss:28.584000000000003,ds:23.400000000000002,equippedBy:"1217",cs:35.712},{part:"Body",set:"Guard of Wuthering Snow",enhance:14,grade:5,main:{stat:"CRIT DMG",value:61.1712006619205},substats:[{stat:"DEF%",value:4.859999999999999},{stat:"SPD",value:4},{stat:"Effect RES",value:11.232000000000001},{stat:"Break Effect",value:5.832}],id:"79f1d0f3-741b-4430-9685-87e29267e01d",augmentedStats:{mainStat:"CRIT DMG",mainValue:.611712006619205,"DEF%":.0486,SPD:4,"Effect RES":.11232000000000002,"Break Effect":.05832,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:10.4,ss:33.08,ds:16.232},{part:"Body",set:"Musketeer of Wild Wheat",enhance:12,grade:5,main:{stat:"Outgoing Healing Boost",value:28.7544000428167},substats:[{stat:"HP",value:38.1037941},{stat:"ATK",value:35.9869141},{stat:"ATK%",value:8.64},{stat:"SPD",value:4}],id:"0b4bdbc7-dac3-4648-bd6f-631d6750a5b5",augmentedStats:{mainStat:"Outgoing Healing Boost",mainValue:.287544000428167,HP:38.1037941,ATK:35.9869141,"ATK%":.0864,SPD:4,"HP%":0,"DEF%":0,"SPD%":0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.299999999999997,ss:10.4,ds:23.36,cs:10.4},{part:"Body",set:"Messenger Traversing Hackerspace",enhance:12,grade:5,main:{stat:"HP%",value:35.9424005728218},substats:[{stat:"SPD",value:4},{stat:"CRIT Rate",value:5.508},{stat:"CRIT DMG",value:11.664},{stat:"Break Effect",value:6.4799999999999995}],id:"fb53d114-66ea-4014-9ef6-7dc4519cc4e1",augmentedStats:{mainStat:"HP%",mainValue:.35942400572821803,SPD:4,"CRIT Rate":.05508,"CRIT DMG":.11664,"Break Effect":.0648,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:33,ss:10.4,ds:16.88,cs:33.08},{part:"Body",set:"Messenger Traversing Hackerspace",enhance:12,grade:5,main:{stat:"HP%",value:35.9424005728218},substats:[{stat:"HP",value:105.8438725},{stat:"SPD",value:4},{stat:"CRIT DMG",value:6.4799999999999995},{stat:"Effect Hit Rate",value:4.32}],id:"45ad26f9-f51b-4ca6-960b-b0db7edb5087",augmentedStats:{mainStat:"HP%",mainValue:.35942400572821803,HP:105.8438725,SPD:4,"CRIT DMG":.0648,"Effect Hit Rate":.0432,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.8,ss:10.4,ds:16.880000000000003,cs:16.88},{part:"Body",set:"Champion of Streetwise Boxing",enhance:12,grade:5,main:{stat:"CRIT DMG",value:53.913600579835894},substats:[{stat:"HP%",value:4.32},{stat:"ATK%",value:8.208},{stat:"CRIT Rate",value:5.508},{stat:"Break Effect",value:10.367999999999999}],id:"3f8b30aa-4c91-4677-af83-8906d7d968d9",augmentedStats:{mainStat:"CRIT DMG",mainValue:.539136005798359,"HP%":.0432,"ATK%":.08208,"CRIT Rate":.05508,"Break Effect":.10367999999999998,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.299999999999997,ss:6.48,ds:22.68,cs:11.016},{part:"Body",set:"Hunter of Glacial Forest",enhance:12,grade:5,main:{stat:"CRIT DMG",value:53.913600579835894},substats:[{stat:"HP",value:110.0776274},{stat:"DEF",value:38.1037914},{stat:"ATK%",value:3.456},{stat:"CRIT Rate",value:3.2399999999999998}],id:"c23bb26b-ccb0-4318-ae7b-a8aec9ef0db1",augmentedStats:{mainStat:"CRIT DMG",mainValue:.539136005798359,HP:110.0776274,DEF:38.1037914,"ATK%":.03456,"CRIT Rate":.0324,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:11.5,ss:0,ds:5.184,cs:6.4799999999999995},{part:"Body",set:"Musketeer of Wild Wheat",enhance:12,grade:5,main:{stat:"DEF%",value:44.9280005414036},substats:[{stat:"ATK%",value:3.888},{stat:"SPD",value:6},{stat:"Effect Hit Rate",value:7.344},{stat:"Break Effect",value:12.959999999999999}],id:"3147142d-dd65-4524-85ff-2535a61bd342",augmentedStats:{mainStat:"DEF%",mainValue:.449280005414036,"ATK%":.03888,SPD:6,"Effect Hit Rate":.07344,"Break Effect":.1296,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:21.3,ss:15.600000000000001,ds:45.408,cs:15.600000000000001},{part:"Body",set:"Knight of Purity Palace",enhance:12,grade:4,main:{stat:"DEF%",value:35.9424005728218},substats:[{stat:"DEF",value:28.789534},{stat:"ATK%",value:6.5664},{stat:"SPD",value:1},{stat:"Effect Hit Rate",value:6.912}],id:"c85f95b4-28af-4519-8992-bd274ed268f1",augmentedStats:{mainStat:"DEF%",mainValue:.35942400572821803,DEF:28.789534,"ATK%":.065664,SPD:1,"Effect Hit Rate":.06912,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:12.35,ss:2.6,ds:22.8176,cs:2.6},{part:"Body",set:"Musketeer of Wild Wheat",enhance:12,grade:4,main:{stat:"HP%",value:28.7544000428167},substats:[{stat:"HP",value:30.4830351},{stat:"DEF%",value:12.096},{stat:"SPD",value:3},{stat:"Break Effect",value:4.1472}],id:"cd8b362d-24e4-4427-b09e-2666c1fb97b4",augmentedStats:{mainStat:"HP%",mainValue:.287544000428167,HP:30.4830351,"DEF%":.12096,SPD:3,"Break Effect":.041471999999999995,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:7.800000000000001,ss:22.3152,ds:11.9472,equippedBy:"1202",cs:7.800000000000001},{part:"Body",set:"Passerby of Wandering Cloud",enhance:12,grade:4,main:{stat:"Outgoing Healing Boost",value:23.003300675190395},substats:[{stat:"HP%",value:2.7647999999999997},{stat:"ATK%",value:3.1104},{stat:"SPD",value:3},{stat:"CRIT DMG",value:14.5152}],id:"05045a76-0f4c-4ad8-8997-878b60b2d226",augmentedStats:{mainStat:"Outgoing Healing Boost",mainValue:.23003300675190397,"HP%":.027647999999999995,"ATK%":.031104,SPD:3,"CRIT DMG":.145152,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:26.95,ss:11.9472,ds:12.4656,cs:22.3152},{part:"Body",set:"Guard of Wuthering Snow",enhance:9,grade:3,main:{stat:"DEF%",value:21.5135999489572},substats:[{stat:"DEF",value:40},{stat:"HP%",value:3.4},{stat:"ATK%",value:4.3},{stat:"CRIT Rate",value:5.8}],id:"6be4a25d-b557-44a5-9176-12499975ba72",augmentedStats:{mainStat:"DEF%",mainValue:.215135999489572,DEF:40,"HP%":.034,"ATK%":.043,"CRIT Rate":.057999999999999996,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11.6,ss:5.1000000000000005,ds:6.449999999999999},{part:"Body",set:"Genius of Brilliant Stars",enhance:9,grade:3,main:{stat:"ATK%",value:17.210700223222197},substats:[{stat:"ATK",value:35},{stat:"HP%",value:7.7},{stat:"SPD",value:2},{stat:"Effect Hit Rate",value:3.4}],id:"c1257f42-d466-4cc6-ac37-a164be4efd1b",augmentedStats:{mainStat:"ATK%",mainValue:.17210700223222197,ATK:35,"HP%":.077,SPD:2,"Effect Hit Rate":.034,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:5.2,ss:16.75,ds:10.3},{part:"Body",set:"Genius of Brilliant Stars",enhance:9,grade:3,main:{stat:"HP%",value:17.210700223222197},substats:[{stat:"ATK",value:38},{stat:"DEF",value:21.5921488},{stat:"DEF%",value:5.4},{stat:"SPD",value:6}],id:"5629890a-6aec-4990-851c-74532f2f37af",augmentedStats:{mainStat:"HP%",mainValue:.17210700223222197,ATK:38,DEF:21.5921488,"DEF%":.054000000000000006,SPD:6,"HP%":0,"ATK%":0,"SPD%":0,HP:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:15.600000000000001,ss:22.080000000000002,ds:15.600000000000001},{part:"Body",set:"Messenger Traversing Hackerspace",enhance:9,grade:3,main:{stat:"CRIT DMG",value:25.8165008621286},substats:[{stat:"HP%",value:3.8},{stat:"DEF%",value:9.1},{stat:"SPD",value:4},{stat:"CRIT Rate",value:2.9}],id:"8b8127ed-1513-4b8e-bfc5-e2f6ae07f501",augmentedStats:{mainStat:"CRIT DMG",mainValue:.258165008621286,"HP%":.038,"DEF%":.091,SPD:4,"CRIT Rate":.028999999999999998,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:16.2,ss:27.019999999999996,ds:10.4},{part:"Body",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"CRIT Rate",value:12.9078010562808},substats:[{stat:"ATK",value:35},{stat:"DEF",value:42},{stat:"CRIT DMG",value:6.4},{stat:"Break Effect",value:6.4}],id:"ca9148ab-988c-4e5f-b24d-36336521b584",augmentedStats:{mainStat:"CRIT Rate",mainValue:.129078010562808,ATK:35,DEF:42,"CRIT DMG":.064,"Break Effect":.064,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:6.4,ss:0,ds:6.4},{part:"Body",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"CRIT DMG",value:25.8165008621286},substats:[{stat:"HP",value:33},{stat:"ATK",value:33},{stat:"ATK%",value:3.4},{stat:"Break Effect",value:12.3}],id:"9bc3914c-ef10-492c-b9dc-20b9bbb53678",augmentedStats:{mainStat:"CRIT DMG",mainValue:.258165008621286,HP:33,ATK:33,"ATK%":.034,"Break Effect":.12300000000000001,"HP%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:0,ds:17.400000000000002},{part:"Feet",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"ATK",value:21.168773,scoreMeta:{multiplier:.75,score:1.7533107772329706}},{stat:"ATK%",value:11.664,scoreMeta:{multiplier:.75,score:13.121999999999996}},{stat:"DEF%",value:4.859999999999999,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT DMG",value:17.496000000000002,scoreMeta:{multiplier:1,score:17.496000000000002}}],id:"92c53d06-80d0-43a8-b896-2feeda419674",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,ATK:21.168773,"ATK%":.11664,"DEF%":.0486,"CRIT DMG":.17496000000000003,"HP%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.8,ss:5.831999999999999,ds:17.496,equippedBy:"1212",cs:17.496000000000002,weightScore:43.161747702977294},{part:"Feet",set:"Passerby of Wandering Cloud",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"HP",value:148.1814215},{stat:"ATK%",value:6.912},{stat:"Effect Hit Rate",value:3.888},{stat:"Break Effect",value:5.183999999999999}],id:"f8d42acd-c848-484a-9eee-d03a7b88f030",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,HP:148.1814215,"ATK%":.06912,"Effect Hit Rate":.03888,"Break Effect":.05183999999999999,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:10.350000000000001,ss:0,ds:21.384,equippedBy:"1217",cs:0},{part:"Feet",set:"Longevous Disciple",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"ATK",value:38.1037914},{stat:"DEF",value:21.168773},{stat:"HP%",value:16.848},{stat:"CRIT DMG",value:5.183999999999999}],id:"726e7b1f-f630-4182-ac11-1e8523a33fc1",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,ATK:38.1037914,DEF:21.168773,"HP%":.16848,"CRIT DMG":.05183999999999999,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.1,ss:25.272,ds:0,equippedBy:"1205",cs:5.183999999999999},{part:"Feet",set:"Musketeer of Wild Wheat",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"HP",value:38.1037941},{stat:"HP%",value:8.208},{stat:"ATK%",value:11.664},{stat:"Effect Hit Rate",value:11.232000000000001}],id:"ac206198-c5b1-4be7-8dda-0d7b85e1aabf",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,HP:38.1037941,"HP%":.08208,"ATK%":.11664,"Effect Hit Rate":.11232000000000002,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:17.4,ss:12.312000000000001,ds:34.344,equippedBy:"1202",cs:0},{part:"Feet",set:"Musketeer of Wild Wheat",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"HP",value:76.2075882},{stat:"ATK",value:38.1037914},{stat:"Effect RES",value:7.776},{stat:"Break Effect",value:12.312}],id:"ad67f0ac-1c0e-4869-8855-3718b601447b",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,HP:76.2075882,ATK:38.1037914,"Effect RES":.07776,"Break Effect":.12312,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:11.664,ds:12.312,cs:0},{part:"Feet",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"DEF",value:38.1037914},{stat:"DEF%",value:4.859999999999999},{stat:"SPD",value:9},{stat:"CRIT DMG",value:11.664}],id:"9d68a932-b623-4ac7-bd0a-7c54779b64fb",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,DEF:38.1037914,"DEF%":.0486,SPD:9,"CRIT DMG":.11664,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:35,ss:29.232,ds:23.400000000000002,equippedBy:"1102",cs:35.064},{part:"Feet",set:"Eagle of Twilight Line",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"HP",value:84.675098},{stat:"HP%",value:4.32},{stat:"DEF%",value:5.4},{stat:"Effect RES",value:16.416}],id:"dd1bb72d-80f3-432c-b8d9-0b62c7790b9a",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,HP:84.675098,"HP%":.0432,"DEF%":.054000000000000006,"Effect RES":.16416,"ATK%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:37.584,ds:0,equippedBy:"1101",cs:0},{part:"Feet",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"DEF%",value:9.180000000000001},{stat:"SPD",value:2},{stat:"CRIT Rate",value:11.016},{stat:"CRIT DMG",value:12.312}],id:"a615dc2f-c26d-4f13-8c92-0b2c746e0f3f",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,"DEF%":.09180000000000002,SPD:2,"CRIT Rate":.11016,"CRIT DMG":.12312,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:39.5,ss:16.216,ds:5.2,cs:39.544000000000004},{part:"Feet",set:"Band of Sizzling Thunder",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"DEF",value:16.9350184},{stat:"ATK%",value:4.32},{stat:"CRIT Rate",value:2.5919999999999996},{stat:"Effect RES",value:19.872}],id:"53a00fa5-22a9-40bc-948b-8469d6e248ec",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,DEF:16.9350184,"ATK%":.0432,"CRIT Rate":.025919999999999995,"Effect RES":.19872,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:11.45,ss:29.808,ds:6.48,equippedBy:"1005",cs:5.183999999999999},{part:"Feet",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"ATK",value:33.8700368},{stat:"ATK%",value:7.344},{stat:"DEF%",value:19.439999999999998},{stat:"CRIT Rate",value:2.916}],id:"76603793-39c6-477f-9874-194d66f8ae88",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,ATK:33.8700368,"ATK%":.07344,"DEF%":.1944,"CRIT Rate":.02916,"HP%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.75,ss:23.327999999999996,ds:11.016,cs:5.832},{part:"Feet",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"HP",value:156.6489313},{stat:"DEF%",value:5.4},{stat:"SPD",value:7},{stat:"Break Effect",value:5.832}],id:"5ba46dc3-191b-4a37-9781-bcaa1adf7f0d",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,HP:156.6489313,"DEF%":.054000000000000006,SPD:7,"Break Effect":.05832,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:18.2,ss:24.68,ds:24.032,cs:18.2},{part:"Feet",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"ATK",value:16.9350184},{stat:"DEF",value:19.0518957},{stat:"SPD",value:4},{stat:"CRIT DMG",value:22.68}],id:"af5b9fae-fdcc-4b11-bf4a-0ce3bd832648",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,ATK:16.9350184,DEF:19.0518957,SPD:4,"CRIT DMG":.2268,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:33,ss:10.4,ds:10.4,cs:33.08},{part:"Feet",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"ATK",value:40.2206687},{stat:"ATK%",value:3.888},{stat:"CRIT Rate",value:8.424},{stat:"Break Effect",value:11.016}],id:"01eca278-3dec-4b6a-bb39-e199603423f3",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,ATK:40.2206687,"ATK%":.03888,"CRIT Rate":.08424,"Break Effect":.11016,"HP%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:22.5,ss:0,ds:16.848,cs:16.848,weightScore:38.137720635656855},{part:"Feet",set:"Genius of Brilliant Stars",enhance:12,grade:5,main:{stat:"SPD",value:20.832000004360452},substats:[{stat:"ATK%",value:3.456},{stat:"DEF%",value:10.8},{stat:"Effect Hit Rate",value:7.776},{stat:"Break Effect",value:11.664}],id:"d348e2e3-87f5-4782-81db-1478c1ab2901",augmentedStats:{mainStat:"SPD",mainValue:20.832000004360452,"ATK%":.03456,"DEF%":.10800000000000001,"Effect Hit Rate":.07776,"Break Effect":.11664,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.1000000000000005,ss:12.96,ds:28.512,cs:0},{part:"Feet",set:"Guard of Wuthering Snow",enhance:12,grade:4,main:{stat:"SPD",value:16.42560000135563},substats:[{stat:"ATK",value:28.789534},{stat:"DEF%",value:7.344},{stat:"Effect Hit Rate",value:3.456},{stat:"Effect RES",value:2.7647999999999997}],id:"4fa7cb12-80ac-43af-ae67-cec01b31208d",augmentedStats:{mainStat:"SPD",mainValue:16.42560000135563,ATK:28.789534,"DEF%":.07344,"Effect Hit Rate":.03456,"Effect RES":.027647999999999995,"HP%":0,"ATK%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:12.959999999999999,ds:5.184,cs:0},{part:"Feet",set:"Passerby of Wandering Cloud",enhance:12,grade:4,main:{stat:"SPD",value:16.42560000135563},substats:[{stat:"ATK%",value:9.6768},{stat:"Effect Hit Rate",value:2.7647999999999997},{stat:"Effect RES",value:3.456},{stat:"Break Effect",value:5.183999999999999}],id:"120c957e-4880-4fd7-a1a9-33fd9e5b5b74",augmentedStats:{mainStat:"SPD",mainValue:16.42560000135563,"ATK%":.096768,"Effect Hit Rate":.027647999999999995,"Effect RES":.03456,"Break Effect":.05183999999999999,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:14.399999999999999,ss:5.184,ds:23.846399999999996,cs:0},{part:"Feet",set:"Guard of Wuthering Snow",enhance:9,grade:3,main:{stat:"DEF%",value:21.5135999489572},substats:[{stat:"HP",value:38},{stat:"DEF",value:57},{stat:"HP%",value:4.3},{stat:"CRIT Rate",value:3.2}],id:"685b8eec-9f29-4213-b26e-7fc46ce17f43",augmentedStats:{mainStat:"DEF%",mainValue:.215135999489572,HP:38,DEF:57,"HP%":.043,"CRIT Rate":.032,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:6.4,ss:6.449999999999999,ds:0},{part:"Feet",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"SPD",value:11.419199999887496},substats:[{stat:"HP%",value:8.6},{stat:"ATK%",value:3.4},{stat:"CRIT Rate",value:6.1},{stat:"Effect Hit Rate",value:7.7}],id:"a616f8ad-8b70-43f9-a877-ec33ba60d6e8",augmentedStats:{mainStat:"SPD",mainValue:11.419199999887496,"HP%":.086,"ATK%":.034,"CRIT Rate":.061,"Effect Hit Rate":.077,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:12.2,ss:12.899999999999999,ds:16.650000000000002},{part:"Feet",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK%",value:17.210700223222197},substats:[{stat:"DEF%",value:4.8},{stat:"CRIT Rate",value:5.5},{stat:"Effect Hit Rate",value:3.4},{stat:"Effect RES",value:7.3}],id:"578c0fdb-8976-4408-9271-fe43ce0afc5d",augmentedStats:{mainStat:"ATK%",mainValue:.17210700223222197,"DEF%":.048,"CRIT Rate":.055,"Effect Hit Rate":.034,"Effect RES":.073,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11,ss:16.71,ds:5.1000000000000005},{part:"Feet",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"SPD",value:11.419199999887496},substats:[{stat:"HP",value:33},{stat:"ATK",value:21.5921488},{stat:"CRIT Rate",value:6.1},{stat:"Effect RES",value:8.2}],id:"620a1f8e-ba95-47d9-99c1-8fd7713c7b10",augmentedStats:{mainStat:"SPD",mainValue:11.419199999887496,HP:33,ATK:21.5921488,"CRIT Rate":.061,"Effect RES":.08199999999999999,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:12.2,ss:12.299999999999999,ds:0},{part:"Feet",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK%",value:17.210700223222197},substats:[{stat:"HP",value:38},{stat:"HP%",value:12.5},{stat:"SPD",value:5},{stat:"CRIT Rate",value:3.2}],id:"fe8aca62-7935-4897-ad02-fae126b720b1",augmentedStats:{mainStat:"ATK%",mainValue:.17210700223222197,HP:38,"HP%":.125,SPD:5,"CRIT Rate":.032,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:19.4,ss:31.75,ds:13},{part:"PlanarSphere",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"Ice DMG Boost",value:38.8803014298894},substats:[{stat:"DEF",value:74.0907055,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT Rate",value:5.508,scoreMeta:{multiplier:1,score:11.016}},{stat:"CRIT DMG",value:12.312,scoreMeta:{multiplier:1,score:12.312}},{stat:"Effect Hit Rate",value:4.32,scoreMeta:{multiplier:0,score:0}}],id:"80abbd56-b1a0-4587-a349-754c33627217",augmentedStats:{mainStat:"Ice DMG Boost",mainValue:.388803014298894,DEF:74.0907055,"CRIT Rate":.05508,"CRIT DMG":.12312,"Effect Hit Rate":.0432,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.3,ss:0,ds:6.48,equippedBy:"1212",cs:23.328,weightScore:38.97197099567099},{part:"PlanarSphere",set:"Fleet of the Ageless",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"ATK%",value:12.096},{stat:"DEF%",value:4.32},{stat:"Effect Hit Rate",value:4.32},{stat:"Break Effect",value:17.496000000000002}],id:"f89266f4-241e-43bc-b04a-a864eea60e49",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,"ATK%":.12096,"DEF%":.0432,"Effect Hit Rate":.0432,"Break Effect":.17496000000000003,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:18,ss:5.184,ds:42.120000000000005,equippedBy:"1217",cs:0},{part:"PlanarSphere",set:"Broken Keel",enhance:15,grade:5,main:{stat:"DEF%",value:54.0000006789338},substats:[{stat:"HP%",value:8.208},{stat:"ATK%",value:3.888},{stat:"SPD",value:4},{stat:"Effect RES",value:11.664}],id:"16f7f4d9-5734-401f-b14f-2a74eaec9dcc",augmentedStats:{mainStat:"DEF%",mainValue:.540000006789338,"HP%":.08208,"ATK%":.03888,SPD:4,"Effect RES":.11664,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.1,ss:40.208,ds:16.232,cs:10.4},{part:"PlanarSphere",set:"Inert Salsotto",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"ATK",value:19.0518957},{stat:"CRIT Rate",value:6.4799999999999995},{stat:"CRIT DMG",value:17.496000000000002},{stat:"Effect RES",value:7.776}],id:"9714ef68-45e7-4f62-81f2-b437649d3a49",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,ATK:19.0518957,"CRIT Rate":.0648,"CRIT DMG":.17496000000000003,"Effect RES":.07776,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:30.2,ss:11.664,ds:0,equippedBy:"1205",cs:30.456000000000003},{part:"PlanarSphere",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"Physical DMG Boost",value:38.8803014298894},substats:[{stat:"SPD",value:2},{stat:"CRIT Rate",value:2.5919999999999996},{stat:"CRIT DMG",value:23.328},{stat:"Effect RES",value:7.776}],id:"2340f351-b46e-4e11-87a2-732c5c887941",augmentedStats:{mainStat:"Physical DMG Boost",mainValue:.388803014298894,SPD:2,"CRIT Rate":.025919999999999995,"CRIT DMG":.23328,"Effect RES":.07776,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:33.5,ss:16.864,ds:5.2,cs:33.712},{part:"PlanarSphere",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"Quantum DMG Boost",value:38.8803014298894},substats:[{stat:"ATK%",value:7.776},{stat:"DEF%",value:4.859999999999999},{stat:"SPD",value:4},{stat:"CRIT DMG",value:18.144}],id:"4806d951-5a01-48bb-876f-5368059a674d",augmentedStats:{mainStat:"Quantum DMG Boost",mainValue:.388803014298894,"ATK%":.07776,"DEF%":.0486,SPD:4,"CRIT DMG":.18144,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:40.050000000000004,ss:16.232,ds:22.064,equippedBy:"1102",cs:28.543999999999997},{part:"PlanarSphere",set:"Broken Keel",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"DEF",value:59.2725644},{stat:"DEF%",value:5.4},{stat:"CRIT DMG",value:5.183999999999999},{stat:"Effect Hit Rate",value:11.232000000000001}],id:"1735bd09-55f7-4023-866f-509dc716badf",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,DEF:59.2725644,"DEF%":.054000000000000006,"CRIT DMG":.05183999999999999,"Effect Hit Rate":.11232000000000002,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:5.183999999999999,ss:6.48,ds:16.848000000000003},{part:"PlanarSphere",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"Lightning DMG Boost",value:38.8803014298894},substats:[{stat:"ATK",value:59.2725644},{stat:"ATK%",value:8.208},{stat:"DEF%",value:5.4},{stat:"Effect Hit Rate",value:6.912}],id:"15d53aff-64cc-421f-837f-5ccfd55240b6",augmentedStats:{mainStat:"Lightning DMG Boost",mainValue:.388803014298894,ATK:59.2725644,"ATK%":.08208,"DEF%":.054000000000000006,"Effect Hit Rate":.06912,"HP%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:12.299999999999999,ss:6.48,ds:22.68,equippedBy:"1005",cs:0},{part:"PlanarSphere",set:"Broken Keel",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"HP",value:67.7400784},{stat:"ATK",value:38.1037914},{stat:"DEF%",value:9.719999999999999},{stat:"Effect Hit Rate",value:6.912}],id:"86816eed-af3c-441e-9379-22aca07bc15f",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,HP:67.7400784,ATK:38.1037914,"DEF%":.0972,"Effect Hit Rate":.06912,"HP%":0,"ATK%":0,"SPD%":0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:11.663999999999998,ds:10.368,equippedBy:"1101",cs:0},{part:"PlanarSphere",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"Ice DMG Boost",value:38.8803014298894},substats:[{stat:"DEF",value:40.2206687},{stat:"SPD",value:9},{stat:"CRIT Rate",value:2.5919999999999996},{stat:"Effect Hit Rate",value:3.456}],id:"1e00ea87-98be-4601-a1b6-90eed8929758",augmentedStats:{mainStat:"Ice DMG Boost",mainValue:.388803014298894,DEF:40.2206687,SPD:9,"CRIT Rate":.025919999999999995,"Effect Hit Rate":.03456,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:28.400000000000002,ss:23.400000000000002,ds:28.584000000000003,cs:28.584000000000003,weightScore:38.670727111935676},{part:"PlanarSphere",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"Quantum DMG Boost",value:38.8803014298894},substats:[{stat:"HP%",value:7.344},{stat:"ATK%",value:6.912},{stat:"CRIT Rate",value:9.072},{stat:"CRIT DMG",value:5.832}],id:"030acc28-213c-4913-b527-fd5e4242ade5",augmentedStats:{mainStat:"Quantum DMG Boost",mainValue:.388803014298894,"HP%":.07344,"ATK%":.06912,"CRIT Rate":.09072,"CRIT DMG":.05832,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.150000000000006,ss:11.016,ds:10.368,cs:23.976},{part:"PlanarSphere",set:"Fleet of the Ageless",enhance:12,grade:5,main:{stat:"DEF%",value:44.9280005414036},substats:[{stat:"DEF",value:61.3894417},{stat:"HP%",value:3.888},{stat:"ATK%",value:8.64},{stat:"SPD",value:2}],id:"687f3295-1bfa-4349-b529-68145a681f3d",augmentedStats:{mainStat:"DEF%",mainValue:.449280005414036,DEF:61.3894417,"HP%":.03888,"ATK%":.0864,SPD:2,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:18.099999999999998,ss:11.032,ds:18.16,cs:5.2},{part:"PlanarSphere",set:"Fleet of the Ageless",enhance:12,grade:5,main:{stat:"ATK%",value:35.9424005728218},substats:[{stat:"HP",value:33.8700392},{stat:"HP%",value:7.344},{stat:"Effect Hit Rate",value:8.208},{stat:"Break Effect",value:12.959999999999999}],id:"f838c821-addf-477a-97e7-605a00417a80",augmentedStats:{mainStat:"ATK%",mainValue:.35942400572821803,HP:33.8700392,"HP%":.07344,"Effect Hit Rate":.08208,"Break Effect":.1296,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:11.016,ds:25.272,cs:0},{part:"PlanarSphere",set:"Fleet of the Ageless",enhance:12,grade:5,main:{stat:"ATK%",value:35.9424005728218},substats:[{stat:"HP",value:122.7788921},{stat:"ATK",value:38.1037914},{stat:"HP%",value:4.32},{stat:"CRIT DMG",value:6.4799999999999995}],id:"2576e256-b473-481b-9e69-5e5ce2641f1a",augmentedStats:{mainStat:"ATK%",mainValue:.35942400572821803,HP:122.7788921,ATK:38.1037914,"HP%":.0432,"CRIT DMG":.0648,"ATK%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:6.4,ss:6.48,ds:0,equippedBy:"1202",cs:6.4799999999999995},{part:"PlanarSphere",set:"Sprightly Vonwacq",enhance:12,grade:5,main:{stat:"HP%",value:35.9424005728218},substats:[{stat:"DEF",value:21.168773},{stat:"ATK%",value:8.64},{stat:"CRIT Rate",value:5.832},{stat:"Effect RES",value:8.208}],id:"29ec4a4e-a2d1-470b-8898-4271e5d58801",augmentedStats:{mainStat:"HP%",mainValue:.35942400572821803,DEF:21.168773,"ATK%":.0864,"CRIT Rate":.05832,"Effect RES":.08208,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:24.5,ss:12.312000000000001,ds:12.96,cs:11.664},{part:"PlanarSphere",set:"Rutilant Arena",enhance:12,grade:5,main:{stat:"Ice DMG Boost",value:32.348401146008996},substats:[{stat:"ATK",value:38.1037914},{stat:"DEF%",value:9.180000000000001},{stat:"CRIT Rate",value:6.156},{stat:"Break Effect",value:5.832}],id:"6ea90a16-c508-400a-84e5-956be061dd81",augmentedStats:{mainStat:"Ice DMG Boost",mainValue:.32348401146009,ATK:38.1037914,"DEF%":.09180000000000002,"CRIT Rate":.06156,"Break Effect":.05832,"HP%":0,"ATK%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:12.2,ss:11.016000000000002,ds:5.832,cs:12.312},{part:"PlanarSphere",set:"Rutilant Arena",enhance:12,grade:5,main:{stat:"Quantum DMG Boost",value:32.348401146008996},substats:[{stat:"ATK",value:21.168773},{stat:"ATK%",value:7.344},{stat:"DEF%",value:10.26},{stat:"CRIT Rate",value:6.156}],id:"f6f59c42-c75d-4b13-8630-cf4030317fb6",augmentedStats:{mainStat:"Quantum DMG Boost",mainValue:.32348401146009,ATK:21.168773,"ATK%":.07344,"DEF%":.1026,"CRIT Rate":.06156,"HP%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.15,ss:12.312,ds:11.016,cs:12.312},{part:"PlanarSphere",set:"Fleet of the Ageless",enhance:9,grade:3,main:{stat:"HP%",value:17.210700223222197},substats:[{stat:"HP",value:42},{stat:"ATK%",value:11.2},{stat:"DEF%",value:5.4},{stat:"Effect Hit Rate",value:3.4}],id:"bc8d6ec2-f7ce-46b5-99bd-f9abcb5cd7d3",augmentedStats:{mainStat:"HP%",mainValue:.17210700223222197,HP:42,"ATK%":.11199999999999999,"DEF%":.054000000000000006,"Effect Hit Rate":.034,"HP%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:6.48,ds:21.9},{part:"PlanarSphere",set:"Belobog of the Architects",enhance:9,grade:3,main:{stat:"DEF%",value:21.5135999489572},substats:[{stat:"DEF",value:52},{stat:"HP%",value:7.7},{stat:"Effect RES",value:3.4},{stat:"Break Effect",value:6.4}],id:"1d4bfa56-f16b-4380-8124-481ef3c284f2",augmentedStats:{mainStat:"DEF%",mainValue:.215135999489572,DEF:52,"HP%":.077,"Effect RES":.034,"Break Effect":.064,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:16.650000000000002,ds:6.4},{part:"PlanarSphere",set:"Broken Keel",enhance:9,grade:3,main:{stat:"HP%",value:17.210700223222197},substats:[{stat:"HP",value:33},{stat:"ATK",value:19},{stat:"Effect Hit Rate",value:7.3},{stat:"Effect RES",value:6.9}],id:"5968a21b-6035-45f7-8347-3445cb23dd48",augmentedStats:{mainStat:"HP%",mainValue:.17210700223222197,HP:33,ATK:19,"Effect Hit Rate":.073,"Effect RES":.069,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:10.350000000000001,ds:10.95},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"HP",value:80.4413431,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT Rate",value:8.424,scoreMeta:{multiplier:1,score:16.8}},{stat:"CRIT DMG",value:10.367999999999999,scoreMeta:{multiplier:1,score:10.3}},{stat:"Break Effect",value:5.832,scoreMeta:{multiplier:0,score:0}}],id:"c521dc03-6c6e-45ef-9933-811367312441",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,HP:80.4413431,"CRIT Rate":.08424,"CRIT DMG":.10367999999999998,"Break Effect":.05832,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.1,ss:0,ds:5.832,equippedBy:"1212",cs:27.215999999999998,weightScore:37.249627926047566},{part:"LinkRope",set:"Fleet of the Ageless",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"ATK",value:38.1037914},{stat:"DEF",value:21.168773},{stat:"DEF%",value:15.659999999999998},{stat:"Break Effect",value:12.312}],id:"e1650ead-9ec8-4e2a-9ab9-c4199e1b609c",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,ATK:38.1037914,DEF:21.168773,"DEF%":.1566,"Break Effect":.12312,"HP%":0,"ATK%":0,"SPD%":0,HP:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:18.791999999999998,ds:12.312,equippedBy:"1217",cs:0},{part:"LinkRope",set:"Inert Salsotto",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"CRIT Rate",value:6.156},{stat:"Effect Hit Rate",value:7.344},{stat:"Effect RES",value:8.208},{stat:"Break Effect",value:12.312}],id:"426a1d2d-c361-42d0-a7d6-5001755c220d",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,"CRIT Rate":.06156,"Effect Hit Rate":.07344,"Effect RES":.08208,"Break Effect":.12312,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:12.2,ss:12.312000000000001,ds:23.328,equippedBy:"1205",cs:12.312},{part:"LinkRope",set:"Fleet of the Ageless",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"DEF",value:35.9869141},{stat:"ATK%",value:7.776},{stat:"DEF%",value:14.04},{stat:"SPD",value:2}],id:"9c66993a-07b4-4994-8bb5-86507e6ba49b",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,DEF:35.9869141,"ATK%":.07776,"DEF%":.1404,SPD:2,"HP%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.75,ss:22.048,ds:16.864,equippedBy:"1202",cs:5.2},{part:"LinkRope",set:"Belobog of the Architects",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"ATK%",value:14.688},{stat:"DEF%",value:5.4},{stat:"Effect Hit Rate",value:7.776},{stat:"Break Effect",value:5.183999999999999}],id:"f751b41e-8099-4b80-94c1-a86d264ca8bd",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,"ATK%":.14688,"DEF%":.054000000000000006,"Effect Hit Rate":.07776,"Break Effect":.05183999999999999,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:21.9,ss:6.48,ds:38.879999999999995,cs:0},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"SPD",value:2},{stat:"CRIT DMG",value:18.144},{stat:"Effect Hit Rate",value:7.344},{stat:"Effect RES",value:7.776}],id:"c32194b9-dddc-47de-853e-17ac8b8f61a4",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,SPD:2,"CRIT DMG":.18144,"Effect Hit Rate":.07344,"Effect RES":.07776,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.3,ss:16.864,ds:16.216,equippedBy:"1102",cs:23.343999999999998,weightScore:46.007999999999996},{part:"LinkRope",set:"Broken Keel",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"HP%",value:15.984000000000002},{stat:"ATK%",value:3.888},{stat:"CRIT Rate",value:3.2399999999999998},{stat:"CRIT DMG",value:17.496000000000002}],id:"5788b45d-6d75-4189-9689-872fd84280f7",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,"HP%":.15984,"ATK%":.03888,"CRIT Rate":.0324,"CRIT DMG":.17496000000000003,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:29.5,ss:23.976000000000003,ds:5.832,equippedBy:"1101",cs:23.976000000000003},{part:"LinkRope",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"HP",value:38.1037941},{stat:"ATK",value:63.506319},{stat:"SPD",value:5},{stat:"Effect Hit Rate",value:8.208}],id:"c46c97d3-0cc6-4ac9-8b0d-2d5ad0f0a0e7",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,HP:38.1037941,ATK:63.506319,SPD:5,"Effect Hit Rate":.08208,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:13,ss:13,ds:25.312,equippedBy:"1005",cs:13},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"DEF%",value:10.8},{stat:"CRIT Rate",value:9.072},{stat:"Effect Hit Rate",value:6.912},{stat:"Break Effect",value:6.4799999999999995}],id:"9dc0a37b-9c62-4c1a-80f9-3edd769b0e68",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,"DEF%":.10800000000000001,"CRIT Rate":.09072,"Effect Hit Rate":.06912,"Break Effect":.0648,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:18,ss:12.96,ds:16.848,cs:18.144,weightScore:47.95199999999999},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"HP",value:38.1037941},{stat:"DEF%",value:10.8},{stat:"CRIT DMG",value:18.792},{stat:"Effect RES",value:7.776}],id:"b63d8cc1-3b84-476f-b8f7-ea31e0a83dbc",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,HP:38.1037941,"DEF%":.10800000000000001,"CRIT DMG":.18792,"Effect RES":.07776,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:18.7,ss:24.624000000000002,ds:0,cs:18.792,weightScore:45.40624480707517},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"ATK",value:35.9869141,scoreMeta:{multiplier:.75,score:2.9806283212960496}},{stat:"HP%",value:3.456,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT DMG",value:5.183999999999999,scoreMeta:{multiplier:1,score:5.183999999999999}},{stat:"Effect RES",value:15.984000000000002,scoreMeta:{multiplier:0,score:0}}],id:"7d1bb971-e351-47ee-9ab9-3c605386b6f8",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,ATK:35.9869141,"HP%":.03456,"CRIT DMG":.05183999999999999,"Effect RES":.15984,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.1,ss:29.160000000000004,ds:0,cs:5.183999999999999,weightScore:38.318171095061395},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"HP",value:38.1037941},{stat:"ATK",value:78.3244601},{stat:"ATK%",value:7.776},{stat:"CRIT DMG",value:11.664}],id:"fce0a251-7922-469e-a3e6-b63783177cbf",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,HP:38.1037941,ATK:78.3244601,"ATK%":.07776,"CRIT DMG":.11664,"HP%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.15,ss:0,ds:11.664,cs:11.664},{part:"LinkRope",set:"Fleet of the Ageless",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"HP",value:33.8700392},{stat:"ATK",value:57.1556871},{stat:"DEF%",value:5.4},{stat:"CRIT DMG",value:17.496000000000002}],id:"4de09d13-9ab5-48c0-8552-c99e0961c6d7",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,HP:33.8700392,ATK:57.1556871,"DEF%":.054000000000000006,"CRIT DMG":.17496000000000003,"HP%":0,"ATK%":0,"SPD%":0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:17.4,ss:6.48,ds:0,cs:17.496000000000002},{part:"LinkRope",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"SPD",value:4},{stat:"CRIT DMG",value:6.4799999999999995},{stat:"Effect RES",value:7.344},{stat:"Break Effect",value:18.144}],id:"5336ce8e-c6be-426f-9e6b-cbdf058d7eb8",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,SPD:4,"CRIT DMG":.0648,"Effect RES":.07344,"Break Effect":.18144,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.8,ss:21.416,ds:28.543999999999997,cs:16.88},{part:"LinkRope",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"DEF",value:38.1037914},{stat:"DEF%",value:17.82},{stat:"CRIT Rate",value:2.5919999999999996},{stat:"Effect RES",value:3.456}],id:"507b39d1-d464-4b88-a968-074059a16326",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,DEF:38.1037914,"DEF%":.1782,"CRIT Rate":.025919999999999995,"Effect RES":.03456,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5,ss:26.568,ds:0,cs:5.183999999999999},{part:"LinkRope",set:"Fleet of the Ageless",enhance:12,grade:5,main:{stat:"DEF%",value:44.9280005414036},substats:[{stat:"DEF",value:38.1037914},{stat:"HP%",value:4.32},{stat:"ATK%",value:3.888},{stat:"Effect Hit Rate",value:15.552}],id:"13562a04-2e82-44a6-acee-42500b505634",augmentedStats:{mainStat:"DEF%",mainValue:.449280005414036,DEF:38.1037914,"HP%":.0432,"ATK%":.03888,"Effect Hit Rate":.15552,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.699999999999999,ss:6.48,ds:29.16,cs:0},{part:"LinkRope",set:"Fleet of the Ageless",enhance:12,grade:5,main:{stat:"Energy Regeneration Rate",value:16.1736014066265},substats:[{stat:"DEF",value:16.9350184},{stat:"DEF%",value:9.719999999999999},{stat:"CRIT Rate",value:3.2399999999999998},{stat:"Effect RES",value:12.096}],id:"1364b4d9-1dc2-4ea9-973c-5508c5676a78",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.161736014066265,DEF:16.9350184,"DEF%":.0972,"CRIT Rate":.0324,"Effect RES":.12096,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:6.4,ss:29.807999999999996,ds:0,cs:6.4799999999999995},{part:"LinkRope",set:"Space Sealing Station",enhance:12,grade:5,main:{stat:"ATK%",value:35.9424005728218},substats:[{stat:"HP%",value:15.552},{stat:"DEF%",value:9.180000000000001},{stat:"CRIT DMG",value:5.183999999999999},{stat:"Break Effect",value:6.4799999999999995}],id:"439c6e66-9371-4872-a5dc-916756a46a99",augmentedStats:{mainStat:"ATK%",mainValue:.35942400572821803,"HP%":.15552,"DEF%":.09180000000000002,"CRIT DMG":.05183999999999999,"Break Effect":.0648,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.1,ss:34.344,ds:6.4799999999999995,cs:5.183999999999999},{part:"LinkRope",set:"Space Sealing Station",enhance:12,grade:5,main:{stat:"ATK%",value:35.9424005728218},substats:[{stat:"ATK",value:19.0518957},{stat:"HP%",value:7.776},{stat:"Effect Hit Rate",value:11.664},{stat:"Break Effect",value:5.183999999999999}],id:"24e5659e-51f5-428d-83b7-0daa994ecf97",augmentedStats:{mainStat:"ATK%",mainValue:.35942400572821803,ATK:19.0518957,"HP%":.07776,"Effect Hit Rate":.11664,"Break Effect":.05183999999999999,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:11.664,ds:22.68,cs:0},{part:"LinkRope",set:"Rutilant Arena",enhance:12,grade:5,main:{stat:"ATK%",value:35.9424005728218},substats:[{stat:"ATK",value:40.2206687},{stat:"DEF",value:40.2206687},{stat:"CRIT DMG",value:11.664},{stat:"Effect Hit Rate",value:3.888}],id:"3aac125b-f436-4a66-bc76-124bccee2190",augmentedStats:{mainStat:"ATK%",mainValue:.35942400572821803,ATK:40.2206687,DEF:40.2206687,"CRIT DMG":.11664,"Effect Hit Rate":.03888,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,SPD:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:11.6,ss:0,ds:5.832,cs:11.664},{part:"LinkRope",set:"Broken Keel",enhance:9,grade:3,main:{stat:"Energy Regeneration Rate",value:7.7450001612309},substats:[{stat:"DEF",value:19},{stat:"SPD",value:4},{stat:"Effect Hit Rate",value:7.7},{stat:"Effect RES",value:4.3}],id:"563780c9-ac0a-4c54-98fa-2c24883f633b",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.077450001612309,DEF:19,SPD:4,"Effect Hit Rate":.077,"Effect RES":.043,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:10.4,ss:16.85,ds:21.950000000000003},{part:"LinkRope",set:"Broken Keel",enhance:9,grade:3,main:{stat:"Energy Regeneration Rate",value:7.7450001612309},substats:[{stat:"HP",value:38},{stat:"ATK%",value:12.5},{stat:"CRIT DMG",value:10.3},{stat:"Effect RES",value:4.3}],id:"bc344db6-5740-44ed-9858-46f15000d4a8",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.077450001612309,HP:38,"ATK%":.125,"CRIT DMG":.10300000000000001,"Effect RES":.043,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:10.3,ss:6.449999999999999,ds:18.75},{part:"LinkRope",set:"Rutilant Arena",enhance:9,grade:3,main:{stat:"ATK%",value:17.210700223222197},substats:[{stat:"DEF",value:40},{stat:"CRIT Rate",value:5.5},{stat:"Effect Hit Rate",value:3.8},{stat:"Effect RES",value:3.4}],id:"802a690c-b6be-4c91-8551-c79c4fe019d1",augmentedStats:{mainStat:"ATK%",mainValue:.17210700223222197,DEF:40,"CRIT Rate":.055,"Effect Hit Rate":.038,"Effect RES":.034,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11,ss:5.1000000000000005,ds:5.699999999999999},{part:"LinkRope",set:"Rutilant Arena",enhance:9,grade:3,main:{stat:"HP%",value:17.210700223222197},substats:[{stat:"ATK%",value:7.7},{stat:"CRIT Rate",value:5.8},{stat:"CRIT DMG",value:6.4},{stat:"Break Effect",value:11}],id:"13ec2e5b-6f28-40b2-b85a-72a862499671",augmentedStats:{mainStat:"HP%",mainValue:.17210700223222197,"ATK%":.077,"CRIT Rate":.057999999999999996,"CRIT DMG":.064,"Break Effect":.11,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:18,ss:0,ds:22.55},{part:"LinkRope",set:"Inert Salsotto",enhance:9,grade:3,main:{stat:"Energy Regeneration Rate",value:7.7450001612309},substats:[{stat:"DEF",value:16},{stat:"DEF%",value:10.2},{stat:"Effect Hit Rate",value:8.6},{stat:"Effect RES",value:7.7}],id:"6a81c65c-861d-4568-8373-d0a4ffe52989",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.077450001612309,DEF:16,"DEF%":.102,"Effect Hit Rate":.086,"Effect RES":.077,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:23.79,ds:12.899999999999999}],pR=[{id:"1212",form:{characterId:"1212",characterLevel:80,characterEidolon:1,lightCone:"23014",lightConeLevel:80,lightConeSuperimposition:1,mainBody:["CRIT DMG"],mainFeet:["SPD"],mainPlanarSphere:["Ice DMG Boost"],mainLinkRope:["ATK%"],ornamentSets:["Rutilant Arena"],relicSets:[["4 Piece","Hunter of Glacial Forest"]],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:134,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minCv:0,maxCv:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:3.12,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,mainStatUpscaleLevel:12,keepCurrentRelics:!1,enhance:15,grade:5,mainHead:[],mainHands:[],setConditionals:{"Passerby of Wandering Cloud":[null,!0],"Musketeer of Wild Wheat":[null,!0],"Knight of Purity Palace":[null,!0],"Hunter of Glacial Forest":[null,!0],"Champion of Streetwise Boxing":[null,5],"Guard of Wuthering Snow":[null,!0],"Firesmith of Lava-Forging":[null,!0],"Genius of Brilliant Stars":[null,!0],"Band of Sizzling Thunder":[null,!0],"Eagle of Twilight Line":[null,!0],"Thief of Shooting Meteor":[null,!0],"Wastelander of Banditry Desert":[null,0],"Longevous Disciple":[null,2],"Messenger Traversing Hackerspace":[null,!0],"The Ashblazing Grand Duke":[null,0],"Prisoner in Deep Confinement":[null,0],"Space Sealing Station":[null,!0],"Fleet of the Ageless":[null,!0],"Pan-Cosmic Commercial Enterprise":[null,!0],"Belobog of the Architects":[null,!0],"Celestial Differentiator":[null,!1],"Inert Salsotto":[null,!0],"Talia: Kingdom of Banditry":[null,!0],"Sprightly Vonwacq":[null,!0],"Rutilant Arena":[null,!0],"Broken Keel":[null,!0],"Firmament Frontline: Glamoth":[null,!0],"Penacony, Land of the Dreams":[null,!0]},characterConditionals:{talentEnhancedState:!0,talentHpDrainAtkBuff:1.8,e1CdBuff:!0,e2SkillDmgBuff:!0},lightConeConditionals:{eclipseStacks:3,maxStackDefPen:!0},enemyLevel:95,enemyCount:1,enemyResistance:.2,enemyMaxToughness:360,enemyElementalWeak:!0,enemyWeaknessBroken:!1,statDisplay:"base",weights:{"ATK%":1,"DEF%":1,"HP%":1,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":1,"Effect RES":1,"Break Effect":1,topPercent:100,ATK:1,DEF:1,HP:1},minWeight:0,maxWeight:2147483647,minBasic:0,maxBasic:2147483647,minSkill:0,maxSkill:2147483647,minUlt:0,maxUlt:2147483647,minFua:0,maxFua:2147483647,minDot:0,maxDot:2147483647,buffSpd:0,buffSpdP:0,buffBe:0,buffDmgBoost:0,buffDefShred:0,buffResPen:0},equipped:{Head:"cd85c14c-a662-4413-a149-a379e6d538d3",Hands:"798657c8-5c5c-4b44-9c5f-f5f094414289",Body:"b3376a19-62f9-489e-80e6-8f98335af158",Feet:"92c53d06-80d0-43a8-b896-2feeda419674",PlanarSphere:"80abbd56-b1a0-4587-a349-754c33627217",LinkRope:"c521dc03-6c6e-45ef-9933-811367312441"},rank:0},{id:"1005",form:{characterId:"1005",characterLevel:80,characterEidolon:0,lightCone:"21022",lightConeLevel:80,lightConeSuperimposition:5,mainBody:["ATK%"],mainFeet:["SPD"],mainPlanarSphere:["Lightning DMG Boost"],mainLinkRope:["ATK%"],relicSets:[["4 Piece","Band of Sizzling Thunder"]],ornamentSets:["Space Sealing Station"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:130,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Head:"354bde06-a10b-4449-8365-16f0dcac7b88",Hands:"81a06240-1434-4b48-b7c4-cedbca15ff50",Body:"dd7d21eb-5a85-466e-a7a3-98fc6f63e546",Feet:"53a00fa5-22a9-40bc-948b-8469d6e248ec",PlanarSphere:"15d53aff-64cc-421f-837f-5ccfd55240b6",LinkRope:"c46c97d3-0cc6-4ac9-8b0d-2d5ad0f0a0e7"},rank:1},{id:"1102",form:{characterId:"1102",characterLevel:80,characterEidolon:0,lightCone:"24001",lightConeLevel:80,lightConeSuperimposition:5,mainBody:["CRIT DMG","CRIT Rate"],mainFeet:["ATK%"],mainPlanarSphere:["Quantum DMG Boost"],mainLinkRope:["ATK%"],relicSets:[["4 Piece","Genius of Brilliant Stars"]],ornamentSets:["Rutilant Arena"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:130,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Head:"eda5ede8-dfaa-4fa9-b2c2-17011ed0abe6",Hands:"d0b2b781-33dc-4029-b875-81ecbc659466",Body:"4b8dafeb-6f5a-410c-bcbc-4caaef116af2",Feet:"9d68a932-b623-4ac7-bd0a-7c54779b64fb",PlanarSphere:"4806d951-5a01-48bb-876f-5368059a674d",LinkRope:"c32194b9-dddc-47de-853e-17ac8b8f61a4"},rank:2},{id:"1217",form:{characterId:"1217",characterLevel:80,characterEidolon:0,lightCone:"21000",lightConeLevel:80,lightConeSuperimposition:4,mainBody:["Outgoing Healing Boost"],mainFeet:["SPD"],mainPlanarSphere:["HP%"],mainLinkRope:["Energy Regeneration Rate"],relicSets:[["4 Piece","Passerby of Wandering Cloud"]],ornamentSets:["Fleet of the Ageless"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:130,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Head:"0bd7404f-3420-4bf5-9e45-f79343728685",Hands:"9b3f7f9b-b394-4c87-af67-0f4f7e41a6a8",Body:"725e6ee5-9465-45a2-8172-ed69241c1e54",Feet:"f8d42acd-c848-484a-9eee-d03a7b88f030",PlanarSphere:"f89266f4-241e-43bc-b04a-a864eea60e49",LinkRope:"e1650ead-9ec8-4e2a-9ab9-c4199e1b609c"},rank:3},{id:"1205",form:{characterId:"1205",characterLevel:80,characterEidolon:0,lightCone:"21012",lightConeLevel:80,lightConeSuperimposition:1,mainBody:["CRIT Rate","CRIT DMG"],mainFeet:["SPD"],mainPlanarSphere:["Wind DMG Boost","HP%"],mainLinkRope:["HP%"],relicSets:[["4 Piece","Longevous Disciple"]],ornamentSets:["Inert Salsotto"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:134,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Head:"e898e418-bc4e-404d-be3f-2477dec9839a",Hands:"71b088e8-e254-4219-96d5-f56cde1702d3",Body:"7cdd90c6-73fc-4a5f-9cea-6458d5e6f456",Feet:"726e7b1f-f630-4182-ac11-1e8523a33fc1",PlanarSphere:"9714ef68-45e7-4f62-81f2-b437649d3a49",LinkRope:"426a1d2d-c361-42d0-a7d6-5001755c220d"},rank:4},{id:"1202",form:{characterId:"1202",characterLevel:80,characterEidolon:6,lightCone:"21032",lightConeLevel:80,lightConeSuperimposition:4,mainBody:["HP%","ATK%"],mainFeet:["SPD"],mainPlanarSphere:["HP%","ATK%"],mainLinkRope:["Energy Regeneration Rate"],relicSets:[["4 Piece","Musketeer of Wild Wheat"]],ornamentSets:["Fleet of the Ageless"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:140,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Hands:"67999399-0a5f-4a94-9267-32c42a7fbbe5",Body:"cd8b362d-24e4-4427-b09e-2666c1fb97b4",Feet:"ac206198-c5b1-4be7-8dda-0d7b85e1aabf",PlanarSphere:"2576e256-b473-481b-9e69-5e5ce2641f1a",LinkRope:"9c66993a-07b4-4994-8bb5-86507e6ba49b"},rank:5},{id:"1101",form:{characterId:"1101",characterLevel:80,characterEidolon:1,lightCone:"23003",lightConeLevel:80,lightConeSuperimposition:1,mainBody:["CRIT DMG","HP%"],mainFeet:["SPD"],mainPlanarSphere:["HP%","DEF%"],mainLinkRope:["Energy Regeneration Rate"],relicSets:[["2 Piece","Eagle of Twilight Line"]],ornamentSets:["Fleet of the Ageless","Broken Keel"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:134,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Head:"8de51c73-36b5-40ea-91a2-e566d97da2a9",Feet:"dd1bb72d-80f3-432c-b8d9-0b62c7790b9a",PlanarSphere:"86816eed-af3c-441e-9379-22aca07bc15f",LinkRope:"5788b45d-6d75-4189-9689-872fd84280f7"},rank:6},{id:"1105",form:{characterId:"1105",characterLevel:80,characterEidolon:6,lightCone:"21007",lightConeLevel:80,lightConeSuperimposition:1,mainBody:["Outgoing Healing Boost"],mainFeet:["SPD"],mainPlanarSphere:["HP%"],mainLinkRope:["Energy Regeneration Rate"],relicSets:[],ornamentSets:[],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:0,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{},rank:7}],SR={relics:hR,characters:pR},{Text:Jo}=pt,El=Object.values(Kn.characters),RR=Object.values(Kn.lightCones),nl=Object.entries(F);for(const t of nl)t[2]=t[1],t[1]=Ac(t[1]);const fR=Kn.relics.reduce((t,a)=>(t[a.id]=a,t),{});class xl{constructor(a){this.config=a}parse(a){const i={metadata:{trailblazer:"Stelle",current_trailblazer_path:"Destruction"},characters:[],relics:[]};if(a.source!=this.config.sourceString)throw new Error(`Incorrect source string, was '${a.source}', expected '${this.config.sourceString}'`);if(a.version!=this.config.latestOutputVersion&&j.warning(n.jsxs(Jo,{children:["Your scanner version is out of date and may result in incorrect imports! Please update to the latest version from Github:"," ",n.jsx("a",{target:"_blank",style:{color:"#3f8eff"},href:this.config.releases,rel:"noreferrer",children:this.config.releases})]}),15),a.version!=3&&a.version!=4)throw new Error(`Incorrect json version, was '${a.version}', expected '${this.config.latestOutputVersion}'`);const l=a.build||"v0.0.0";o0.lt(l,this.config.latestBuildVersion)&&(console.log(`Current: ${l}, Latest: ${this.config.latestBuildVersion}`),j.warning(n.jsxs(Jo,{children:[`Your scanner version ${l} is out of date and may result in incorrect imports! Please update to the latest version from Github:`," ",n.jsx("a",{target:"_blank",style:{color:"#3f8eff"},href:this.config.releases,rel:"noreferrer",children:this.config.releases})]}),15));let o,c;return a.version==3&&(c=ZR,o=GR),a.version==4&&(c=CR,o=gR),i.metadata.trailblazer=a.metadata.trailblazer||"Stelle",i.metadata.current_trailblazer_path=a.metadata.current_trailblazer_path||"Stelle",a.relics&&(i.relics=a.relics.map(r=>c(r,i.metadata.trailblazer,i.metadata.current_trailblazer_path,this.config)).map(r=>bn.augment(r)).filter(r=>(r||console.warn("Could not parse relic"),r))),a.characters&&(i.characters=a.characters.map(r=>o(r,a.light_cones,i.metadata.trailblazer,i.metadata.current_trailblazer_path)).filter(r=>(r||console.warn("Could not parse character"),r))),i}}function GR(t,a,i,l){var u,f;let s;a&&(t.key.startsWith("Trailblazer")?s=a.find(p=>p.location===t.key)||a.find(p=>p.location.startsWith("Trailblazer")):s=a.find(p=>p.location===t.key));let o;t.key.startsWith("Trailblazer")?o=jc(t.key,i,l):o=(u=El.find(p=>p.name===t.key))==null?void 0:u.id;const c=s==null?void 0:s.key,r=(f=RR.find(p=>p.name===c))==null?void 0:f.id;return o?{characterId:o,characterLevel:t.level||80,characterEidolon:t.eidolon||0,lightCone:r||null,lightConeLevel:(s==null?void 0:s.level)||80,lightConeSuperimposition:(s==null?void 0:s.superimposition)||1}:null}function ZR(t,a,i,l){var m;const o=Os.findBestMatch(t.slot,Object.values(T)).bestMatch.target,c=Os.findBestMatch(Ac(t.set),nl.map(b=>b[1])),r=nl[c.bestMatchIndex][2],u=Math.min(Math.max(parseInt(t.level),0),15),f=Math.min(Math.max(parseInt(t.rarity),2),5),{main:p,substats:G}=wc(t,o,f,u);let h;if(t.location!==""){const b=(m=El.find(R=>R.name==t.location))==null?void 0:m.id;b?h=b:t.location.startsWith("Trailblazer")&&(h=jc(t.location,a,i))}return{part:o,set:r,enhance:u,grade:f,main:p,substats:G,equippedBy:h,verified:l.speedVerified}}function gR(t,a,i,l){let s;a&&(s=a.find(u=>u.location===t.id));const o=t.id,r=s==null?void 0:s.id;return o?{characterId:o,characterLevel:t.level||80,characterEidolon:t.eidolon||0,lightCone:r||null,lightConeLevel:(s==null?void 0:s.level)||80,lightConeSuperimposition:(s==null?void 0:s.superimposition)||1}:null}function CR(t,a,i,l){var m;const o=Os.findBestMatch(t.slot,Object.values(T)).bestMatch.target,c=t.set_id,r=fR[c].name,u=Math.min(Math.max(parseInt(t.level),0),15),f=Math.min(Math.max(parseInt(t.rarity),2),5),{main:p,substats:G}=wc(t,o,f,u);let h;if(t.location!==""){const b=(m=El.find(R=>R.id==t.location))==null?void 0:m.id;b&&(h=b)}return{part:o,set:r,enhance:u,grade:f,main:p,substats:G,equippedBy:h,verified:l.speedVerified}}function wc(t,a,i,l){let s;a==="Hands"?s=d.Stats.ATK:a==="Head"?s=d.Stats.HP:s=DR(t.mainstat);const o=VR(a),c=`${i}${o}`,r=Object.values(L.getMetadata().relics.relicMainAffixes[c].affixes),u=IR(s),f=r.find(h=>h.property===u),p=f.base+f.step*l,G=t.substats.map(h=>({stat:TR(h.key),value:h.value}));return{main:{stat:s,value:x.truncate10000ths(p*(x.isFlat(s)?1:100))},substats:G}}function TR(t){switch(t){case"ATK":return d.Stats.ATK;case"HP":return d.Stats.HP;case"DEF":return d.Stats.DEF;case"ATK_":return d.Stats.ATK_P;case"HP_":return d.Stats.HP_P;case"DEF_":return d.Stats.DEF_P;case"SPD":return d.Stats.SPD;case"CRIT Rate_":return d.Stats.CR;case"CRIT DMG_":return d.Stats.CD;case"Effect Hit Rate_":return d.Stats.EHR;case"Effect RES_":return d.Stats.RES;case"Break Effect_":return d.Stats.BE;default:return null}}function DR(t){switch(t){case"ATK":return d.Stats.ATK_P;case"HP":return d.Stats.HP_P;case"DEF":return d.Stats.DEF_P;case"SPD":return d.Stats.SPD;case"CRIT Rate":return d.Stats.CR;case"CRIT DMG":return d.Stats.CD;case"Effect Hit Rate":return d.Stats.EHR;case"Break Effect":return d.Stats.BE;case"Energy Regeneration Rate":return d.Stats.ERR;case"Outgoing Healing Boost":return d.Stats.OHB;case"Physical DMG Boost":return d.Stats.Physical_DMG;case"Fire DMG Boost":return d.Stats.Fire_DMG;case"Ice DMG Boost":return d.Stats.Ice_DMG;case"Lightning DMG Boost":return d.Stats.Lightning_DMG;case"Wind DMG Boost":return d.Stats.Wind_DMG;case"Quantum DMG Boost":return d.Stats.Quantum_DMG;case"Imaginary DMG Boost":return d.Stats.Imaginary_DMG;default:return null}}function IR(t){switch(t){case d.Stats.HP_P:return"HPAddedRatio";case d.Stats.ATK_P:return"AttackAddedRatio";case d.Stats.DEF_P:return"DefenceAddedRatio";case d.Stats.HP:return"HPDelta";case d.Stats.ATK:return"AttackDelta";case d.Stats.DEF:return"DefenceDelta";case d.Stats.SPD:return"SpeedDelta";case d.Stats.CD:return"CriticalDamageBase";case d.Stats.CR:return"CriticalChanceBase";case d.Stats.EHR:return"StatusProbabilityBase";case d.Stats.RES:return"StatusResistanceBase";case d.Stats.BE:return"BreakDamageAddedRatioBase";case d.Stats.ERR:return"SPRatioBase";case d.Stats.OHB:return"HealRatioBase";case d.Stats.Physical_DMG:return"PhysicalAddedRatio";case d.Stats.Fire_DMG:return"FireAddedRatio";case d.Stats.Ice_DMG:return"IceAddedRatio";case d.Stats.Lightning_DMG:return"ThunderAddedRatio";case d.Stats.Wind_DMG:return"WindAddedRatio";case d.Stats.Quantum_DMG:return"QuantumAddedRatio";case d.Stats.Imaginary_DMG:return"ImaginaryAddedRatio";default:return null}}function VR(t){switch(t){case d.Parts.Head:return 1;case d.Parts.Hands:return 2;case d.Parts.Body:return 3;case d.Parts.Feet:return 4;case d.Parts.PlanarSphere:return 5;case d.Parts.LinkRope:return 6;default:return null}}function Ac(t){return t.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")}function jc(t,a,i){return t==="TrailblazerDestruction"?a==="Stelle"?"8002":"8001":t==="TrailblazerPreservation"?a==="Stelle"?"8004":"8003":t==="TrailblazerHarmony"?a==="Stelle"?"8006":"8005":i==="Destruction"?a==="Stelle"?"8002":"8001":i==="Preservation"?a==="Stelle"?"8004":"8003":i==="Harmony"?a==="Stelle"?"8006":"8005":"8002"}const us={name:"HSR-Scanner",author:"Kel-z",homepage:"https://github.com/kel-z/HSR-Scanner",releases:"https://github.com/kel-z/HSR-Scanner/releases/latest",defaultFileName:"HSRScanData.json",sourceString:"HSR-Scanner",latestBuildVersion:"v1.2.0",latestOutputVersion:4,speedVerified:!1},yl={name:"Reliquary Archiver",author:"IceDynamix",homepage:"https://github.com/IceDynamix/reliquary-archiver",releases:"https://github.com/IceDynamix/reliquary-archiver/releases/latest",defaultFileName:"archiver_output.json",sourceString:"reliquary_archiver",latestBuildVersion:"v0.1.11",latestOutputVersion:4,speedVerified:!0},Jc={name:"Yas Scanner",author:"wormtql, YCR160",homepage:"https://github.com/wormtql/yas",releases:"",defaultFileName:"hsr.json",sourceString:"yas-scanner",latestBuildVersion:"v0.0.0",latestOutputVersion:3},WR=new xl(us),ER=new xl(yl),xR=new xl(Jc),Oc={[us.sourceString]:WR,[yl.sourceString]:ER,[Jc.sourceString]:xR},yR=Object.keys(Oc);function Qc(){const{t}=et("importSaveTab",{keyPrefix:"Import.Stage1.ReliquaryDesc"});return n.jsx(n.Fragment,{children:n.jsxs("li",{children:[n.jsx("b",{children:t("Title")})," (",n.jsx(Ia,{text:t("Link"),url:yl.releases}),")",n.jsxs("ul",{children:[n.jsx("li",{children:n.jsx("b",{style:{color:"#82e192"},children:t("OnlineMsg",{version:2.5})})}),n.jsx("li",{children:t("l1")}),n.jsx("li",{children:t("l2")})]})]})})}const{useToken:LR}=Ze,{Text:FR}=pt;function _c(){const{t,i18n:a}=et("getStartedTab"),{token:i}=LR(),l=y.useMemo(()=>({quickstart:N.getLocaleGuideImage("quickstart",a.resolvedLanguage),characterOptions:N.getLocaleGuideImage("characterOptions",a.resolvedLanguage),relicFilters:N.getLocaleGuideImage("relicFilters",a.resolvedLanguage),sets:N.getLocaleGuideImage("sets",a.resolvedLanguage),teammateOptions:N.getLocaleGuideImage("teammateOptions",a.resolvedLanguage),resultsGrid:N.getLocaleGuideImage("resultsGrid",a.resolvedLanguage),characterTab:N.getLocaleGuideImage("characterTab",a.resolvedLanguage),relicsGrid:N.getLocaleGuideImage("relicsGrid",a.resolvedLanguage)}),[a.resolvedLanguage]);console.log("======================================================================= RENDER GettingStartedTab");function s(){L.setStore(JSON.parse(JSON.stringify(SR))),j.success(t("TryOut.SuccessMessage"))}const[o,c]=y.useState(!1);y.useEffect(()=>{c(!1)},[a.resolvedLanguage]);const r={border:`2px solid ${i.colorBgContainer}`},u={marginTop:40},f={textDecoration:"underline"};return n.jsx("div",{children:n.jsx(FR,{children:n.jsxs(g,{vertical:!0,gap:5,style:{marginLeft:20,marginBottom:50,width:1e3},children:[n.jsx("h1",{children:n.jsx("u",{children:t("TryOut.Header")})}),n.jsxs(Et,{t,i18nKey:"TryOut.Option 1",children:[n.jsx("h3",{children:"Option 1: Load a sample save"}),n.jsx("p",{children:"If you would like to give the optimizer a try before doing any relic importing, use this to load a sample save file and check out the features."})]}),n.jsx(Oa,{title:t("TryOut.title"),description:t("TryOut.description"),onConfirm:s,placement:"bottom",okText:t("TryOut.okText"),cancelText:t("TryOut.cancelText"),children:n.jsx(w,{type:"primary",icon:n.jsx(ai,{}),style:{width:200},children:t("TryOut.ButtonText")})}),n.jsxs(Et,{t,i18nKey:"TryOut.Option 2",children:[n.jsx("h3",{children:"Option 2: One-click-optimize from the Relic Scorer"}),n.jsx("img",{src:l.quickstart,style:r,onError:p=>{c(!0),p.target.src=N.getGuideImage("quickstart")},onLoad:p=>{p.target.src==l.quickstart||o||(p.target.src=l.quickstart)}}),n.jsxs("p",{children:["From the ",n.jsx("span",{onClick:()=>window.store.getState().setActiveKey(mt.RELIC_SCORER),children:n.jsx(Ia,{})})," tab, clicking on the Optimize Character Stats button will automatically import and run the optimizer on your selected character. This option will only be able to use the relics from your profile's showcase characters, so it is still recommended to use a scanner to import your full inventory of relics, but this allows for a quick calculation of character stats in combat."]})]}),n.jsx(Ge,{style:u}),n.jsx("h1",{children:n.jsx("u",{children:t("HowTo.Header")})}),n.jsxs(Et,{t,i18nKey:"HowTo.Step 1",children:[n.jsx("h2",{children:"Step 1: Import relics"}),n.jsx("p",{children:"The optimizer needs a database of relics to run against. Install and run one of the relic scanner options:"}),n.jsxs("ul",{children:[n.jsx(Qc,{}),n.jsxs("li",{children:["Kel-Z HSR Scanner (",n.jsx(Ia,{url:us.releases}),")",n.jsxs("ul",{children:[n.jsx("li",{children:"OCR scanner"}),n.jsx("li",{children:"Supports all 16:9 screen resolutions"})]})]}),n.jsxs("li",{children:["Relic Scorer Import (",n.jsx("span",{onClick:()=>window.store.getState().setActiveKey(mt.RELIC_SCORER),children:n.jsx(Ia,{})}),")",n.jsxs("ul",{children:[n.jsx("li",{children:"No download needed, but limited to relics from the 8 characters on profile showcase"}),n.jsx("li",{children:"Imports accurate speed decimals"})]})]})]})]}),n.jsxs(Et,{t,i18nKey:"HowTo.Step 2",children:[n.jsx("h2",{children:"Step 2: Select a character"}),n.jsx("img",{src:l.characterOptions,style:r,onError:p=>{c(!0),p.target.src=N.getGuideImage("characterOptions")},onLoad:p=>{p.target.src==l.characterOptions||o||(p.target.src=l.characterOptions)}}),n.jsx("p",{children:"Select a character and light cone from the Character Options menu. Next, use the Recommended Presets button to select a preset speed target to optimize for. For most characters, the 133 speed breakpoint is recommended, and this will set a minimum speed for your optimization resukts. This preset will also automatically fill out the ideal main stats and relic set conditionals for the optimizer."}),n.jsx("p",{children:"Once a character is chosen, their ability passives and light cone passives can be customized. These selectors will affect the final combat stats and damage calculations for the character. For the first run these can be left as default."}),n.jsx("p",{children:"Most of the Enemy Options and Optimizer Options can be left as default to get started. One important option is the Character Priority filter setting, which defines which relics the character may steal from other characters. Characters can only take relics from lower priority characters, so for the first run set this priority to #1, but later on your characters list should be ordered by which characters have the highest priority for taking gear."})]}),n.jsxs(Et,{t,i18nKey:"HowTo.Step 3",children:[n.jsx("h2",{children:"Step 3: Apply filters"}),n.jsx("img",{src:l.relicFilters,style:r,onError:p=>{c(!0),p.target.src=N.getGuideImage("relicFilters")},onLoad:p=>{p.target.src==l.relicFilters||o||(p.target.src=l.relicFilters)}}),n.jsx("h4",{style:f,children:"Main Stats"}),n.jsx("p",{children:"The main stat filters limits optimizer to using preferred body, feet, planar sphere, and link rope main stats. Multiple options can be chosen for each slot. The Recommended Presets button will fill these out with each character's ideal stats, but these can be customized for other builds."}),n.jsx("h4",{style:f,children:"Set filters"}),n.jsx("img",{src:l.sets,style:r,onError:p=>{c(!0),p.target.src=N.getGuideImage("sets")},onLoad:p=>{p.target.src==l.sets||o||(p.target.src=l.sets)}}),n.jsx("p",{children:"The relic set filter allows for a combination of 2-piece sets, 4-piece sets, or can be left empty. When multiple options are chosen, the search results will only show builds with least one of the selected filters active. Conditional set effects can be customized from the menu."}),n.jsx("h4",{style:f,children:"Stat min / max filters"}),n.jsx("p",{children:"This section defines the minimum / maximum stats to filter the results by. Left side is minimum and right side is maximum, both inclusive. In this above example, only results with ≥ 134 speed AND ≥ 35% Crit Rate are shown. Stat abbreviations are ATK / HP / DEF / SPD / Crit Rate / Crit Damage / Effect Hit Rate / Effect RES / Break Effect."}),n.jsx("p",{children:"Important note: relics typed in manually or imported with the OCR tool may be affected by hidden decimal points for speed that aren't shown by ingame stats. For example, 5 star relics can have speed substats of values between 2.0 - 2.6, which would all show ingame as 2. This means that speed results should be treated as minimum values, as the real value may be slightly higher ingame. This also means that maximum filters on speed should be used carefully since they may be too restrictive."})]}),n.jsxs(Et,{t,i18nKey:"HowTo.Step 4",children:[n.jsx("h2",{children:"Step 4: Select teammates"}),n.jsx("img",{src:l.teammateOptions,style:r,onError:p=>{c(!0),p.target.src=N.getGuideImage("teammateOptions")},onLoad:p=>{p.target.src==l.teammateOptions||o||(p.target.src=l.teammateOptions)}}),n.jsx("p",{children:"In this menu, select the 3 teammates that you're using with the main character. These teammates will apply their buffs and passive effects to the calculations. The relic/ornament sets and conditionals can be customized to fit the combat scenario."})]}),n.jsxs(Et,{t,i18nKey:"HowTo.Step 5",children:[n.jsx("h2",{children:"Step 5: Save results"}),n.jsx("img",{src:l.resultsGrid,style:r,onError:p=>{c(!0),p.target.src=N.getGuideImage("resultsGrid")},onLoad:p=>{p.target.src==l.resultsGrid||o||(p.target.src=l.resultsGrid)}}),n.jsx("h4",{style:f,children:"Result rows"}),n.jsx("p",{children:"This section displays all the results found that match the filters. Every row represents one build that was found. The pinned top row shows the character's currently equipped build. Clicking on each row will show the relics used in the selected build. There may be multiple pages of results, so clicking a column header to sort the results by a stat or rating can make it easier to find desired builds."}),n.jsx("h4",{style:f,children:"Permutations"}),n.jsx("p",{children:"This section shows the number of permutations the optimizer has to search and details on the number of matching relics per slot. If any of the numbers are zero, that indicates that no relics were found that would satisfy the constraints."}),n.jsxs("ul",{children:[n.jsx("li",{children:"Perms - Number of permutations that need to be searched. Stricter filters will reduce permutations and search time"}),n.jsx("li",{children:"Searched - Number of permutations completed in an in-progress search"}),n.jsx("li",{children:"Results - Number of displayed results that satisfy the stat filters"})]}),n.jsx("h4",{style:f,children:"Selected build"}),n.jsx("p",{children:"This section displays the selected build from the grid, and which relics are used & who they are currently equipped on. Pressing the 'Equip' button will assign the relics to the selected character in the optimizer, though the ingame character build is not affected."})]}),n.jsx(Ge,{style:u}),n.jsxs(Et,{t,i18nKey:"CharacterTab",children:[n.jsx("h2",{children:"Character tab"}),n.jsx("img",{src:l.characterTab,style:r,onError:p=>{c(!0),p.target.src=N.getGuideImage("characterTab")},onLoad:p=>{p.target.src==l.characterTab||o||(p.target.src=l.characterTab)}}),n.jsx("h4",{style:f,children:"Character priority"}),n.jsx("p",{children:"This section displays all the optimized characters and their priority order. Characters are added to this list from the Optimizer tab, when their filters are applied and 'Start' is pressed."}),n.jsx("p",{children:"The ranking is important when used with the 'Priority filter' on the Optimizer tab. When enabled, characters may only take relics from lower priority characters. For example, the priority #2 character may take relics from priority #3, but cannot take from priority #2. Priority #1 can take from any other character. Rows can be dragged to re-order characters."}),n.jsx("p",{children:"The colored highlight on the right of the grid shows the equipped item status of the character. In the above example, Jingliu's green indicator means she has all 6 relics equipped, Bronya's yellow indicator means she is missing at least one relic from her build, and Natasha's red indicator means she has no relics equipped."}),n.jsx("h4",{style:f,children:"Stats summary"}),n.jsx("p",{children:"This section displays the character's stats with their base stats / light cone / maxed traces / and relics equipped in the optimizer. Note that similar to the optimizer results, the actual values ingame may be slightly higher than displayed here due to hidden decimal values on relic stats."})]}),n.jsx(Ge,{style:u}),n.jsxs(Et,{t,i18nKey:"RelicsTab",children:[n.jsx("h2",{children:"Relics tab"}),n.jsx("img",{src:l.relicsGrid,style:r,onError:p=>{c(!0),p.target.src=N.getGuideImage("relicsGrid")},onLoad:p=>{p.target.src==l.relicsGrid||o||(p.target.src=l.relicsGrid)}}),n.jsx("h4",{style:f,children:"Relics table"}),n.jsx("p",{children:"This section displays all the relics that were added / imported into the optimizer. Relics should be updated occasionally with the importer to add in newly acquired relics. Clicking columns will sort the relics table."})]})]})})})}_c.propTypes={active:z.bool};const MR=()=>(t,a)=>{console.log(`++++++++++ Publishing [${t}] with data: ${a}`),document.dispatchEvent(new CustomEvent(t,{detail:a}))},{Text:en}=pt,Bi=xe(Ge)`
    margin-top: 10px !important;
    margin-bottom: 10px !important;
`,BR=xe(ua)`
    width: 62px
`,$e=xe.p`
`;function PR(){const{t}=et(["modals","common"]),a=MR(),[i]=X.useForm();window.scoringAlgorithmForm=i;const l=window.store(E=>E.scoringAlgorithmFocusCharacter),s=window.store(E=>E.setScoringAlgorithmFocusCharacter),o=window.store(E=>E.charactersById),[c,r]=y.useState(!1);window.setIsScoringModalOpen=r;function u(E){s(E)}function f(E){for(const P of Object.entries(E.stats))P[1]==0&&(E.stats[P[0]]=null);return E}y.useEffect(()=>{const E=l;if(E){let P=x.clone(L.getScoringMetadata(E));P=f(P),i.setFieldsValue(P),console.log("Scoring modal opening set as:",P)}},[l,c,i]);const p=225,G=5,h=360;function m(E){return n.jsxs(g,{justify:"flex-start",style:{width:p},align:"center",gap:5,children:[n.jsx(X.Item,{size:"default",name:["stats",E.stat],children:n.jsx(BR,{controls:!1,size:"small"})}),n.jsxs(g,{children:[n.jsx("img",{src:N.getStatIcon(E.stat),style:{width:25,height:25,marginRight:3}}),n.jsx(en,{style:{lineHeight:1.8},children:t(`common:ReadableStats.${E.stat}`)})]})]})}m.propTypes={stat:z.string};function b(){console.log("onModalOk OK");const E=i.getFieldsValue();R(E),r(!1),a("refreshRelicsScore","null")}const R=E=>{if(!l)return;console.log("Form finished",E),E.stats[d.Stats.ATK_P]=E.stats[d.Stats.ATK],E.stats[d.Stats.DEF_P]=E.stats[d.Stats.DEF],E.stats[d.Stats.HP_P]=E.stats[d.Stats.HP];const P=x.clone(L.getMetadata().characters[l].scoringMetadata),H=L.getScoringMetadata(l);P.simulation=H.simulation;function k(B){return B??0}E.modified=!1;for(const B of Object.values(d.Stats))k(E.stats[B])!=k(P.stats[B])&&(E.modified=!0);L.updateCharacterScoreOverrides(l,E)},S=()=>{if(!l)return;const E=L.getMetadata().characters[l].scoringMetadata,P=f(E);L.updateCharacterScoreOverrides(l,E),i.setFieldsValue(P)};function Z(){const E=()=>{console.log("Reset the scoring algorithm for all characters");for(const k of Object.keys(o)){const B=L.getMetadata().characters[k].scoringMetadata;L.updateCharacterScoreOverrides(k,B)}const P=L.getMetadata().characters[l].scoringMetadata,H=f(P);i.setFieldsValue(H)};return n.jsx(Oa,{title:t("Scoring.ResetAllConfirm.Title"),description:t("Scoring.ResetAllConfirm.Description"),onConfirm:E,okText:t("Scoring.ResetAllConfirm.Yes"),cancelText:t("Scoring.ResetAllConfirm.No"),children:n.jsx(w,{danger:!0,children:t("Scoring.Footer.ResetAll")})})}const C=()=>{r(!1)},D=l?N.getCharacterPreviewById(l):N.getBlank(),V=n.jsxs(en,{children:[n.jsx($e,{style:{margin:"7px 0px"},children:t("Scoring.WeightMethodology.Paragraph1")}),n.jsx(g,{justify:"space-between",style:{marginRight:30},children:n.jsx("ul",{children:n.jsxs(Et,{t,i18nKey:"Scoring.WeightMethodology.Paragraph2",children:[n.jsx("li",{children:n.jsx("u",{children:"Speed weight:"})}),n.jsx("li",{children:"— SPD is given a value of 1.0 for every character. This is due to the importance of speed tuning in team compositions, and the optimizer should be used to maximize each character's stats at a certain speed breakpoint."}),n.jsx("br",{}),n.jsx("li",{children:n.jsx("u",{children:"CRIT Rate / CRIT Damage weight:"})}),n.jsx("li",{children:"— Crit DPS in general are given the weights 0.75 ATK | 1.0 SPD | 1.0 CR | 1.0 CD, unless they have any other special scaling."}),n.jsx("li",{children:"— ATK is weighted slightly than CR and CD rolls because in general crit substats will provide a higher boost to damage."}),n.jsx("br",{}),n.jsx("li",{children:n.jsx("u",{children:"HP / DEF weight:"})}),n.jsx("li",{children:"— Defensive supports are given 2.0 weight to distribute between HP and DEF."}),n.jsx("li",{children:"— For each additional (0.75 | 1.0) stat weight that they scale with, deduct 0.5 down to a minimum of 1.0."}),n.jsx("li",{children:"— If 2.0 still remains and one of the stats is worth more than the other (Huohuo and HP% for example), assign a 1.0 / 0.75 split."}),n.jsx("li",{children:"— Offensive supports follow the same ruleset, except they start with 1.5 weight to distribute between HP and DEF."}),n.jsx("br",{}),n.jsx("li",{children:n.jsx("u",{children:"RES weight:"})}),n.jsx("li",{children:"— Support characters are granted 0.5 RES weight by default, with an additional 0.25 weight if they have synergy with RES or have critical team-saving abilities."})]})})}),n.jsx($e,{style:{margin:"7px 0px"},children:t("Scoring.WeightMethodology.Paragraph3")})]}),M=n.jsxs(en,{children:[n.jsx($e,{style:{margin:"7px 0px"},children:n.jsxs(Et,{t,i18nKey:"Scoring.CalculationMethodology.Paragraph1",children:["Relic scores are calculated by"," ",n.jsxs("code",{children:["Score = substatScore / idealScore * ",{percentToScore:fa}]}),". This allows for characters with fewer desired stats to achieve scores comparable to characters with many desired stats."]})}),n.jsx($e,{style:{margin:"7px 0px"},children:t("Scoring.CalculationMethodology.Paragraph2")}),n.jsx($e,{style:{margin:"7px 0px"},children:n.jsxs(Et,{t,i18nKey:"Scoring.CalculationMethodology.Paragraph3",children:["The substatScore is calculated by"," ",n.jsx("code",{children:"SubstatScore = weight * normalization * value"}),". The weight of each stat is defined above, on a scale of 0 to 1. The normalization of each stat is calculated based on the ratio of their main stat values to Crit DMG with max value"," ",n.jsx("code",{children:"64.8"}),":"]})}),n.jsx(g,{justify:"space-between",style:{marginRight:120},children:n.jsxs(Et,{t,i18nKey:"Scoring.CalculationMethodology.Paragraph4",children:[n.jsxs("ul",{children:[n.jsx("li",{children:n.jsx("code",{children:"CD BE = 64.8 / 64.8 == 1.0"})}),n.jsx("li",{children:n.jsx("code",{children:"DEF% = 64.8 / 54.0 == 1.2"})}),n.jsx("li",{children:n.jsx("code",{children:"HP% ATK% EHR RES = 64.8 / 43.2 == 1.5"})}),n.jsx("li",{children:n.jsx("code",{children:"CR = 64.8 / 32.4 == 2"})})]}),n.jsxs("ul",{children:[n.jsx("li",{children:n.jsx("code",{children:"SPD = 64.8 / 25.032 == 2.59"})}),n.jsx("li",{children:n.jsx("code",{children:"OHB = 64.8 / 34.561 == 1.87"})}),n.jsx("li",{children:n.jsx("code",{children:"ERR = 64.8 / 19.439 == 3.33"})}),n.jsx("li",{children:n.jsx("code",{children:"ELEMENTAL DMG = 64.8 / 38.88 == 1.67"})})]})]})}),n.jsx($e,{style:{margin:"7px 0px"},children:n.jsxs(Et,{t,i18nKey:"Scoring.CalculationMethodology.Paragraph5",children:["Flat ATK/HP/DEF have a separate calculation:"," ","Their weights are automatically calculated based on the weights given to their respective % counterparts",n.jsx("code",{children:" % stat weight * flat stat low roll / (baseStats[stat] * 2 * % stat low roll)"}),"the weight calculation for flat atk for Seele for example would be:",n.jsx("code",{children:" 0.75 * 19 / (640 * 2 * 0.03888) = 0.75 * 19 / (640.33 * 2 * 0.03888) = 0.28619"}),"."]})}),n.jsx($e,{style:{margin:"7px 0px"},children:n.jsxs(Et,{t,i18nKey:"Scoring.CalculationMethodology.Paragraph6",children:["The normalization is calculated based on the normalization for the respective % counterparts:",n.jsxs("li",{children:[n.jsx("code",{children:"64.8 / % main stat value * % stat high roll value / flat stat high roll value"}),". in combination with the adjusted weights, this allows for flat stats to be accurately scored when compared against their % counterparts."]})]})}),n.jsx($e,{style:{margin:"7px 0px"},children:n.jsxs(Et,{t,i18nKey:"Scoring.CalculationMethodology.Paragraph7",children:["A letter grade is assigned based on the number of normalized min rolls of each substat. The score for each min roll is equivalent to"," ",n.jsx("code",{children:{minRollValue:bi}}),`
`,"The general scale for grade by rolls is",n.jsx("code",{children:"F=1, D=2, C=3, B=4, A=5, S=6, SS=7, SSS=8, WTF=9"})," ","with a"," ",n.jsx("code",{children:"+"})," ","assigned for an additional half roll."]})}),n.jsx($e,{style:{margin:"7px 0px"},children:n.jsxs(Et,{t,i18nKey:"Scoring.CalculationMethodology.Paragraph8",children:["Character scores are calculated by"," ",n.jsx("code",{children:"Score = sum(relic scores) + sum(main stat scores)"}),". Only the feet/body/sphere/rope relics have main stat scores. The main stat score for a 5 star maxed relic is"," ",n.jsx("code",{children:"64.8"})," ","if the main stat is optimal, otherwise scaled down by the stat weight. Non 5 star relic scores are also scaled down by their maximum enhance. Characters are expected to have 3 full sets, so 3 rolls worth of score is deducted for each missing set."]})}),n.jsx($e,{style:{margin:"7px 0px"},children:n.jsxs(Et,{t,i18nKey:"Scoring.CalculationMethodology.Paragraph9",children:["Relics with main stats (body/feet/sphere/rope) are granted extra rolls to compensate for the difficulty of obtaining optimal main stats with desired substats. These numbers were calculated by a simulation of relic rolls accounting for main stat drop rate and expected substat value. These rolls are first multiplied by the min roll value of"," ",n.jsx("code",{children:{minRollValue:bi}})," ","and then, if the main stat is not optimal, scaled down by the stat weight to obtain the bonus score value."]})}),n.jsx(g,{justify:"space-between",style:{marginRight:30},children:n.jsxs(Et,{t,i18nKey:"Scoring.CalculationMethodology.Paragraph10",children:[n.jsxs("ul",{children:[n.jsx("li",{children:n.jsxs("code",{children:["Body — HP %: ",{mainStatBonusBodyHPP:oe[d.Parts.Body][d.Stats.HP_P].toFixed(1)}]})}),n.jsx("li",{children:n.jsxs("code",{children:["Body — ATK %: ",{mainStatBonusBodyATKP:oe[d.Parts.Body][d.Stats.ATK_P].toFixed(1)}]})}),n.jsx("li",{children:n.jsxs("code",{children:["Body — DEF %: ",{mainStatBonusBodyDEFP:oe[d.Parts.Body][d.Stats.DEF_P].toFixed(1)}]})}),n.jsx("li",{children:n.jsxs("code",{children:["Body — CR: ",{mainStatBonusBodyCR:oe[d.Parts.Body][d.Stats.CR].toFixed(1)}]})}),n.jsx("li",{children:n.jsxs("code",{children:["Body — CD: ",{mainStatBonusBodyCD:oe[d.Parts.Body][d.Stats.CD].toFixed(1)}]})})]}),n.jsxs("ul",{children:[n.jsx("li",{children:n.jsxs("code",{children:["Body — OHB: ",{mainStatBonusBodyOHB:oe[d.Parts.Body][d.Stats.OHB].toFixed(1)}]})}),n.jsx("li",{children:n.jsxs("code",{children:["Body — EHR: ",{mainStatBonusBodyEHR:oe[d.Parts.Body][d.Stats.EHR].toFixed(1)}]})}),n.jsx("li",{children:n.jsxs("code",{children:["Feet — HP %: ",{mainStatBonusFeetHPP:oe[d.Parts.Feet][d.Stats.HP_P].toFixed(1)}]})}),n.jsx("li",{children:n.jsxs("code",{children:["Feet — ATK %: ",{mainStatBonusFeetATKP:oe[d.Parts.Feet][d.Stats.ATK_P].toFixed(1)}]})}),n.jsx("li",{children:n.jsxs("code",{children:["Feet — DEF %: ",{mainStatBonusFeetDEFP:oe[d.Parts.Feet][d.Stats.DEF_P].toFixed(1)}]})})]}),n.jsxs("ul",{children:[n.jsx("li",{children:n.jsxs("code",{children:["Feet — SPD: ",{mainStatBonusFeetSPD:oe[d.Parts.Feet][d.Stats.SPD].toFixed(1)}]})}),n.jsx("li",{children:n.jsxs("code",{children:["Sphere — HP %: ",{mainStatBonusSphereHPP:oe[d.Parts.PlanarSphere][d.Stats.HP_P].toFixed(1)}]})}),n.jsx("li",{children:n.jsxs("code",{children:["Sphere — ATK %: ",{mainStatBonusSphereATKP:oe[d.Parts.PlanarSphere][d.Stats.ATK_P].toFixed(1)}]})}),n.jsx("li",{children:n.jsxs("code",{children:["Sphere — DEF %: ",{mainStatBonusSphereDEFP:oe[d.Parts.PlanarSphere][d.Stats.DEF_P].toFixed(1)}]})}),n.jsx("li",{children:n.jsxs("code",{children:["Sphere — Elemental DMG %: ",{mainStatBonusSphereElem:Na.toFixed(1)}]})})]}),n.jsxs("ul",{children:[n.jsx("li",{children:n.jsxs("code",{children:["Rope — HP %: ",{mainStatBonusRopeHPP:oe[d.Parts.LinkRope][d.Stats.HP_P].toFixed(1)}]})}),n.jsx("li",{children:n.jsxs("code",{children:["Rope — ATK %: ",{mainStatBonusRopeATKP:oe[d.Parts.LinkRope][d.Stats.ATK_P].toFixed(1)}]})}),n.jsx("li",{children:n.jsxs("code",{children:["Rope — DEF %: ",{mainStatBonusRopeDEFP:oe[d.Parts.LinkRope][d.Stats.DEF_P].toFixed(1)}]})}),n.jsx("li",{children:n.jsxs("code",{children:["Rope — BE: ",{mainStatBonusRopeBE:oe[d.Parts.LinkRope][d.Stats.BE].toFixed(1)}]})}),n.jsx("li",{children:n.jsxs("code",{children:["Rope — ERR: ",{mainStatBonusRopeERR:oe[d.Parts.LinkRope][d.Stats.ERR].toFixed(1)}]})})]})]})}),n.jsx($e,{style:{margin:"7px 0px"},children:t("Scoring.CalculationMethodology.Paragraph11")})]});return n.jsx(Ie,{open:c,width:900,destroyOnClose:!0,centered:!0,onOk:b,onCancel:C,forceRender:!0,footer:[n.jsx(w,{onClick:C,children:t("Scoring.Footer.Cancel")},"back"),n.jsx(w,{onClick:S,children:t("Scoring.Footer.Reset")},"default"),n.jsx(Z,{},"resetAll"),n.jsx(w,{type:"primary",onClick:b,children:t("Scoring.Footer.Save")},"submit")],children:n.jsxs(X,{form:i,preserve:!1,layout:"vertical",onFinish:R,children:[n.jsx(Bi,{children:t("Scoring.StatWeightsHeader")}),n.jsx(g,{gap:10,vertical:!0,children:n.jsxs(g,{gap:20,justify:"space-between",children:[n.jsxs(g,{vertical:!0,gap:5,children:[n.jsx(X.Item,{size:"default",name:"characterId",children:n.jsx(Un,{value:"",selectStyle:{},onChange:u})}),n.jsx("div",{style:{height:230,width:p,overflow:"hidden"},children:n.jsx("img",{src:D,style:{width:p}})})]}),n.jsxs(g,{vertical:!0,gap:3,children:[n.jsx(m,{stat:d.Stats.ATK}),n.jsx(m,{stat:d.Stats.HP}),n.jsx(m,{stat:d.Stats.DEF}),n.jsx(m,{stat:d.Stats.SPD}),n.jsx(m,{stat:d.Stats.CR}),n.jsx(m,{stat:d.Stats.CD}),n.jsx(m,{stat:d.Stats.EHR}),n.jsx(m,{stat:d.Stats.RES}),n.jsx(m,{stat:d.Stats.BE})]}),n.jsxs(g,{vertical:!0,gap:3,children:[n.jsx(m,{stat:d.Stats.ERR}),n.jsx(m,{stat:d.Stats.OHB}),n.jsx(m,{stat:d.Stats.Physical_DMG}),n.jsx(m,{stat:d.Stats.Fire_DMG}),n.jsx(m,{stat:d.Stats.Ice_DMG}),n.jsx(m,{stat:d.Stats.Lightning_DMG}),n.jsx(m,{stat:d.Stats.Wind_DMG}),n.jsx(m,{stat:d.Stats.Quantum_DMG}),n.jsx(m,{stat:d.Stats.Imaginary_DMG})]})]})}),n.jsx(Bi,{children:t("Scoring.MainstatsHeader")}),n.jsxs(g,{justify:"space-between",children:[n.jsxs(g,{vertical:!0,gap:G*2,children:[n.jsxs(g,{vertical:!0,gap:1,justify:"flex-start",children:[n.jsx(en,{style:{marginLeft:5},children:t("common:Parts.Body")}),n.jsx(X.Item,{size:"default",name:["parts",d.Parts.Body],children:n.jsxs(K,{mode:"multiple",allowClear:!0,style:{width:h},placeholder:t("common:Parts.Body"),maxTagCount:"responsive",children:[n.jsx(K.Option,{value:d.Stats.HP_P,children:t(`common:Stats.${d.Stats.HP_P}`)}),n.jsx(K.Option,{value:d.Stats.ATK_P,children:t(`common:Stats.${d.Stats.ATK_P}`)}),n.jsx(K.Option,{value:d.Stats.DEF_P,children:t(`common:Stats.${d.Stats.DEF_P}`)}),n.jsx(K.Option,{value:d.Stats.CR,children:t(`common:Stats.${d.Stats.CR}`)}),n.jsx(K.Option,{value:d.Stats.CD,children:t(`common:Stats.${d.Stats.CD}`)}),n.jsx(K.Option,{value:d.Stats.OHB,children:t(`common:Stats.${d.Stats.OHB}`)}),n.jsx(K.Option,{value:d.Stats.EHR,children:t(`common:Stats.${d.Stats.EHR}`)})]})})]}),n.jsxs(g,{vertical:!0,gap:1,justify:"flex-start",children:[n.jsx(en,{style:{marginLeft:5},children:t("common:Parts.Feet")}),n.jsx(X.Item,{size:"default",name:["parts",d.Parts.Feet],children:n.jsxs(K,{mode:"multiple",allowClear:!0,style:{width:h},placeholder:t("common:Parts.Feet"),maxTagCount:"responsive",children:[n.jsx(K.Option,{value:d.Stats.HP_P,children:t(`common:Stats.${d.Stats.HP_P}`)}),n.jsx(K.Option,{value:d.Stats.ATK_P,children:t(`common:Stats.${d.Stats.ATK_P}`)}),n.jsx(K.Option,{value:d.Stats.DEF_P,children:t(`common:Stats.${d.Stats.DEF_P}`)}),n.jsx(K.Option,{value:d.Stats.SPD,children:t(`common:Stats.${d.Stats.SPD}`)})]})})]})]}),n.jsxs(g,{vertical:!0,gap:G*2,children:[n.jsxs(g,{vertical:!0,gap:1,justify:"flex-start",children:[n.jsx(en,{style:{marginLeft:5},children:t("common:Parts.PlanarSphere")}),n.jsx(X.Item,{size:"default",name:["parts",d.Parts.PlanarSphere],children:n.jsxs(K,{mode:"multiple",allowClear:!0,style:{width:h},placeholder:t("common:Parts.PlanarSphere"),listHeight:400,maxTagCount:"responsive",children:[n.jsx(K.Option,{value:d.Stats.HP_P,children:t(`common:Stats.${d.Stats.HP_P}`)}),n.jsx(K.Option,{value:d.Stats.ATK_P,children:t(`common:Stats.${d.Stats.ATK_P}`)}),n.jsx(K.Option,{value:d.Stats.DEF_P,children:t(`common:Stats.${d.Stats.DEF_P}`)}),n.jsx(K.Option,{value:d.Stats.Physical_DMG,children:t(`common:Stats.${d.Stats.Physical_DMG}`)}),n.jsx(K.Option,{value:d.Stats.Fire_DMG,children:t(`common:Stats.${d.Stats.Fire_DMG}`)}),n.jsx(K.Option,{value:d.Stats.Ice_DMG,children:t(`common:Stats.${d.Stats.Ice_DMG}`)}),n.jsx(K.Option,{value:d.Stats.Lightning_DMG,children:t(`common:Stats.${d.Stats.Lightning_DMG}`)}),n.jsx(K.Option,{value:d.Stats.Wind_DMG,children:t(`common:Stats.${d.Stats.Wind_DMG}`)}),n.jsx(K.Option,{value:d.Stats.Quantum_DMG,children:t(`common:Stats.${d.Stats.Quantum_DMG}`)}),n.jsx(K.Option,{value:d.Stats.Imaginary_DMG,children:t(`common:Stats.${d.Stats.Imaginary_DMG}`)})]})})]}),n.jsxs(g,{vertical:!0,gap:1,justify:"flex-start",children:[n.jsx(en,{style:{marginLeft:5},children:t("common:Parts.LinkRope")}),n.jsx(X.Item,{size:"default",name:["parts",d.Parts.LinkRope],children:n.jsxs(K,{mode:"multiple",allowClear:!0,style:{width:h},placeholder:t("common:Parts.LinkRope"),maxTagCount:"responsive",children:[n.jsx(K.Option,{value:d.Stats.HP_P,children:t(`common:Stats.${d.Stats.HP_P}`)}),n.jsx(K.Option,{value:d.Stats.ATK_P,children:t(`common:Stats.${d.Stats.ATK_P}`)}),n.jsx(K.Option,{value:d.Stats.DEF_P,children:t(`common:Stats.${d.Stats.DEF_P}`)}),n.jsx(K.Option,{value:d.Stats.BE,children:t(`common:Stats.${d.Stats.BE}`)}),n.jsx(K.Option,{value:d.Stats.ERR,children:t(`common:Stats.${d.Stats.ERR}`)})]})})]})]})]}),n.jsx(Bi,{children:t("Scoring.WeightMethodology.Header")}),n.jsx(Ji,{ghost:!0,items:[{key:"1",label:t("Scoring.WeightMethodology.RevealText"),children:V}]}),n.jsx(Bi,{children:t("Scoring.CalculationMethodology.Header")}),n.jsx(Ji,{ghost:!0,items:[{key:"1",label:t("modals:Scoring.CalculationMethodology.RevealText"),children:M}]})]})})}const{useToken:kR}=Ze,{Text:HR}=pt;function NR(){const{token:t}=kR(),a=window.store(s=>s.activeKey),i=y.useMemo(()=>UR(),[]);if(a!=mt.CHANGELOG)return n.jsx(n.Fragment,{});function l(s,o){const c=[];let r=0;for(const u of s)u.endsWith(".webp")?c.push(n.jsx("img",{src:N.getChangelog(`${o.date}/${u}`),loading:"lazy",style:{border:`2px solid ${t.colorBgContainer}`,margin:5,maxWidth:1200}},r++)):u.startsWith("https")?c.push(n.jsx("li",{children:n.jsx(Ia,{text:u,url:u},r++)},r++)):c.push(n.jsx("li",{children:n.jsx(HR,{style:{fontSize:16},children:u})},r++));return n.jsxs(g,{vertical:!0,children:[n.jsx(pt.Title,{style:{marginLeft:20},children:n.jsx("u",{children:`Update ${o.date}`})}),n.jsx("ul",{children:c})]})}return n.jsx(Al,{itemLayout:"vertical",size:"large",pagination:{onChange:s=>{console.log(s)},position:"bottom",align:"start",pageSize:4},dataSource:i,renderItem:s=>n.jsx(Al.Item,{children:l(s.content,s)},s.title)})}function UR(){const t=[{title:"",date:"09-20-2024",content:["Added a Relic Locator tool to the Relics tab for finding the relic's row / column in the inventory","locator.webp","Updated all assets files to high quality images for character portraits, light cones, icons","Readjusted the crop and zoom for the new portrait assets","Reduced the light cone portrait height for Combat scoring view","Moved the Character Menu button to the top of the Characters tab for better findability","characterTab.webp","Reliquary is now updated for 2.5","reliquary.webp","Updated Rappa's default scoring team","rappaTeam.webp","Added pointer cursors to clickable icons","Optimizer tab character and teammate menus are now open upon clicking their icons","Fix: Save file now correctly loads previous scoring algorithm changes","Fix: Pioneer Diver of Dead Waters 0x conditional now correctly applies","Balance: Lowered the scoring penalty for missing flat stat breakpoints for combat scoring","Balance: Updated Pioneer Diver of Dead Waters default conditional to 3x+ for characters with debuffs","Balance: Changed Rappa's scoring weights from 1 ATK / 1 SPD / 1 BE to 0.5 ATK / 1 SPD / 1 BE"]},{title:"",date:"09-08-2024",content:["Added GPU acceleration to perform calculations on the graphics card for a significant improvement in optimizer search speed","Enabling GPU acceleration will improve the optimizer's search speed to hundreds of millions of permutations per second, up to billions on high end devices","3 compute engine options are now available","— GPU Experimental: Fastest search speed but potentially unsupported on some devices","— GPU Stable: Fast search speed for general device compatability (default)","— CPU Only","GPU acceleration only supported on Windows & Mac: Chrome, Opera, Edge browsers, Linux: Chromium browsers with a cli flag","gpu.webp","Updated the substat scoring algorithm to score relics stats relative to the maximum possible score on the relic","This means that when a weighted substat is occupied by the main stat, the score value of the remaining substat weights increases","Default character weights were rebalanced to account for this, and now more accurately reflect the true value of substats, for example:","Firefly's previous weight of 1.0 ATK / 1.0 SPD / 1.0 BE has been updated to 0.5 ATK / 1.0 SPD / 1.0 BE since her passive converts ATK at roughly half the value of BE","While the ATK weight was reduced, this actually makes the score value of SPD and BE higher since the new system scores stats relative to the other weights","The updated substat weight methodology can be viewed from the Scoring Algorithm menu","scoring.webp","Updated the copy screenshot button to work for all browsers. Also works on mobile devices now","screenshot.webp","Updated the Edit Portrait workflow to be smoother. Added an 'Upload new image' button to change the portrait","portrait.webp","Multiple relics can now be selected and deleted simultaneously on the Relics tab with Shift + Click and Ctrl + Click","multiselect.webp","Added a new setting for enabling / disabling a full inventory rescore on page load. Disable for faster load times on large inventories","scoreSetting.webp","Results limits for the optimization target have been changed to be compatible with GPU optimizer - now defaults to 1024 results","resultCount.webp","The Relic Insights tool now opens the character scoring panel on click, and now updates correctly when the selected character is changed","insights.webp","Updated with version 2.6v1 content","rappa.webp","Clicking the light cone portrait on character cards now bring up the Edit Character / Light Cone menu","Added a confirmation popup for resetting optimizer filters","Added on-hit buffs for the character's primary ability to the Combat stats section of scoring cards","Relic scorer URL can now be shared with user IDs included","Relic cards now show a border on hover","Performance: Improved relic scorer stability","Performance: Improved portrait image loading times, fixed images jumping around when loading","Performance: Improved character card loading time for Combat score cards","Performance: Improved relic import responsiveness","Performance: Improved editing and saving relics responsiveness","Fix: Some custom portrait dimensions were not cropping correctly","Fix: On the Relics tab, relics will remain selected after editing it","Fix: Prevent Combat stats panel from overflowing on scoring cards","Fix: Firesmith of Lava-Forging 4p was incorrectly adding combat buffs","Fix: Relic / ornament set selector on Optimizer tab was incorrectly rendering overflowing tags","Fix: But the Battle Isn't Over was not showing the Energy Regeneration Rate passive","Balance: Allow ATK % rope on Lingsha default scoring","Balance: Fixed a bug where the 200% benchmark used an extra substat roll in some cases, resulting in an impossible build. Minor DPS Score buff to affected characters","Balance: The Wind-Soaring Valorous 4p is now disabled by default, but activated by default only for specific characters who can benefit from it","Balance: Updated Jiaoqiu to have 3x stacks of Prisoner in Deep Confinement 4p by default","Balance: Updated Moze to have 3x+ stacks of Pioneer Diver of Dead Waters 4p by default","Balance: Updated Jade to have 8x stacks of The Ashblazing Grand Duke 4p by default","Balance: Updated Herta to have 8x stacks of The Ashblazing Grand Duke 4p by default","Balance: Updated Yunli to have 8x stacks of The Ashblazing Grand Duke 4p by default","Balance: Updated Himeko to have 8x stacks of The Ashblazing Grand Duke 4p by default","Balance: Revisited all characters weights and adjusted values for maximum-potential based relic scoring","Balance: Kafka weights","— Prev: 1.0 ATK / 1.0 SPD / 0.5 CR / 0.5 CD / 0.5 EHR / 0.75 BE","— Now: 1.0 ATK, 1.0 SPD, 0.5 EHR","Balance: Silver Wolf weights","— Prev: 0.5 ATK / 0.25 DEF / 0.25 HP / 1.0 SPD / 0.75 CR / 0.75 CD / 1.0 EHR / 0.75 BE","— Now: 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 EHR / 0.5 RES","Balance: Asta weights","— Prev: 0.75 ATK / 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES / 0.5 BE","— Now: 0.5 ATK / 0.5 DEF / 1.0 HP / 1.0 SPD / 0.5 RES / 0.5 BE","Balance: Bronya weights","— Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 1.0 CD / 0.75 RES","— Now: 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 CD / 0.75 RES","Balance: Pela weights","— Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 1.0 EHR / 0.75 RES","— Now: 0.75 DEF / 0.75 HP / 1.0 SPD / 1.0 EHR / 0.5 RES","Balance: Tingyun weights","— Prev: 1.0 ATK / 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES","— Now: 1.0 ATK / 0.75 DEF / 0.75 HP / 1.0 SPD / 0.5 RES","Balance: Fu Xuan weights","— Prev: 0.75 DEF / 1.0 HP / 1.0 SPD / 0.75 RES","— Now: 1.0 DEF / 1.0 HP / 1.0 SPD / 0.5 RES","Balance: Guinaifen weights","— Prev: 1.0 ATK / 1.0 SPD / 1.0 EHR / 0.75 BE","— Now: 1.0 ATK / 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 EHR / 0.5 RES","Balance: Hanya weights","— Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES","— Now: 0.75 DEF / 0.75 HP / 1.0 SPD / 0.5 RES","Balance: Jiaoqiu weights","— Prev: 0.5 ATK / 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 EHR","— Now: 0.5 ATK / 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 EHR / 0.5 RES","Balance: Ruan Mei weights","— Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES / 1.0 BE","— Now: 0.5 DEF / 0.5 HP / 1.0 SPD / 0.5 RES / 1.0 BE","Balance: Aventurine weights","— Prev: 1.0 DEF / 0.5 HP / 1.0 SPD / 1.0 CR / 1.0 CD","— Now: 1.0 DEF / 1.0 SPD / 1.0 CR / 1.0 CD","Balance: Sparkle weights","— Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 1.0 CD / 0.75 RES","— Now: 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 CD / 0.5 RES","Balance: Black Swan weights","— Prev: 1.0 ATK / 1.0 SPD / 1.0 EHR / 0.5 BE","— Now: 1.0 ATK / 1.0 SPD / 1.0 EHR","Balance: Robin weights","— Prev: 1.0 ATK / 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES","— Now: 1.0 ATK / 0.5 DEF / 0.5 HP / 1.0 SPD / 0.5 RES","Balance: Firefly weights","— Prev: 1.0 ATK / 1.0 SPD / 1.0 BE","— Now: 0.5 ATK / 1.0 SPD / 1.0 BE","Balance: Boothill weights","— Prev: 0.5 ATK / 1.0 SPD / 0.75 CR / 0.75 CD / 1.0 BE","— Now: 0.25 ATK / 1.0 SPD / 0.25 CR / 0.25 CD / 1.0 BE","Balance: Trailblazer Harmony weights","— Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES / 1.0 BE","— New: 0.5 DEF / 0.5 HP / 1.0 SPD / 0.5 RES / 1.0 BE","Keep in mind with the new substat scoring system, a reduction in one stat's weight now actually makes the other substats worth more","Meaning in most cases these weight reductions actually are buffs to the scores of good relics"]},{title:"",date:"08-19-2024",content:["Added a new Combat Stats view for the score card, showing the character's fully buffed in-combat details","combat.webp","Added a new toggle to switch between Combat Stats and Damage Upgrades card view","upgrades.webp","Added a new panel to suggest filter changes when optimizer searches produce zero results","popup.webp","Updated scoring card with better rules for showing relevant stats","Renamed Sim Damage to Combo DMG for clarity","stats.webp","Updated Edit Character menu to auto-populate the light cone path, added path icons","Switching light cones will now reset its superimposition to S1","modal.webp","Relic scorer card now has an Edit character button","edit.webp","Moved Relic Scorer tab to a new Showcase menu at the top of the sidebar for visibility","showcase.webp","Updated content to version 2.5v4","Editing a relic now re-scores it automatically and updates the Relics tab grid","Updated Kel-Z and Reliquary Archiver imports to support the new v4 format","Fix: Some relic set text descriptions were out of date","Fix: Importing relics no longer overwrites the optimizer's equipped owner","Balance: Kafka / Black Swan's sim scoring updated to lean more towards DoT","Balance: Moze's default sim updated to to 4p Pioneer, allow Ashblazing and Izumo","Balance: Feixiao's damage combo updated to remove Break, updated combo with her ult changes"]},{title:"",date:"08-10-2024",content:["Added Healing Boost and Energy Regen on the character score card","Removed CV from the stat card","card.webp","Optimizer builds can now be pinned to the top of the grid for easier comparisons","pin.webp","The Relic scorer can now import characters along with relics","import.webp","Updated the Edit character menu with more convenient selectors","edit.webp","Added estimated time remaining to optimizer searches","eta.webp","Added an Equipped state filter to the Relics tab","equipped.webp","Added Lushaka set to teammate effects","lushaka.webp","Updated with 2.5 beta data","Fix: Conditional sliders max/min selections will now update properly when eidolons change","Fix: The baseline simulation will now use the best default set when the user's character isn't using an equivalent set","Fix: Lingsha calculations now correctly take into account teammate super break triggers","Balance: Himeko's default ornament set is now Duran","Balance: Dr Ratio's default ornament set is now Duran","Balance: Feixiao secondary ult now forces weakness break to enabled","Balance: Removed break damage from Feixiao's rotation","Balance: Adjusted logic for simulation scoring using speed boots vs atk boots"]},{title:"",date:"07-08-2024",content:["Buffed DPS scores across all characters, making the 100% benchmark slightly easier to reach","benchmark.webp","The Characters tab now has a search bar, and filters for element / path","search.webp","The Relics tab custom characters menu now has buttons to Exclude all / Clear","Custom view is now the default","exclude.webp","Reliquary archiver is back online and been updated for v2.3, new download required","reliquary.webp","Re-formatted optimizer grid headers for readability","grid.webp","Characters' default scoring combo is now automatically filled in on the optimizer","combo.webp","Updated Yunli's default scoring team","yunli.webp","Updated Yunli and March 8th's Ashblazing set calcs","Updated v2.3 characters conditional tooltips","Re-centered all light cones for simulation scoring view","Fix: Updated ability-type buff logic to correctly apply DMG buffs on characters that can change ability types","Fix: Aventurine now correctly applies CD buff on Unnerved","Fix: Certain relics weren't showing correctly in Hoyolab import","Fix: Duran and Lantern set stats are now applied correctly for scoring","Fix: Manual relic creation was broken in certain cases","Balance: Allow the scoring simulation to use Lantern/Talia sets as well as Cavalry on Harmony MC teams","Balance: Seele E1 CR buff is now disabled by default","Balance: March 8th now uses S5 Cruising in the Stellar Sea for scoring"]},{title:"",date:"06-18-2024",content:["Added 2.4 characters and light cones","beta.webp","Changed DPS Score Improvements -> Damage improvements and updated the percentage to use damage","damageImprovements.webp","Added relic counter on the relics tab grid","relicCount.webp","The sorted optimizer column is now highlighted","highlightColumn.webp","Moved enemy options to an Enemy configurations menu under Advanced options","advancedOptions.webp","Added Effect RES as a customizable enemy option for DoT calcs","enemyConfigurations.webp","Added options to toggle seeing all / custom characters on the potential graph","customCharacters.webp","Expanded the Extra combat stats menu with more buff options","combatBuffs.webp","Added a new Boost main stat option to select the desired main stat upgrade level","optimizerOptions.webp","Added character icons to various places","Character cards now zoom out properly for the smaller sim scoring portrait","Fix: Herta's technique now disabled by default","Fix: Manually editing verified relics will now remove their verified status","Fix: Elemental damage now shows correctly on the character card","Fix: Corrected display bug on relics tab potential upgrades suggesting invalid stats","Fix: Ruan Mei's E2 is now correctly calculated for Firefly","Fix: Harmony Trailblazer is now imported correctly from the scanners","Balance: Increased DoT scoring for Luka / Sampo","Balance: Adding Break Effect and Cavalry set as valid BiS scoring options when HMC is on the simulation team","Balance: Adjusted multiple support characters main stats to be more flexible","Balance: Firefly's scoring stats have been adjusted","Balance: Firefly's default sim now uses Cavalry / Lantern sets"]},{title:"",date:"06-06-2024",content:["Improved relic edit menu UI, with automatic substat upgrade calculations","relicModal.webp","DPS Score upgrades section now shows the score improvement of switching main stats, and switching to BiS relic set","scoreUpgrades.webp","Adding option to switch between scoring types","switchScoring.webp","Added a settings menu for combat sim options","scoringSettings.webp","Added new Edit character button to the Characters tab for changing eidolons / lcs","editCharacter.webp","Added new Sim Damage stat for showing the simulated combo damage used for scoring","simDamage.webp","Added new version of the substat weight filter, to filter relics by minimum weighted rolls per gear slot","substatWeight.webp","Changed the scoring grade scale to balance DPS score changes","newGrades.webp","Updated build analysis section with more details about the benchmark builds","buildAnalysis.webp","Added HoyoLab import to the scanner options","importer.webp","Various other DPS score balance changes, detailed out in the methodology section. New benchmark ruleset measures against 0% / 100% / 200% builds","Fix: Sets were not activating correctly in some cases for Aventurine","Fix: Jade now correctly applies Ashblazing set buffs","Fix: Boothill's Standoff conditional now correctly applies as a vulnerability instead of DMG increase","Fix: Sleep Like the Dead's Crit Rate buff is now deactivated by default","Fix: Cruising in the Stellar Sea's Crit Rate buff is now deactivated by default","Fix: Adjusted Firefly and Boothill scoring main stats","Fix: Ruan Mei scoring can now use all main stats for body / sphere"]},{title:"",date:"05-22-2024",content:["Updated with new character card layout","Added damage simulation based character scoring","newScore.webp","Add custom teammates display","customTeam.webp","Added a substat upgrade calculation for damage scoring","scoreUpgrades.webp","More details about the simulation scoring can be found below the character card","scoreSummary.webp","Added EHR considerations for DoT damage calculation, assumes 20% enemy RES","Adding customizable Rotation Combo damage formula","comboMenu.webp","The combo results can be filtered and sorted in the optimizer","comboGrid.webp","Added responsive handling to optimizer permutations sidebar, which now collapses into a footer for smaller screens","footer.webp","Moved Combat Buffs menu into a drawer","combatBuffs.webp","Added a +3 enhance button to the Relic Edit modal for easy enhancing","plusThree.webp","Added bar search to damage sim selectors","Raised Robin’s ATK cap to 8000","Raised Robin’s ATK default to 5000","Reliquary version bumped to 0.1.6","Character / light cone images are now blurred while loading","Updated with beta 5.3v3 changes","Fix: Fixed Firefly Break Effect conversion interaction with ratio converted ATK buffs (Robin/Lynx)","Fix: Ruan Mei’s default sort is now Break Effect","Fix: Robin’s default sort is now ATK","Fix: Prevent Ult DMG buffs from applying to Robin’s ult (Salsotto)","Fix: Removed Jade skill damage","Fix: Sparkle now correctly applies her skill CD","Fix: Custom character weights are now applied to the optimizer page","Fix: Allow all main stats for Harmony MC on body and sphere","Fix: Super break override now applies correctly to HMC","Fix: Prevent teammate sync from adding messenger set to calculations","Fix: Various relics tab potential optimality bugs have been fixed","Fix: Characters with not enough desired stats now score correctly on relics tab","Fix: Renamed Base stats to Basic stats"]},{title:"",date:"05-07-2024",content:['Added a new "Character custom stats simulation" feature',"This allows for simulating and comparing multiple character builds with custom main stats / teammates / sets / substats without having to edit relics","The substat rolls view calculates builds based on the number of max rolls in each substat","Optimizer builds can be imported as substat roll simulations","rollSim.webp","The substat totals view simulates the sum of the substat values","totalsSim.webp","Jade and Firefly have been added with damage calculations, and to the Relic Scorer experiment options","jade.webp","Custom character portraits can now be saved from the Relic Scorer","scorer.webp","Updated Harmony Trailblazer with Super Break DMG calculations","When the Super Break conditional is enabled, each ability's toughness DMG will be used to calculate Super Break DMG, which is added to the respective ability's damage column","superBreak.webp","Added new 2.3 relic sets","relics.webp","Added new 2.3 ornament sets","ornaments.webp","Reliquary Archiver is now the recommended scanner","Note: It may have a few hours of downtime following new ingame patches","import.webp","New updates will now show a notification linking to the changelog","update.webp","Added a new settings panel","The first setting is toggle the behavior when equipping relics with another owner, which now defaults to replacing without swapping","settings.webp","Using the Recommended Presets button now takes into account custom scoring overrides","Newly added characters will have their recommended presets applied by default","Harmony Trailblazer's default teammate Break Effect conditional is now 200%, and the cap is increased to 400%","The Genius set's conditional effects are now only active by default on Quantum characters, and disabled by default otherwise","Fix: Tingyun SPD buff is now disabled by default due to having inconsistent uptime","Fix: Himeko's SPD buff is now disabled by default due to having inconsistent uptime","Fix: Qingque's SPD buff is now disabled by default due to having inconsistent uptime","Fix: Sparkle's self-skill buff is now disabled on herself by default","Fix: Bronya's battle-start buffs are now disabled by default","Fix: Asta's skill now correctly calculates the sum of the bounces for damage instead of an individual hit","Fix: Remove ATK% rope from Robin's presets","Fix: Main stat free rolls are now applied correctly to non-full-weight main stats. This results in a minor score buff for certain main stats","Fix: Various visual overflow issues on small screens"]},{title:"",date:"04-18-2024",content:["Launched a new leak-free version of the optimizer which has no leaks and only contains officially released content","https://starrailoptimizer.github.io","noLeaks.webp","Added a one-click-optimize button to the Relic Scorer page, accessed by clicking the graph icon or the Optimize Character Stats button","This automatically imports the scored profile relics, adds the character and light cone, applies recommended filters and conditionals, and starts an optimizer search","This is meant to be an easy way for new users to get started using the optimizer","oneClick.webp","Updated the Get Started tab with up to date instructions and a step-by-step guide to using the optimizer for the first time","getStarted.webp","Added new Average potential view as an option alongside Max potential on Relics tab","potentialUpdates.webp","Relic potential ratings menu now has a Custom characters view enabled by default, where only a subset of characters are considered for the potential calculations","relicRatings.webp","All characters are included initially, then specific characters can be selected to excluded from the relic potential view","customCharacters.webp","Clicking empty relic slots now brings up the Add New Relic menu","clickEmpty.webp","Added icons to sidebar menu tabs","Added a button to hide the menu sidebar for easier viewing on smaller screens","hideSidebar.webp","Updated the Recommended Presets speed breakpoints to 1000ths precision","breakpoints.webp","Ambiguous speed values near specific breakpoints (such as 133.333..) are now displayed to 1000ths precision for checking if the breakpoint is met","spdValues.webp","Added a Reset All Characters button to the scoring algorithm menu","resetAll.webp","Rephrased pioneer conditional to specify between basic and combat stat buffs","The last optimized character will now be open by default on the next session","The Simulate Relics On Another Character menu is now open by default on the Relic Scorer tab","Updated Boothill damage calcs","Updated Robin damage calcs","Fix: Herta now correctly defaults to FUA sort","Fix: Removed leftover unused character level selectors, all characters now default to level 80","Fix: Black Swan E1 now correctly only applies res shred on DOT elements","Fix: Scores for saved builds will now update with scoring changes","Fix: Creating new relics with an owner now equips the relic"]},{title:"",date:"04-04-2024",content:["Added Break DMG calculations for all characters and a sortable BREAK column in the optimizer grid","breakDmg.webp","Updated Boothill's Enhanced basic attack calculation to include his Talent's additional break damage",`Updated Boothill's conditional toggle to be "Talent break DMG (forces weakness break)" which overrides the weakness break option when enabled`,"Updated Boothill's default sort option to Basic DMG","boothill.webp","Updated Boothill's scoring algorithm to prioritize SPD and Break Effect","boothillScore.webp","Added a display for the artist's name on custom character portraits","artist.webp","The artist name can be updated along with the image on the crop menu","Enabled gif uploads for custom character portraits","artistInput.webp","Updated Reliquary Archiver import for 2.1 patch, which imports accurate speed decimals for the entire inventory","archiver.webp",'Added new character action menu entry to "Sort by score" which rearranges the character priority by their character scores',"sortByScore.webp","Updated conditional set effects for Pioneer Diver of Dead Waters set with a 0x debuffs option which disables the 2p effect","pioneer.webp","Removed the Enemy HP% selector from the enemy options panel, and replaced it with Enemy Toughness, which affects the Break DMG calculations in the optimizer","tough.webp","Since the Enemy HP% selector was removed, updated character conditionals that depended on it to have their own toggle","Dan Heng now has an enemy HP% threshold toggle","Himeko now has an enemy HP% threshold toggle","Herta now has an enemy HP% threshold toggle","Argenti now has an enemy HP% threshold toggle","Reduced the filesize of assets for faster image loading","Optimizer search speed improvements for unfiltered searches","Added warning popup for optimizer searches with mismatching character and light cone paths",`Ruan Mei's teammate buff renamed to "Overtone buff" and now also applies her weakness break efficiency buff`,"Gallagher's Besotted buff added with Break DMG vulnerability","Fix: Argenti A6 trace now correctly applies to all his abilities instead of just ult DMG","Fix: Updated tooltips for 2.1 light cones","Fix: Updated Along the Passing Shore light cone's passive effect to Mirage Fizzle","Fix: Planetary Rendezvous now shows correctly on the teammate buffs panel","Fix: Bug with unselectable main stats being available in the Edit Relic view in certain cases","Fix: Stat filters are now saved to 1000ths precision"]},{title:"",date:"03-26-2024",content:['Added custom character portrait images, through the "Edit portrait" menu button on the character preview/relic scorer',"sparkle.webp","Portrait images can be selected by url or uploaded from file","crop.webp","Added substat roll count indicators to relics, showing the number of additional rolls per stat","rollQuality.webp","Added new relic rating tools to the Relics tab: for evaluating relic potential for the selected character or all characters","When selecting a character on the Relics grid, all selected relics will show their score according to the selected character's weights","relicsGrid.webp","Added new Relic Insights: Buckets graphs to display the potential of a relic and which characters are the best fit for the stats","relicBuckets.webp","The Relic Insights: Top 10 view shows the min/max range of potential for the top 10 best fit characters","relicTop10.webp","Added new 2.1 sets: Sigonia, the Unclaimed Desolation & Izumo Gensei and Takama Divine Realm","21sets.webp","Added new importer option for the Reliquary Archiver (beta) which can import accurate speed decimals for the entire inventory","importer.webp","Added new Optimization Target options to the optimizer page.","optimimationTarget.webp","This removes the 2 million results hard cap from before.","resultsLimit.webp","Choose the desired optimization goal for damage/stats/rating, and select a results limit, to find the top search results sorted by the target","sortBy.webp","Stat decimals are now shown to 1000ths precision on the Character preview when hovered","spdHover.webp","Added new Character action to switch relics with another character","switchRelics.webp","Added new 2.2 characters: Robin / Boothill / Harmony Trailblazer","Added new 2.2 light cones: Boundless Choreo / For Tomorrow's Journey / Flowing Nightglow / Sailing Towards A Second Life","22chars.webp","Adjusted character optimal main stats, allowing more lenient options such as ATK% spheres for DPS and any sphere stats for Bronya/Sparkle","Removed level selectors on Optimizer tab - all optimizations now assume level 80 character and light cone","Made the sidebar menu always stay on screen when scrolling","Fix: Relic imports from scanning newly rolled relics before logout no longer causes duplicate relics","Fix: Download screenshot button on mobile devices and Safari browsers now generates the image correctly","Fix: Pela E2 skill conditional SPD buff is now off by default","Fix: Bronya technique conditional ATK buff is now off by default","Fix: Silver Wolf skill conditional weakness implanted RES shred is now off by default","Fix: Sparkle talent conditional Quantum allies ATK buff now only applies to Quantum elemental main characters","Fix: Acheron trace Stygian Resurge now has its own slider instead of assuming all hits on target","Fix: Seele E1 conditional CR buff now has its own toggle instead of being linked to the enemy HP selector"]},{title:"",date:"03-12-2024",content:["Added a new visual character selector menu with search and filters","charSelect.webp","Light cone selectors are also updated and now default to the selected character's path","lcSelect.webp","Added a new menu that automatically shows suggestions to fix common misconfigurations in setting up optimizer searches that result in 0 permutations","zeroPerm.webp","Presets speed breakpoints are now defined to 100ths precision","presets.webp","Added def values to enemy level selector","enemyDef.webp","Updated calculations with the latest beta character abilities","Reorganized some stat orderings for consistency",`Fix: Light cone "Today is Another Peaceful Day" now defaults to the character's max energy`,"Fix: E2/E5 eidolon calculations for some characters","Fix: EHP filter works again","Fix: Linking to #scorer and other pages works again","Fix: Permutations now refresh when navigating to Optimizer tab","Fix: Alerts can now be closed when clicking on them"]},{title:"",date:"02-28-2024",content:["Enabled up/down arrow key navigation for grids","Updated the selected row overlay to be more visible","gridRow.webp","Added new priority and exclusion selectors in optimizer options","Priority can now be changed from the optimizer tab now instead of dragging. Exclude will additionally filter out specific characters relics","priorityExclude.webp","Added a notice to update when the scanner version is out of date","outOfDate.webp","Relic scorer Simulate button has been move to a sidebar, and now has preset characters for current/upcoming banners","simulate.webp","Added a sortable CV column for crit value to the Relics tab","cvColumn.webp",'Added a "Move to top" action button to the Characters tab',"moveToTop.webp","Started adding more icons to selectors for readability, more to come","icons.webp","Removed CV column & filter from optimizer tab - damage calculations are a better option to sort by now",'Stats display is set to "Combat Stats" by default now, also the setting now saves correctly per character',"Changed relic scorer API in preparation for upcoming leaderboards update"]},{title:"",date:"02-20-2024",content:["Added: Acheron / Aventurine / Gallagher","newChars.webp",'Added: "Simulate relics on another character" button on the Relic scorer.',"Now the profile characters' builds can be simulated as unowned or unreleased characters & light cones to preview their gear with accurate base stats","simulate.webp","Added: Teammates menu for the optimizer. This automatically adds the teammate's character passives/eidolons/light cone/relic sets to the calculations for more accurate results","teammates.webp","Added: Character builds can now be saved as loadouts, keeping a history of saved builds that can be easily swapped between","savedBuilds.webp","Added: Changelog page to track new optimizer changes","changelog.webp","Moved stat display to the sidebar for easier access","statDisplay.webp",'Clicking "Start optimizing" now scrolls the page down to the results grid',"Deprecated the Fribbels scanner option in favor of the Kel-Z scanner","Energy Regeneration Rate column can be filtered on now","Imports now work with scanner files that only contain characters/light cones without relics","Minor scoring changes for: Sushang, Luka, Physical Trailblazer, Blade, Silver Wolf, Kafka, and Preservation characters"]},{title:"",date:"02-05-2024",content:["Added 'Recommended Presets' button to fill out the optimizer with some suggested values","presets.webp","Added the new Pioneer & Watchmaker relic sets","newSets.webp","Added support for 8 relic scorer slots","scorer8Characters.webp","All character and light cone passives now have descriptions on hover","skillDescriptions.webp","Reorganized Character tab buttons with new Add / Edit character actions","characterActions.webp","Added a Screenshot button for copying the character preview to clipboard / downloads","screenshot.webp","Added a progress bar for the search","progress.webp","Updated damage calcs with all 2.0 light cones","Relic set filters now have a 2 piece + Any option","Improved optimizer search performance, should run 3-6x faster now"]},{title:"",date:"01-22-2024",content:["Black Swan / Sparkle / Misha added with dmg calcs and their signature light cones","newChars.webp","New 'Use equipped relics' optimizer filter toggle","useEquipped.webp","Optimizer grid now shows speed decimals","spd.webp","QOLs for relic editing for autofilled main stats","Double clicking on the characters list now will navigate to the optimizer"]},{title:"",date:"01-13-2024",content:["Big update to the relics tab, including filters and a relic recommendation tool","The recommendation tool scores each relic by its potential at +15 to help with picking which unenhanced relics to roll while building characters","relicsTab.webp","Also updated the Relic Scorer with an import option - now you can import relics directly from your ingame profile characters, with accurate speed values","import.webp"]},{title:"",date:"01-06-2024",content:["Accurate damage calculations for every character, and new optimization columns for average Basic / Skill / Ult / Follow-up / DoT damage","calcs.webp","Character abilities + Light cone passive selectors to customize the damage simulation","passives.webp","Relic set effects menu for customizing which sets to activate","setEffects.webp","New filtering tools including the substat weight filter to reduce permutations & improve search time","weightFilter.webp","Enemy count / DEF / RES / HP / and weakness selectors for optimizing specific combat scenarios","enemyOptions.webp","Integrated with the Kel-Z HSR Scanner for faster & more accurate scans","importer.webp","Expanded combat buffs options for adding more team effects like SPD / DMG% / DEF & RES shred / etc","Relic stat editor and better handling for hidden decimals","New character importer option - Import all your character builds and light cones directly from the game"]}];return t.map(a=>a.content=a.content.filter(i=>i.length>0)),t}const rn=250,da=100,{Text:XR}=pt;function YR(){const[t,a]=y.useState(!1),{t:i}=et(["importSaveTab","common"]);function l(){console.log("Clear data"),a(!0),setTimeout(()=>{a(!1),L.resetStore(),j.success(i("ClearData.SuccessMessage"))},da)}return n.jsxs(g,{vertical:!0,gap:5,children:[n.jsx(XR,{children:i("ClearData.Label")}),n.jsx(Oa,{title:i("ClearData.WarningTitle"),description:i("ClearData.WarningDescription"),onConfirm:l,placement:"bottom",okText:i("common:Yes"),cancelText:i("common:Cancel"),children:n.jsx(w,{type:"primary",icon:n.jsx(ll,{}),loading:t,style:{width:rn},children:i("ClearData.ButtonText")})})]})}const{Text:Js}=pt;function KR(){const[t,a]=y.useState(0),[i,l]=y.useState(void 0),[s,o]=y.useState(!1),[c,r]=y.useState(!1),{t:u}=et("importSaveTab",{keyPrefix:"LoadData"});function f(b){return new Promise(()=>{const R=new FileReader;return R.readAsText(b),R.onload=()=>{const S=String(R.result),Z=JSON.parse(S);if(Z.fileType||Z.source){o(!0),setTimeout(()=>{o(!1),l(void 0),a(1)},da);return}o(!0),setTimeout(()=>{o(!1),l(Z),a(1)},da)},!1})}function p(){r(!0),setTimeout(()=>{L.setStore(i),window.refreshRelicsScore(),setTimeout(()=>{a(2),r(!1)},da)},da)}function G(){return n.jsx(g,{style:{minHeight:100},children:n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx(Js,{children:u("Stage1.Label")}),n.jsx(f0,{accept:".json",name:"file",beforeUpload:f,children:n.jsx(w,{style:{width:rn},icon:n.jsx(rl,{}),loading:s,onClick:()=>a(0),children:u("Stage1.ButtonText")})})]})})}function h(){return!(i!=null&&i.relics)||!i.characters?n.jsx(g,{style:{minHeight:100},children:n.jsx(g,{vertical:!0,gap:10,style:{display:t>=1?"flex":"none"},children:u("Stage2.ErrorMsg")})}):n.jsx(g,{style:{minHeight:100},children:n.jsxs(g,{vertical:!0,gap:10,style:{display:t>=1?"flex":"none"},children:[n.jsx(Js,{children:u("Stage2.Label",{reliccount:i.relics.length,charactercount:i.characters.length})}),n.jsx(w,{style:{width:rn},icon:n.jsx(ai,{}),type:"primary",onClick:p,loading:c,children:u("Stage2.ButtonText")})]})})}function m(){return n.jsx(g,{style:{minHeight:100},children:n.jsx(g,{vertical:!0,gap:10,style:{display:t>=2?"flex":"none"},children:n.jsx(Js,{children:u("Stage3.SuccessMessage")})})})}return n.jsx(g,{gap:5,children:n.jsx(Oi,{direction:"vertical",current:t,items:[{title:"",description:G()},{title:"",description:h()},{title:"",description:m()}]})})}function vR(t){const a=L.getMetadata().relics.relicSets,i={metadata:{trailblazer:"Stelle",current_trailblazer_path:"Destruction"},characters:[],relics:[]};for(const l of t.data.avatar_list){const s={characterEidolon:l.rank,characterId:l.id.toString(),characterLevel:l.level,lightCone:null,lightConeLevel:80,lightConeSuperimposition:1};l.equip!=null&&(s.lightCone=l.equip.id.toString(),s.lightConeSuperimposition=l.equip.rank),i.characters.push(s);const o=[...l.relics,...l.ornaments];for(const r of o){const u=[];for(const f of r.properties){const p={stat:Qo(f.property_type),value:Oo(f.value)};u.push(p)}i.relics.push({enhance:r.level,equippedBy:l.id.toString(),grade:r.rarity,id:x.randomId(),part:OR(r.pos),set:QR(r.id,a),main:{stat:Qo(r.main_property.property_type),value:Oo(r.main_property.value)},substats:u,verified:!1})}const c=AR(l.id);c&&(i.metadata=c)}return i.relics.map(l=>bn.augment(l)),i}function Oo(t){return t.endsWith("%")?x.precisionRound(parseFloat(t.slice(0,t.length-1))):x.precisionRound(parseFloat(t))}const wR={8001:{trailblazer:"Caelus",current_trailblazer_path:"Destruction"},8002:{trailblazer:"Stelle",current_trailblazer_path:"Destruction"},8003:{trailblazer:"Caelus",current_trailblazer_path:"Preservation"},8004:{trailblazer:"Stelle",current_trailblazer_path:"Preservation"},8006:{trailblazer:"Stelle",current_trailblazer_path:"Harmony"},8005:{trailblazer:"Caelus",current_trailblazer_path:"Harmony"}};function AR(t){return wR[t]}const jR={27:d.Stats.HP,32:d.Stats.HP_P,29:d.Stats.ATK,33:d.Stats.ATK_P,31:d.Stats.DEF,34:d.Stats.DEF_P,51:d.Stats.SPD,52:d.Stats.CR,53:d.Stats.CD,56:d.Stats.EHR,57:d.Stats.RES,59:d.Stats.BE,54:d.Stats.ERR,55:d.Stats.OHB,12:d.Stats.Physical_DMG,14:d.Stats.Fire_DMG,16:d.Stats.Ice_DMG,18:d.Stats.Lightning_DMG,20:d.Stats.Wind_DMG,22:d.Stats.Quantum_DMG,24:d.Stats.Imaginary_DMG};function Qo(t){return jR[t]||""}const JR={1:T.Head,2:T.Hands,3:T.Body,4:T.Feet,5:T.PlanarSphere,6:T.LinkRope};function OR(t){return JR[t]||""}function QR(t,a){const i=t.toString().substring(1,4);return _o[t]?a[_o[t].set].name:a[i].name}const _o={55001:{set:"101",part:"3",main:"436"},55002:{set:"101",part:"4",main:"441"},55003:{set:"102",part:"3",main:"434"},55004:{set:"103",part:"3",main:"433"},55005:{set:"103",part:"4",main:"443"},55006:{set:"105",part:"3",main:"434"}},{Text:an}=pt;function _R(){const[t,a]=y.useState(0),[i,l]=y.useState([]),[s,o]=y.useState([]),[c,r]=y.useState(!1),[u,f]=y.useState(!1),{t:p}=et(["importSaveTab","common"]);function G(C){return new Promise(()=>{const D=new FileReader;return D.readAsText(C),D.onload=()=>{const V=String(D.result);h(V)},!1})}function h(C){try{const D=JSON.parse(C);if(console.log("JSON",D),r(!0),!D)throw new Error(p("Import.ErrorMsg.InvalidJson"));if(D.data){const H=vR(D),k=H.relics;let B=H.characters;B=B.sort((J,st)=>st.characterLevel-J.characterLevel),B.map(J=>{J.characterLevel=80,J.lightConeLevel=80}),setTimeout(()=>{o(B),l(k),a(1),r(!1)},da);return}if(!yR.includes(D.source))throw new Error(p("Import.ErrorMsg.InvalidFile"));const M=Oc[D.source].parse(D);let E=M.characters;const P=M.relics;E=E.sort((H,k)=>k.characterLevel-H.characterLevel),E.map(H=>{H.characterLevel=80,H.lightConeLevel=80}),setTimeout(()=>{r(!1),l(P),o(E),a(1)},da)}catch(D){let V=p("Import.ErrorMsg.Unknown");D instanceof Error&&(V=D.message),console.error(D),j.error(p("Import.ErrorMsg.Fragment")+V,10),setTimeout(()=>{r(!1),l(void 0),o(void 0),a(1)},da)}}function m(){f(!0),setTimeout(()=>{L.mergeRelicsWithState(i),Ct.save(),setTimeout(()=>{f(!1),a(2)},100)},da)}function b(){f(!0),setTimeout(()=>{L.mergeRelicsWithState(i,s),Ct.save(),setTimeout(()=>{f(!1),a(2)},100)},da)}function R(){return n.jsx(g,{style:{minHeight:100,marginBottom:30},gap:30,children:n.jsxs(g,{vertical:!0,gap:10,children:[n.jsx(an,{children:p("Import.Stage1.Header")}),n.jsx(an,{children:n.jsxs("ul",{children:[n.jsx(Qc,{}),n.jsxs("li",{children:[p("Import.Stage1.KelzDesc.Title")," (",n.jsx(Ia,{text:p("Import.Stage1.KelzDesc.Link"),url:us.releases}),")",n.jsxs("ul",{children:[n.jsx("li",{children:p("Import.Stage1.KelzDesc.l1")}),n.jsx("li",{children:p("Import.Stage1.KelzDesc.l2")})]})]}),n.jsxs("li",{children:[p("Import.Stage1.ScorerDesc.Title")," (",n.jsx("span",{onClick:()=>window.store.getState().setActiveKey(mt.RELIC_SCORER),children:n.jsx(Ia,{text:p("Import.Stage1.ScorerDesc.Link")})}),")",n.jsxs("ul",{children:[n.jsx("li",{children:p("Import.Stage1.ScorerDesc.l1")}),n.jsx("li",{children:p("Import.Stage1.ScorerDesc.l2")})]})]}),n.jsxs("li",{children:[p("Import.Stage1.HoyolabDesc.Title")," (",n.jsx(Ia,{text:p("Import.Stage1.HoyolabDesc.Link"),url:"https://github.com/fribbels/hsr-optimizer/discussions/403"}),")",n.jsxs("ul",{children:[n.jsx("li",{children:p("Import.Stage1.HoyolabDesc.l1")}),n.jsx("li",{children:p("Import.Stage1.HoyolabDesc.l2")})]})]})]})}),n.jsx(g,{vertical:!0,align:"flex-start",children:n.jsxs(g,{gap:10,align:"center",children:[n.jsx(f0,{accept:".json",name:"file",beforeUpload:G,children:n.jsx(w,{style:{width:rn},icon:n.jsx(rl,{}),loading:c,onClick:()=>a(0),children:p("Import.Stage1.ButtonText")})}),p("Import.Stage1.Or"),n.jsx(Qe,{style:{width:rn},className:"centered-placeholder",placeholder:"Paste json file contents",value:"",disabled:c,onChange:C=>{const D=C.target.value;try{const V=JSON.parse(D);h(D)}catch{}}})]})})]})})}function S(){return i?n.jsx(g,{style:{minHeight:250},children:n.jsxs(g,{vertical:!0,gap:10,style:{display:t>=1?"flex":"none"},children:[n.jsx(an,{children:p("Import.Stage2.FileInfo",{reliccount:i.length||0,charactercount:(s==null?void 0:s.length)||0})}),n.jsx(an,{children:p("Import.Stage2.RelicsImport.Label")}),n.jsx(w,{style:{width:rn},type:"primary",onClick:m,loading:u,children:p("Import.Stage2.RelicsImport.ButtonText")}),n.jsx(Ge,{children:n.jsx(an,{style:{fontSize:12},children:p("Import.Stage2.Or")})}),n.jsx(an,{children:p("Import.Stage2.CharactersImport.Label")}),n.jsx(Oa,{title:p("Import.Stage2.CharactersImport.WarningTitle"),description:p("Import.Stage2.CharactersImport.WarningDescription"),onConfirm:b,placement:"bottom",okText:p("common:Yes",{capitalizeLength:1}),cancelText:p("common:Cancel",{capitalizeLength:1}),children:n.jsx(w,{style:{width:rn},type:"primary",loading:u,children:p("Import.Stage2.CharactersImport.ButtonText")})})]})}):n.jsx(g,{style:{minHeight:100},children:n.jsx(g,{vertical:!0,gap:10,style:{display:t>=1?"flex":"none"},children:p("Import.Stage2.NoRelics")})})}function Z(){return n.jsx(g,{style:{minHeight:100},children:n.jsx(g,{vertical:!0,gap:10,style:{display:t>=2?"flex":"none"},children:n.jsx(an,{children:p("Import.Stage3.SuccessMessage")})})})}return n.jsx(g,{gap:5,children:n.jsx(Oi,{direction:"vertical",current:t,items:[{title:"",description:R()},{title:"",description:S()},{title:"",description:Z()}]})})}const{Text:zR}=pt,qR=250,$R=async(t,a)=>{if("showSaveFilePicker"in window&&(()=>{try{return window.self===window.top}catch{return!1}})())try{const s=await(await window.showSaveFilePicker({suggestedName:a,types:[{description:"JSON",accept:{"text/json":[".json"]}}]})).createWritable();await s.write(t),await s.close()}catch(l){console.warn(l.name,l.message)}else{const l=URL.createObjectURL(t),s=document.createElement("a");s.href=l,s.download=a,s.style.display="none",document.body.append(s),s.click(),setTimeout(()=>{URL.revokeObjectURL(l),s.remove()},1e3)}};function tf(){const{t}=et("importSaveTab",{keyPrefix:"SaveData"});async function a(){try{const i=Ct.save(),l=new Blob([i],{type:"text/json;charset=utf-8"});await $R(l,"fribbels-optimizer-save.json"),j.success(t("SuccessMessage"))}catch(i){console.warn(i)}}return n.jsxs(g,{vertical:!0,gap:5,children:[n.jsx(zR,{children:t("label")}),n.jsx(w,{type:"primary",onClick:a,icon:n.jsx(cl,{}),style:{width:qR},children:t("ButtonText")})]})}function zc(){const t="large",{t:a}=et("importSaveTab",{keyPrefix:"TabLabels"});return n.jsx("div",{children:n.jsx(g,{vertical:!0,gap:5,style:{marginLeft:20,width:1200},children:n.jsx(Dr,{defaultActiveKey:"1",size:t,style:{marginBottom:32},items:[{label:a("Import"),key:0,children:n.jsx(_R,{})},{label:a("Load"),key:1,children:n.jsx(KR,{})},{label:a("Save"),key:2,children:n.jsx(tf,{})},{label:a("Clear"),key:3,children:n.jsx(YR,{})}]})})})}zc.propTypes={active:z.bool};const{useToken:ef}=Ze;function af(){return ef(),n.jsx("div",{})}async function nf(t,a,i){const l=ss(t),s=new Array(Math.pow(Object.keys(Aa).length,4)).fill(1),o=new Array(Math.pow(Object.keys(pi).length,2)).fill(1),r=rc(i,a,t,l,1,Ja,s,o,!0),u=dc(r,0);await u.mapAsync(GPUMapMode.READ);const f=u.getMappedRange(),p=new Float32Array(f),G=el(p),h=An(t,{Head:a.Head[0],Hands:a.Hands[0],Body:a.Body[0],Feet:a.Feet[0],PlanarSphere:a.PlanarSphere[0],LinkRope:a.LinkRope[0]}).x,m=sf(h,G);return u.unmap(),u.destroy(),uc(r),m}function sf(t,a){const i={};let l=!0;function s(f,p){const G=t[f]-a[f],h=Math.abs(G)<=p;h||(l=!1),i[f]={key:f,cpu:t[f].toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20}),gpu:a[f].toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20}),deltaValue:G,deltaString:G.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20}),precision:p,pass:h}}const o=0,c=.1,r=.01,u=1e-4;return s("HP",r),s("ATK",r),s("DEF",r),s("SPD",u),s("CRIT Rate",u),s("CRIT DMG",u),s("Effect Hit Rate",u),s("Effect RES",u),s("Break Effect",u),s("Energy Regeneration Rate",u),s("Outgoing Healing Boost",u),s("ELEMENTAL_DMG",u),s("BASIC_SCALING",r),s("SKILL_SCALING",r),s("ULT_SCALING",r),s("FUA_SCALING",r),s("DOT_SCALING",r),s("BASIC_CR_BOOST",r),s("SKILL_CR_BOOST",r),s("ULT_CR_BOOST",r),s("FUA_CR_BOOST",r),s("BASIC_CD_BOOST",r),s("SKILL_CD_BOOST",r),s("ULT_CD_BOOST",r),s("FUA_CD_BOOST",r),s("BASIC_BOOST",r),s("SKILL_BOOST",r),s("ULT_BOOST",r),s("FUA_BOOST",r),s("DOT_BOOST",r),s("VULNERABILITY",r),s("BASIC_VULNERABILITY",r),s("SKILL_VULNERABILITY",r),s("ULT_VULNERABILITY",r),s("FUA_VULNERABILITY",r),s("DOT_VULNERABILITY",r),s("BREAK_VULNERABILITY",r),s("DEF_PEN",r),s("BASIC_DEF_PEN",r),s("SKILL_DEF_PEN",r),s("ULT_DEF_PEN",r),s("FUA_DEF_PEN",r),s("DOT_DEF_PEN",r),s("BREAK_DEF_PEN",r),s("SUPER_BREAK_DEF_PEN",r),s("RES_PEN",r),s("PHYSICAL_RES_PEN",r),s("FIRE_RES_PEN",r),s("ICE_RES_PEN",r),s("LIGHTNING_RES_PEN",r),s("WIND_RES_PEN",r),s("QUANTUM_RES_PEN",r),s("IMAGINARY_RES_PEN",r),s("BASIC_RES_PEN",r),s("SKILL_RES_PEN",r),s("ULT_RES_PEN",r),s("FUA_RES_PEN",r),s("DOT_RES_PEN",r),s("BASIC_DMG",c),s("SKILL_DMG",c),s("ULT_DMG",c),s("FUA_DMG",c),s("DOT_DMG",c),s("BREAK_DMG",c),s("COMBO_DMG",c),s("DMG_RED_MULTI",r),s("EHP",r),s("DOT_CHANCE",r),s("EFFECT_RES_PEN",r),s("DOT_SPLIT",r),s("DOT_STACKS",r),s("ENEMY_WEAKNESS_BROKEN",r),s("SUPER_BREAK_MODIFIER",r),s("BASIC_SUPER_BREAK_MODIFIER",r),s("SUPER_BREAK_HMC_MODIFIER",r),s("BASIC_TOUGHNESS_DMG",r),s("SKILL_TOUGHNESS_DMG",r),s("ULT_TOUGHNESS_DMG",r),s("FUA_TOUGHNESS_DMG",r),s("BASIC_ORIGINAL_DMG_BOOST",r),s("SKILL_ORIGINAL_DMG_BOOST",r),s("ULT_ORIGINAL_DMG_BOOST",r),s("BASIC_BREAK_DMG_MODIFIER",r),s("ULT_CD_OVERRIDE",r),s("ULT_BOOSTS_MULTI",r),s("RATIO_BASED_HP_BUFF",r),s("RATIO_BASED_HP_P_BUFF",r),s("RATIO_BASED_ATK_BUFF",r),s("RATIO_BASED_ATK_P_BUFF",r),s("RATIO_BASED_DEF_BUFF",r),s("RATIO_BASED_DEF_P_BUFF",r),s("RATIO_BASED_SPD_BUFF",r),s("RATIO_BASED_CD_BUFF",r),s("BREAK_EFFICIENCY_BOOST",r),s("BASIC_BREAK_EFFICIENCY_BOOST",r),s("ULT_BREAK_EFFICIENCY_BOOST",r),s("HP%",r),s("ATK%",r),s("DEF%",r),s("SPD%",r),s("BASIC_DMG_TYPE",o),s("SKILL_DMG_TYPE",o),s("ULT_DMG_TYPE",o),s("FUA_DMG_TYPE",o),s("DOT_DMG_TYPE",o),s("BREAK_DMG_TYPE",o),s("SUPER_BREAK_DMG_TYPE",o),{allPass:l,statDeltas:i}}function qc(t,a,i,l){const s={name:t,request:a,relics:i,done:!1};return s.execute=()=>{const o=nf(a,i,l);return o.then(c=>{s.done=!0,s.result=c}),o},s}function lf(t){for(const[a,i]of Object.entries(t))i.map(l=>{const s=l.condensedStats;l.substats=[],s.map(([o,c])=>{l.substats.push({stat:o,value:c})})});return t}function $c(){return lf({Head:[{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6},id:"cd85c14c-a662-4413-a149-a379e6d538d3",equippedBy:"1212",weightScore:42.767999999999994,condensedStats:[["CRIT Rate",.36016],["CRIT DMG",.10368],["Effect RES",.03456],["Break Effect",.05184],["HP",705.6]]}],Hands:[{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8},id:"798657c8-5c5c-4b44-9c5f-f5f094414289",equippedBy:"1212",weightScore:43.416,condensedStats:[["HP%",.03456],["SPD",4],["CRIT DMG",.2268],["Effect Hit Rate",.03456],["ATK",352.8]]}],Body:[{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8},id:"b3376a19-62f9-489e-80e6-8f98335af158",equippedBy:"1212",weightScore:38.370734301091446,condensedStats:[["HP",114.31138],["ATK%",.07344],["DEF%",.0432],["CRIT Rate",.081],["CRIT DMG",.648]]}],Feet:[{part:"Feet",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"SPD",value:25.032},id:"92c53d06-80d0-43a8-b896-2feeda419674",equippedBy:"1212",weightScore:43.16174737167594,condensedStats:[["ATK",21.16877],["ATK%",.11664],["DEF%",.0486],["CRIT DMG",.17496],["SPD",25.032]]}],PlanarSphere:[{part:"PlanarSphere",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"Ice DMG Boost",value:38.8803},id:"80abbd56-b1a0-4587-a349-754c33627217",equippedBy:"1212",weightScore:38.971971552257266,condensedStats:[["DEF",74.09071],["CRIT Rate",.05508],["CRIT DMG",.12312],["Effect Hit Rate",.0432],["Ice DMG Boost",.388803]]}],LinkRope:[{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.2},id:"c521dc03-6c6e-45ef-9933-811367312441",equippedBy:"1212",weightScore:37.249627764127766,condensedStats:[["HP",80.44134],["CRIT Rate",.08424],["CRIT DMG",.10368],["Break Effect",.05832],["ATK%",.43200000000000005]]}]})}const Yn={},Ht="23001",tr=[{characterId:"1001",lightConeId:Ht},{characterId:"1002",lightConeId:Ht},{characterId:"1003",lightConeId:"23000"},{characterId:"1004",lightConeId:"23004"},{characterId:"1005",lightConeId:"23006"},{characterId:"1006",lightConeId:"23007"},{characterId:"1008",lightConeId:Ht},{characterId:"1009",lightConeId:Ht},{characterId:"1013",lightConeId:Ht},{characterId:"1101",lightConeId:"23003"},{characterId:"1102",lightConeId:"23001"},{characterId:"1103",lightConeId:Ht},{characterId:"1104",lightConeId:"23005"},{characterId:"1105",lightConeId:Ht},{characterId:"1106",lightConeId:Ht},{characterId:"1107",lightConeId:"23002"},{characterId:"1108",lightConeId:Ht},{characterId:"1109",lightConeId:Ht},{characterId:"1110",lightConeId:Ht},{characterId:"1111",lightConeId:Ht},{characterId:"1112",lightConeId:"23016"},{characterId:"1201",lightConeId:Ht},{characterId:"1202",lightConeId:Ht},{characterId:"1203",lightConeId:"23008"},{characterId:"1204",lightConeId:"23010"},{characterId:"1205",lightConeId:"23009"},{characterId:"1206",lightConeId:Ht},{characterId:"1207",lightConeId:Ht},{characterId:"1208",lightConeId:"23011"},{characterId:"1209",lightConeId:"23012"},{characterId:"1210",lightConeId:Ht},{characterId:"1211",lightConeId:"23013"},{characterId:"1212",lightConeId:"23014"},{characterId:"1213",lightConeId:"23015"},{characterId:"1214",lightConeId:Ht},{characterId:"1215",lightConeId:Ht},{characterId:"1217",lightConeId:"23017"},{characterId:"1218",lightConeId:"23029"},{characterId:"1220",lightConeId:"23031"},{characterId:"1221",lightConeId:"23030"},{characterId:"1222",lightConeId:"23032"},{characterId:"1223",lightConeId:Ht},{characterId:"1224",lightConeId:Ht},{characterId:"1301",lightConeId:Ht},{characterId:"1302",lightConeId:"23018"},{characterId:"1303",lightConeId:"23019"},{characterId:"1304",lightConeId:"23023"},{characterId:"1305",lightConeId:"23020"},{characterId:"1306",lightConeId:"23021"},{characterId:"1307",lightConeId:"23022"},{characterId:"1308",lightConeId:"23024"},{characterId:"1309",lightConeId:"23026"},{characterId:"1310",lightConeId:"23025"},{characterId:"1312",lightConeId:Ht},{characterId:"1314",lightConeId:"23028"},{characterId:"1315",lightConeId:"23027"},{characterId:"1317",lightConeId:"23033"},{characterId:"8001",lightConeId:Ht},{characterId:"8002",lightConeId:Ht},{characterId:"8003",lightConeId:Ht},{characterId:"8004",lightConeId:Ht},{characterId:"8005",lightConeId:Ht},{characterId:"8006",lightConeId:Ht}];async function of(){const t=await cs();return t?(Yn.metadata=L.getMetadata(),[...df(t),...uf(t),...zo(t,4),...zo(t,3),...cf(t),...rf(t)]):[]}function cf(t){return tr.map(a=>mf(a.characterId,a.lightConeId,t))}function rf(t){return tr.map(a=>ms(a.characterId,a.lightConeId,t))}function zo(t,a){const i="1005",l=Object.values(Yn.metadata.lightCones).filter(o=>o.rarity==a),s=[];for(const o of l){const c=ms(i,o.id,t);s.push(c)}return s}function df(t){const a="1005",i=Ht,l=[];for(const s of Mn){const o=ms(a,i,t);o.name+=` — Ornament Sets  — ${s}`,o.relics.LinkRope[0].set=s,o.relics.PlanarSphere[0].set=s,l.push(o)}return l}function uf(t){const a="1005",i=Ht,l=[];for(const s of Fn){const o=ms(a,i,t);o.name+=` — Relic Sets  — ${s}`,o.relics.Head[0].set=s,o.relics.Hands[0].set=s,o.relics.Body[0].set=s,o.relics.Feet[0].set=s,l.push(o)}return l}function mf(t,a,i){const l=tt.fixForm(pn({id:t}));l.lightCone=a;const s=$c();return qc(`E0S1 ${Yn.metadata.characters[t].displayName} — ${Yn.metadata.lightCones[a].displayName}`,l,s,i)}function ms(t,a,i){const l=tt.fixForm(pn({id:t}));l.characterEidolon=6,l.lightCone=a,l.lightConeSuperimposition=5;const s=$c();return qc(`E6S5 ${Yn.metadata.characters[t].displayName} — ${Yn.metadata.lightCones[a].displayName}`,l,s,i)}function bf(){return window.store(a=>a.activeKey)!=mt.WEBGPU_TEST?n.jsx(n.Fragment,{}):n.jsx(hf,{})}function hf(){const[t,a]=y.useState([]),[i,l]=y.useState(!1);async function s(){l(!1);const o=await of(),c=o.length;let r=0,u=0;a(o),o.map(f=>f.name=`#${++r} — ${f.name}`);for(const f of o){await f.execute();const p=[...o].sort(pf);a(p),u++,u==c&&l(!0)}}return n.jsxs(g,{vertical:!0,style:{width:1200,minHeight:2e3},children:[n.jsx(w,{type:"primary",onClick:s,style:{height:50,background:i?"#248453":void 0},disabled:!i&&t.length>0,children:i?"Tests complete":"Run all WebGPU tests"}),n.jsx(Ji,{items:t.map(Sf),expandIconPosition:"end",size:"small"})]})}function pf(t,a){return t.done!==a.done?t.done?-1:1:t.done&&a.done?t.result.allPass===a.result.allPass?0:t.result.allPass?1:-1:0}function Sf(t){return{key:t.name,label:n.jsx(Gf,{test:t}),children:n.jsx(ff,{test:t})}}const Rf=[{title:"",dataIndex:"pass",render:t=>n.jsx(g,{style:{color:t?"#83ec66":"#ef7979",width:"100%"},justify:"space-around",children:t?n.jsx(ji,{}):n.jsx(sl,{})}),width:20},{title:"Stat",dataIndex:"key",render:t=>n.jsx($n,{text:t}),width:80},{title:"CPU",dataIndex:"cpu",render:t=>n.jsx($n,{text:t}),width:120},{title:"GPU",dataIndex:"gpu",render:t=>n.jsx($n,{text:t}),width:120},{title:"Delta",dataIndex:"deltaString",render:t=>n.jsx($n,{text:t}),width:120},{title:"Precision",dataIndex:"precision",render:t=>n.jsx($n,{text:t}),width:120}];function ff(t){const{test:a}=t;if(!a.result)return n.jsx(n.Fragment,{});const i=a.result.statDeltas,l=Object.values(i);return l.sort((s,o)=>Number(s.pass)-Number(o.pass)),n.jsx(l0,{columns:Rf,dataSource:l,size:"small",pagination:!1})}function Gf(t){const{test:a}=t;return a.done?n.jsxs(g,{gap:8,style:{color:a.result.allPass?"#83ec66":"#ef7979"},children:[a.result.allPass?n.jsx(ji,{}):n.jsx(sl,{}),a.name]}):n.jsxs(g,{gap:8,style:{color:"e6e6e6"},children:[n.jsx(Ir,{}),a.name]})}function $n(t){return n.jsx("div",{style:{margin:"0",fontFamily:"Segoe UI, Frutiger, Frutiger Linotype, Dejavu Sans, Helvetica Neue, Arial, sans-serif"},children:t.text})}const er=({error:t})=>n.jsxs(pt,{children:["Something went wrong: ",t.message]});let qo=!1;const Zf=()=>{const t=window.store(p=>p.activeKey).split("?")[0],a=Te.useMemo(()=>n.jsx(Wc,{}),[]),i=Te.useMemo(()=>n.jsx(Yc,{}),[]),l=Te.useMemo(()=>n.jsx(yc,{}),[]),s=Te.useMemo(()=>n.jsx(zc,{}),[]),o=Te.useMemo(()=>n.jsx(_c,{}),[]),c=Te.useMemo(()=>n.jsx(Kc,{}),[]),r=Te.useMemo(()=>n.jsx(NR,{}),[]),u=Te.useMemo(()=>n.jsx(af,{}),[]),f=Te.useMemo(()=>n.jsx(bf,{}),[]);return y.useEffect(()=>{var G,h;let p=Ca[t]||Ca[mt.OPTIMIZER];if(t==mt.RELIC_SCORER){const m=(h=(G=window.location.hash.split("?")[1])==null?void 0:G.split("id=")[1])==null?void 0:h.split("&")[0];m&&(p+=`?id=${m}`)}console.log("Navigating activekey to route",t,p),window.history.pushState({},window.title,p),t==mt.OPTIMIZER?(window.onOptimizerFormValuesChange({},tt.getForm()),qo||(qo=!0,WorkerPool.initializeAllWorkers())):window.scrollTo(0,0)},[t]),n.jsxs(g,{justify:"space-around",children:[n.jsx(la,{activeKey:t,tabKey:mt.OPTIMIZER,content:a}),n.jsx(la,{activeKey:t,tabKey:mt.CHARACTERS,content:i}),n.jsx(la,{activeKey:t,tabKey:mt.RELICS,content:l}),n.jsx(la,{activeKey:t,tabKey:mt.IMPORT,content:s}),n.jsx(la,{activeKey:t,tabKey:mt.GETTING_STARTED,content:o}),n.jsx(la,{activeKey:t,tabKey:mt.RELIC_SCORER,content:c}),n.jsx(la,{activeKey:t,tabKey:mt.CHANGELOG,content:r}),n.jsx(la,{activeKey:t,tabKey:mt.SETTINGS,content:u}),n.jsx(la,{activeKey:t,tabKey:mt.WEBGPU_TEST,content:f}),n.jsx(dl,{fallbackRender:er,children:n.jsx(PR,{})})]})};function la(t){return n.jsx(dl,{fallbackRender:er,children:n.jsx("div",{style:{display:t.activeKey===t.tabKey?"contents":"none"},id:t.tabKey,children:t.content})})}la.propTypes={activeKey:z.string,tabKey:z.string,content:z.element};const il={zh:{locale:"zh",nativeName:"中文"},en:{locale:"en",nativeName:"English"}},gf=Object.keys(il);I.use(Vr).use(Wr).use(Er).init({ns:["charactersTab","common","gameData","getStartedTab","importSaveTab","relicScorerTab","relicsTab","sidebar","modals","hint","settings","optimizerTab","notifications","conditionals"],defaultNS:"common",fallbackNS:["common","gameData"],debug:!0,supportedLngs:gf,load:"languageOnly",fallbackLng:"en",interpolation:{escapeValue:!1},backend:{loadPath:Ua+"/locales/{{lng}}/{{ns}}.json"}});var a0;(a0=I.services.formatter)==null||a0.add("capitalize",(t,a,i)=>{const l=t??i.interpolationkey??"";let s=i.capitalizeLength||0;s<0&&(s=l.length);let o="";for(let c=0;c<s;c++)o=o+l.charAt(c).toUpperCase();return o+l.slice(s)});const Cf=["en"];function Tf(t){const{t:a,i18n:i}=et(),l=(s=>{const o=[];for(const c in s)o.push({value:s[c].locale,label:n.jsxs(g,{gap:8,children:[n.jsx("img",{style:{height:15,marginTop:4},src:N.getFlag(s[c].locale)}),s[c].nativeName,Cf.includes(s[c].locale)?"":" (WIP)"]})});return o})(il);return n.jsx(K,{options:l,optionRender:s=>s.data.label,labelRender:({label:s,value:o})=>t.flagOnly?n.jsx("img",{style:{height:15,marginTop:8},src:N.getFlag(o)}):n.jsxs(g,{gap:8,children:[n.jsx("img",{style:{height:15,marginTop:8},src:N.getFlag(o)}),il[o].nativeName]}),onChange:s=>{i.changeLanguage(s)},style:t.style,dropdownStyle:t.dropdownStyle,defaultValue:i.resolvedLanguage,placement:t.placement,dropdownRender:s=>n.jsxs(g,{gap:4,vertical:!0,children:[s,n.jsx(w,{type:"primary",style:{borderRadius:5,height:40},onClick:()=>window.open("https://discord.gg/rDmB4Un7qg"),children:"Help translate the website!"})]})})}const{useToken:Df}=Ze,{Header:If}=di;function Vf(){const t=window.store(l=>l.menuSidebarOpen),a=window.store(l=>l.setMenuSidebarOpen),{token:i}=Df();return n.jsx(If,{style:{display:"flex",alignItems:"center",paddingLeft:"30px",paddingRight:"0px",height:48,width:"100%",backgroundColor:i.colorBgLayout,backgroundImage:"linear-gradient(rgb(0 0 0/60%) 0 0)"},children:n.jsxs(g,{align:"center",justify:"space-between",style:{width:"100%"},children:[n.jsxs(g,{children:[n.jsx(w,{type:"text",icon:t?n.jsx(Xa,{}):n.jsx(xr,{}),onClick:()=>a(!t),style:{fontSize:"16px",position:"relative",left:"-20px"}}),n.jsx("a",{href:Ua,children:n.jsxs(g,{align:"center",children:[n.jsx("img",{src:N.getLogo(),style:{width:30,height:30,marginRight:35}}),n.jsx(pt,{style:{fontWeight:600,fontSize:22},color:"inherit",children:"Fribbels Honkai Star Rail Optimizer (Beta)"})]})})]}),n.jsxs(g,{children:[n.jsx(Tf,{style:{width:60,marginRight:6,height:36},dropdownStyle:{width:210},flagOnly:!0,placement:"bottomRight"}),n.jsx("a",{href:"https://ko-fi.com/fribbels",target:"_blank",rel:"noreferrer",children:n.jsx(g,{children:n.jsx("img",{src:N.getKofi(),style:{height:36,marginRight:6,borderRadius:5}})})}),n.jsx("a",{href:"https://discord.gg/rDmB4Un7qg",target:"_blank",rel:"noreferrer",children:n.jsx(g,{children:n.jsx("img",{src:N.getDiscord(),style:{height:36,marginRight:6,borderRadius:5}})})})]})]})})}const Wf=()=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 -1 16 16",children:n.jsx("path",{d:"M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612m5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612"})}),Ef=t=>n.jsx(un,{component:Wf,...t}),xf=()=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:n.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8"})}),yf=t=>n.jsx(un,{component:xf,...t}),Lf=()=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:[n.jsx("path",{fillRule:"evenodd",d:"M.5 6a.5.5 0 0 0-.488.608l1.652 7.434A2.5 2.5 0 0 0 4.104 16h5.792a2.5 2.5 0 0 0 2.44-1.958l.131-.59a3 3 0 0 0 1.3-5.854l.221-.99A.5.5 0 0 0 13.5 6zM13 12.5a2.01 2.01 0 0 1-.316-.025l.867-3.898A2.001 2.001 0 0 1 13 12.5"}),n.jsx("path",{d:"m4.4.8-.003.004-.014.019a4.167 4.167 0 0 0-.204.31 2.327 2.327 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.593.593 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3.31 3.31 0 0 1-.202.388 5.444 5.444 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 3.6 4.2l.003-.004.014-.019a4.149 4.149 0 0 0 .204-.31 2.06 2.06 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.593.593 0 0 0-.09-.252A4.334 4.334 0 0 0 3.6 2.8l-.01-.012a5.099 5.099 0 0 1-.37-.543A1.53 1.53 0 0 1 3 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a5.446 5.446 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 4.4.8m3 0-.003.004-.014.019a4.167 4.167 0 0 0-.204.31 2.327 2.327 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.593.593 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3.31 3.31 0 0 1-.202.388 5.444 5.444 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 6.6 4.2l.003-.004.014-.019a4.149 4.149 0 0 0 .204-.31 2.06 2.06 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.593.593 0 0 0-.09-.252A4.334 4.334 0 0 0 6.6 2.8l-.01-.012a5.099 5.099 0 0 1-.37-.543A1.53 1.53 0 0 1 6 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a5.446 5.446 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 7.4.8m3 0-.003.004-.014.019a4.077 4.077 0 0 0-.204.31 2.337 2.337 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.593.593 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3.198 3.198 0 0 1-.202.388 5.385 5.385 0 0 1-.252.382l-.019.025-.005.008-.002.002A.5.5 0 0 1 9.6 4.2l.003-.004.014-.019a4.149 4.149 0 0 0 .204-.31 2.06 2.06 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.593.593 0 0 0-.09-.252A4.334 4.334 0 0 0 9.6 2.8l-.01-.012a5.099 5.099 0 0 1-.37-.543A1.53 1.53 0 0 1 9 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a5.446 5.446 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 10.4.8"})]}),Ff=t=>n.jsx(un,{component:Lf,...t});function Ve(t,a,i,l,s){return{key:a,icon:i,children:l,label:t,type:s}}const Mf=()=>{const{t}=et("sidebar"),a=window.store(o=>o.activeKey),i=window.store(o=>o.setActiveKey),l=y.useMemo(()=>[Ve(t("Showcase.Title"),"subTools",n.jsx(Lr,{}),[Ve(n.jsxs(g,{children:[n.jsx(yr,{style:{marginRight:5,width:16}})," ",t("Showcase.Scorer")]}),mt.RELIC_SCORER)]),Ve(t("Optimization.Title"),"subOptimizer",n.jsx(R0,{}),[Ve(n.jsxs(g,{children:[n.jsx(Fr,{style:{marginRight:5,width:16}})," ",t("Optimization.Optimizer")]}),mt.OPTIMIZER),Ve(n.jsxs(g,{children:[n.jsx(h0,{style:{marginRight:5,width:16}})," ",t("Optimization.Characters")]}),mt.CHARACTERS),Ve(n.jsxs(g,{children:[n.jsx(Mr,{style:{marginRight:5,width:16}})," ",t("Optimization.Relics")]}),mt.RELICS),Ve(n.jsxs(g,{children:[n.jsx(rl,{style:{marginRight:5,width:16}})," ",t("Optimization.Import")]}),mt.IMPORT),Ve(n.jsxs(g,{onClick:()=>window.store.getState().setSettingsDrawerOpen(!0),children:[n.jsx(wa,{style:{marginRight:5,width:16}})," ",t("Optimization.Settings")]}),"link settings"),Ve(n.jsxs(g,{children:[n.jsx(Br,{style:{marginRight:5,width:16}})," ",t("Optimization.Start")]}),mt.GETTING_STARTED)]),Ve(t("Links.Title"),"subLinks",n.jsx(kr,{}),[Ve(n.jsxs(pt.Link,{children:[n.jsx(c0,{style:{marginRight:2,width:16}})," ",t("Links.Changelog")]}),mt.CHANGELOG),Ve(n.jsxs(pt.Link,{href:"https://ko-fi.com/fribbels",target:"_blank",rel:"noopener noreferrer",children:[n.jsx(Ff,{style:{marginRight:5}})," ",t("Links.Kofi")]}),"link donate"),Ve(n.jsxs(pt.Link,{href:"https://discord.gg/rDmB4Un7qg",target:"_blank",rel:"noopener noreferrer",children:[n.jsx(Ef,{style:{marginRight:5}})," ",t("Links.Discord")]}),"link discord"),Ve(n.jsxs(pt.Link,{href:"https://github.com/fribbels/hsr-optimizer",target:"_blank",rel:"noopener noreferrer",children:[n.jsx(yf,{style:{marginRight:5}})," ",t("Links.Github")]}),"link github"),Ve(n.jsxs(pt.Link,{href:"https://starrailoptimizer.github.io/",target:"_blank",rel:"noopener noreferrer",children:[n.jsx(Pr,{style:{marginRight:5}})," ",t("Links.Unleak")]}),"link leaks free")])],[t]),s=o=>{o.key&&o.key.includes("link")||i(o.key)};return n.jsx(Hr,{onClick:s,inlineIndent:12,defaultSelectedKeys:["1"],defaultOpenKeys:["subOptimizer","subTools","subLinks"],selectedKeys:a,mode:"inline",items:l})},{useToken:Bf}=Ze,{Sider:Pf}=di;function kf(){const{token:t}=Bf(),a=window.store(i=>i.menuSidebarOpen);return n.jsx(Pf,{width:170,style:{background:t.colorBgContainer},collapsible:!0,collapsedWidth:48,collapsed:!a,trigger:null,children:n.jsx("div",{style:{position:"sticky",top:0},children:n.jsx(Mf,{})})})}const{useToken:qf,getDesignToken:Hf}=Ze,{Content:Nf}=di,Uf=()=>{const[t,a]=Nr.useMessage(),[i,l]=Ur.useNotification(),[s,o]=Ie.useModal(),{t:c,i18n:r}=et();window.messageApi=t,window.notificationApi=i,window.modalApi=s;const u=store(f=>f.colorTheme);return y.useEffect(()=>{Gradient.setToken(Hf({token:u}))},[u]),y.useEffect(()=>{T1(DB.getState().version)},[]),y.useEffect(()=>{console.log("setting language to:",r.resolvedLanguage)},[r.resolvedLanguage]),n.jsxs(Xr,{theme:{token:{motionUnit:.1,opacityLoading:.2,colorBgBase:u.colorBgBase,colorTextBase:u.colorTextBase,colorPrimary:u.colorPrimary,colorPrimaryBorderHover:u.colorPrimary,screenXL:1530,screenXLMin:1530,screenXXL:1660,screenXXLMin:1660},components:{Cascader:{dropdownHeight:800,controlItemWidth:100,controlWidth:100},Collapse:{contentPadding:"0px 0px"},Menu:{margin:2,itemPaddingInline:0,subMenuItemBg:"rgba(255, 255, 255, 0.05)"},Table:{headerBg:"#00000036",cellPaddingInlineSM:5,cellPaddingBlockSM:6},Slider:{dotBorderColor:u.colorPrimary,dotActiveBorderColor:u.colorPrimary,handleActiveColor:u.colorPrimary,handleColor:u.colorPrimary,handleColorDisabled:u.colorPrimary,trackBg:u.colorPrimary,trackHoverBg:u.colorPrimary,railHoverBg:"#ffffff80",railBg:"#ffffff12",handleSize:5,handleSizeHover:5,handleLineWidth:3,handleLineWidthHover:3,railSize:3},InputNumber:{paddingInlineSM:6},Tag:{defaultColor:"#ffffff"},Notification:{width:450}},algorithm:Ze.darkAlgorithm},children:[a,l,o,n.jsxs(di,{style:{minHeight:"100%"},children:[n.jsx(Vf,{}),n.jsxs(di,{hasSider:!0,children:[n.jsx(kf,{}),n.jsx(Nf,{style:{padding:10,margin:0,minHeight:280,marginLeft:"auto",marginRight:"auto",overflow:"initial",display:"flex",justifyContent:"space-around",width:"100%"},children:n.jsx(Zf,{})}),n.jsx(Dh,{})]})]})]})};function Xf(){return n.jsx(Uf,{})}const Yf={21:{id:"21",affixes:{1:{affix_id:"1",property:"HPDelta",base:45.1584,step:15.80544}}},22:{id:"22",affixes:{1:{affix_id:"1",property:"AttackDelta",base:22.5792,step:7.90272}}},23:{id:"23",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.027648,step:.009677},2:{affix_id:"2",property:"AttackAddedRatio",base:.027648,step:.009677},3:{affix_id:"3",property:"DefenceAddedRatio",base:.034560002,step:.012096001},4:{affix_id:"4",property:"CriticalChanceBase",base:.020736001,step:.007258},5:{affix_id:"5",property:"CriticalDamageBase",base:.041472,step:.014515},6:{affix_id:"6",property:"HealRatioBase",base:.022118,step:.0077410005},7:{affix_id:"7",property:"StatusProbabilityBase",base:.027648,step:.009677}}},24:{id:"24",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.027648,step:.009677},2:{affix_id:"2",property:"AttackAddedRatio",base:.027648,step:.009677},3:{affix_id:"3",property:"DefenceAddedRatio",base:.034560002,step:.012096001},4:{affix_id:"4",property:"SpeedDelta",base:1.6128,step:1}}},25:{id:"25",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.027648,step:.009677},2:{affix_id:"2",property:"AttackAddedRatio",base:.027648,step:.009677},3:{affix_id:"3",property:"DefenceAddedRatio",base:.034560002,step:.012096001},4:{affix_id:"4",property:"PhysicalAddedRatio",base:.024883,step:.008709},5:{affix_id:"5",property:"FireAddedRatio",base:.024883,step:.008709},6:{affix_id:"6",property:"IceAddedRatio",base:.024883,step:.008709},7:{affix_id:"7",property:"ThunderAddedRatio",base:.024883,step:.008709},8:{affix_id:"8",property:"WindAddedRatio",base:.024883,step:.008709},9:{affix_id:"9",property:"QuantumAddedRatio",base:.024883,step:.008709},10:{affix_id:"10",property:"ImaginaryAddedRatio",base:.024883,step:.008709}}},26:{id:"26",affixes:{1:{affix_id:"1",property:"BreakDamageAddedRatioBase",base:.041472,step:.014515},2:{affix_id:"2",property:"SPRatioBase",base:.012442,step:.0043550003},3:{affix_id:"3",property:"HPAddedRatio",base:.027648,step:.009677},4:{affix_id:"4",property:"AttackAddedRatio",base:.027648,step:.009677},5:{affix_id:"5",property:"DefenceAddedRatio",base:.034560002,step:.012096001}}},31:{id:"31",affixes:{1:{affix_id:"1",property:"HPDelta",base:67.7376,step:23.70816}}},32:{id:"32",affixes:{1:{affix_id:"1",property:"AttackDelta",base:33.8688,step:11.85408}}},33:{id:"33",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.041472,step:.014515},2:{affix_id:"2",property:"AttackAddedRatio",base:.041472,step:.014515},3:{affix_id:"3",property:"DefenceAddedRatio",base:.05184,step:.018144},4:{affix_id:"4",property:"CriticalChanceBase",base:.031104,step:.010886001},5:{affix_id:"5",property:"CriticalDamageBase",base:.062208,step:.021773001},6:{affix_id:"6",property:"HealRatioBase",base:.033178,step:.011612},7:{affix_id:"7",property:"StatusProbabilityBase",base:.041472,step:.014515}}},34:{id:"34",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.041472,step:.014515},2:{affix_id:"2",property:"AttackAddedRatio",base:.041472,step:.014515},3:{affix_id:"3",property:"DefenceAddedRatio",base:.05184,step:.018144},4:{affix_id:"4",property:"SpeedDelta",base:2.4192,step:1}}},35:{id:"35",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.041472,step:.014515},2:{affix_id:"2",property:"AttackAddedRatio",base:.041472,step:.014515},3:{affix_id:"3",property:"DefenceAddedRatio",base:.05184,step:.018144},4:{affix_id:"4",property:"PhysicalAddedRatio",base:.037325,step:.013064001},5:{affix_id:"5",property:"FireAddedRatio",base:.037325,step:.013064001},6:{affix_id:"6",property:"IceAddedRatio",base:.037325,step:.013064001},7:{affix_id:"7",property:"ThunderAddedRatio",base:.037325,step:.013064001},8:{affix_id:"8",property:"WindAddedRatio",base:.037325,step:.013064001},9:{affix_id:"9",property:"QuantumAddedRatio",base:.037325,step:.013064001},10:{affix_id:"10",property:"ImaginaryAddedRatio",base:.037325,step:.013064001}}},36:{id:"36",affixes:{1:{affix_id:"1",property:"BreakDamageAddedRatioBase",base:.062208,step:.021773001},2:{affix_id:"2",property:"SPRatioBase",base:.018662,step:.0065320004},3:{affix_id:"3",property:"HPAddedRatio",base:.041472,step:.014515},4:{affix_id:"4",property:"AttackAddedRatio",base:.041472,step:.014515},5:{affix_id:"5",property:"DefenceAddedRatio",base:.05184,step:.018144}}},41:{id:"41",affixes:{1:{affix_id:"1",property:"HPDelta",base:90.3168,step:31.61088}}},42:{id:"42",affixes:{1:{affix_id:"1",property:"AttackDelta",base:45.1584,step:15.80544}}},43:{id:"43",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.055296,step:.019354},2:{affix_id:"2",property:"AttackAddedRatio",base:.055296,step:.019354},3:{affix_id:"3",property:"DefenceAddedRatio",base:.06912,step:.024192},4:{affix_id:"4",property:"CriticalChanceBase",base:.041472,step:.014515},5:{affix_id:"5",property:"CriticalDamageBase",base:.082944,step:.029029999},6:{affix_id:"6",property:"HealRatioBase",base:.044237,step:.015483},7:{affix_id:"7",property:"StatusProbabilityBase",base:.055296,step:.019354}}},44:{id:"44",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.055296,step:.019354},2:{affix_id:"2",property:"AttackAddedRatio",base:.055296,step:.019354},3:{affix_id:"3",property:"DefenceAddedRatio",base:.06912,step:.024192},4:{affix_id:"4",property:"SpeedDelta",base:3.2256,step:1.1}}},45:{id:"45",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.055296,step:.019354},2:{affix_id:"2",property:"AttackAddedRatio",base:.055296,step:.019354},3:{affix_id:"3",property:"DefenceAddedRatio",base:.06912,step:.024192},4:{affix_id:"4",property:"PhysicalAddedRatio",base:.049766,step:.017418},5:{affix_id:"5",property:"FireAddedRatio",base:.049766,step:.017418},6:{affix_id:"6",property:"IceAddedRatio",base:.049766,step:.017418},7:{affix_id:"7",property:"ThunderAddedRatio",base:.049766,step:.017418},8:{affix_id:"8",property:"WindAddedRatio",base:.049766,step:.017418},9:{affix_id:"9",property:"QuantumAddedRatio",base:.049766,step:.017418},10:{affix_id:"10",property:"ImaginaryAddedRatio",base:.049766,step:.017418}}},46:{id:"46",affixes:{1:{affix_id:"1",property:"BreakDamageAddedRatioBase",base:.082944,step:.029029999},2:{affix_id:"2",property:"SPRatioBase",base:.024883,step:.008709},3:{affix_id:"3",property:"HPAddedRatio",base:.055296,step:.019354},4:{affix_id:"4",property:"AttackAddedRatio",base:.055296,step:.019354},5:{affix_id:"5",property:"DefenceAddedRatio",base:.06912,step:.024192}}},51:{id:"51",affixes:{1:{affix_id:"1",property:"HPDelta",base:112.896,step:39.5136}}},52:{id:"52",affixes:{1:{affix_id:"1",property:"AttackDelta",base:56.448,step:19.7568}}},53:{id:"53",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.06912,step:.024192},2:{affix_id:"2",property:"AttackAddedRatio",base:.06912,step:.024192},3:{affix_id:"3",property:"DefenceAddedRatio",base:.0864,step:.030240001},4:{affix_id:"4",property:"CriticalChanceBase",base:.05184,step:.018144},5:{affix_id:"5",property:"CriticalDamageBase",base:.10368,step:.036288},6:{affix_id:"6",property:"HealRatioBase",base:.055296,step:.019354},7:{affix_id:"7",property:"StatusProbabilityBase",base:.06912,step:.024192}}},54:{id:"54",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.06912,step:.024192},2:{affix_id:"2",property:"AttackAddedRatio",base:.06912,step:.024192},3:{affix_id:"3",property:"DefenceAddedRatio",base:.0864,step:.030240001},4:{affix_id:"4",property:"SpeedDelta",base:4.032,step:1.4}}},55:{id:"55",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.06912,step:.024192},2:{affix_id:"2",property:"AttackAddedRatio",base:.06912,step:.024192},3:{affix_id:"3",property:"DefenceAddedRatio",base:.0864,step:.030240001},4:{affix_id:"4",property:"PhysicalAddedRatio",base:.062208,step:.021773001},5:{affix_id:"5",property:"FireAddedRatio",base:.062208,step:.021773001},6:{affix_id:"6",property:"IceAddedRatio",base:.062208,step:.021773001},7:{affix_id:"7",property:"ThunderAddedRatio",base:.062208,step:.021773001},8:{affix_id:"8",property:"WindAddedRatio",base:.062208,step:.021773001},9:{affix_id:"9",property:"QuantumAddedRatio",base:.062208,step:.021773001},10:{affix_id:"10",property:"ImaginaryAddedRatio",base:.062208,step:.021773001}}},56:{id:"56",affixes:{1:{affix_id:"1",property:"BreakDamageAddedRatioBase",base:.10368,step:.036288},2:{affix_id:"2",property:"SPRatioBase",base:.031104,step:.010886001},3:{affix_id:"3",property:"HPAddedRatio",base:.06912,step:.024192},4:{affix_id:"4",property:"AttackAddedRatio",base:.06912,step:.024192},5:{affix_id:"5",property:"DefenceAddedRatio",base:.0864,step:.030240001}}},433:{id:"433",affixes:{1:{affix_id:"1",property:"DefenceAddedRatio",base:.06912,step:.024192}}},434:{id:"434",affixes:{1:{affix_id:"1",property:"CriticalChanceBase",base:.041472,step:.014515}}},436:{id:"436",affixes:{1:{affix_id:"1",property:"HealRatioBase",base:.044237,step:.015483}}},441:{id:"441",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.055296,step:.019354}}},443:{id:"443",affixes:{1:{affix_id:"1",property:"DefenceAddedRatio",base:.06912,step:.024192}}}},Kf={2:{id:"2",affixes:{1:{affix_id:"1",property:"HPDelta",base:13.548016,step:1.693502,step_num:2},2:{affix_id:"2",property:"AttackDelta",base:6.774008,step:.846751,step_num:2},3:{affix_id:"3",property:"DefenceDelta",base:6.774008,step:.846751,step_num:2},4:{affix_id:"4",property:"HPAddedRatio",base:.013824001,step:.0017280006,step_num:2},5:{affix_id:"5",property:"AttackAddedRatio",base:.013824001,step:.0017280006,step_num:2},6:{affix_id:"6",property:"DefenceAddedRatio",base:.017280001,step:.0021600004,step_num:2},7:{affix_id:"7",property:"SpeedDelta",base:1,step:.1,step_num:2},8:{affix_id:"8",property:"CriticalChanceBase",base:.010368001,step:.0012960008,step_num:2},9:{affix_id:"9",property:"CriticalDamageBase",base:.020736001,step:.0025920009,step_num:2},10:{affix_id:"10",property:"StatusProbabilityBase",base:.013824001,step:.0017280006,step_num:2},11:{affix_id:"11",property:"StatusResistanceBase",base:.013824001,step:.0017280006,step_num:2},12:{affix_id:"12",property:"BreakDamageAddedRatioBase",base:.020736001,step:.0025920009,step_num:2}}},3:{id:"3",affixes:{1:{affix_id:"1",property:"HPDelta",base:20.322023,step:2.540253,step_num:2},2:{affix_id:"2",property:"AttackDelta",base:10.161012,step:1.270126,step_num:2},3:{affix_id:"3",property:"DefenceDelta",base:10.161012,step:1.270126,step_num:2},4:{affix_id:"4",property:"HPAddedRatio",base:.020736001,step:.0025920009,step_num:2},5:{affix_id:"5",property:"AttackAddedRatio",base:.020736001,step:.0025920009,step_num:2},6:{affix_id:"6",property:"DefenceAddedRatio",base:.02592,step:.0032400002,step_num:2},7:{affix_id:"7",property:"SpeedDelta",base:1.2,step:.1,step_num:2},8:{affix_id:"8",property:"CriticalChanceBase",base:.015552,step:.0019440008,step_num:2},9:{affix_id:"9",property:"CriticalDamageBase",base:.031104,step:.003888001,step_num:2},10:{affix_id:"10",property:"StatusProbabilityBase",base:.020736001,step:.0025920009,step_num:2},11:{affix_id:"11",property:"StatusResistanceBase",base:.020736001,step:.0025920009,step_num:2},12:{affix_id:"12",property:"BreakDamageAddedRatioBase",base:.031104,step:.003888001,step_num:2}}},4:{id:"4",affixes:{1:{affix_id:"1",property:"HPDelta",base:27.096031,step:3.387004,step_num:2},2:{affix_id:"2",property:"AttackDelta",base:13.548016,step:1.693502,step_num:2},3:{affix_id:"3",property:"DefenceDelta",base:13.548016,step:1.693502,step_num:2},4:{affix_id:"4",property:"HPAddedRatio",base:.027648,step:.0034560005,step_num:2},5:{affix_id:"5",property:"AttackAddedRatio",base:.027648,step:.0034560005,step_num:2},6:{affix_id:"6",property:"DefenceAddedRatio",base:.034560002,step:.0043200003,step_num:2},7:{affix_id:"7",property:"SpeedDelta",base:1.6,step:.2,step_num:2},8:{affix_id:"8",property:"CriticalChanceBase",base:.020736001,step:.0025920009,step_num:2},9:{affix_id:"9",property:"CriticalDamageBase",base:.041472,step:.0051840004,step_num:2},10:{affix_id:"10",property:"StatusProbabilityBase",base:.027648,step:.0034560005,step_num:2},11:{affix_id:"11",property:"StatusResistanceBase",base:.027648,step:.0034560005,step_num:2},12:{affix_id:"12",property:"BreakDamageAddedRatioBase",base:.041472,step:.0051840004,step_num:2}}},5:{id:"5",affixes:{1:{affix_id:"1",property:"HPDelta",base:33.87004,step:4.233755,step_num:2},2:{affix_id:"2",property:"AttackDelta",base:16.935019,step:2.116877,step_num:2},3:{affix_id:"3",property:"DefenceDelta",base:16.935019,step:2.116877,step_num:2},4:{affix_id:"4",property:"HPAddedRatio",base:.034560002,step:.0043200003,step_num:2},5:{affix_id:"5",property:"AttackAddedRatio",base:.034560002,step:.0043200003,step_num:2},6:{affix_id:"6",property:"DefenceAddedRatio",base:.0432,step:.0054,step_num:2},7:{affix_id:"7",property:"SpeedDelta",base:2,step:.3,step_num:2},8:{affix_id:"8",property:"CriticalChanceBase",base:.02592,step:.0032400002,step_num:2},9:{affix_id:"9",property:"CriticalDamageBase",base:.05184,step:.0064800004,step_num:2},10:{affix_id:"10",property:"StatusProbabilityBase",base:.034560002,step:.0043200003,step_num:2},11:{affix_id:"11",property:"StatusResistanceBase",base:.034560002,step:.0043200003,step_num:2},12:{affix_id:"12",property:"BreakDamageAddedRatioBase",base:.05184,step:.0064800004,step_num:2}}}},Ha=Kn.characters,$o=Kn.lightCones,t0=[F.MessengerTraversingHackerspace,F.ThiefOfShootingMeteor,F.WatchmakerMasterOfDreamMachinations,F.IronCavalryAgainstTheScourge],kt=[[F.GeniusOfBrilliantStars,F.GeniusOfBrilliantStars],[F.PioneerDiverOfDeadWaters,F.PioneerDiverOfDeadWaters]],He=[F.DuranDynastyOfRunningWolves,F.SigoniaTheUnclaimedDesolation,F.InertSalsotto],Nt=[F.FirmamentFrontlineGlamoth,F.SigoniaTheUnclaimedDesolation],ar={parse:()=>{const t=wf(),a=Af();for(const u of Object.values($o)){const f=u.id;t[f]?u.superimpositions=t[f]:u.superimpositions={};let p=200;a[f]!=null&&a[f]!={}&&(p=a[f]),u.displayName=u.name,u.imageCenter=p}const i=jf(),l=Jf(),s=Of();for(const u of Object.values(s))for(const f of[T.Body,T.Feet,T.PlanarSphere,T.LinkRope])u.parts[f].length===0&&(u.parts[f]=ni[f]);for(const[u,f]of Object.entries(i)){if(!Ha[u])continue;let p={x:1024,y:1024};l[u]!=null&&(p=l[u]),Ha[u].traces=f,Ha[u].imageCenter=p,Ha[u].displayName=vf(Ha[u]),Ha[u].scoringMetadata=s[u],Ha[u].scoringMetadata.characterId=u}const o=Kn.relics.reduce((u,f)=>(u[f.id]=f,u),{}),r={characters:Ha,lightCones:$o,relics:{relicMainAffixes:Yf,relicSubAffixes:Kf,relicSets:o}};return L.setMetadata(r),r}},e0={8001:"Caelus (Destruction)",8002:"Stelle (Destruction)",8003:"Caelus (Preservation)",8004:"Stelle (Preservation)",8005:"Caelus (Harmony)",8006:"Stelle (Harmony)",1213:"Imbibitor Lunae",1224:"March 7th (Hunt)"};function vf(t){return t.id in e0?e0[t.id]:t.name}function wf(){return{2e4:{},20001:{},20002:{},20003:{1:{[e.DEF_P]:.16},2:{[e.DEF_P]:.2},3:{[e.DEF_P]:.24},4:{[e.DEF_P]:.28},5:{[e.DEF_P]:.32}},20004:{},20005:{},20006:{},20007:{},20008:{},20009:{},20010:{},20011:{},20012:{},20013:{},20014:{},20015:{},20016:{},20017:{},20018:{},20019:{},20020:{},21e3:{1:{[e.ERR]:.08},2:{[e.ERR]:.1},3:{[e.ERR]:.12},4:{[e.ERR]:.14},5:{[e.ERR]:.16}},21001:{},21002:{1:{[e.DEF_P]:.16},2:{[e.DEF_P]:.18},3:{[e.DEF_P]:.2},4:{[e.DEF_P]:.22},5:{[e.DEF_P]:.24}},21003:{1:{[e.ATK_P]:.16},2:{[e.ATK_P]:.2},3:{[e.ATK_P]:.24},4:{[e.ATK_P]:.28},5:{[e.ATK_P]:.32}},21004:{1:{[e.BE]:.28},2:{[e.BE]:.35},3:{[e.BE]:.42},4:{[e.BE]:.49},5:{[e.BE]:.56}},21005:{},21006:{},21007:{},21008:{1:{[e.EHR]:.2},2:{[e.EHR]:.25},3:{[e.EHR]:.3},4:{[e.EHR]:.35},5:{[e.EHR]:.4}},21009:{},21010:{},21011:{},21012:{},21013:{},21014:{1:{[e.RES]:.16},2:{[e.RES]:.2},3:{[e.RES]:.24},4:{[e.RES]:.28},5:{[e.RES]:.32}},21015:{},21016:{1:{[e.DEF_P]:.16},2:{[e.DEF_P]:.2},3:{[e.DEF_P]:.24},4:{[e.DEF_P]:.28},5:{[e.DEF_P]:.32}},21017:{},21018:{},21019:{1:{[e.ATK_P]:.16},2:{[e.ATK_P]:.2},3:{[e.ATK_P]:.24},4:{[e.ATK_P]:.28},5:{[e.ATK_P]:.32}},21020:{1:{[e.ATK_P]:.16},2:{[e.ATK_P]:.2},3:{[e.ATK_P]:.24},4:{[e.ATK_P]:.28},5:{[e.ATK_P]:.32}},21021:{},21022:{1:{[e.BE]:.16},2:{[e.BE]:.2},3:{[e.BE]:.24},4:{[e.BE]:.28},5:{[e.BE]:.32}},21023:{},21024:{},21025:{},21026:{1:{[e.ATK_P]:.1},2:{[e.ATK_P]:.125},3:{[e.ATK_P]:.15},4:{[e.ATK_P]:.175},5:{[e.ATK_P]:.2}},21027:{},21028:{1:{[e.HP_P]:.16},2:{[e.HP_P]:.2},3:{[e.HP_P]:.24},4:{[e.HP_P]:.28},5:{[e.HP_P]:.32}},21029:{},21030:{1:{[e.DEF_P]:.16},2:{[e.DEF_P]:.2},3:{[e.DEF_P]:.24},4:{[e.DEF_P]:.28},5:{[e.DEF_P]:.32}},21031:{1:{[e.CR]:.12},2:{[e.CR]:.15},3:{[e.CR]:.18},4:{[e.CR]:.21},5:{[e.CR]:.24}},21032:{},21033:{1:{[e.ATK_P]:.24},2:{[e.ATK_P]:.3},3:{[e.ATK_P]:.36},4:{[e.ATK_P]:.42},5:{[e.ATK_P]:.48}},21034:{},21035:{1:{[e.BE]:.24},2:{[e.BE]:.3},3:{[e.BE]:.36},4:{[e.BE]:.42},5:{[e.BE]:.48}},21036:{},21037:{1:{[e.ATK_P]:.12},2:{[e.ATK_P]:.14},3:{[e.ATK_P]:.16},4:{[e.ATK_P]:.18},5:{[e.ATK_P]:.2}},21038:{},21039:{1:{[e.RES]:.12},2:{[e.RES]:.14},3:{[e.RES]:.16},4:{[e.RES]:.18},5:{[e.RES]:.2}},21040:{1:{[e.ATK_P]:.16},2:{[e.ATK_P]:.18},3:{[e.ATK_P]:.2},4:{[e.ATK_P]:.22},5:{[e.ATK_P]:.24}},21041:{},21042:{1:{[e.BE]:.28},2:{[e.BE]:.35},3:{[e.BE]:.42},4:{[e.BE]:.49},5:{[e.BE]:.56}},21043:{1:{[e.DEF_P]:.16},2:{[e.DEF_P]:.2},3:{[e.DEF_P]:.24},4:{[e.DEF_P]:.28},5:{[e.DEF_P]:.32}},21044:{1:{[e.CR]:.08},2:{[e.CR]:.1},3:{[e.CR]:.12},4:{[e.CR]:.14},5:{[e.CR]:.16}},21045:{1:{[Constants.Stats.BE]:.28},2:{[Constants.Stats.BE]:.35},3:{[Constants.Stats.BE]:.42},4:{[Constants.Stats.BE]:.49},5:{[Constants.Stats.BE]:.56}},21046:{1:{[Constants.Stats.ATK_P]:.16},2:{[Constants.Stats.ATK_P]:.2},3:{[Constants.Stats.ATK_P]:.24},4:{[Constants.Stats.ATK_P]:.28},5:{[Constants.Stats.ATK_P]:.32}},21047:{1:{[Constants.Stats.BE]:.28},2:{[Constants.Stats.BE]:.35},3:{[Constants.Stats.BE]:.42},4:{[Constants.Stats.BE]:.49},5:{[Constants.Stats.BE]:.56}},21048:{1:{[Constants.Stats.SPD_P]:.08},2:{[Constants.Stats.SPD_P]:.09},3:{[Constants.Stats.SPD_P]:.1},4:{[Constants.Stats.SPD_P]:.11},5:{[Constants.Stats.SPD_P]:.12}},22e3:{1:{[e.EHR]:.2},2:{[e.EHR]:.25},3:{[e.EHR]:.3},4:{[e.EHR]:.35},5:{[e.EHR]:.4}},22001:{1:{[e.HP_P]:.08},2:{[e.HP_P]:.09},3:{[e.HP_P]:.1},4:{[e.HP_P]:.11},5:{[e.HP_P]:.12}},22002:{1:{[e.ATK_P]:.16},2:{[e.ATK_P]:.2},3:{[e.ATK_P]:.24},4:{[e.ATK_P]:.28},5:{[e.ATK_P]:.32}},22003:{1:{[e.HP_P]:.12},2:{[e.HP_P]:.15},3:{[e.HP_P]:.18},4:{[e.HP_P]:.21},5:{[e.HP_P]:.24}},23e3:{},23001:{1:{[e.CR]:.18},2:{[e.CR]:.21},3:{[e.CR]:.24},4:{[e.CR]:.27},5:{[e.CR]:.3}},23002:{1:{[e.ATK_P]:.24},2:{[e.ATK_P]:.28},3:{[e.ATK_P]:.32},4:{[e.ATK_P]:.36},5:{[e.ATK_P]:.4}},23003:{1:{[e.ERR]:.1},2:{[e.ERR]:.12},3:{[e.ERR]:.14},4:{[e.ERR]:.16},5:{[e.ERR]:.18}},23004:{},23005:{1:{[e.DEF_P]:.24,[e.EHR]:.24},2:{[e.DEF_P]:.28,[e.EHR]:.28},3:{[e.DEF_P]:.32,[e.EHR]:.32},4:{[e.DEF_P]:.36,[e.EHR]:.36},5:{[e.DEF_P]:.4,[e.EHR]:.4}},23006:{},23007:{1:{[e.EHR]:.24},2:{[e.EHR]:.28},3:{[e.EHR]:.32},4:{[e.EHR]:.36},5:{[e.EHR]:.4}},23008:{1:{[e.ATK_P]:.24},2:{[e.ATK_P]:.28},3:{[e.ATK_P]:.32},4:{[e.ATK_P]:.36},5:{[e.ATK_P]:.4}},23009:{1:{[e.CR]:.18,[e.HP_P]:.18},2:{[e.CR]:.21,[e.HP_P]:.21},3:{[e.CR]:.24,[e.HP_P]:.24},4:{[e.CR]:.27,[e.HP_P]:.27},5:{[e.CR]:.3,[e.HP_P]:.3}},23010:{1:{[e.CD]:.36},2:{[e.CD]:.42},3:{[e.CD]:.48},4:{[e.CD]:.54},5:{[e.CD]:.6}},23011:{1:{[e.HP_P]:.24,[e.ERR]:.12},2:{[e.HP_P]:.28,[e.ERR]:.14},3:{[e.HP_P]:.32,[e.ERR]:.16},4:{[e.HP_P]:.36,[e.ERR]:.18},5:{[e.HP_P]:.4,[e.ERR]:.2}},23012:{1:{[e.CD]:.3},2:{[e.CD]:.35},3:{[e.CD]:.4},4:{[e.CD]:.45},5:{[e.CD]:.5}},23013:{1:{[e.HP_P]:.18,[e.OHB]:.12},2:{[e.HP_P]:.21,[e.OHB]:.14},3:{[e.HP_P]:.24,[e.OHB]:.16},4:{[e.HP_P]:.27,[e.OHB]:.18},5:{[e.HP_P]:.3,[e.OHB]:.2}},23014:{1:{[e.CD]:.2},2:{[e.CD]:.23},3:{[e.CD]:.26},4:{[e.CD]:.29},5:{[e.CD]:.32}},23015:{1:{[e.CR]:.18},2:{[e.CR]:.21},3:{[e.CR]:.24},4:{[e.CR]:.27},5:{[e.CR]:.3}},23016:{1:{[e.CR]:.18},2:{[e.CR]:.21},3:{[e.CR]:.24},4:{[e.CR]:.27},5:{[e.CR]:.3}},23017:{1:{[e.ERR]:.12},2:{[e.ERR]:.14},3:{[e.ERR]:.16},4:{[e.ERR]:.18},5:{[e.ERR]:.2}},23018:{1:{[e.CD]:.36},2:{[e.CD]:.42},3:{[e.CD]:.48},4:{[e.CD]:.54},5:{[e.CD]:.6}},23019:{1:{[e.BE]:.6},2:{[e.BE]:.7},3:{[e.BE]:.8},4:{[e.BE]:.9},5:{[e.BE]:1}},23020:{1:{[e.CD]:.2},2:{[e.CD]:.23},3:{[e.CD]:.26},4:{[e.CD]:.29},5:{[e.CD]:.32}},23021:{1:{[e.CD]:.32},2:{[e.CD]:.39},3:{[e.CD]:.46},4:{[e.CD]:.53},5:{[e.CD]:.6}},23022:{1:{[e.EHR]:.4},2:{[e.EHR]:.45},3:{[e.EHR]:.5},4:{[e.EHR]:.55},5:{[e.EHR]:.6}},23023:{1:{[e.DEF_P]:.4},2:{[e.DEF_P]:.46},3:{[e.DEF_P]:.52},4:{[e.DEF_P]:.58},5:{[e.DEF_P]:.64}},23024:{1:{[e.CD]:.36},2:{[e.CD]:.42},3:{[e.CD]:.48},4:{[e.CD]:.54},5:{[e.CD]:.6}},23025:{1:{[Constants.Stats.BE]:.6},2:{[Constants.Stats.BE]:.7},3:{[Constants.Stats.BE]:.8},4:{[Constants.Stats.BE]:.9},5:{[Constants.Stats.BE]:1}},23026:{},23027:{1:{[e.BE]:.6},2:{[e.BE]:.7},3:{[e.BE]:.8},4:{[e.BE]:.9},5:{[e.BE]:1}},23028:{1:{[Constants.Stats.CR]:.16},2:{[Constants.Stats.CR]:.19},3:{[Constants.Stats.CR]:.22},4:{[Constants.Stats.CR]:.25},5:{[Constants.Stats.CR]:.28}},23029:{1:{[Constants.Stats.EHR]:.6},2:{[Constants.Stats.EHR]:.7},3:{[Constants.Stats.EHR]:.8},4:{[Constants.Stats.EHR]:.9},5:{[Constants.Stats.EHR]:1}},23030:{1:{[Constants.Stats.CD]:.36},2:{[Constants.Stats.CD]:.42},3:{[Constants.Stats.CD]:.48},4:{[Constants.Stats.CD]:.54},5:{[Constants.Stats.CD]:.6}},23031:{1:{[Constants.Stats.CR]:.15},2:{[Constants.Stats.CR]:.175},3:{[Constants.Stats.CR]:.2},4:{[Constants.Stats.CR]:.225},5:{[Constants.Stats.CR]:.25}},23032:{1:{[Constants.Stats.BE]:.6},2:{[Constants.Stats.BE]:.7},3:{[Constants.Stats.BE]:.8},4:{[Constants.Stats.BE]:.9},5:{[Constants.Stats.BE]:1}},23033:{1:{[Constants.Stats.BE]:.6},2:{[Constants.Stats.BE]:.7},3:{[Constants.Stats.BE]:.8},4:{[Constants.Stats.BE]:.9},5:{[Constants.Stats.BE]:1}},24e3:{},24001:{1:{[e.CR]:.08},2:{[e.CR]:.1},3:{[e.CR]:.12},4:{[e.CR]:.14},5:{[e.CR]:.16}},24002:{1:{[e.RES]:.08},2:{[e.RES]:.1},3:{[e.RES]:.12},4:{[e.RES]:.14},5:{[e.RES]:.16}},24003:{1:{[e.BE]:.2},2:{[e.BE]:.25},3:{[e.BE]:.3},4:{[e.BE]:.35},5:{[e.BE]:.4}},24004:{1:{[Constants.Stats.ATK_P]:.08},2:{[Constants.Stats.ATK_P]:.09},3:{[Constants.Stats.ATK_P]:.1},4:{[Constants.Stats.ATK_P]:.11},5:{[Constants.Stats.ATK_P]:.12}}}}function Af(){return{2e4:270,20001:220,20002:160,20003:310,20004:180,20005:210,20006:390,20007:180,20008:220,20009:230,20010:250,20011:390,20012:300,20013:220,20014:210,20015:270,20016:270,20017:410,20018:190,20019:230,20020:250,21e3:150,21001:290,21002:160,21003:195,21004:150,21005:250,21006:170,21007:240,21008:140,21009:140,21010:160,21011:115,21012:160,21013:200,21014:140,21015:125,21016:180,21017:140,21018:210,21019:180,21020:230,21021:180,21022:300,21023:240,21024:140,21025:125,21026:160,21027:200,21028:250,21029:160,21030:305,21031:190,21032:245,21033:140,21034:220,21035:300,21036:220,21037:210,21038:130,21039:220,21040:150,21041:160,21042:200,21043:220,21044:150,21045:160,21046:145,21047:145,21048:250,22e3:275,22001:220,22002:160,22003:185,23e3:140,23001:150,23002:160,23003:250,23004:140,23005:150,23006:200,23007:210,23008:160,23009:130,23010:180,23011:180,23012:300,23013:180,23014:120,23015:190,23016:130,23017:190,23018:170,23019:270,23020:220,23021:150,23022:190,23023:140,23024:80,23025:125,23026:180,23027:140,23028:150,23029:140,23031:145,23032:180,23033:175,24e3:170,24001:270,24002:170,24003:250,24004:270}}function jf(){return{1001:{[e.Ice_DMG]:.224,[e.DEF_P]:.225,[e.RES]:.1},1002:{[e.Wind_DMG]:.224,[e.ATK_P]:.18,[e.DEF_P]:.125},1003:{[e.Fire_DMG]:.224,[e.ATK_P]:.18,[e.RES]:.1},1004:{[e.ATK_P]:.28,[e.Imaginary_DMG]:.144,[e.RES]:.1},1005:{[e.ATK_P]:.28,[e.EHR]:.18,[e.HP_P]:.1},1006:{[e.ATK_P]:.28,[e.EHR]:.18,[e.Quantum_DMG]:.08},1008:{[e.ATK_P]:.28,[e.RES]:.12,[e.HP_P]:.1},1009:{[e.Fire_DMG]:.224,[e.DEF_P]:.225,[e.CR]:.067},1013:{[e.Ice_DMG]:.224,[e.DEF_P]:.225,[e.CR]:.067},1101:{[e.Wind_DMG]:.224,[e.CD]:.24,[e.RES]:.1},1102:{[e.ATK_P]:.28,[e.CD]:.24,[e.DEF_P]:.125},1103:{[e.CR]:.187,[e.EHR]:.18,[e.RES]:.1},1104:{[e.Ice_DMG]:.224,[e.RES]:.18,[e.DEF_P]:.125},1105:{[e.HP_P]:.28,[e.DEF_P]:.125,[e.RES]:.18},1106:{[e.Ice_DMG]:.224,[e.ATK_P]:.18,[e.EHR]:.1},1107:{[e.ATK_P]:.28,[e.Physical_DMG]:.144,[e.HP_P]:.1},1108:{[e.ATK_P]:.28,[e.EHR]:.18,[e.RES]:.1},1109:{[e.ATK_P]:.28,[e.HP_P]:.18,[e.CD]:.133},1110:{[e.HP_P]:.28,[e.DEF_P]:.225,[e.RES]:.1},1111:{[e.ATK_P]:.28,[e.EHR]:.18,[e.DEF_P]:.125},1112:{[e.Fire_DMG]:.224,[e.CR]:.12,[e.HP_P]:.1},1201:{[e.ATK_P]:.28,[e.Quantum_DMG]:.144,[e.DEF_P]:.125},1202:{[e.ATK_P]:.28,[e.DEF_P]:.225,[e.Lightning_DMG]:.08},1203:{[e.ATK_P]:.28,[e.HP_P]:.18,[e.DEF_P]:.125},1204:{[e.ATK_P]:.28,[e.DEF_P]:.125,[e.CR]:.12},1205:{[e.HP_P]:.28,[e.CR]:.12,[e.RES]:.1},1206:{[e.ATK_P]:.28,[e.HP_P]:.18,[e.DEF_P]:.125},1207:{[e.Imaginary_DMG]:.224,[e.HP_P]:.18,[e.ATK_P]:.1},1208:{[e.CR]:.187,[e.HP_P]:.18,[e.RES]:.1},1209:{[e.ATK_P]:.28,[e.Ice_DMG]:.144,[e.HP_P]:.1},1210:{[e.Fire_DMG]:.224,[e.EHR]:.1,[e.BE]:.24},1211:{[e.HP_P]:.28,[e.DEF_P]:.225,[e.RES]:.1},1212:{[e.HP_P]:.1,[e.SPD]:9,[e.CD]:.373},1213:{[e.Imaginary_DMG]:.224,[e.CR]:.12,[e.HP_P]:.1},1214:{[e.Quantum_DMG]:.08,[e.HP_P]:.18,[e.BE]:.373},1215:{[e.ATK_P]:.28,[e.HP_P]:.1,[e.SPD]:9},1217:{[e.HP_P]:.28,[e.RES]:.18,[e.SPD]:5},1218:{[e.EHR]:.28,[e.Fire_DMG]:.144,[e.SPD]:5},1220:{[e.ATK_P]:.28,[e.CR]:.12,[e.DEF_P]:.125},1221:{[e.ATK_P]:.28,[e.HP_P]:.18,[e.CR]:.067},1222:{[e.BE]:.373,[e.HP_P]:.18,[e.ATK_P]:.1},1223:{[e.CD]:.373,[e.ATK_P]:.18,[e.HP_P]:.1},1224:{[e.ATK_P]:.28,[e.CD]:.24,[e.DEF_P]:.125},1301:{[e.BE]:.133,[e.HP_P]:.18,[e.RES]:.28},1302:{[e.ATK_P]:.28,[e.Physical_DMG]:.144,[e.HP_P]:.1},1303:{[e.BE]:.373,[e.DEF_P]:.225,[e.SPD]:5},1304:{[e.DEF_P]:.35,[e.Imaginary_DMG]:.144,[e.RES]:.1},1305:{[e.ATK_P]:.28,[e.CR]:.12,[e.DEF_P]:.125},1306:{[e.HP_P]:.28,[e.CD]:.24,[e.RES]:.1},1307:{[e.ATK_P]:.28,[e.Wind_DMG]:.144,[e.EHR]:.1},1308:{[e.ATK_P]:.28,[e.Lightning_DMG]:.08,[e.CD]:.24},1309:{[e.ATK_P]:.28,[e.HP_P]:.18,[e.SPD]:5},1310:{[Constants.Stats.BE]:.373,[Constants.Stats.RES]:.18,[Constants.Stats.SPD]:5},1312:{[e.Ice_DMG]:.224,[e.DEF_P]:.225,[e.CR]:.067},1314:{[Constants.Stats.Quantum_DMG]:.224,[Constants.Stats.ATK_P]:.18,[Constants.Stats.RES]:.1},1315:{[e.BE]:.373,[e.ATK_P]:.18,[e.HP_P]:.1},1317:{[e.ATK_P]:.28,[e.SPD]:9,[e.BE]:.133},8001:{[e.ATK_P]:.28,[e.HP_P]:.18,[e.DEF_P]:.125},8002:{[e.ATK_P]:.28,[e.HP_P]:.18,[e.DEF_P]:.125},8003:{[e.DEF_P]:.35,[e.ATK_P]:.18,[e.HP_P]:.1},8004:{[e.DEF_P]:.35,[e.ATK_P]:.18,[e.HP_P]:.1},8005:{[e.BE]:.373,[e.Imaginary_DMG]:.144,[e.RES]:.1},8006:{[e.BE]:.373,[e.Imaginary_DMG]:.144,[e.RES]:.1}}}function Jf(){return{1001:{x:985,y:1075,z:1.05},1002:{x:1024,y:1e3,z:1},1003:{x:1015,y:1215,z:1.05},1004:{x:885,y:950,z:1},1005:{x:1e3,y:950,z:1.1},1006:{x:1050,y:950,z:1},1008:{x:1240,y:1e3,z:1},1009:{x:1024,y:975,z:1},1013:{x:970,y:910,z:1.1},1101:{x:950,y:1200,z:1.1},1102:{x:820,y:1075,z:1.1},1103:{x:1060,y:1030,z:1.3},1104:{x:1150,y:1110,z:1},1105:{x:1040,y:1024,z:1},1106:{x:780,y:1100,z:1},1107:{x:880,y:900,z:1.15},1108:{x:1e3,y:950,z:1},1109:{x:975,y:1025,z:1.1},1110:{x:1180,y:1050,z:1.05},1111:{x:930,y:1e3,z:1},1112:{x:1120,y:875,z:1},1201:{x:1e3,y:1024,z:1},1202:{x:1024,y:950,z:1},1203:{x:1024,y:975,z:1.05},1204:{x:1024,y:1024,z:1.1},1205:{x:990,y:800,z:1},1206:{x:1075,y:1015,z:1.2},1207:{x:900,y:1055,z:1.1},1208:{x:920,y:950,z:1},1209:{x:1e3,y:1e3,z:1},1210:{x:1e3,y:1024,z:1},1211:{x:1e3,y:950,z:1},1212:{x:1024,y:930,z:1},1213:{x:1050,y:1e3,z:1.05},1214:{x:1e3,y:900,z:1},1215:{x:1e3,y:1024,z:1.1},1217:{x:950,y:975,z:1.075},1218:{x:950,y:900,z:1.1},1220:{x:1024,y:1050,z:1},1221:{x:1024,y:1075,z:1.1},1222:{x:1110,y:1e3,z:1.1},1223:{x:960,y:1024,z:1.05},1224:{x:825,y:950,z:1.1},1301:{x:1200,y:975,z:1},1302:{x:680,y:1e3,z:1.15},1303:{x:1060,y:1050,z:1},1304:{x:1150,y:1e3,z:1.05},1305:{x:965,y:840,z:1.15},1306:{x:1050,y:1050,z:1},1307:{x:950,y:925,z:1.25},1308:{x:1e3,y:900,z:1},1309:{x:1024,y:925,z:1},1310:{x:930,y:1075,z:1.25},1312:{x:1050,y:1075,z:1},1314:{x:1024,y:850,z:1.15},1315:{x:1e3,y:1100,z:1},1317:{x:1125,y:1175,z:1},8001:{x:1024,y:1100,z:1},8002:{x:1024,y:1024,z:1},8003:{x:980,y:1024,z:1.05},8004:{x:1050,y:1024,z:1.05},8005:{x:1040,y:1e3,z:1.1},8006:{x:1040,y:1e3,z:1.1}}}function Of(){return{1001:{stats:{[e.ATK]:0,[e.ATK_P]:0,[e.DEF]:1,[e.DEF_P]:1,[e.HP]:.5,[e.HP_P]:.5,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:1,[e.RES]:.75,[e.BE]:0,[e.ERR]:1,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.DEF_P,e.EHR],[T.Feet]:[e.DEF_P,e.SPD],[T.PlanarSphere]:[e.DEF_P],[T.LinkRope]:[e.DEF_P,e.ERR]},presets:[nt.VALOROUS_SET],sortOption:v.DEF},1002:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:0,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:1,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Wind_DMG],[T.LinkRope]:[e.ATK_P]},presets:[nt.fnPioneerSet(4)],sortOption:v.ULT,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Wind_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[F.PioneerDiverOfDeadWaters,F.PioneerDiverOfDeadWaters],...kt],ornamentSets:[F.RutilantArena,...Nt],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1003:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:.5,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:1,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CD,e.CR],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Fire_DMG],[T.LinkRope]:[e.ATK_P]},presets:[nt.fnAshblazingSet(8),nt.fnPioneerSet(4),nt.VALOROUS_SET],sortOption:v.FUA,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Fire_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:0,SKILL:2,ULT:1,FUA:3,DOT:0,BREAK:0},relicSets:[[F.TheAshblazingGrandDuke,F.TheAshblazingGrandDuke],...kt],ornamentSets:[F.DuranDynastyOfRunningWolves,...He,...Nt],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1004:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:1,[e.RES]:0,[e.BE]:0,[e.ERR]:1,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:1},parts:{[T.Body]:[e.CD,e.CR,e.EHR],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Imaginary_DMG],[T.LinkRope]:[e.ATK_P,e.ERR]},presets:[nt.WASTELANDER_SET,nt.fnPioneerSet(4)],sortOption:v.SKILL,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Imaginary_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[F.PioneerDiverOfDeadWaters,F.PioneerDiverOfDeadWaters],...kt],ornamentSets:[F.RutilantArena,...Nt],teammates:[{characterId:"1308",lightCone:"23024",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1106",lightCone:"21015",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1005:{stats:{[e.ATK]:1,[e.ATK_P]:1,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:.5,[e.RES]:0,[e.BE]:0,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:1,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.ATK_P],[T.Feet]:[e.SPD,e.ATK_P],[T.PlanarSphere]:[e.ATK_P,e.Lightning_DMG],[T.LinkRope]:[e.ATK_P]},presets:[nt.PRISONER_SET,nt.fnAshblazingSet(6),nt.VALOROUS_SET],sortOption:v.DOT,simulation:{parts:{[T.Body]:[e.ATK_P],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Lightning_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.ATK_P,e.ATK,e.EHR,e.CR,e.CD],breakpoints:{[e.EHR]:.282},formula:{BASIC:0,SKILL:2,ULT:1,FUA:2,DOT:16,BREAK:0},relicSets:[[F.PrisonerInDeepConfinement,F.PrisonerInDeepConfinement]],ornamentSets:[F.FirmamentFrontlineGlamoth],teammates:[{characterId:"1307",lightCone:"23022",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1006:{stats:{[e.ATK]:0,[e.ATK_P]:0,[e.DEF]:.5,[e.DEF_P]:.5,[e.HP]:.5,[e.HP_P]:.5,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:1,[e.RES]:.5,[e.BE]:0,[e.ERR]:1,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:1,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CD,e.CR,e.EHR],[T.Feet]:[e.SPD],[T.PlanarSphere]:[e.Quantum_DMG,e.ATK_P,e.HP_P,e.DEF_P],[T.LinkRope]:[e.ERR,e.ATK_P,e.BE]},presets:[nt.fnPioneerSet(4)],sortOption:v.ULT},1008:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:0,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:1,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Lightning_DMG],[T.LinkRope]:[e.ATK_P]},presets:[],sortOption:v.SKILL,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Lightning_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[F.BandOfSizzlingThunder,F.BandOfSizzlingThunder],...kt],ornamentSets:[F.RutilantArena,...Nt],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1009:{stats:{[e.ATK]:.5,[e.ATK_P]:.5,[e.DEF]:.5,[e.DEF_P]:.5,[e.HP]:1,[e.HP_P]:1,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:0,[e.RES]:.5,[e.BE]:.5,[e.ERR]:1,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:1,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[],[T.Feet]:[e.SPD],[T.PlanarSphere]:[],[T.LinkRope]:[e.ATK_P,e.ERR]},presets:[],sortOption:v.SPD},1013:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:0,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:1,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Ice_DMG],[T.LinkRope]:[e.ATK_P]},presets:[nt.fnAshblazingSet(8),nt.VALOROUS_SET],sortOption:v.FUA,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Ice_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:0,SKILL:2,ULT:1,FUA:3,DOT:0,BREAK:0},relicSets:[[F.TheAshblazingGrandDuke,F.TheAshblazingGrandDuke],[F.HunterOfGlacialForest,F.HunterOfGlacialForest],...kt],ornamentSets:[F.InertSalsotto,...He,...Nt],teammates:[{characterId:"1003",lightCone:"23000",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1101:{stats:{[e.ATK]:0,[e.ATK_P]:0,[e.DEF]:.5,[e.DEF_P]:.5,[e.HP]:.5,[e.HP_P]:.5,[e.SPD]:1,[e.CR]:0,[e.CD]:1,[e.EHR]:0,[e.RES]:.75,[e.BE]:0,[e.ERR]:1,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:1,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CD],[T.Feet]:[e.SPD],[T.PlanarSphere]:[],[T.LinkRope]:[e.ERR]},presets:[],sortOption:v.CD},1102:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:0,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:1,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Quantum_DMG],[T.LinkRope]:[e.ATK_P]},presets:[],sortOption:v.SKILL,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Quantum_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[Aa.GeniusOfBrilliantStars,Aa.GeniusOfBrilliantStars],...kt],ornamentSets:[F.FirmamentFrontlineGlamoth,F.RutilantArena,...Nt],teammates:[{characterId:"1006",lightCone:"23007",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1306",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1103:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:0,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:1,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CD,e.CR],[T.Feet]:[e.SPD,e.ATK_P],[T.PlanarSphere]:[e.ATK_P,e.Lightning_DMG],[T.LinkRope]:[e.ATK_P]},presets:[nt.fnPioneerSet(4)],sortOption:v.ULT,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Lightning_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[F.BandOfSizzlingThunder,F.BandOfSizzlingThunder],...kt],ornamentSets:[F.FirmamentFrontlineGlamoth,F.RutilantArena,...Nt],teammates:[{characterId:"1005",lightCone:"23006",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1104:{stats:{[e.ATK]:0,[e.ATK_P]:0,[e.DEF]:1,[e.DEF_P]:1,[e.HP]:.5,[e.HP_P]:.5,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:.75,[e.RES]:.75,[e.BE]:0,[e.ERR]:1,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.DEF_P],[T.Feet]:[e.DEF_P,e.SPD],[T.PlanarSphere]:[e.DEF_P],[T.LinkRope]:[e.DEF_P,e.ERR]},presets:[],sortOption:v.DEF},1105:{stats:{[e.ATK]:0,[e.ATK_P]:0,[e.DEF]:.75,[e.DEF_P]:.75,[e.HP]:1,[e.HP_P]:1,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:0,[e.RES]:.75,[e.BE]:0,[e.ERR]:1,[e.OHB]:1,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.HP_P,e.OHB],[T.Feet]:[e.HP_P,e.SPD],[T.PlanarSphere]:[e.HP_P],[T.LinkRope]:[e.HP_P,e.ERR]},presets:[],sortOption:v.EHP},1106:{stats:{[e.ATK]:0,[e.ATK_P]:0,[e.DEF]:.75,[e.DEF_P]:.75,[e.HP]:.75,[e.HP_P]:.75,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:1,[e.RES]:.5,[e.BE]:0,[e.ERR]:1,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:1,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.EHR,e.HP_P,e.DEF_P],[T.Feet]:[e.SPD],[T.PlanarSphere]:[e.HP_P,e.DEF_P,e.Ice_DMG],[T.LinkRope]:[e.ERR]},presets:[nt.fnPioneerSet(4)],sortOption:v.SPD},1107:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:0,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:1,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Physical_DMG],[T.LinkRope]:[e.ATK_P]},presets:[nt.fnAshblazingSet(2)],sortOption:v.FUA,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Physical_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:0,SKILL:1,ULT:0,FUA:3,DOT:0,BREAK:0},relicSets:[[F.ChampionOfStreetwiseBoxing,F.ChampionOfStreetwiseBoxing],...kt],ornamentSets:[F.InertSalsotto,...He,...Nt],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"21016",characterEidolon:0,lightConeSuperimposition:5}]}},1108:{stats:{[e.ATK]:1,[e.ATK_P]:1,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:1,[e.RES]:0,[e.BE]:1,[e.ERR]:1,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:1,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.ATK_P,e.EHR],[T.Feet]:[e.SPD,e.ATK_P],[T.PlanarSphere]:[e.ATK_P,e.Wind_DMG],[T.LinkRope]:[e.ERR,e.ATK_P,e.BE]},presets:[nt.PRISONER_SET],sortOption:v.DOT,simulation:{parts:{[T.Body]:[e.ATK_P],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Wind_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.ATK_P,e.EHR,e.ATK,e.CR,e.CD],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:60,BREAK:0},relicSets:[[F.PrisonerInDeepConfinement,F.PrisonerInDeepConfinement]],ornamentSets:[F.FirmamentFrontlineGlamoth],teammates:[{characterId:"1005",lightCone:"23006",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1109:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:0,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:1,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Fire_DMG],[T.LinkRope]:[e.ATK_P]},presets:[nt.fnPioneerSet(4)],sortOption:v.SKILL,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Fire_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[F.PioneerDiverOfDeadWaters,F.PioneerDiverOfDeadWaters],...kt],ornamentSets:[F.RutilantArena,...Nt],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1110:{stats:{[e.ATK]:0,[e.ATK_P]:0,[e.DEF]:.75,[e.DEF_P]:.75,[e.HP]:1,[e.HP_P]:1,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:0,[e.RES]:.75,[e.BE]:0,[e.ERR]:1,[e.OHB]:1,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.HP_P,e.OHB],[T.Feet]:[e.HP_P,e.SPD],[T.PlanarSphere]:[e.HP_P],[T.LinkRope]:[e.HP_P,e.ERR]},presets:[],sortOption:v.EHP},1111:{stats:{[e.ATK]:1,[e.ATK_P]:1,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:1,[e.RES]:0,[e.BE]:.75,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:1,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.ATK_P,e.EHR],[T.Feet]:[e.SPD,e.ATK_P],[T.PlanarSphere]:[e.ATK_P,e.Physical_DMG],[T.LinkRope]:[e.ATK_P,e.BE]},presets:[nt.PRISONER_SET],sortOption:v.DOT,simulation:{parts:{[T.Body]:[e.ATK_P],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Physical_DMG],[T.LinkRope]:[e.ATK_P,e.BE]},substats:[e.BE,e.ATK_P,e.ATK,e.EHR,e.CR],breakpoints:{},formula:{BASIC:2,SKILL:1,ULT:1,FUA:0,DOT:5,BREAK:1},relicSets:[[F.PrisonerInDeepConfinement,F.PrisonerInDeepConfinement],...kt,t0],ornamentSets:[F.TaliaKingdomOfBanditry,F.FirmamentFrontlineGlamoth],teammates:[{characterId:"1005",lightCone:"23006",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1112:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:0,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:1,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.Fire_DMG,e.ATK_P],[T.LinkRope]:[e.ATK_P]},presets:[nt.fnAshblazingSet(0),nt.BANANA_SET,nt.fnPioneerSet(4)],sortOption:v.FUA,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Fire_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:0,SKILL:1,ULT:0,FUA:2,DOT:0,BREAK:0},relicSets:[[F.TheAshblazingGrandDuke,F.TheAshblazingGrandDuke],...kt],ornamentSets:[F.InertSalsotto,...He,...Nt],teammates:[{characterId:"1305",lightCone:"23020",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1201:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:0,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:1,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Quantum_DMG],[T.LinkRope]:[e.ATK_P]},presets:[nt.VALOROUS_SET],sortOption:v.BASIC,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Quantum_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:2,SKILL:0,ULT:1,FUA:2,DOT:0,BREAK:0},relicSets:[[F.GeniusOfBrilliantStars,F.GeniusOfBrilliantStars],...kt],ornamentSets:[F.RutilantArena,...He,...Nt],teammates:[{characterId:"1006",lightCone:"23007",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1306",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1202:{stats:{[e.ATK]:1,[e.ATK_P]:1,[e.DEF]:.75,[e.DEF_P]:.75,[e.HP]:.75,[e.HP_P]:.75,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:0,[e.RES]:.5,[e.BE]:0,[e.ERR]:1,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.ATK_P,e.HP_P,e.DEF_P],[T.Feet]:[e.SPD],[T.PlanarSphere]:[e.HP_P,e.DEF_P,e.ATK_P],[T.LinkRope]:[e.ERR]},presets:[],sortOption:v.SPD},1203:{stats:{[e.ATK]:1,[e.ATK_P]:1,[e.DEF]:.75,[e.DEF_P]:.75,[e.HP]:.75,[e.HP_P]:.75,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:0,[e.RES]:.75,[e.BE]:0,[e.ERR]:1,[e.OHB]:1,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.OHB,e.HP_P,e.DEF_P,e.ATK_P],[T.Feet]:[e.SPD],[T.PlanarSphere]:[e.ATK_P,e.HP_P,e.DEF_P],[T.LinkRope]:[e.ERR]},presets:[nt.WASTELANDER_SET],sortOption:v.SPD},1204:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:0,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:1,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Lightning_DMG],[T.LinkRope]:[e.ATK_P]},presets:[nt.fnAshblazingSet(8),nt.VALOROUS_SET,nt.BANANA_SET],sortOption:v.FUA,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Lightning_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:1,DOT:0,BREAK:0},relicSets:[[F.TheAshblazingGrandDuke,F.TheAshblazingGrandDuke],...kt],ornamentSets:[F.InertSalsotto,...He,...Nt,F.RutilantArena],teammates:[{characterId:"1306",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1205:{stats:{[e.ATK]:.25,[e.ATK_P]:.25,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:1,[e.HP_P]:1,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:0,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:1,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CD,e.CR],[T.Feet]:[e.SPD,e.HP_P],[T.PlanarSphere]:[e.Wind_DMG,e.HP_P],[T.LinkRope]:[e.HP_P]},presets:[nt.VALOROUS_SET],sortOption:v.BASIC,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.HP_P,e.SPD],[T.PlanarSphere]:[e.HP_P,e.Wind_DMG],[T.LinkRope]:[e.HP_P]},substats:[e.CD,e.CR,e.HP_P,e.HP,e.ATK_P],breakpoints:{},formula:{BASIC:2,SKILL:0,ULT:1,FUA:1,DOT:0,BREAK:0},relicSets:[[F.LongevousDisciple,F.LongevousDisciple]],ornamentSets:[F.RutilantArena,F.InertSalsotto,...Nt],teammates:[{characterId:"1212",lightCone:"23014",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1203",lightCone:"20015",characterEidolon:0,lightConeSuperimposition:5}]}},1206:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:.5,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:1,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Physical_DMG],[T.LinkRope]:[e.ATK_P,e.BE]},presets:[],sortOption:v.SKILL,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Physical_DMG],[T.LinkRope]:[e.ATK_P,e.BE]},substats:[e.CR,e.CD,e.ATK_P,e.BE],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:1},relicSets:[[F.ChampionOfStreetwiseBoxing,F.ChampionOfStreetwiseBoxing],[F.IronCavalryAgainstTheScourge,F.IronCavalryAgainstTheScourge],...kt],ornamentSets:[F.FirmamentFrontlineGlamoth,...Nt,F.RutilantArena],teammates:[{characterId:"8006",lightCone:"21004",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1301",lightCone:"20015",characterEidolon:6,lightConeSuperimposition:5}]}},1207:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:0,[e.ERR]:1,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:1},parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Imaginary_DMG],[T.LinkRope]:[e.ERR,e.ATK_P]},presets:[nt.WASTELANDER_SET],sortOption:v.ULT},1208:{stats:{[e.ATK]:0,[e.ATK_P]:0,[e.DEF]:1,[e.DEF_P]:1,[e.HP]:1,[e.HP_P]:1,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:0,[e.RES]:.5,[e.BE]:0,[e.ERR]:1,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.HP_P,e.DEF_P],[T.Feet]:[e.HP_P,e.DEF_P,e.SPD],[T.PlanarSphere]:[e.HP_P,e.DEF_P],[T.LinkRope]:[e.HP_P,e.DEF_P,e.ERR]},presets:[],sortOption:v.EHP},1209:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:0,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:1,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Ice_DMG],[T.LinkRope]:[e.ATK_P]},presets:[nt.VALOROUS_SET,nt.fnAshblazingSet(2)],sortOption:v.ULT,simulation:{parts:{[T.Body]:[e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Ice_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.CR,e.CD,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:2,DOT:0,BREAK:0},relicSets:[[F.PioneerDiverOfDeadWaters,F.PioneerDiverOfDeadWaters],[F.HunterOfGlacialForest,F.HunterOfGlacialForest],...kt],ornamentSets:[F.RutilantArena,...Nt],teammates:[{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1106",lightCone:"21015",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1210:{stats:{[e.ATK]:1,[e.ATK_P]:1,[e.DEF]:.5,[e.DEF_P]:.5,[e.HP]:.5,[e.HP_P]:.5,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:1,[e.RES]:.5,[e.BE]:0,[e.ERR]:1,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:1,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.ATK_P,e.EHR],[T.Feet]:[e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Fire_DMG],[T.LinkRope]:[e.ERR,e.ATK_P]},presets:[nt.PRISONER_SET],sortOption:v.DOT},1211:{stats:{[e.ATK]:0,[e.ATK_P]:0,[e.DEF]:.75,[e.DEF_P]:.75,[e.HP]:1,[e.HP_P]:1,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:0,[e.RES]:.75,[e.BE]:0,[e.ERR]:1,[e.OHB]:1,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.OHB],[T.Feet]:[e.SPD,e.HP_P],[T.PlanarSphere]:[e.HP_P],[T.LinkRope]:[e.HP_P,e.ERR]},presets:[],sortOption:v.EHP},1212:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:0,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:1,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Ice_DMG],[T.LinkRope]:[e.ATK_P]},presets:[],sortOption:v.SKILL,simulation:{parts:{[T.Body]:[e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Ice_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[F.HunterOfGlacialForest,F.HunterOfGlacialForest],...kt],ornamentSets:[F.RutilantArena,...Nt],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1213:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:0,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:1},parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Imaginary_DMG],[T.LinkRope]:[e.ATK_P]},presets:[nt.WASTELANDER_SET],sortOption:v.BASIC,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Imaginary_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:2,SKILL:0,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[F.MusketeerOfWildWheat,F.MusketeerOfWildWheat],[F.WastelanderOfBanditryDesert,F.WastelanderOfBanditryDesert],...kt],ornamentSets:[F.RutilantArena,...Nt],teammates:[{characterId:"1306",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1202",lightCone:"21018",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1214:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:1,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:1,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.Quantum_DMG,e.ATK_P],[T.LinkRope]:[e.ATK_P,e.BE]},presets:[nt.fnAshblazingSet(3),nt.VALOROUS_SET],sortOption:v.SKILL,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Quantum_DMG],[T.LinkRope]:[e.ATK_P,e.BE]},substats:[e.BE,e.ATK_P,e.CR,e.CD,e.ATK],breakpoints:{},formula:{BASIC:0,SKILL:2,ULT:1,FUA:3,DOT:0,BREAK:1},relicSets:[[F.GeniusOfBrilliantStars,F.GeniusOfBrilliantStars],...kt],ornamentSets:[F.TaliaKingdomOfBanditry,F.InertSalsotto,...He,...Nt],teammates:[{characterId:"8006",lightCone:"21004",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1301",lightCone:"20015",characterEidolon:6,lightConeSuperimposition:5}]}},1215:{stats:{[e.ATK]:0,[e.ATK_P]:0,[e.DEF]:.75,[e.DEF_P]:.75,[e.HP]:.75,[e.HP_P]:.75,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:0,[e.RES]:.5,[e.BE]:0,[e.ERR]:1,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[],[T.Feet]:[e.SPD],[T.PlanarSphere]:[],[T.LinkRope]:[e.ERR]},presets:[],sortOption:v.SPD},1217:{stats:{[e.ATK]:0,[e.ATK_P]:0,[e.DEF]:.75,[e.DEF_P]:.75,[e.HP]:1,[e.HP_P]:1,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:0,[e.RES]:.75,[e.BE]:0,[e.ERR]:1,[e.OHB]:1,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.HP_P,e.OHB],[T.Feet]:[e.SPD,e.HP_P],[T.PlanarSphere]:[e.HP_P],[T.LinkRope]:[e.HP_P,e.ERR]},presets:[],sortOption:v.EHP},1218:{stats:{[Constants.Stats.ATK]:.5,[Constants.Stats.ATK_P]:.5,[Constants.Stats.DEF]:.5,[Constants.Stats.DEF_P]:.5,[Constants.Stats.HP]:.5,[Constants.Stats.HP_P]:.5,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:0,[Constants.Stats.CD]:0,[Constants.Stats.EHR]:1,[Constants.Stats.RES]:.5,[Constants.Stats.BE]:0,[Constants.Stats.ERR]:0,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:0,[Constants.Stats.Fire_DMG]:1,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:0,[Constants.Stats.Wind_DMG]:0,[Constants.Stats.Quantum_DMG]:0,[Constants.Stats.Imaginary_DMG]:0},parts:{[Constants.Parts.Body]:[Constants.Stats.EHR],[Constants.Parts.Feet]:[Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[],[Constants.Parts.LinkRope]:[]},presets:[nt.PRISONER_SET],sortOption:v.EHR},1220:{stats:{[Constants.Stats.ATK]:.75,[Constants.Stats.ATK_P]:.75,[Constants.Stats.DEF]:0,[Constants.Stats.DEF_P]:0,[Constants.Stats.HP]:0,[Constants.Stats.HP_P]:0,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:1,[Constants.Stats.CD]:1,[Constants.Stats.EHR]:0,[Constants.Stats.RES]:0,[Constants.Stats.BE]:0,[Constants.Stats.ERR]:0,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:0,[Constants.Stats.Fire_DMG]:0,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:0,[Constants.Stats.Wind_DMG]:1,[Constants.Stats.Quantum_DMG]:0,[Constants.Stats.Imaginary_DMG]:0},parts:{[Constants.Parts.Body]:[Constants.Stats.CR,Constants.Stats.CD],[Constants.Parts.Feet]:[Constants.Stats.ATK_P,Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[Constants.Stats.ATK_P,Constants.Stats.Wind_DMG],[Constants.Parts.LinkRope]:[Constants.Stats.ATK_P]},presets:[nt.fnAshblazingSet(1),nt.VALOROUS_SET],sortOption:v.ULT,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Wind_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.ATK_P,e.CR,e.CD,e.ATK],breakpoints:{},maxBonusRolls:{},formula:{BASIC:0,SKILL:2,ULT:2,FUA:4,DOT:0,BREAK:0},relicSets:[[F.TheWindSoaringValorous,F.TheWindSoaringValorous],...kt],ornamentSets:[F.DuranDynastyOfRunningWolves,...He,...Nt],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1221:{stats:{[Constants.Stats.ATK]:.75,[Constants.Stats.ATK_P]:.75,[Constants.Stats.DEF]:0,[Constants.Stats.DEF_P]:0,[Constants.Stats.HP]:0,[Constants.Stats.HP_P]:0,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:1,[Constants.Stats.CD]:1,[Constants.Stats.EHR]:0,[Constants.Stats.RES]:0,[Constants.Stats.BE]:0,[Constants.Stats.ERR]:0,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:1,[Constants.Stats.Fire_DMG]:0,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:0,[Constants.Stats.Wind_DMG]:0,[Constants.Stats.Quantum_DMG]:0,[Constants.Stats.Imaginary_DMG]:0},parts:{[Constants.Parts.Body]:[Constants.Stats.CR,Constants.Stats.CD],[Constants.Parts.Feet]:[Constants.Stats.ATK_P,Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[Constants.Stats.ATK_P,Constants.Stats.Physical_DMG],[Constants.Parts.LinkRope]:[Constants.Stats.ATK_P]},presets:[nt.VALOROUS_SET,nt.fnPioneerSet(4),nt.fnAshblazingSet(8)],sortOption:v.FUA,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Physical_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:0,SKILL:1,ULT:0,FUA:1,DOT:0,BREAK:0},relicSets:[[F.TheWindSoaringValorous,F.TheWindSoaringValorous],[F.ChampionOfStreetwiseBoxing,F.ChampionOfStreetwiseBoxing],...kt],ornamentSets:[F.DuranDynastyOfRunningWolves,...He,...Nt],teammates:[{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1202",lightCone:"21018",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1222:{stats:{[Constants.Stats.ATK]:.75,[Constants.Stats.ATK_P]:.75,[Constants.Stats.DEF]:.5,[Constants.Stats.DEF_P]:.5,[Constants.Stats.HP]:.5,[Constants.Stats.HP_P]:.5,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:0,[Constants.Stats.CD]:0,[Constants.Stats.EHR]:0,[Constants.Stats.RES]:.75,[Constants.Stats.BE]:1,[Constants.Stats.ERR]:1,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:0,[Constants.Stats.Fire_DMG]:1,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:0,[Constants.Stats.Wind_DMG]:0,[Constants.Stats.Quantum_DMG]:0,[Constants.Stats.Imaginary_DMG]:0},parts:{[Constants.Parts.Body]:[Constants.Stats.ATK_P,Constants.Stats.OHB,Constants.Stats.DEF_P,Constants.Stats.HP_P],[Constants.Parts.Feet]:[Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[Constants.Stats.ATK_P,Constants.Stats.DEF_P,Constants.Stats.HP_P],[Constants.Parts.LinkRope]:[Constants.Stats.BE,Constants.Stats.ERR,Constants.Stats.ATK_P]},presets:[nt.BANANA_SET,nt.fnAshblazingSet(6),nt.VALOROUS_SET],sortOption:v.BE},1223:{stats:{[Constants.Stats.ATK]:.75,[Constants.Stats.ATK_P]:.75,[Constants.Stats.DEF]:0,[Constants.Stats.DEF_P]:0,[Constants.Stats.HP]:0,[Constants.Stats.HP_P]:0,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:1,[Constants.Stats.CD]:1,[Constants.Stats.EHR]:0,[Constants.Stats.RES]:0,[Constants.Stats.BE]:0,[Constants.Stats.ERR]:0,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:0,[Constants.Stats.Fire_DMG]:0,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:1,[Constants.Stats.Wind_DMG]:0,[Constants.Stats.Quantum_DMG]:0,[Constants.Stats.Imaginary_DMG]:0},parts:{[Constants.Parts.Body]:[Constants.Stats.CR,Constants.Stats.CD],[Constants.Parts.Feet]:[Constants.Stats.ATK_P,Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[Constants.Stats.ATK_P,Constants.Stats.Lightning_DMG],[Constants.Parts.LinkRope]:[Constants.Stats.ATK_P]},presets:[nt.fnPioneerSet(4),nt.fnAshblazingSet(6),nt.VALOROUS_SET],sortOption:v.FUA,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Lightning_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.ATK_P,e.CR,e.CD,e.ATK],breakpoints:{},maxBonusRolls:{},formula:{BASIC:0,SKILL:1,ULT:1,FUA:2,DOT:0,BREAK:0},relicSets:[[F.PioneerDiverOfDeadWaters,F.PioneerDiverOfDeadWaters],[F.TheAshblazingGrandDuke,F.TheAshblazingGrandDuke],...kt],ornamentSets:[F.DuranDynastyOfRunningWolves,F.IzumoGenseiAndTakamaDivineRealm,...He,...Nt],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1224:{stats:{[Constants.Stats.ATK]:.75,[Constants.Stats.ATK_P]:.75,[Constants.Stats.DEF]:0,[Constants.Stats.DEF_P]:0,[Constants.Stats.HP]:0,[Constants.Stats.HP_P]:0,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:1,[Constants.Stats.CD]:1,[Constants.Stats.EHR]:0,[Constants.Stats.RES]:0,[Constants.Stats.BE]:0,[Constants.Stats.ERR]:0,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:0,[Constants.Stats.Fire_DMG]:0,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:0,[Constants.Stats.Wind_DMG]:0,[Constants.Stats.Quantum_DMG]:0,[Constants.Stats.Imaginary_DMG]:1},parts:{[Constants.Parts.Body]:[Constants.Stats.CR,Constants.Stats.CD],[Constants.Parts.Feet]:[Constants.Stats.ATK_P,Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[Constants.Stats.ATK_P,Constants.Stats.Imaginary_DMG],[Constants.Parts.LinkRope]:[Constants.Stats.ATK_P]},presets:[nt.fnAshblazingSet(2),nt.VALOROUS_SET],sortOption:v.BASIC,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Imaginary_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.ATK_P,e.CR,e.CD,e.ATK],breakpoints:{},maxBonusRolls:{},formula:{BASIC:1,SKILL:0,ULT:1,FUA:1,DOT:0,BREAK:0},relicSets:[[F.MusketeerOfWildWheat,F.MusketeerOfWildWheat],[F.WastelanderOfBanditryDesert,F.WastelanderOfBanditryDesert],...kt],ornamentSets:[F.RutilantArena,...Nt],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1301:{stats:{[e.ATK]:0,[e.ATK_P]:0,[e.DEF]:.75,[e.DEF_P]:.75,[e.HP]:.75,[e.HP_P]:.75,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:0,[e.RES]:.75,[e.BE]:1,[e.ERR]:1,[e.OHB]:1,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.OHB],[T.Feet]:[e.SPD],[T.PlanarSphere]:[],[T.LinkRope]:[e.ERR,e.BE]},presets:[],sortOption:v.BE},1302:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:0,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:1,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.Physical_DMG,e.ATK_P],[T.LinkRope]:[e.ATK_P]},presets:[],sortOption:v.ULT,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Physical_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[F.ChampionOfStreetwiseBoxing,F.ChampionOfStreetwiseBoxing],...kt],ornamentSets:[F.InertSalsotto,...Nt,F.RutilantArena],teammates:[{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1202",lightCone:"21018",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1303:{stats:{[e.ATK]:0,[e.ATK_P]:0,[e.DEF]:.5,[e.DEF_P]:.5,[e.HP]:.5,[e.HP_P]:.5,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:0,[e.RES]:.5,[e.BE]:1,[e.ERR]:1,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[],[T.Feet]:[e.SPD],[T.PlanarSphere]:[],[T.LinkRope]:[e.ERR,e.BE]},presets:[],sortOption:v.BE},1304:{stats:{[e.ATK]:0,[e.ATK_P]:0,[e.DEF]:1,[e.DEF_P]:1,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:0,[e.ERR]:1,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:1},parts:{[T.Body]:[e.DEF_P,e.CR,e.CD],[T.Feet]:[e.DEF_P,e.SPD],[T.PlanarSphere]:[e.Imaginary_DMG,e.DEF_P],[T.LinkRope]:[e.DEF_P,e.ERR]},presets:[nt.VALOROUS_SET,nt.fnPioneerSet(4)],sortOption:v.FUA,simulation:{parts:{[T.Body]:[e.CR,e.CD,e.DEF_P],[T.Feet]:[e.DEF_P,e.SPD],[T.PlanarSphere]:[e.DEF_P,e.Imaginary_DMG],[T.LinkRope]:[e.DEF_P]},substats:[e.CD,e.CR,e.DEF_P,e.DEF],breakpoints:{[e.DEF]:4e3},formula:{BASIC:2,SKILL:0,ULT:1,FUA:2,DOT:0,BREAK:0},relicSets:[[F.PioneerDiverOfDeadWaters,F.PioneerDiverOfDeadWaters],[F.KnightOfPurityPalace,F.KnightOfPurityPalace],[F.TheAshblazingGrandDuke,F.KnightOfPurityPalace,F.PioneerDiverOfDeadWaters],...kt],ornamentSets:[F.InertSalsotto,...He,...Nt,F.BrokenKeel,F.PenaconyLandOfTheDreams,F.FleetOfTheAgeless],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1305",lightCone:"23020",characterEidolon:0,lightConeSuperimposition:1}]}},1305:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:0,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:1},parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Imaginary_DMG],[T.LinkRope]:[e.ATK_P]},presets:[nt.fnAshblazingSet(1),nt.fnPioneerSet(4),nt.VALOROUS_SET,nt.WASTELANDER_SET],sortOption:v.FUA,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Imaginary_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:0,SKILL:2,ULT:1,FUA:4,DOT:0,BREAK:0},relicSets:[[F.PioneerDiverOfDeadWaters,F.PioneerDiverOfDeadWaters],...kt],ornamentSets:[F.DuranDynastyOfRunningWolves,...He,...Nt],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1306:{stats:{[e.ATK]:0,[e.ATK_P]:0,[e.DEF]:.5,[e.DEF_P]:.5,[e.HP]:.5,[e.HP_P]:.5,[e.SPD]:1,[e.CR]:0,[e.CD]:1,[e.EHR]:0,[e.RES]:.5,[e.BE]:0,[e.ERR]:1,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CD],[T.Feet]:[e.SPD],[T.PlanarSphere]:[],[T.LinkRope]:[e.ERR]},presets:[],sortOption:v.CD},1307:{stats:{[e.ATK]:1,[e.ATK_P]:1,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:1,[e.RES]:0,[e.BE]:0,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:1,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.ATK_P,e.EHR],[T.Feet]:[e.SPD,e.ATK_P],[T.PlanarSphere]:[e.Wind_DMG,e.ATK_P],[T.LinkRope]:[e.ATK_P]},presets:[nt.PRISONER_SET],sortOption:v.DOT,simulation:{parts:{[T.Body]:[e.EHR,e.ATK_P],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Wind_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.ATK_P,e.EHR,e.ATK,e.CR,e.CD],breakpoints:{[e.EHR]:1.2},formula:{BASIC:2,SKILL:1,ULT:1,FUA:0,DOT:16,BREAK:0},relicSets:[[F.PrisonerInDeepConfinement,F.PrisonerInDeepConfinement]],ornamentSets:[F.FirmamentFrontlineGlamoth,F.PanCosmicCommercialEnterprise],teammates:[{characterId:"1005",lightCone:"23006",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1308:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:0,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:1,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.Lightning_DMG,e.ATK_P],[T.LinkRope]:[e.ATK_P]},presets:[nt.fnPioneerSet(4)],sortOption:v.ULT,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Lightning_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:0,SKILL:2,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[F.PioneerDiverOfDeadWaters,F.PioneerDiverOfDeadWaters],...kt],ornamentSets:[F.IzumoGenseiAndTakamaDivineRealm,...Nt],teammates:[{characterId:"1106",lightCone:"21015",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1006",lightCone:"23007",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"21016",characterEidolon:0,lightConeSuperimposition:5}]}},1309:{stats:{[e.ATK]:1,[e.ATK_P]:1,[e.DEF]:.5,[e.DEF_P]:.5,[e.HP]:.5,[e.HP_P]:.5,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:0,[e.RES]:.5,[e.BE]:0,[e.ERR]:1,[e.OHB]:0,[e.Physical_DMG]:1,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.ATK_P],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Physical_DMG],[Constants.Parts.LinkRope]:[e.ERR]},presets:[],sortOption:v.ATK},1310:{stats:{[Constants.Stats.ATK]:.5,[Constants.Stats.ATK_P]:.5,[Constants.Stats.DEF]:0,[Constants.Stats.DEF_P]:0,[Constants.Stats.HP]:0,[Constants.Stats.HP_P]:0,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:0,[Constants.Stats.CD]:0,[Constants.Stats.EHR]:0,[Constants.Stats.RES]:0,[Constants.Stats.BE]:1,[Constants.Stats.ERR]:0,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:0,[Constants.Stats.Fire_DMG]:0,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:0,[Constants.Stats.Wind_DMG]:0,[Constants.Stats.Quantum_DMG]:0,[Constants.Stats.Imaginary_DMG]:0},parts:{[Constants.Parts.Body]:[Constants.Stats.ATK_P],[Constants.Parts.Feet]:[Constants.Stats.ATK_P,Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[Constants.Stats.ATK_P],[Constants.Parts.LinkRope]:[Constants.Stats.BE]},presets:[],sortOption:v.SKILL,simulation:{parts:{[T.Body]:[e.ATK_P],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P],[T.LinkRope]:[e.BE]},substats:[e.BE,e.ATK_P,e.ATK,e.CR,e.CD],breakpoints:{},maxBonusRolls:{},formula:{BASIC:0,SKILL:3,ULT:0,FUA:0,DOT:0,BREAK:1},relicSets:[[F.IronCavalryAgainstTheScourge,F.IronCavalryAgainstTheScourge]],ornamentSets:[F.ForgeOfTheKalpagniLantern],teammates:[{characterId:"8006",lightCone:"21004",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1301",lightCone:"20015",characterEidolon:6,lightConeSuperimposition:5}]}},1312:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:0,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:1,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Ice_DMG],[T.LinkRope]:[e.ATK_P]},presets:[nt.fnPioneerSet(4)],sortOption:v.ULT,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Ice_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[F.PioneerDiverOfDeadWaters,F.PioneerDiverOfDeadWaters],[F.HunterOfGlacialForest,F.HunterOfGlacialForest],...kt],ornamentSets:[F.InertSalsotto,F.RutilantArena,...Nt],teammates:[{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1106",lightCone:"21015",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1314:{stats:{[Constants.Stats.ATK]:.75,[Constants.Stats.ATK_P]:.75,[Constants.Stats.DEF]:0,[Constants.Stats.DEF_P]:0,[Constants.Stats.HP]:0,[Constants.Stats.HP_P]:0,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:1,[Constants.Stats.CD]:1,[Constants.Stats.EHR]:0,[Constants.Stats.RES]:0,[Constants.Stats.BE]:0,[Constants.Stats.ERR]:0,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:0,[Constants.Stats.Fire_DMG]:0,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:0,[Constants.Stats.Wind_DMG]:0,[Constants.Stats.Quantum_DMG]:1,[Constants.Stats.Imaginary_DMG]:0},parts:{[Constants.Parts.Body]:[Constants.Stats.CR,Constants.Stats.CD],[Constants.Parts.Feet]:[Constants.Stats.ATK_P,Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[Constants.Stats.ATK_P,Constants.Stats.Quantum_DMG],[Constants.Parts.LinkRope]:[Constants.Stats.ATK_P]},presets:[nt.VALOROUS_SET,nt.fnAshblazingSet(8)],sortOption:v.FUA,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Quantum_DMG],[T.LinkRope]:[e.ATK_P]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:2,SKILL:0,ULT:1,FUA:2,DOT:0,BREAK:0},relicSets:[[F.GeniusOfBrilliantStars,F.GeniusOfBrilliantStars],...kt],ornamentSets:[F.InertSalsotto,...He,...Nt,F.RutilantArena],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1315:{stats:{[e.ATK]:.25,[e.ATK_P]:.25,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:.25,[e.CD]:.25,[e.EHR]:0,[e.RES]:0,[e.BE]:1,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:1,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[],[T.Feet]:[e.SPD],[T.PlanarSphere]:[],[T.LinkRope]:[e.BE]},presets:[],sortOption:v.BASIC,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.SPD],[T.PlanarSphere]:[e.Physical_DMG,e.ATK_P],[T.LinkRope]:[e.BE]},substats:[e.BE,e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:3,SKILL:0,ULT:1,FUA:0,DOT:0,BREAK:1},relicSets:[[F.ThiefOfShootingMeteor,F.WatchmakerMasterOfDreamMachinations],t0,[F.IronCavalryAgainstTheScourge,F.IronCavalryAgainstTheScourge],...kt],ornamentSets:[F.TaliaKingdomOfBanditry],teammates:[{characterId:"8006",lightCone:"21004",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1301",lightCone:"20015",characterEidolon:6,lightConeSuperimposition:5}]}},1317:{stats:{[e.ATK]:.5,[e.ATK_P]:.5,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:0,[e.RES]:0,[e.BE]:1,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:1},parts:{[T.Body]:[],[T.Feet]:[e.SPD],[T.PlanarSphere]:[],[T.LinkRope]:[e.BE]},presets:[nt.WASTELANDER_SET],sortOption:v.BASIC,simulation:{parts:{[T.Body]:[e.ATK_P],[T.Feet]:[e.SPD],[T.PlanarSphere]:[e.Imaginary_DMG,e.ATK_P],[T.LinkRope]:[e.BE]},substats:[e.BE,e.ATK_P,e.ATK,e.CD,e.CR],breakpoints:{[e.ATK]:3200},formula:{BASIC:3,SKILL:1,ULT:0,FUA:0,DOT:0,BREAK:1},relicSets:[[F.IronCavalryAgainstTheScourge,F.IronCavalryAgainstTheScourge]],ornamentSets:[F.TaliaKingdomOfBanditry],teammates:[{characterId:"8006",lightCone:"21004",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1222",lightCone:"23032",characterEidolon:0,lightConeSuperimposition:1}]}},8001:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:.5,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:1,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Physical_DMG],[T.LinkRope]:[e.ATK_P,e.BE]},presets:[],sortOption:v.SKILL,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Physical_DMG],[T.LinkRope]:[e.ATK_P,e.BE]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:1},relicSets:[[F.ChampionOfStreetwiseBoxing,F.ChampionOfStreetwiseBoxing],...kt],ornamentSets:[F.RutilantArena,...Nt],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},8002:{stats:{[e.ATK]:.75,[e.ATK_P]:.75,[e.DEF]:0,[e.DEF_P]:0,[e.HP]:0,[e.HP_P]:0,[e.SPD]:1,[e.CR]:1,[e.CD]:1,[e.EHR]:0,[e.RES]:0,[e.BE]:.5,[e.ERR]:0,[e.OHB]:0,[e.Physical_DMG]:1,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Physical_DMG],[T.LinkRope]:[e.ATK_P,e.BE]},presets:[],sortOption:v.SKILL,simulation:{parts:{[T.Body]:[e.CR,e.CD],[T.Feet]:[e.ATK_P,e.SPD],[T.PlanarSphere]:[e.ATK_P,e.Physical_DMG],[T.LinkRope]:[e.ATK_P,e.BE]},substats:[e.CD,e.CR,e.ATK_P,e.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:1},relicSets:[[F.ChampionOfStreetwiseBoxing,F.ChampionOfStreetwiseBoxing],...kt],ornamentSets:[F.RutilantArena,...Nt],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},8003:{stats:{[e.ATK]:0,[e.ATK_P]:0,[e.DEF]:1,[e.DEF_P]:1,[e.HP]:.5,[e.HP_P]:.5,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:.75,[e.RES]:.75,[e.BE]:0,[e.ERR]:1,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.DEF_P],[T.Feet]:[e.DEF_P,e.SPD],[T.PlanarSphere]:[e.DEF_P],[T.LinkRope]:[e.DEF_P,e.ERR]},presets:[],sortOption:v.DEF},8004:{stats:{[e.ATK]:0,[e.ATK_P]:0,[e.DEF]:1,[e.DEF_P]:1,[e.HP]:.5,[e.HP_P]:.5,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:.75,[e.RES]:.75,[e.BE]:0,[e.ERR]:1,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[e.DEF_P],[T.Feet]:[e.DEF_P,e.SPD],[T.PlanarSphere]:[e.DEF_P],[T.LinkRope]:[e.DEF_P,e.ERR]},presets:[],sortOption:v.DEF},8005:{stats:{[e.ATK]:0,[e.ATK_P]:0,[e.DEF]:.5,[e.DEF_P]:.5,[e.HP]:.5,[e.HP_P]:.5,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:0,[e.RES]:.5,[e.BE]:1,[e.ERR]:1,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[],[T.Feet]:[e.SPD],[T.PlanarSphere]:[],[T.LinkRope]:[e.BE,e.ERR]},presets:[],sortOption:v.BE},8006:{stats:{[e.ATK]:0,[e.ATK_P]:0,[e.DEF]:.5,[e.DEF_P]:.5,[e.HP]:.5,[e.HP_P]:.5,[e.SPD]:1,[e.CR]:0,[e.CD]:0,[e.EHR]:0,[e.RES]:.5,[e.BE]:1,[e.ERR]:1,[e.OHB]:0,[e.Physical_DMG]:0,[e.Fire_DMG]:0,[e.Ice_DMG]:0,[e.Lightning_DMG]:0,[e.Wind_DMG]:0,[e.Quantum_DMG]:0,[e.Imaginary_DMG]:0},parts:{[T.Body]:[],[T.Feet]:[e.SPD],[T.PlanarSphere]:[],[T.LinkRope]:[e.BE,e.ERR]},presets:[],sortOption:v.BE}}}window.WorkerPool=ga;window.Constants=d;window.DataParser=ar;window.DB=L;window.CharacterStats=xn;window.Assets=N;window.RelicAugmenter=bn;window.StatCalculator=Oe;window.Gradient=yt;window.SaveState=Ct;window.RelicFilters=ee;window.Renderer=Q;window.Message=j;window.Hint=Jt;window.CharacterConverter=bl;window.RelicScorer=ae;window.BufferPacker=mi;window.RelicRollFixer=Bn;window.colorTheme=tc.BLUE;ar.parse();Ct.load(!1);mc(!1);const Qf=({error:t})=>n.jsxs(pt,{children:["Something went wrong: ",t.message]});document.addEventListener("DOMContentLoaded",function(){Yr.createRoot(document.getElementById("root")).render(n.jsx(dl,{fallbackRender:Qf,children:n.jsx(Xf,{})}))});
