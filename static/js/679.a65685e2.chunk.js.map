{"version":3,"file":"static/js/679.a65685e2.chunk.js","mappings":"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","sources":["lib/constants.ts","lib/bufferPacker.js","components/HeaderText.js","components/TooltipImage.js","lib/conditionals/constants.ts","lib/conditionals/utils.ts","components/common/ColorizeNumbers.tsx","components/optimizerForm/conditionals/DisplayFormControl.tsx","components/common/WithPopover.tsx","components/optimizerForm/conditionals/FormSwitch.tsx","components/optimizerForm/conditionals/FormSlider.tsx","lib/conditionals/character/Argenti.tsx","lib/conditionals/character/DrRatio.tsx","lib/conditionals/character/TrailblazerPreservation.tsx","lib/conditionals/character/Jingliu.tsx","lib/conditionals/character/Luocha.tsx","lib/conditionals/character/TrailblazerDestruction.tsx","lib/characterConditionals.js","lib/conditionals/character/March7th.tsx","lib/conditionals/character/DanHeng.tsx","lib/conditionals/character/Himeko.tsx","lib/conditionals/character/Welt.tsx","lib/conditionals/character/Kafka.tsx","lib/conditionals/character/SilverWolf.tsx","lib/conditionals/character/Arlan.tsx","lib/conditionals/character/Asta.tsx","lib/conditionals/character/Herta.tsx","lib/conditionals/character/Bronya.tsx","lib/conditionals/character/Seele.tsx","lib/conditionals/character/Serval.tsx","lib/conditionals/character/Gepard.tsx","lib/conditionals/character/Natasha.tsx","lib/conditionals/character/Pela.tsx","lib/conditionals/character/Clara.tsx","lib/conditionals/character/Sampo.tsx","lib/conditionals/character/Hook.tsx","lib/conditionals/character/Lynx.tsx","lib/conditionals/character/Luka.tsx","lib/conditionals/character/Topaz.tsx","lib/conditionals/character/Qingque.tsx","lib/conditionals/character/Tingyun.tsx","lib/conditionals/character/JingYuan.tsx","lib/conditionals/character/Blade.tsx","lib/conditionals/character/Sushang.tsx","lib/conditionals/character/Yukong.tsx","lib/conditionals/character/FuXuan.tsx","lib/conditionals/character/Yanqing.tsx","lib/conditionals/character/Guinaifen.tsx","lib/conditionals/character/Bailu.tsx","lib/conditionals/character/ImbibitorLunae.tsx","lib/conditionals/character/Xueyi.tsx","lib/conditionals/character/Hanya.tsx","lib/conditionals/character/Huohuo.tsx","lib/conditionals/character/RuanMei.tsx","lib/conditionals/character/Sparkle.tsx","lib/conditionals/character/BlackSwan.tsx","lib/conditionals/character/Misha.tsx","components/optimizerTab/FormConditionalInputs.js","lib/conditionals/lightcone/getContentFromLCRank.ts","lib/conditionals/lightcone/iShallBeMyOwnSword.tsx","lib/conditionals/lightcone/baptismOfPureThought.tsx","lib/lightConeConditionals.js","lib/worker/optimizerWorker.js","../webpack/bootstrap","../webpack/runtime/chunk loaded","../webpack/runtime/compat get default export","../webpack/runtime/create fake namespace object","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/global","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/importScripts chunk loading","../webpack/runtime/nonce","../webpack/runtime/startup chunk dependencies","../webpack/startup"],"sourcesContent":["export const Stats = {\n  ATK_P: 'ATK%',\n  ATK: 'ATK',\n  BE: 'Break Effect',\n  CD: 'CRIT DMG',\n  CR: 'CRIT Rate',\n  DEF_P: 'DEF%',\n  DEF: 'DEF',\n  EHR: 'Effect Hit Rate',\n  ERR: 'Energy Regeneration Rate',\n  Fire_DMG: 'Fire DMG Boost',\n  HP_P: 'HP%',\n  HP: 'HP',\n  Ice_DMG: 'Ice DMG Boost',\n  Imaginary_DMG: 'Imaginary DMG Boost',\n  Lightning_DMG: 'Lightning DMG Boost',\n  OHB: 'Outgoing Healing Boost',\n  Physical_DMG: 'Physical DMG Boost',\n  Quantum_DMG: 'Quantum DMG Boost',\n  RES: 'Effect RES',\n  SPD_P: 'SPD%',\n  SPD: 'SPD',\n  Wind_DMG: 'Wind DMG Boost'\n};\nexport type StatsKeys = keyof typeof Stats;\nexport type StatsValues = (typeof Stats)[StatsKeys];\n\n\nexport const MainStats = [\n  Stats.HP_P,\n  Stats.ATK_P,\n  Stats.DEF_P,\n  Stats.HP,\n  Stats.ATK,\n  Stats.SPD,\n  Stats.CR,\n  Stats.CD,\n  Stats.EHR,\n  Stats.BE,\n  Stats.ERR,\n  Stats.OHB,\n  Stats.Physical_DMG,\n  Stats.Fire_DMG,\n  Stats.Ice_DMG,\n  Stats.Lightning_DMG,\n  Stats.Wind_DMG,\n  Stats.Quantum_DMG,\n  Stats.Imaginary_DMG,\n];\nexport type MainStats = typeof MainStats[number];\n\nexport const MainStatsValues = {\n  [Stats.HP_P]: { '5': { 'base': 6.912, 'increment': 2.4192 }, '4': { 'base': 5.5296, 'increment': 1.9354 }, '3': { 'base': 4.1472, 'increment': 1.4515 }, '2': { 'base': 2.7648, 'increment': 0.9677 } },\n  [Stats.ATK_P]: { '5': { 'base': 6.912, 'increment': 2.4192 }, '4': { 'base': 5.5296, 'increment': 1.9354 }, '3': { 'base': 4.1472, 'increment': 1.4515 }, '2': { 'base': 2.7648, 'increment': 0.9677 } },\n  [Stats.DEF_P]: { '5': { 'base': 8.64, 'increment': 3.024 }, '4': { 'base': 6.912, 'increment': 2.4192 }, '3': { 'base': 5.184, 'increment': 1.8144 }, '2': { 'base': 3.456, 'increment': 1.2096 } },\n  [Stats.HP]: { '5': { 'base': 112.896, 'increment': 39.5136 }, '4': { 'base': 90.3168, 'increment': 31.61088 }, '3': { 'base': 67.7376, 'increment': 23.70816 }, '2': { 'base': 45.1584, 'increment': 15.80544 } },\n  [Stats.ATK]: { '5': { 'base': 56.448, 'increment': 19.7568 }, '4': { 'base': 45.1584, 'increment': 15.80544 }, '3': { 'base': 33.8688, 'increment': 11.85408 }, '2': { 'base': 22.5792, 'increment': 7.90272 } },\n  [Stats.SPD]: { '5': { 'base': 4.032, 'increment': 1.4 }, '4': { 'base': 3.226, 'increment': 1.1 }, '3': { 'base': 2.419, 'increment': 1.0 }, '2': { 'base': 1.613, 'increment': 1.0 } },\n  [Stats.CR]: { '5': { 'base': 5.184, 'increment': 1.8144 }, '4': { 'base': 4.1472, 'increment': 1.4515 }, '3': { 'base': 3.1104, 'increment': 1.0886 }, '2': { 'base': 2.0736, 'increment': 0.7258 } },\n  [Stats.CD]: { '5': { 'base': 10.368, 'increment': 3.6288 }, '4': { 'base': 8.2944, 'increment': 2.9030 }, '3': { 'base': 6.2208, 'increment': 2.1773 }, '2': { 'base': 4.1472, 'increment': 1.4515 } },\n  [Stats.EHR]: { '5': { 'base': 6.912, 'increment': 2.4192 }, '4': { 'base': 5.5296, 'increment': 1.9354 }, '3': { 'base': 4.1472, 'increment': 1.4515 }, '2': { 'base': 2.7648, 'increment': 0.9677 } },\n  [Stats.BE]: { '5': { 'base': 10.3680, 'increment': 3.6288 }, '4': { 'base': 8.2944, 'increment': 2.9030 }, '3': { 'base': 6.2208, 'increment': 2.1773 }, '2': { 'base': 4.1472, 'increment': 1.4515 } },\n  [Stats.ERR]: { '5': { 'base': 3.1104, 'increment': 1.0886 }, '4': { 'base': 2.4883, 'increment': 0.8709 }, '3': { 'base': 1.8662, 'increment': 0.6532 }, '2': { 'base': 1.2442, 'increment': 0.4355 } },\n  [Stats.OHB]: { '5': { 'base': 5.5296, 'increment': 1.9354 }, '4': { 'base': 4.4237, 'increment': 1.5483 }, '3': { 'base': 3.3178, 'increment': 1.1612 }, '2': { 'base': 2.2118, 'increment': 0.7741 } },\n  [Stats.Physical_DMG]: { '5': { 'base': 6.2208, 'increment': 2.1773 }, '4': { 'base': 4.9766, 'increment': 1.7418 }, '3': { 'base': 3.7325, 'increment': 1.3064 }, '2': { 'base': 2.4883, 'increment': 0.8709 } },\n  [Stats.Fire_DMG]: { '5': { 'base': 6.2208, 'increment': 2.1773 }, '4': { 'base': 4.9766, 'increment': 1.7418 }, '3': { 'base': 3.7325, 'increment': 1.3064 }, '2': { 'base': 2.4883, 'increment': 0.8709 } },\n  [Stats.Ice_DMG]: { '5': { 'base': 6.2208, 'increment': 2.1773 }, '4': { 'base': 4.9766, 'increment': 1.7418 }, '3': { 'base': 3.7325, 'increment': 1.3064 }, '2': { 'base': 2.4883, 'increment': 0.8709 } },\n  [Stats.Lightning_DMG]: { '5': { 'base': 6.2208, 'increment': 2.1773 }, '4': { 'base': 4.9766, 'increment': 1.7418 }, '3': { 'base': 3.7325, 'increment': 1.3064 }, '2': { 'base': 2.4883, 'increment': 0.8709 } },\n  [Stats.Wind_DMG]: { '5': { 'base': 6.2208, 'increment': 2.1773 }, '4': { 'base': 4.9766, 'increment': 1.7418 }, '3': { 'base': 3.7325, 'increment': 1.3064 }, '2': { 'base': 2.4883, 'increment': 0.8709 } },\n  [Stats.Quantum_DMG]: { '5': { 'base': 6.2208, 'increment': 2.1773 }, '4': { 'base': 4.9766, 'increment': 1.7418 }, '3': { 'base': 3.7325, 'increment': 1.3064 }, '2': { 'base': 2.4883, 'increment': 0.8709 } },\n  [Stats.Imaginary_DMG]: { '5': { 'base': 6.2208, 'increment': 2.1773 }, '4': { 'base': 4.9766, 'increment': 1.7418 }, '3': { 'base': 3.7325, 'increment': 1.3064 }, '2': { 'base': 2.4883, 'increment': 0.8709 } },\n}\n\nexport const SubStats = [\n  Stats.ATK_P,\n  Stats.ATK,\n  Stats.BE,\n  Stats.CD,\n  Stats.CR,\n  Stats.DEF_P,\n  Stats.DEF,\n  Stats.EHR,\n  Stats.HP_P,\n  Stats.HP,\n  Stats.RES,\n  Stats.SPD,\n];\nexport type SubStats = typeof SubStats[number];\n\nexport const StatsToReadable = {\n  [Stats.HP_P]: 'HP %',\n  [Stats.ATK_P]: 'ATK %',\n  [Stats.DEF_P]: 'DEF %',\n  [Stats.SPD_P]: 'SPD %',\n  [Stats.HP]: 'HP',\n  [Stats.ATK]: 'ATK',\n  [Stats.DEF]: 'DEF',\n  [Stats.SPD]: 'SPD',\n  [Stats.CR]: 'CRIT Rate',\n  [Stats.CD]: 'CRIT DMG',\n  [Stats.EHR]: 'Effect Hit Rate',\n  [Stats.RES]: 'Effect RES',\n  [Stats.BE]: 'Break Effect',\n  [Stats.ERR]: 'Energy Regen',\n  [Stats.OHB]: 'Healing Boost',\n  [Stats.Physical_DMG]: 'Physical DMG',\n  [Stats.Fire_DMG]: 'Fire DMG',\n  [Stats.Ice_DMG]: 'Ice DMG',\n  [Stats.Lightning_DMG]: 'Lightning DMG',\n  [Stats.Wind_DMG]: 'Wind DMG',\n  [Stats.Quantum_DMG]: 'Quantum DMG',\n  [Stats.Imaginary_DMG]: 'Imaginary DMG'\n}\n\nexport const StatsToIndex = {\n\n}\nlet i = 0;\nObject.values(Stats).map(x => StatsToIndex[x] = i++)\n\nexport const Parts = {\n  Head: 'Head',\n  Hands: 'Hands',\n  Body: 'Body',\n  Feet: 'Feet',\n  PlanarSphere: 'PlanarSphere',\n  LinkRope: 'LinkRope'\n};\nexport type Parts = typeof Parts[keyof typeof Parts];\n\nexport const PartsToReadable = {\n  [Parts.Head]: 'Head',\n  [Parts.Hands]: 'Hands',\n  [Parts.Body]: 'Body',\n  [Parts.Feet]: 'Feet',\n  [Parts.PlanarSphere]: 'Sphere',\n  [Parts.LinkRope]: 'Rope'\n};\nexport type PartsToReadable = typeof PartsToReadable[keyof typeof PartsToReadable];\n\nexport const PartsMainStats = {\n  [Parts.Head]: [Stats.HP],\n  [Parts.Hands]: [Stats.ATK],\n  [Parts.Body]: [Stats.HP_P, Stats.ATK_P, Stats.DEF_P, Stats.CR, Stats.CD, Stats.OHB, Stats.EHR],\n  [Parts.Feet]: [Stats.HP_P, Stats.ATK_P, Stats.DEF_P, Stats.SPD],\n  [Parts.PlanarSphere]: [Stats.HP_P, Stats.ATK_P, Stats.DEF_P, Stats.Physical_DMG, Stats.Fire_DMG, Stats.Ice_DMG, Stats.Lightning_DMG, Stats.Wind_DMG, Stats.Quantum_DMG, Stats.Imaginary_DMG],\n  [Parts.LinkRope]: [Stats.HP_P, Stats.ATK_P, Stats.DEF_P, Stats.BE, Stats.ERR],\n}\n\nexport const SetsRelics = {\n  'PasserbyOfWanderingCloud': 'Passerby of Wandering Cloud',\n  'MusketeerOfWildWheat': 'Musketeer of Wild Wheat',\n  'KnightOfPurityPalace': 'Knight of Purity Palace',\n  'HunterOfGlacialForest': 'Hunter of Glacial Forest',\n  'ChampionOfStreetwiseBoxing': 'Champion of Streetwise Boxing',\n  'GuardOfWutheringSnow': 'Guard of Wuthering Snow',\n  'FiresmithOfLavaForging': 'Firesmith of Lava-Forging',\n  'GeniusOfBrilliantStars': 'Genius of Brilliant Stars',\n  'BandOfSizzlingThunder': 'Band of Sizzling Thunder',\n  'EagleOfTwilightLine': 'Eagle of Twilight Line',\n  'ThiefOfShootingMeteor': 'Thief of Shooting Meteor',\n  'WastelanderOfBanditryDesert': 'Wastelander of Banditry Desert',\n  'LongevousDisciple': 'Longevous Disciple',\n  'MessengerTraversingHackerspace': 'Messenger Traversing Hackerspace',\n  'TheAshblazingGrandDuke': 'The Ashblazing Grand Duke',\n  'PrisonerInDeepConfinement': 'Prisoner in Deep Confinement',\n};\nexport type SetsRelics = typeof SetsRelics[keyof typeof SetsRelics];\n\nexport const SetsOrnaments = {\n  'SpaceSealingStation': 'Space Sealing Station',\n  'FleetOfTheAgeless': 'Fleet of the Ageless',\n  'PanCosmicCommercialEnterprise': 'Pan-Cosmic Commercial Enterprise',\n  'BelobogOfTheArchitects': 'Belobog of the Architects',\n  'CelestialDifferentiator': 'Celestial Differentiator',\n  'InertSalsotto': 'Inert Salsotto',\n  'TaliaKingdomOfBanditry': 'Talia: Kingdom of Banditry',\n  'SprightlyVonwacq': 'Sprightly Vonwacq',\n  'RutilantArena': 'Rutilant Arena',\n  'BrokenKeel': 'Broken Keel',\n  'FirmamentFrontlineGlamoth': 'Firmament Frontline: Glamoth',\n  'PenaconyLandOfTheDreams': 'Penacony, Land of the Dreams',\n};\nexport type SetsOrnaments = typeof SetsOrnaments[keyof typeof SetsOrnaments];\n\nexport const Sets = {\n  ...SetsRelics,\n  ...SetsOrnaments\n}\nexport type Sets = typeof Sets[keyof typeof Sets];\n\nexport const SetsRelicsNames = Object.values(SetsRelics)\nexport const SetsOrnamentsNames = Object.values(SetsOrnaments)\n\nconst OrnamentSetToIndex = {}\nfor (let i = 0; i < SetsOrnamentsNames.length; i++) {\n  OrnamentSetToIndex[SetsOrnamentsNames[i]] = i\n}\n\nconst RelicSetToIndex = {}\nfor (let i = 0; i < SetsRelicsNames.length; i++) {\n  RelicSetToIndex[SetsRelicsNames[i]] = i\n}\n\nexport const Constants = {\n  Sets,\n  Parts,\n  Stats,\n  MainStats,\n  MainStatsValues,\n  SubStats,\n  StatsToIndex,\n  SetsOrnaments,\n  SetsRelics,\n  SetsRelicsNames,\n  SetsOrnamentsNames,\n  StatsToReadable,\n  PartsToReadable,\n  PartsMainStats,\n  RelicSetToIndex,\n  OrnamentSetToIndex,\n  // StatMaxes,\n  MAX_INT: 2147483647,\n  THREAD_BUFFER_LENGTH: 200000\n}\n\n\n\nexport const levelOptions = (() => {\n  const levelStats = []\n  for (let i = 80; i >= 1; i--) {\n    levelStats.push({\n      value: i,\n      label: `Lv. ${i}`\n    })\n  }\n\n  return levelStats\n})();\n\nexport const enemyLevelOptions = (() => {\n  const levelStats = []\n  for (let i = 95; i >= 1; i--) {\n    levelStats.push({\n      value: i,\n      label: `Lv. ${i}`\n    })\n  }\n\n  return levelStats\n})();\n\nexport const enemyCountOptions = (() => {\n  const levelStats = []\n  for (let i = 1; i <= 5; i += 2) {\n    levelStats.push({\n      value: i,\n      label: `${i} target${i > 1 ? 's' : ''}`\n    })\n  }\n\n  return levelStats\n})();\n\nexport const enemyResistanceOptions = (() => {\n  const levelStats = []\n  for (let i = 20; i <= 60; i += 20) {\n    levelStats.push({\n      value: i / 100,\n      label: `${i}% RES`\n    })\n  }\n\n  return levelStats\n})();\n\nexport const enemyHpPercentOptions = (() => {\n  const levelStats = []\n  for (let i = 100; i >= 1; i--) {\n    levelStats.push({\n      value: i / 100,\n      label: `${i}% HP`\n    })\n  }\n\n  return levelStats\n})();\n\nexport const superimpositionOptions = (() => {\n  return [\n    { value: 1, label: 'S1' },\n    { value: 2, label: 'S2' },\n    { value: 3, label: 'S3' },\n    { value: 4, label: 'S4' },\n    { value: 5, label: 'S5' },\n  ]\n})();\n\nexport const eidolonOptions = (() => {\n  return [\n    { value: 0, label: 'E0' },\n    { value: 1, label: 'E1' },\n    { value: 2, label: 'E2' },\n    { value: 3, label: 'E3' },\n    { value: 4, label: 'E4' },\n    { value: 5, label: 'E5' },\n    { value: 6, label: 'E6' },\n  ]\n})();\n","import { Constants, Stats } from \"./constants.ts\";\n\nconst SIZE = 35\n\n// When adding new rows, use:\n// let i = 0\n// offset + i++\n\nexport const BufferPacker = {\n  extractCharacter: (arr, offset) => { // Float32Array\n    offset = offset * SIZE\n    return {\n      id: arr[offset], // 0\n      [Constants.Stats.HP]: arr[offset + 1],\n      [Constants.Stats.ATK]: arr[offset + 2],\n      [Constants.Stats.DEF]: arr[offset + 3],\n      [Constants.Stats.SPD]: arr[offset + 4],\n      [Constants.Stats.CD]: arr[offset + 5],\n      [Constants.Stats.CR]: arr[offset + 6],\n      [Constants.Stats.EHR]: arr[offset + 7],\n      [Constants.Stats.RES]: arr[offset + 8],\n      [Constants.Stats.BE]: arr[offset + 9],\n      [Constants.Stats.ERR]: arr[offset + 10], // 10\n      [Constants.Stats.OHB]: arr[offset + 11],\n      ED: arr[offset + 12],\n      CV: arr[offset + 13],\n      WEIGHT: arr[offset + 14],\n      EHP: arr[offset + 15],\n      BASIC: arr[offset + 16],\n      SKILL: arr[offset + 17],\n      ULT: arr[offset + 18],\n      FUA: arr[offset + 19],\n      DOT: arr[offset + 20], // 20\n      xHP: arr[offset + 21],\n      xATK: arr[offset + 22],\n      xDEF: arr[offset + 23],\n      xSPD: arr[offset + 24],\n      xCR: arr[offset + 25],\n      xCD: arr[offset + 26],\n      xEHR: arr[offset + 27],\n      xRES: arr[offset + 28],\n      xBE: arr[offset + 29],\n      xERR: arr[offset + 30], // 30\n      xOHB: arr[offset + 31],\n      xELEMENTAL_DMG: arr[offset + 32],\n      relicSetIndex: arr[offset + 33],\n      ornamentSetIndex: arr[offset + 34],\n    }\n  },\n\n  extractArrayToResults: (arr, length, results) => {\n    for (let i = 0; i < length; i++) {\n      if (arr[i * SIZE + 1]) {\n        results.push(BufferPacker.extractCharacter(arr, i))\n      }\n    }\n  },\n\n  packCharacter: (arr, offset, character) => {\n    offset = offset * SIZE\n\n    // When adding new rows, use:\n    arr[offset] = character.id // 0\n    arr[offset + 1] = character[Stats.HP]\n    arr[offset + 2] = character[Stats.ATK]\n    arr[offset + 3] = character[Stats.DEF]\n    arr[offset + 4] = character[Stats.SPD]\n    arr[offset + 5] = character[Stats.CD]\n    arr[offset + 6] = character[Stats.CR]\n    arr[offset + 7] = character[Stats.EHR]\n    arr[offset + 8] = character[Stats.RES]\n    arr[offset + 9] = character[Stats.BE]\n    arr[offset + 10] = character[Stats.ERR] // 10\n    arr[offset + 11] = character[Stats.OHB]\n    arr[offset + 12] = character.ELEMENTAL_DMG\n    arr[offset + 13] = character.CV\n    arr[offset + 14] = character.WEIGHT\n    arr[offset + 15] = character.EHP\n    arr[offset + 16] = character.x.BASIC_DMG\n    arr[offset + 17] = character.x.SKILL_DMG\n    arr[offset + 18] = character.x.ULT_DMG\n    arr[offset + 19] = character.x.FUA_DMG\n    arr[offset + 20] = character.x.DOT_DMG // 20\n    arr[offset + 21] = character.x[Stats.HP]\n    arr[offset + 22] = character.x[Stats.ATK]\n    arr[offset + 23] = character.x[Stats.DEF]\n    arr[offset + 24] = character.x[Stats.SPD]\n    arr[offset + 25] = character.x[Stats.CR]\n    arr[offset + 26] = character.x[Stats.CD]\n    arr[offset + 27] = character.x[Stats.EHR]\n    arr[offset + 28] = character.x[Stats.RES]\n    arr[offset + 29] = character.x[Stats.BE]\n    arr[offset + 30] = character.x[Stats.ERR] // 30\n    arr[offset + 31] = character.x[Stats.OHB]\n    arr[offset + 32] = character.x.ELEMENTAL_DMG\n    arr[offset + 33] = character.relicSetIndex\n    arr[offset + 34] = character.ornamentSetIndex\n  },\n\n  cleanFloatBuffer: (buffer) => {\n    new Float64Array(buffer).fill(0);\n  },\n\n  createFloatBuffer: (length) => {\n    return new Float64Array(length * SIZE).buffer\n  }\n}","import { Typography, } from 'antd';\nimport styled from 'styled-components';\n\nconst { Text } = Typography;\n\nexport const HeaderText = styled(Text)`\n  text-decoration: underline;\n  text-decoration-color: #6d97ffb3;\n  text-underline-offset: 2px\n`","import React from \"react\";\nimport { Popover } from \"antd\";\nimport PropTypes from \"prop-types\";\nimport { Assets } from \"../lib/assets\";\n\nexport const TooltipImage = (props) => (\n  <Popover\n    content={props.type.content}\n    title={props.type.title}\n    overlayStyle={{\n      width: 500\n    }}\n  >\n    <img src={Assets.getQuestion()} style={{width: 16, opacity: 0.6}}/>\n  </Popover>\n)\nTooltipImage.propTypes = {\n  type: PropTypes.object,\n}\n","import { Constants } from 'lib/constants';\nconst Stats = Constants.Stats\n\nexport const ASHBLAZING_ATK_STACK = 0.06;\n\n// TODO profile & convert to array for performance?\nexport const baseComputedStatsObject = {\n  [Stats.HP_P]: 0,\n  [Stats.ATK_P]: 0,\n  [Stats.DEF_P]: 0,\n  [Stats.SPD_P]: 0,\n  [Stats.HP]: 0,\n  [Stats.ATK]: 0,\n  [Stats.DEF]: 0,\n  [Stats.SPD]: 0,\n  [Stats.CD]: 0,\n  [Stats.CR]: 0,\n  [Stats.EHR]: 0,\n  [Stats.RES]: 0,\n  [Stats.BE]: 0,\n  [Stats.ERR]: 0,\n  [Stats.OHB]: 0,\n\n  ELEMENTAL_DMG: 0,\n  DEF_SHRED: 0,\n  DMG_TAKEN_MULTI: 0,\n  ALL_DMG_MULTI: 0,\n  RES_PEN: 0,\n  DMG_RED_MULTI: 1,\n\n  BASIC_CR_BOOST: 0,\n  SKILL_CR_BOOST: 0,\n  ULT_CR_BOOST: 0,\n  FUA_CR_BOOST: 0,\n\n  BASIC_CD_BOOST: 0,\n  SKILL_CD_BOOST: 0,\n  ULT_CD_BOOST: 0,\n  FUA_CD_BOOST: 0,\n\n  BASIC_SCALING: 0,\n  SKILL_SCALING: 0,\n  ULT_SCALING: 0,\n  FUA_SCALING: 0,\n  DOT_SCALING: 0,\n\n  BASIC_BOOST: 0,\n  SKILL_BOOST: 0,\n  ULT_BOOST: 0,\n  FUA_BOOST: 0,\n  DOT_BOOST: 0,\n\n  BASIC_VULNERABILITY: 0,\n  SKILL_VULNERABILITY: 0,\n  ULT_VULNERABILITY: 0,\n  FUA_VULNERABILITY: 0,\n  DOT_VULNERABILITY: 0,\n\n  BASIC_DMG: 0,\n  SKILL_DMG: 0,\n  ULT_DMG: 0,\n  FUA_DMG: 0,\n  DOT_DMG: 0,\n\n  BASIC_DEF_PEN: 0,\n  SKILL_DEF_PEN: 0,\n  ULT_DEF_PEN: 0,\n  FUA_DEF_PEN: 0,\n  DOT_DEF_PEN: 0,\n\n  BASIC_RES_PEN: 0,\n  SKILL_RES_PEN: 0,\n  ULT_RES_PEN: 0,\n  FUA_RES_PEN: 0,\n  DOT_RES_PEN: 0,\n};\nexport type ComputedStatsObject = typeof baseComputedStatsObject;","import { Constants } from \"lib/constants\";\n\nexport const precisionRound = (number: number, precision: number = 8): number => {\n  const factor = Math.pow(10, precision);\n  return Math.round(number * factor) / factor;\n};\n\n// Remove the ashblazing set atk bonus only when calc-ing fua attacks\nexport const calculateAshblazingSet = (c, request, hitMulti): {\n  ashblazingMulti: number,\n  ashblazingAtk: number\n} => {\n  const enabled = p4(c.sets.TheAshblazingGrandDuke);\n  const valueTheAshblazingGrandDuke = request.setConditionals[Constants.Sets.TheAshblazingGrandDuke][1];\n  const ashblazingAtk = 0.06 * valueTheAshblazingGrandDuke * enabled * c.baseAtk * enabled;\n  const ashblazingMulti = hitMulti * enabled * c.baseAtk;\n\n  return {\n    ashblazingMulti,\n    ashblazingAtk\n  }\n};\n\nexport const p4 = (set: number): number => {\n  return set >> 2\n};\n\n\n// normal: JL, Dr.Ratio\n// reversed: Topaz\nexport const skill = (eidolon: number, value1: number, value2: number): number => {\n  return eidolon >= 3 ? value2 : value1\n};\nexport const talent = skill;\nexport const ultRev = skill;\nexport const basicRev = skill;\n\nexport const ult = (eidolon: number, value1: number, value2: number): number => {\n  return eidolon >= 5 ? value2 : value1\n}\nexport const basic = ult;\nexport const skillRev = ult;\nexport const talentRev = ult;\n\n\ntype SkillLevel = 10 | 12;\nexport const getContentForCharacterSkill = (skillLevel: SkillLevel, skill: string, skillRank: unknown): string => {\n  let ret = '';\n\n  skill.match(/#(\\d+)\\[\\w+\\]/g).forEach((token) => {\n    // get params value\n    token.match(/#(\\d+)/).forEach((tokenPieces, i) => {\n      if (i > 0) {\n        // [\"#4[i]\", \"4\"]\n        let value = skillRank[parseInt(tokenPieces) - 1];\n        // change to percent\n        if (value < 1) {\n          value = Math.round(value * 100);\n        }\n        ret = ret.replace(token, value.toString());\n      }\n    });\n  });\n\n  return ret;\n};","import React from 'react';\n\n// Colorizes numbers in a string with JSX elements\nconst ColorizeNumbers = (text: string, color: string = '#ebb434') => {\n  const ret = [];\n  let num = '';\n  let isNum = false;\n\n  if (text) {\n    // split text by \"::BR::\" and replace with <br />\n    // text.split('::BR::').map((item, i) => {\n    //   ret.push <React.Fragment key={i}>{item}<br /></React.Fragment>;\n    // });\n    text.split('::BR::').forEach((item, i) => {\n      if (ret.length > 0) {\n        ret.push(<br key={i} />);\n        ret.push(<br key={i} />);\n      }\n\n      for (let i = 0; i < item.length; i++) {\n        if (\n          (item[i] >= '0' && item[i] <= '9')\n            || item[i] === '%'\n            || (item[i] === 'A' && item[i + 1] && /[2,4,6]/.test(item[i + 1]))\n            || (item[i] === 'E' && item[i + 1] && /[0-6]/.test(item[i + 1]))\n          ) {\n          num += item[i];\n          isNum = true;\n        } else {\n          if (isNum) {\n            ret.push(<span key={i} style={{ color: color }}>{num}</span>);\n            num = '';\n            isNum = false;\n          }\n          ret.push(item[i]);\n        }\n      }\n    \n      if (isNum) {\n        ret.push(<span key={-1} style={{ color: color }}>{num}</span>);\n      }\n    });\n\n  }\n\n  return <>{ret}</>;\n};\n\nexport default ColorizeNumbers;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Flex } from 'antd';\nimport ColorizeNumbers from 'components/common/ColorizeNumbers';\n\nconst DisplayFormControl = ({ content }): JSX.Element => {\n  const ret = [];\n  let i = 0;\n\n  // for (const key in content) {\n  content.forEach(passive => {\n    const Item = passive.formItem;\n    ret.push(\n      <Item\n        {...passive}\n        name={passive.id}\n        title={passive.title}\n        content={ColorizeNumbers(passive.content)}\n        text={passive.text}\n        key={i}\n        />\n    );\n    i++;\n  });\n\n  return (<Flex vertical gap={10}>{ret}</Flex>);\n};\nDisplayFormControl.propTypes = {\n  content: PropTypes.array,\n  eidolon: PropTypes.number,\n  ultBoostMax: PropTypes.number,\n};\n\nexport default DisplayFormControl;","import React, { FC } from \"react\";\nimport { object, string } from \"prop-types\";\nimport { Popover, Typography } from \"antd\";\nconst { Text } = Typography;\n\nconst WithPopover = (WrappedComponent: FC) => {\n  const Wrapped = (props) => {\n    const [open, setOpen] = React.useState(false);\n    const handleOpenChange = (newOpen: boolean) => { setOpen(newOpen); }\n    const content =\n      <Text style={{ width: 400, display: 'block' }}>\n        <hr />\n        {props.content}\n      </Text>;\n\n    return (\n      <Popover\n        trigger=\"hover\"\n        placement=\"left\"\n        content={content}\n        title={props.title}\n        open={open}\n        onOpenChange={handleOpenChange}\n      >\n        <span style={{ cursor: 'pointer' }}>{WrappedComponent(props)}</span>\n      </Popover>\n    );\n  };\n  Wrapped.displayName = 'WithPopoverWrapped';\n  Wrapped.propTypes = WithPopover.propTypes\n  return Wrapped;\n};\n\nWithPopover.displayName = 'WithPopover';\nWithPopover.propTypes = {\n  title: string,\n  content: object,\n};\nexport default WithPopover;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"styled-components\";\nimport { Flex, Form, Switch, Typography } from \"antd\";\nimport { CheckOutlined, CloseOutlined } from \"@ant-design/icons\";\nimport WithPopover from \"components/common/WithPopover\";\n\nconst justify = 'flex-start'\nconst align = 'center'\n\nconst Text = styled(Typography)`\n  white-space: pre-line;\n`\n\nfunction conditionalType(props) {\n  if (props.lc) {\n    return 'lightConeConditionals'\n  }\n  return 'characterConditionals'\n}\n\nexport function FormSwitch(props) {\n  return (\n\n    <Flex justify={justify} align={align}>\n      <Form.Item name={[conditionalType(props), props.name]} valuePropName='checked'>\n        <Switch\n          checkedChildren={<CheckOutlined />}\n          unCheckedChildren={<CloseOutlined />}\n          disabled={props.disabled}\n          defaultChecked={!props.disabled}\n          style={{ width: 45, marginRight: 10 }}\n        />\n      </Form.Item>\n      <Text>{props.text}</Text>\n    </Flex>\n\n  )\n}\nFormSwitch.propTypes = {\n  disabled: PropTypes.bool,\n  name: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n  lc: PropTypes.bool,\n};\n\nexport const FormSwitchWithPopover = WithPopover(FormSwitch);\nFormSwitchWithPopover.propTypes = {\n  ...FormSwitch.propTypes,\n  ...WithPopover.propTypes\n};\n\nexport type FormSwitchWithPopoverProps = PropTypes.InferProps<typeof FormSwitchWithPopover.propTypes>;","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Flex, Form, InputNumber, Slider, Typography } from \"antd\";\nimport styled from \"styled-components\";\nimport WithPopover from \"components/common/WithPopover\";\n\nconst justify = 'flex-start'\nconst align = 'center'\nconst inputWidth = 75\nconst numberWidth = 65\nconst sliderWidth = 145\n\nconst Text = styled(Typography)`\n  white-space: pre-line;\n`\nfunction precisionRound(number, precision = 8) {\n  const factor = Math.pow(10, precision);\n  return Math.round(number * factor) / factor;\n}\n\nfunction conditionalType(props) {\n  if (props.lc) {\n    return 'lightConeConditionals'\n  }\n  return 'characterConditionals'\n}\n\nexport function FormSlider(props) {\n  const [inputValue, setInputValue] = useState(1);\n  const onChange = (newValue) => {\n    setInputValue(newValue);\n  };\n\n  const multiplier = (props.percent ? 100 : 1)\n  const step = props.percent ? 0.01 : 1\n  const symbol = props.percent ? '%' : ''\n\n  return (\n    <Flex vertical gap={5} style={{ marginBottom: 0 }}>\n      <Flex justify={justify} align={align}>\n        <div style={{ minWidth: inputWidth, display: 'block' }}>\n          <Form.Item name={[conditionalType(props), props.name]}>\n            <InputNumber\n              min={props.min}\n              max={props.max}\n              controls={false}\n              size='small'\n              style={{\n                width: numberWidth,\n              }}\n              parser={(value) => value == null || value == '' ? 0 : precisionRound(parseFloat(value) / multiplier)}\n              formatter={(value) => `${precisionRound(value * multiplier)}`}\n              addonAfter={symbol}\n              onChange={onChange}\n              disabled={props.disabled}\n            />\n          </Form.Item>\n        </div>\n        <Text>{props.text}</Text>\n      </Flex>\n      <Flex align='center' justify='flex-start' gap={10} style={{ height: 14 }}>\n        <Form.Item name={[conditionalType(props), props.name]}>\n          <Slider\n            min={props.min}\n            max={props.max}\n            step={step}\n            value={typeof inputValue === 'number' ? inputValue : 0}\n            style={{\n              minWidth: sliderWidth,\n              marginTop: 0,\n              marginBottom: 0,\n              marginLeft: 1\n            }}\n            tooltip={{\n              formatter: (value) => `${precisionRound(value * multiplier)}${symbol}`\n            }}\n            onChange={onChange}\n            disabled={props.disabled}\n          />\n        </Form.Item>\n        <Text style={{ minWidth: 20, marginBottom: 2, textAlign: 'center' }}>{`${precisionRound(props.max * multiplier)}${symbol}`}</Text>\n      </Flex>\n    </Flex>\n  )\n}\nFormSlider.propTypes = {\n  disabled: PropTypes.bool,\n  min: PropTypes.number,\n  max: PropTypes.number,\n  text: PropTypes.string,\n  name: PropTypes.string,\n  percent: PropTypes.bool,\n  lc: PropTypes.bool,\n}\n\nexport const FormSliderWithPopover = WithPopover(FormSlider);\nFormSliderWithPopover.propTypes = {\n  ...FormSlider.propTypes,\n  ...WithPopover.propTypes\n}\n\nexport type FormSliderWithPopoverProps = PropTypes.InferProps<typeof FormSliderWithPopover.propTypes>","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { baseComputedStatsObject } from 'lib/conditionals/constants';\nimport { basic, skill, talent, ult } from 'lib/conditionals/utils';\nimport { precisionRound } from 'lib/conditionals/utils';\n\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\nimport { FormSliderWithPopover } from 'components/optimizerForm/conditionals/FormSlider';\n\nimport { Eidolon } from 'types/Character'\nimport { Form, PrecomputedCharacterConditional } from 'types/CharacterConditional';\n\n\nexport default (e: Eidolon) => {\n  const talentMaxStacks = (e >= 4) ? 12 : 10\n\n  const basicScaling = basic(e, 1.00, 1.10)\n  const skillScaling = skill(e, 1.20, 1.32)\n  const ultScaling = ult(e, 1.60, 1.728)\n  const ultEnhancedScaling = ult(e, 2.80, 3.024)\n  const ultEnhancedExtraHitScaling = ult(e, 0.95, 1.026)\n  const talentCrStackValue = talent(e, 0.025, 0.028)\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'ultEnhanced',\n    name: 'ultEnhanced',\n    text: 'Enhanced Ult',\n    title: 'Enhanced Ult',\n    content: `Consumes 180 Energy and deals Physical DMG equal to ${precisionRound(ultEnhancedScaling * 100)}% of Argenti's ATK to all enemies,\n      and further deals DMG for 6 extra time(s), with each time dealing Physical DMG equal to ${precisionRound(ultEnhancedExtraHitScaling * 100)}% of Argenti's ATK to a random enemy.`,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'talentStacks',\n    name: 'talentStacks',\n    text: 'Talent stacks',\n    title: 'Talent stacks',\n    content: `Increases CR by ${precisionRound(talentCrStackValue * 100)}% per stack, max of ${talentMaxStacks} stacks.`,\n    min: 0,\n    max: talentMaxStacks,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'ultEnhancedExtraHits',\n    name: 'ultEnhancedExtraHits',\n    text: 'Ult Extra Hits',\n    title: 'Ult Extra Hits',\n    content: `Enhanced Ult extra hits random enemy for ${precisionRound(ultEnhancedExtraHitScaling * 100)}% per hit.`,\n    min: 0,\n    max: 6,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e2UltAtkBuff',\n    name: 'e2UltAtkBuff',\n    text: 'E2 Ult ATK buff',\n    title: 'E2 Ult ATK buff',\n    content: `If the number of enemies on the field equals to 3 or more, increases ATK by ${precisionRound(0.40 * 100)}% after Ult.`,\n    disabled: e < 2,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      ultEnhanced: true,\n      talentStacks: talentMaxStacks,\n      ultEnhancedExtraHits: 6,\n      e2UltAtkBuff: true\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Skills\n      x[Stats.CR] += (r.talentStacks) * talentCrStackValue\n\n      // Traces\n\n      // Eidolons\n      x[Stats.CD] += (e >= 1) ? (r.talentStacks) * 0.04 : 0\n      x[Stats.ATK_P] += (e >= 2 && r.e2UltAtkBuff) ? 0.40 : 0\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += (r.ultEnhanced) ? ultEnhancedScaling : ultScaling\n      x.ULT_SCALING += (r.ultEnhancedExtraHits) * ultEnhancedExtraHitScaling\n\n      // BOOST\n      x.ULT_BOOST += (request.enemyHpPercent <= 0.5) ? 0.15 : 0\n      x.ULT_DEF_PEN += (e >= 6) ? 0.30 : 0\n\n      return x\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional) => {\n      const x = c['x'];\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n      x.FUA_DMG += 0\n    }\n  }\n}\n","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { FormSliderWithPopover } from 'components/optimizerForm/conditionals/FormSlider';\nimport { basic, skill, talent, ult } from \"lib/conditionals/utils\";\nimport { baseComputedStatsObject } from 'lib/conditionals/constants';\n\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { Eidolon } from 'types/Character';\n// import { Unknown } from 'types/Common';\n// import { CharacterConditional, ConditionalMap, ContentItem, Form } from 'types/CharacterConditional';\n\nimport { ASHBLAZING_ATK_STACK } from 'lib/conditionals/constants';\nimport { calculateAshblazingSet } from 'lib/conditionals/utils';\n// import { DataMineId } from 'types/Common';\n\nconst DrRatio = (e: Eidolon) => {\n  // const CharId: DataMineId = 1305;\n  const debuffStacksMax = 5\n  const summationStacksMax = (e >= 1) ? 10 : 6\n\n  const basicScaling = basic(e, 1.00, 1.10)\n  const skillScaling = skill(e, 1.50, 1.65)\n  const ultScaling = ult(e, 2.40, 2.592)\n  const fuaScaling = talent(e, 2.70, 2.97)\n\n  function e2FuaRatio(procs, fua = true) {\n    return fua\n      ? fuaScaling / (fuaScaling + 0.20 * procs) // for fua dmg\n      : 0.20 / (fuaScaling + 0.20 * procs) // for each e2 proc\n  }\n\n  const baseHitMulti = ASHBLAZING_ATK_STACK * (1 * 1 / 1)\n  const fuaMultiByDebuffs = {\n    0: ASHBLAZING_ATK_STACK * (1 * 1 / 1), // 0\n    1: ASHBLAZING_ATK_STACK * (1 * e2FuaRatio(1, true) + 2 * e2FuaRatio(1, false)), // 2\n    2: ASHBLAZING_ATK_STACK * (1 * e2FuaRatio(2, true) + 5 * e2FuaRatio(2, false)), // 2 + 3\n    3: ASHBLAZING_ATK_STACK * (1 * e2FuaRatio(3, true) + 9 * e2FuaRatio(3, false)), // 2 + 3 + 4\n    4: ASHBLAZING_ATK_STACK * (1 * e2FuaRatio(4, true) + 14 * e2FuaRatio(4, false)), // 2 + 3 + 4 + 5\n  };\n\n  const getContentWithTalentLevel = () => {\n    const base = [\n      \"When using his Skill, Dr. Ratio has a 40% fixed chance of launching a follow-up attack against his target for 1 time,\",\n      \"dealing Imaginary DMG equal to {0}% of Dr. Ratio's ATK.\",\n      \"For each debuff the target enemy has, the fixed chance of launching follow-up attack increases by 20%.\",\n      \"If the target enemy is defeated before the follow-up attack triggers, the follow-up attack will be directed at a single random enemy instead.\"\n    ].join(' ');\n\n    // assume max talent level\n    return base.replace('{0}', (e >= 5) ? '297' : '270')\n  }\n\n\n  const content = [{\n    id: 'summationStacks',\n    name: 'summationStacks',\n    formItem: FormSliderWithPopover,\n    text: 'Summation stacks',\n    title: 'Summation',\n    content: `When Dr. Ratio uses his Skill, for every debuff on the target, his CRIT Rate increases by 2.5% and CRIT DMG by 5%. This effect can stack up to ${summationStacksMax} time(s).`,\n    min: 0,\n    max: summationStacksMax\n  }, {\n    id: 'enemyDebuffStacks',\n    name: 'enemyDebuffStacks',\n    formItem: FormSliderWithPopover,\n    text: 'Enemy debuff stacks',\n    title: 'Talent: Cogito, Ergo Sum',\n    content: getContentWithTalentLevel(),\n    min: 0,\n    max: debuffStacksMax\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      enemyDebuffStacks: debuffStacksMax,\n      summationStacks: summationStacksMax,\n    }),\n    precomputeEffects: (request) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n      x[Stats.CR] += r.summationStacks * 0.025\n      x[Stats.CD] += r.summationStacks * 0.05\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n      x.FUA_SCALING += fuaScaling\n\n      // Boost\n      x.ELEMENTAL_DMG += (r.enemyDebuffStacks >= 3) ? Math.min(0.50, r.enemyDebuffStacks * 0.10) : 0\n      x.FUA_BOOST += (e >= 6) ? 0.50 : 0\n\n      return x\n    },\n    calculateBaseMultis: (c, request) => {\n      const r = request.characterConditionals\n      const x = c.x\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n      if (e >= 2) {\n        const hitMulti = fuaMultiByDebuffs[Math.min(4, r.enemyDebuffStacks)]\n        const { ashblazingMulti, ashblazingAtk } = calculateAshblazingSet(c, request, hitMulti)\n        x.FUA_DMG += x.FUA_SCALING * (x[Stats.ATK] - ashblazingAtk + ashblazingMulti)\n      } else {\n        const { ashblazingMulti, ashblazingAtk } = calculateAshblazingSet(c, request, baseHitMulti)\n        x.FUA_DMG += x.FUA_SCALING * (x[Stats.ATK] - ashblazingAtk + ashblazingMulti)\n      }\n    }\n  }\n}\n\nexport default DrRatio;","import React from \"react\"\nimport { Stats } from \"lib/constants\"\nimport { baseComputedStatsObject } from \"lib/conditionals/constants\";\nimport { basicRev, skillRev, ultRev } from \"lib/conditionals/utils\";\nimport { FormSliderWithPopover } from \"components/optimizerForm/conditionals/FormSlider\";\nimport { FormSwitchWithPopover } from \"components/optimizerForm/conditionals/FormSwitch\";\nimport DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\n\nconst TrailblazerPreservation = (e) => {\n  const skillDamageReductionValue = skillRev(e, 0.50, 0.52);\n\n  const basicAtkScaling = basicRev(e, 1.00, 1.10);\n  const basicDefScaling = (e >= 1) ? 0.25 : 0\n  const basicEnhancedAtkScaling = basicRev(e, 1.35, 1.463);\n  const basicEnhancedDefScaling = (e >= 1) ? 0.50 : 0\n  const skillScaling = skillRev(e, 0, 0);\n  const ultAtkScaling = ultRev(e, 1.00, 1.10);\n  const ultDefScaling = ultRev(e, 1.50, 1.65);\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'enhancedBasic',\n    name: 'enhancedBasic',\n    text: 'Enhanced basic',\n    title: `Enhanced basic: Increases ATK by ${basicEnhancedAtkScaling * 100}% and DEF by ${basicEnhancedDefScaling * 100}%`,\n    content: `Enhances the Basic ATK of all allies, increasing their ATK by ${basicEnhancedAtkScaling * 100}% and DEF by ${basicEnhancedDefScaling * 100}% for 2 turn(s).`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'skillActive',\n    name: 'skillActive',\n    text: 'Skill active',\n    title: `Skill active: Reduces DMG taken by ${skillDamageReductionValue * 100}%`,\n    content: `When the Skill is used, reduces all allies' DMG taken by ${skillDamageReductionValue * 100}% for 2 turn(s).`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'shieldActive',\n    name: 'shieldActive',\n    text: 'Shield active',\n    title: 'Shield active: Increases ATK by 15%',\n    content: `When the Shield is active, increases all allies' ATK by 15% for 2 turn(s).`,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'e6DefStacks',\n    name: 'e6DefStacks',\n    text: 'E6 def stacks',\n    title: 'E6 def stacks: Increases DEF by 10%',\n    content: `When the E6 DEF Stacks are active, increases all allies' DEF by 10% for 2 turn(s).`,\n    min: 0,\n    max: 3,\n    disabled: e < 6,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      enhancedBasic: true,\n      skillActive: true,\n      shieldActive: true,\n      e6DefStacks: 3,\n    }),\n    precomputeEffects: (request) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject);\n\n      // Stats\n      x[Stats.DEF_P] += (e >= 6) ? r.e6DefStacks * 0.10 : 0\n      x[Stats.ATK_P] += (r.shieldActive) ? 0.15 : 0\n\n      // Scaling\n      x.SKILL_SCALING += skillScaling\n\n      // Boost\n      x.DMG_RED_MULTI *= (r.skillActive) ? (1 - skillDamageReductionValue) : 1\n      x.DMG_RED_MULTI *= (r.skillActive) ? (1 - 0.15) : 1\n\n      return x\n    },\n    calculateBaseMultis: (c, request) => {\n      const r = request.characterConditionals\n      const x = c.x\n\n      if (r.enhancedBasic) {\n        x.BASIC_DMG += basicEnhancedAtkScaling * x[Stats.ATK]\n        x.BASIC_DMG += basicEnhancedDefScaling * x[Stats.DEF]\n      } else {\n        x.BASIC_DMG += basicAtkScaling * x[Stats.ATK]\n        x.BASIC_DMG += basicDefScaling * x[Stats.DEF]\n      }\n\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += ultAtkScaling * x[Stats.ATK]\n      x.ULT_DMG += ultDefScaling * x[Stats.DEF]\n    }\n  }\n}\n\nexport default TrailblazerPreservation;","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\nimport { basic, skill, talent, ult } from \"lib/conditionals/utils\";\nimport { baseComputedStatsObject } from 'lib/conditionals/constants';\n\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { Eidolon } from 'types/Character';\nimport { Unknown } from 'types/Common';\nimport { CharacterConditional, ConditionalMap, ContentItem, Form } from 'types/CharacterConditional';\n\n\nconst Jingliu = (e: Eidolon): CharacterConditional => {\n  const talentCrBuff = talent(e, 0.50, 0.52);\n  let talentHpDrainAtkBuffMax = talent(e, 1.80, 1.98);\n  talentHpDrainAtkBuffMax += (e >= 4) ? 0.30 : 0;\n  const basicScaling = basic(e, 1.00, 1.10);\n  const skillScaling = skill(e, 2.00, 2.20);\n  const skillEnhancedScaling = skill(e, 2.50, 2.75);\n  const ultScaling = ult(e, 3.00, 3.24);\n\n  const content: ContentItem[] = [\n    {\n      id: 'talentEnhancedState',\n      formItem: FormSwitchWithPopover,\n      text: 'Enhanced state',\n      title: 'Crescent Transmigration',\n      content: \"When Jingliu has 2 stack(s) of Syzygy, she enters the Spectral Transmigration state with her Action Advanced by 100% and her CRIT Rate increases by 50%. Then, Jingliu's Skill Transcendent Flash becomes enhanced and turns into Moon On Glacial River, and becomes the only ability she can use in battle.\",\n    },\n    {\n      id: 'talentHpDrainAtkBuff',\n      formItem: FormSwitchWithPopover,\n      text: 'HP drain ATK buff',\n      title: 'Crescent Transmigration - ATK Bonus',\n      content: \"When Jingliu uses an attack in the Spectral Transmigration state, she consumes HP from all other allies equal to 4% of their respective Max HP (this cannot reduce allies' HP to lower than 1%. Jingliu's ATK increases by 540% of the total HP consumed from all allies in this attack, capped at 180% of her base ATK, lasting until the current attack ends. Jingliu cannot enter the Spectral Transmigration state again until the current Spectral Transmigration state ends. Syzygy can stack up to 3 times. When Syzygy stacks become 0, Jingliu will exit the Spectral Transmigration state.\",\n      min: 0,\n      max: talentHpDrainAtkBuffMax,\n      percent: true,\n    },\n    {\n      id: 'e1CdBuff',\n      formItem: FormSwitchWithPopover,\n      text: 'E1 ult active',\n      title: 'Moon Crashes Tianguan Gate',\n      content: \"When using her Ultimate or Enhanced Skill, Jingliu's CRIT DMG increases by 24% for 1 turn(s). If only one enemy target is attacked, the target will additionally be dealt Ice DMG equal to 100% of Jingliu's ATK.\",\n      disabled: e < 1,\n    },\n    {\n      id: 'e2SkillDmgBuff',\n      formItem: FormSwitchWithPopover,\n      text: 'E2 skill buff',\n      title: 'Crescent Shadows Qixing Dipper',\n      content: \"After using Ultimate, increases the DMG of the next Enhanced Skill by 80%.\",\n      disabled: e < 2,\n    },\n  ];\n  \n  return {\n    display: () => <DisplayFormControl eidolon={e} content={content} />,\n    defaults: () => ({\n      talentEnhancedState: true,\n      talentHpDrainAtkBuff: talentHpDrainAtkBuffMax,\n      e1CdBuff: true,\n      e2SkillDmgBuff: true,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r: ConditionalMap = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Skills\n      x[Stats.CR] += (r.talentEnhancedState) ? talentCrBuff : 0\n      x[Stats.ATK_P] += ((r.talentEnhancedState) ? r.talentHpDrainAtkBuff : 0) as number;\n\n      // Traces\n      x[Stats.RES] += (r.talentEnhancedState) ? 0.35 : 0\n      x.ULT_BOOST += (r.talentEnhancedState) ? 0.20 : 0\n\n      // Eidolons\n      x[Stats.CD] += (e >= 1 && r.e1CdBuff) ? 0.24 : 0\n      x[Stats.CD] += (e >= 6 && r.talentEnhancedState) ? 0.50 : 0\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n\n      x.SKILL_SCALING += (r.talentEnhancedState) ? skillEnhancedScaling : skillScaling\n      x.SKILL_SCALING += (e >= 1 && r.talentEnhancedState && request.enemyCount == 1) ? 1 : 0\n\n      x.ULT_SCALING += ultScaling\n      x.ULT_SCALING += (e >= 1 && request.enemyCount == 1) ? 1 : 0\n\n      x.FUA_SCALING += 0\n\n      // BOOST\n      x.SKILL_BOOST += (e >= 2 && r.talentEnhancedState && r.e2SkillDmgBuff) ? 0.80 : 0\n\n      return x\n    },\n    calculateBaseMultis: (c: Unknown) => {\n      const x = c['x']\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n      x.FUA_DMG += 0\n    }\n  }\n};\nJingliu.label = 'Jingliu';\n\nexport default Jingliu;","import React from \"react\";\nimport { Stats } from \"lib/constants\";\nimport { baseComputedStatsObject } from \"lib/conditionals/constants\";\nimport { basicRev, skillRev, ultRev } from \"lib/conditionals/utils\";\nimport DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\nimport { FormSwitchWithPopover } from \"components/optimizerForm/conditionals/FormSwitch\";\n\nimport { Eidolon } from \"types/Character\";\n\nexport default (e: Eidolon) => {\n  const basicScaling = basicRev(e, 1.00, 1.10)\n  const skillScaling = skillRev(e, 0, 0)\n  const ultScaling = ultRev(e, 2.00, 2.16)\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'fieldActive',\n    name: 'fieldActive',\n    text: 'Field Active',\n    title: 'Field Active',\n    content: `\n      E1: Increases ATK by 20% for 1 turn(s) after using Ultimate.\n      ::BR::\n      E4: When Luocha's Field is active, enemies become Weakened and deal 12% less DMG.\n    `,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e6ResReduction',\n    name: 'e6ResReduction',\n    text: 'E6 RES Reduction',\n    title: 'E6 RES Reduction',\n    content: `Decreases target's RES by 20% for 1 turn(s) after using Ultimate.`,\n    disabled: e < 6,\n  }]\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      fieldActive: true,\n      e6ResReduction: true,\n    }),\n    precomputeEffects: (request) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n      x[Stats.ATK_P] += (r >= 1 && r.fieldActive) ? 0.20 : 0\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n\n      // Boost\n      x.RES_PEN += (e >= 6 && r.e6ResReduction) ? 0.20 : 0\n\n      return x\n    },\n    calculateBaseMultis: (c) => {\n      const x = c.x\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n      // x.FUA_DMG += 0\n    }\n  }\n}\n","import React from \"react\";\nimport { Stats } from \"lib/constants\";\nimport { baseComputedStatsObject } from \"lib/conditionals/constants\";\nimport { basicRev, precisionRound, skillRev, talentRev, ultRev } from \"lib/conditionals/utils\";\nimport { Eidolon } from \"types/Character\"\nimport DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\nimport { FormSwitchWithPopover } from \"components/optimizerForm/conditionals/FormSwitch\";\nimport { FormSliderWithPopover } from \"components/optimizerForm/conditionals/FormSlider\";\n\nconst TrailblazerDestruction = (e: Eidolon) => {\n  const talentAtkScalingValue = talentRev(e, 0.20, 0.22);\n\n  const basicScaling = basicRev(e, 1.00, 1.10);\n  const skillScaling = skillRev(e, 1.25, 1.375);\n  const ultScaling = ultRev(e, 4.5, 4.80);\n  const ultEnhancedScaling = ultRev(e, 2.70, 2.88);\n  const ultEnhancedScaling2 = ultRev(e, 1.62, 1.728);\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'enhancedUlt',\n    name: 'Enhanced Ult',\n    text: 'AoE ult',\n    title: 'AoE ULT - Split DMG to adjacent enemies',\n    content: `Choose between two attack modes to deliver a full strike. ::BR:: Blowout: (ST) Farewell Hit deals Physical DMG equal to ${precisionRound(ultScaling * 100)}% of the Trailblazer's ATK to a single enemy. ::BR::Blowout: (Blast) RIP Home Run deals Physical DMG equal to ${precisionRound(ultEnhancedScaling * 100)}% of the Trailblazer's ATK to a single enemy, and Physical DMG equal to ${precisionRound(ultEnhancedScaling2 * 100)}% of the Trailblazer's ATK to enemies adjacent to it.`,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'talentStacks',\n    name: 'Talent stacks',\n    text: 'Talent stacks',\n    title: `Talent stacks: Increases ATK by ${talentAtkScalingValue * 100}% and DEF by 10%`,\n    content: `Each time after this character inflicts Weakness Break on an enemy, ATK increases by ${precisionRound(talentAtkScalingValue * 100)}}%. This effect stacks up to 2 time(s).`,\n    min: 0,\n    max: 2,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      enhancedUlt: true,\n      talentStacks: 2,\n    }),\n    precomputeEffects: (request) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject);\n\n      // Stats\n      x[Stats.ATK_P] += r.talentStacks * talentAtkScalingValue\n      x[Stats.DEF_P] += r.talentStacks * 0.10\n      x[Stats.CR] += (request.enemyWeaknessBroken) ? 0.25 : 0\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += (r.enhancedUlt) ? ultEnhancedScaling : ultScaling\n\n      // Boost\n      x.SKILL_BOOST += 0.25\n      x.ULT_BOOST += (r.enhancedUlt) ? 0.25 : 0\n\n      return x\n    },\n    calculateBaseMultis: (c) => {\n      const x = c.x\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n    }\n  }\n};\nexport default TrailblazerDestruction;","import React from \"react\";\nimport { Flex } from \"antd\";\nimport { HeaderText } from \"components/HeaderText\";\nimport { TooltipImage } from \"components/TooltipImage\";\nimport { Hint } from \"lib/hint\";\n\nimport argenti from \"lib/conditionals/character/Argenti\";\nimport arlan from \"lib/conditionals/character/Arlan\";\nimport asta from \"lib/conditionals/character/Asta\";\nimport bailu from \"lib/conditionals/character/Bailu\";\nimport blackswan from \"lib/conditionals/character/BlackSwan\";\nimport blade from \"lib/conditionals/character/Blade\";\nimport bronya from \"lib/conditionals/character/Bronya\";\nimport clara from \"lib/conditionals/character/Clara\";\nimport danheng from \"lib/conditionals/character/DanHeng\";\nimport drratio from 'lib/conditionals/character/DrRatio';\nimport firetrailblazer from 'lib/conditionals/character/TrailblazerPreservation';\nimport fuxuan from \"lib/conditionals/character/FuXuan\";\nimport gepard from \"lib/conditionals/character/Gepard\";\nimport guinaifen from \"lib/conditionals/character/Guinaifen\";\nimport hanya from \"lib/conditionals/character/Hanya\";\nimport herta from \"lib/conditionals/character/Herta\";\nimport himeko from \"lib/conditionals/character/Himeko\";\nimport hook from \"lib/conditionals/character/Hook\";\nimport huohuo from \"lib/conditionals/character/Huohuo\";\nimport imbibitorlunae from \"lib/conditionals/character/ImbibitorLunae\";\nimport jingliu from 'lib/conditionals/character/Jingliu';\nimport jingyuan from \"lib/conditionals/character/JingYuan\";\nimport kafka from \"lib/conditionals/character/Kafka\";\nimport luka from 'lib/conditionals/character/Luka';\nimport luocha from 'lib/conditionals/character/Luocha';\nimport lynx from 'lib/conditionals/character/Lynx';\nimport march7th from 'lib/conditionals/character/March7th';\nimport misha from \"lib/conditionals/character/Misha\";\nimport natasha from 'lib/conditionals/character/Natasha';\nimport pela from 'lib/conditionals/character/Pela';\nimport physicaltrailblazer from 'lib/conditionals/character/TrailblazerDestruction';\nimport qingque from 'lib/conditionals/character/Qingque';\nimport ruanmei from 'lib/conditionals/character/RuanMei';\nimport sampo from 'lib/conditionals/character/Sampo';\nimport seele from 'lib/conditionals/character/Seele';\nimport serval from 'lib/conditionals/character/Serval';\nimport silverwolf from 'lib/conditionals/character/SilverWolf';\nimport sparkle from \"lib/conditionals/character/Sparkle\";\nimport sushang from 'lib/conditionals/character/Sushang';\nimport tingyun from 'lib/conditionals/character/Tingyun';\nimport topaz from 'lib/conditionals/character/Topaz';\nimport welt from 'lib/conditionals/character/Welt';\nimport xueyi from 'lib/conditionals/character/Xueyi';\nimport yanqing from 'lib/conditionals/character/Yanqing';\nimport yukong from 'lib/conditionals/character/Yukong';\n\nexport const characterOptionMapping = {\n  1001: march7th,\n  1002: danheng,\n  1003: himeko,\n  1004: welt,\n  1005: kafka,\n  1006: silverwolf,\n  1008: arlan,\n  1009: asta,\n  1013: herta,\n  1101: bronya,\n  1102: seele,\n  1103: serval,\n  1104: gepard,\n  1105: natasha,\n  1106: pela,\n  1107: clara,\n  1108: sampo,\n  1109: hook,\n  1110: lynx,\n  1111: luka,\n  1112: topaz,\n  1201: qingque,\n  1202: tingyun,\n  1203: luocha,\n  1204: jingyuan,\n  1205: blade,\n  1206: sushang,\n  1207: yukong,\n  1208: fuxuan,\n  1209: yanqing,\n  1210: guinaifen,\n  1211: bailu,\n  1212: jingliu,\n  1213: imbibitorlunae, // Simplified stacking logic, revisit\n  1214: xueyi,\n  1215: hanya,\n  1217: huohuo,\n  1302: argenti,\n  1303: ruanmei,\n  1305: drratio,\n  1306: sparkle,\n  1307: blackswan,\n  1312: misha,\n  8001: physicaltrailblazer,\n  8002: physicaltrailblazer,\n  8003: firetrailblazer,\n  8004: firetrailblazer,\n}\n\nexport const CharacterConditionals = {\n  get: (request) => {\n    const characterFn = characterOptionMapping[request.characterId]\n    return characterFn(request.characterEidolon)\n  },\n  getDisplayForCharacter: (id, eidolon) => {\n    console.log('getDisplayForCharacter', id)\n    if (!id || !characterOptionMapping[id]) {\n      return (\n        <Flex justify='space-between' align='center'>\n          <HeaderText>Character passives</HeaderText>\n          <TooltipImage type={Hint.characterPassives()} />\n        </Flex>\n      )\n    }\n\n    const characterFn = characterOptionMapping[id]\n    const display = characterFn(eidolon).display();\n\n    return (\n      <Flex vertical gap={5} >\n        <Flex justify='space-between' align='center'>\n          <HeaderText>Character passives</HeaderText>\n          <TooltipImage type={Hint.characterPassives()} />\n        </Flex>\n        {display}\n      </Flex>\n    )\n  },\n}","import React from \"react\";\n// import { Flex } from \"antd\";\nimport { Stats } from \"lib/constants\";\nimport { ASHBLAZING_ATK_STACK, baseComputedStatsObject } from \"lib/conditionals/constants\";\nimport { calculateAshblazingSet, basic, skill, talent, ult } from \"lib/conditionals/utils\";\nimport { Eidolon } from \"types/Character\";\n// import DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\n// import { FormSwitchWithPopover } from \"components/optimizerForm/conditionals/FormSwitch\";\n// import { FormSliderWithPopover } from \"components/optimizerForm/conditionals/FormSlider\";\n\n// import { Eidolon } from \"types/Character\";\n// import { Form, PrecomputedCharacterConditional } from \"types/CharacterConditional\";\nexport default (e: Eidolon) => {\n  const basicScaling = basic(e, 1.00, 1.10)\n  const skillScaling = skill(e, 0, 0)\n  const ultScaling = ult(e, 1.50, 1.62)\n  const fuaScaling = talent(e, 1.00, 1.10)\n\n  const hitMulti = ASHBLAZING_ATK_STACK * (1 * 1 / 1)\n\n  return {\n    display: () => (\n      <br />\n    ),\n    defaults: () => ({\n    }),\n    precomputeEffects: () => {\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n      x.FUA_SCALING += fuaScaling\n\n      // Boost\n\n      return x\n    },\n    calculateBaseMultis: (c, request) => {\n      const x = c.x\n\n      const { ashblazingMulti, ashblazingAtk } = calculateAshblazingSet(c, request, hitMulti)\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n      x.FUA_DMG += x.FUA_SCALING * (x[Stats.ATK] - ashblazingAtk + ashblazingMulti)\n      x.FUA_DMG += (e >= 4) ? 0.30 * x[Stats.DEF] : 0\n    }\n  }\n}","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { baseComputedStatsObject } from 'lib/conditionals/constants';\nimport { basic, skill, talent, ult } from 'lib/conditionals/utils';\nimport { precisionRound } from 'lib/conditionals/utils';\n\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\n\nimport { Eidolon } from 'types/Character'\nimport { Form, PrecomputedCharacterConditional } from 'types/CharacterConditional';\n\nexport default (e: Eidolon) => {\n  const extraPenValue = talent(e, 0.36, 0.396)\n\n  const basicScaling = basic(e, 1.00, 1.10)\n  const skillScaling = skill(e, 2.60, 2.86)\n  const ultScaling = ult(e, 4.00, 4.32)\n  const ultExtraScaling = ult(e, 1.20, 1.296)\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'talentPenBuff',\n    name: 'talentPenBuff',\n    text: 'Talent PEN Buff',\n    title: 'Talent PEN Buff',\n    content: `When Dan Heng is the target of an ally's Ability, his next attack's Wind RES PEN increases by ${precisionRound(extraPenValue * 100)}%. This effect can be triggered again after 2 turn(s).`\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'enemySlowed',\n    name: 'enemySlowed',\n    text: 'Enemy Slowed',\n    title: 'Enemy Slowed',\n    content: `Basic ATK deals 40% more damage to Slowed enemies.`\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      talentPenBuff: true,\n      enemySlowed: true,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n      x[Stats.CR] += (e >= 1 && request.enemyHpPercent >= 0.50) ? 0.12 : 0\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n      x.ULT_SCALING += (r.enemySlowed) ? ultExtraScaling : 0\n\n      // Boost\n      x.BASIC_BOOST += (r.enemySlowed) ? 0.40 : 0\n      x.RES_PEN += (r.talentPenBuff) ? extraPenValue : 0\n\n      return x\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional) => {\n      const x = c['x'];\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n    }\n  }\n}","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { ASHBLAZING_ATK_STACK, baseComputedStatsObject } from 'lib/conditionals/constants';\nimport { basicRev, skillRev, talentRev, ultRev } from 'lib/conditionals/utils';\nimport { calculateAshblazingSet, precisionRound } from 'lib/conditionals/utils';\n\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\nimport { FormSliderWithPopover } from 'components/optimizerForm/conditionals/FormSlider';\n\nimport { Eidolon } from 'types/Character'\nimport { Form, PrecomputedCharacterConditional } from 'types/CharacterConditional';\n\nexport default(e: Eidolon) => {\n  const basicScaling = basicRev(e, 1.00, 1.10)\n  const skillScaling = skillRev(e, 2.00, 2.20)\n  const ultScaling = ultRev(e, 2.30, 2.484)\n  const fuaScaling = talentRev(e, 1.40, 1.54)\n  const dotScaling = 0.30\n\n  const hitMultiByTargets = {\n    1: ASHBLAZING_ATK_STACK * (1 * 0.20 + 2 * 0.20 + 3 * 0.20 + 4 * 0.40), // 0.168\n    3: ASHBLAZING_ATK_STACK * (2 * 0.20 + 5 * 0.20 + 8 * 0.20 + 8 * 0.40), // 0.372\n    5: ASHBLAZING_ATK_STACK * (3 * 0.20 + 8 * 0.20 + 8 * 0.20 + 8 * 0.40), // 0.42\n  }\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'targetBurned',\n    name: 'targetBurned',\n    text: 'Target Burned',\n    title: 'Target Burned',\n    content: `Increases DMG by ${precisionRound(0.20 * 100)}% against enemies affected by Burn.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'selfCurrentHp80Percent',\n    name: 'selfCurrentHp80Percent',\n    text: 'Self HP >= 80%',\n    title: 'Self HP >= 80%',\n    content: `Increases CRIT Rate by 15% when HP is above 80%.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e1TalentSpdBuff',\n    name: 'e1TalentSpdBuff',\n    text: 'E1 SPD Buff',\n    title: 'E1 SPD Buff',\n    content: `E1: After \"Victory Rush\" is triggered, Himeko's SPD increases by 20% for 2 turn(s).`,\n    disabled: e < 1,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'e6UltExtraHits',\n    name: 'e6UltExtraHits',\n    text: 'E6 Ult Extra Hits',\n    title: 'E6 Ult Extra Hits',\n    content: `Ultimate deals DMG 2 extra times. Extra hits do ${precisionRound(0.40 * 100)}% DMG per hit.`,\n    min: 0,\n    max: 2,\n    disabled: e < 6,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      targetBurned: true,\n      selfCurrentHp80Percent: true,\n      e1TalentSpdBuff: true,\n      e6UltExtraHits: 2,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n      x[Stats.CR] += (r.selfCurrentHp80Percent) ? 0.15 : 0\n      x[Stats.SPD_P] += (e >= 1 && r.e1TalentSpdBuff) ? 0.20 : 0\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n      x.ULT_SCALING += (e >= 6) ? r.e6UltExtraHits * ultScaling * 0.40 : 0\n      x.FUA_SCALING += fuaScaling\n      x.DOT_SCALING += dotScaling\n\n      // Boost\n      x.SKILL_BOOST += (r.targetBurned) ? 0.20 : 0\n      x.ELEMENTAL_DMG += (e >= 2 && request.enemyHpPercent <= 0.50) ? 0.15 : 0\n\n      return x\n    },\n    calculateBaseMultis: (c:PrecomputedCharacterConditional, request:Form) => {\n      const x = c['x'];\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n      x.DOT_DMG += x.DOT_SCALING * x[Stats.ATK]\n\n      const hitMulti = hitMultiByTargets[request.enemyCount]\n      const { ashblazingMulti, ashblazingAtk } = calculateAshblazingSet(c, request, hitMulti)\n      x.FUA_DMG += x.FUA_SCALING * (x[Stats.ATK] - ashblazingAtk + ashblazingMulti)\n    }\n  }\n}\n","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { basicRev, skillRev, ultRev, talentRev, precisionRound } from '../utils';\nimport { baseComputedStatsObject } from '../constants';\n\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { FormSliderWithPopover } from 'components/optimizerForm/conditionals/FormSlider';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\n\nimport { Eidolon } from 'types/Character';\nimport { Form } from 'types/CharacterConditional';\n\nconst Welt = (e: Eidolon) => {\n  const skillExtraHitsMax = (e >= 6) ? 3 : 2\n\n  const basicScaling = basicRev(e, 1.00, 1.10);\n  const skillScaling = skillRev(e, 0.72, 0.792);\n  const skillScalingChance = skillRev(e, 0.75, 0.77);\n  const ultScaling = ultRev(e, 1.50, 1.62);\n  const talentScaling = talentRev(e, 0.60, 0.66);\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'enemyDmgTakenDebuff',\n    name: 'enemyDmgTakenDebuff',\n    text: 'Enemy dmg taken debuff',\n    title: 'Retribution',\n    content: 'When using Ultimate, there is a 100% base chance to increase the DMG received by the targets by 12% for 2 turn(s).',\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'enemySlowed',\n    name: 'enemySlowed',\n    text: 'Enemy slowed',\n    title: 'Time Distortion',\n    content: `When hitting an enemy that is already Slowed, Welt deals Additional Imaginary DMG equal to ${precisionRound(talentScaling * 100)}% of his ATK to the enemy.`,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'skillExtraHits',\n    name: 'skillExtraHits',\n    text: 'Skill extra hits',\n    title: 'Edge of the Void',\n    content: `Deals Imaginary DMG equal to ${precisionRound(skillScaling * 100)}% of Welt's ATK to a single enemy and further deals DMG 2 extra times, with each time dealing Imaginary DMG equal to ${precisionRound(skillScaling * 100)}% of Welt's ATK to a random enemy. On hit, there is a ${precisionRound(skillScalingChance * 100)}% base chance to reduce the enemy's SPD by 10% for 2 turn(s).`,\n    min: 0,\n    max: skillExtraHitsMax,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e1EnhancedState',\n    name: 'e1EnhancedState',\n    text: 'E1 enhanced state',\n    title: 'Legacy of Honor',\n    content: \"After Welt uses his Ultimate, his abilities are enhanced. The next 2 time(s) he uses his Basic ATK or Skill, deals Additional DMG to the target equal to 50% of his Basic ATK's DMG multiplier or 80% of his Skill's DMG multiplier respectively.\",\n    disabled: (e < 4)\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      enemySlowed: true,\n      enemyDmgTakenDebuff: true,\n      skillExtraHits: skillExtraHitsMax,\n      e1EnhancedState: true,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject);\n\n      // Stats\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n\n      x.BASIC_SCALING += (r.enemySlowed) ? talentScaling : 0\n      x.SKILL_SCALING += (r.enemySlowed) ? talentScaling : 0\n      x.ULT_SCALING += (r.enemySlowed) ? talentScaling : 0\n\n      x.BASIC_SCALING += (e >= 1 && r.e1EnhancedState) ? 0.50 * basicScaling : 0\n      x.SKILL_SCALING += (e >= 1 && r.e1EnhancedState) ? 0.80 * skillScaling : 0\n\n      x.SKILL_SCALING += r.skillExtraHits * skillScaling\n\n      // Boost\n      x.ELEMENTAL_DMG += (request.enemyWeaknessBroken) ? 0.20 : 0\n      x.DMG_TAKEN_MULTI += (r.enemyDmgTakenDebuff) ? 0.12 : 0\n\n      return x\n    },\n    calculateBaseMultis: (c) => {\n      const x = c.x\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n      // x.FUA_DMG += 0\n    }\n  }\n}\nexport default Welt;","import React from \"react\";\nimport { Stats } from \"lib/constants\";\nimport { ASHBLAZING_ATK_STACK, baseComputedStatsObject } from \"lib/conditionals/constants\";\nimport { basic, calculateAshblazingSet, skill, talent, ult } from \"lib/conditionals/utils\";\nimport DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\nimport { FormSwitchWithPopover } from \"components/optimizerForm/conditionals/FormSwitch\";\n\nimport { Eidolon } from \"types/Character\";\n\nexport default (e: Eidolon) => {\n  const basicScaling = basic(e, 1.00, 1.10)\n  const skillScaling = skill(e, 1.60, 1.76)\n  const ultScaling = ult(e, 0.80, 0.864)\n  const fuaScaling = talent(e, 1.40, 1.596)\n  const dotScaling = ult(e, 2.90, 3.183)\n\n  const hitMulti = ASHBLAZING_ATK_STACK *\n    (1 * 0.15 + 2 * 0.15 + 3 * 0.15 + 4 * 0.15 + 5 * 0.15 + 6 * 0.25)\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'e1DotDmgReceivedDebuff',\n    name: 'e1DotDmgReceivedDebuff',\n    text: 'E1 DoT DMG Debuff',\n    title: 'E1 DoT DMG Debuff',\n    content: `Increases DMG taken from DoT by 30% for 2 turn(s) after using Ultimate.`,\n    disabled: e < 1,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      e1DotDmgReceivedDebuff: true,\n    }),\n    precomputeEffects: (request) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n      x.FUA_SCALING += fuaScaling\n      x.DOT_SCALING += dotScaling\n\n      // Boost\n      x.DOT_VULNERABILITY += (e >= 1 && r.e1DotDmgReceivedDebuff) ? 0.30 : 0\n      x.DOT_BOOST += (e >= 2) ? 0.25 : 0\n      x.DOT_SCALING += (e >= 6) ? 1.56 : 0\n\n      return x\n    },\n    calculateBaseMultis: (c, request) => {\n      const x = c.x\n\n      const { ashblazingMulti, ashblazingAtk } = calculateAshblazingSet(c, request, hitMulti)\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n      x.FUA_DMG += x.FUA_SCALING * (x[Stats.ATK] - ashblazingAtk + ashblazingMulti)\n      x.DOT_DMG += x.DOT_SCALING * x[Stats.ATK]\n    }\n  }\n};","import React from \"react\";\nimport { Stats } from \"lib/constants\";\nimport { baseComputedStatsObject } from \"lib/conditionals/constants\";\nimport { basicRev, precisionRound, skillRev, ultRev } from \"lib/conditionals/utils\";\nimport DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\nimport { FormSwitchWithPopover } from \"components/optimizerForm/conditionals/FormSwitch\";\nimport { FormSliderWithPopover } from \"components/optimizerForm/conditionals/FormSlider\";\n\nimport { Eidolon } from \"types/Character\";\nimport { Form, PrecomputedCharacterConditional } from \"types/CharacterConditional\";\n\nconst SilverWolf = (e: Eidolon) => {\n  const skillResShredValue = skillRev(e, 0.10, 0.105);\n  const skillDefShredBufValue = skillRev(e, 0.08, 0.088);\n  const ultDefShredValue = ultRev(e, 0.45, 0.468);\n\n  const basicScaling = basicRev(e, 1.00, 1.10);\n  const skillScaling = skillRev(e, 1.96, 2.156);\n  const ultScaling = ultRev(e, 3.80, 4.104);\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'skillResShredDebuff',\n    name: 'skillResShredDebuff',\n    text: 'Skill RES Shred',\n    title: 'Skill: Allow Changes? RES Shred',\n    content: `Decreases the target's RES by ${precisionRound(skillResShredValue * 100)}% for 2 turn(s) after using Skill.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'skillDefShredDebuff',\n    name: 'skillDefShredDebuff',\n    text: 'Skill DEF Shred',\n    title: 'Skill: Allow Changes? DEF Reduction',\n    content: `Decreases the target's DEF by ${precisionRound(skillDefShredBufValue * 100)}% for 2 turn(s) after using Skill.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'ultDefShredDebuff',\n    name: 'ultDefShredDebuff',\n    text: 'Ult DEF Shred',\n    title: 'Ult: User Banned DEF Reduction',\n    content: `Decreases the target's DEF by ${precisionRound(ultDefShredValue * 100)}% for 2 turn(s) after using Ultimate.`,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'targetDebuffs',\n    name: 'targetDebuffs',\n    text: 'Target debuffs',\n    title: 'Target Debuffs',\n    content: `\n      E4: Ultimate deals Additional Quantum DMG equal to 20% of Silver Wolf's ATK for every debuff currently on the enemy target.\n      ::BR::\n      E6: Increases Elemental DMG by 20% per debuff on the target, up to 5 debuffs.\n    `,\n    min: 0,\n    max: 5,\n    disabled: e < 4,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      skillResShredDebuff: true,\n      skillDefShredDebuff: true,\n      ultDefShredDebuff: true,\n      targetDebuffs: 5,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n      x.ULT_SCALING += (e >= 4) ? r.targetDebuffs * 0.20 : 0\n\n      // Boost\n      x.RES_PEN += (r.skillResShredDebuff) ? skillResShredValue : 0\n      x.RES_PEN += (r.skillResShredDebuff && r.targetDebuffs >= 3) ? 0.03 : 0\n      x.DEF_SHRED += (r.skillDefShredDebuff) ? skillDefShredBufValue : 0\n      x.DEF_SHRED += (r.ultDefShredDebuff) ? ultDefShredValue : 0\n      x.ELEMENTAL_DMG += (e >= 6) ? r.targetDebuffs * 0.20 : 0\n\n      return x;\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional) => {\n      const x = c['x'];\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n      // x.FUA_DMG += 0\n    }\n  }\n}\n\nexport default SilverWolf;","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { baseComputedStatsObject } from 'lib/conditionals/constants';\nimport { basic, skill, talent, ult } from 'lib/conditionals/utils';\nimport { precisionRound } from 'lib/conditionals/utils';\n\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { FormSliderWithPopover } from 'components/optimizerForm/conditionals/FormSlider';\n\nimport { Eidolon } from 'types/Character'\nimport { Form, PrecomputedCharacterConditional } from 'types/CharacterConditional';\n\nexport default (e: Eidolon) => {\n  const basicScaling = basic(e, 1.00, 1.10)\n  const skillScaling = skill(e, 2.40, 2.64)\n  const ultScaling = ult(e, 3.20, 3.456)\n\n  const talentMissingHpDmgBoostMax = talent(e, 0.72, 0.792)\n\n  const content = [{\n    formItem: FormSliderWithPopover,\n    id: 'selfCurrentHpPercent',\n    name: 'selfCurrentHpPercent',\n    text: 'Self Current HP%',\n    title: 'Self Current HP%',\n    content: `Increases Arlan's DMG for every percent of HP below his Max HP, up to a max of ${precisionRound(talentMissingHpDmgBoostMax * 100)}% when HP is below 50%.`,\n    min: 0.01,\n    max: 1.0,\n    percent: true,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      selfCurrentHpPercent: 1.00,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n      x.ELEMENTAL_DMG += Math.min(talentMissingHpDmgBoostMax, 1 - r.selfCurrentHpPercent)\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n\n      // Boost\n      x.SKILL_BOOST += (e >= 1 && r.selfCurrentHpPercent <= 0.50) ? 0.10 : 0\n      x.ULT_BOOST += (e >= 6 && r.selfCurrentHpPercent <= 0.50) ? 0.20 : 0\n\n      return x\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional) => {\n      const x = c['x'];\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n      x.FUA_DMG += 0\n    }\n  }\n}\n","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { baseComputedStatsObject } from 'lib/conditionals/constants';\nimport { basic, skill, talent, ult } from 'lib/conditionals/utils';\nimport { precisionRound } from 'lib/conditionals/utils';\n\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\nimport { FormSliderWithPopover } from 'components/optimizerForm/conditionals/FormSlider';\n\nimport { Eidolon } from 'types/Character'\nimport { Form, PrecomputedCharacterConditional } from 'types/CharacterConditional';\n\n\nexport default (e: Eidolon) => {\n  const ultSpdBuffValue = ult(e, 50, 52.8)\n  const talentStacksAtkBuff = talent(e, 0.14, 0.154)\n  const talentStacksDefBuff = 0.06\n  const skillExtraDmgHitsMax = (e >= 1) ? 5 : 4\n\n  const basicScaling = basic(e, 1.0, 1.1)\n  const skillScaling = skill(e, 0.50, 0.55)\n  const ultScaling = ult(e, 0, 0)\n  const dotScaling = basic(e, 0.50, 0.55)\n\n  const content = [{\n    formItem: FormSliderWithPopover,\n    id: 'skillExtraDmgHits',\n    name: 'skillExtraDmgHits',\n    text: 'Skill Extra Hits',\n    title: 'Skill Extra Hits',\n    content: `Deals 50% ATK DMG equal to a single enemy. Deals DMG for ${skillExtraDmgHitsMax} extra times to a random enemy.`,\n    min: 0,\n    max: skillExtraDmgHitsMax,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'talentBuffStacks',\n    name: 'talentBuffStacks',\n    text: 'Talent ATK Buff Stacks',\n    title: 'Talent ATK Buff Stacks',\n    content: `Increases allies' ATK by ${precisionRound(talentStacksAtkBuff * 100)}% for every stack.`,\n    min: 0,\n    max: 5,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'ultSpdBuff',\n    name: 'ultSpdBuff',\n    text: 'Ult SPD buff active',\n    title: 'Ult SPD buff active',\n    content: `Increases SPD by ${precisionRound(ultSpdBuffValue * 100)}% during Ultimate.`,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      talentBuffStacks: 5,\n      skillExtraDmgHits: skillExtraDmgHitsMax,\n      ultSpdBuff: true\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n      x[Stats.ATK_P] += (r.talentBuffStacks) * talentStacksAtkBuff\n      x[Stats.DEF_P] += (r.talentBuffStacks) * talentStacksDefBuff\n      x[Stats.ERR] += (e >= 4 && r.talentBuffStacks >= 2) ? 0.15 : 0\n      x[Stats.SPD] += (r.ultSpdBuff) ? ultSpdBuffValue : 0\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n      x.DOT_SCALING += dotScaling\n\n      // Boost\n      x.ELEMENTAL_DMG += 0.18\n\n      return x\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional) => {\n      const x = c['x'];\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += 0\n      x.DOT_DMG += x.DOT_SCALING * x[Stats.ATK]\n    }\n  }\n}","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { ASHBLAZING_ATK_STACK, baseComputedStatsObject } from 'lib/conditionals/constants';\nimport { basicRev, skillRev, talentRev, ultRev } from 'lib/conditionals/utils';\nimport { calculateAshblazingSet, precisionRound } from 'lib/conditionals/utils';\n\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\nimport { FormSliderWithPopover } from 'components/optimizerForm/conditionals/FormSlider';\n\nimport { Eidolon } from 'types/Character'\nimport { Form, PrecomputedCharacterConditional } from 'types/CharacterConditional';\n\n\nexport default (e: Eidolon) => {\n  const basicScaling = basicRev(e, 1.00, 1.10)\n  const skillScaling = skillRev(e, 1.00, 1.10)\n  const ultScaling = ultRev(e, 2.00, 2.16)\n  const fuaScaling = talentRev(e, 0.40, 0.43)\n\n  const hitMultiByTargets = {\n    1: ASHBLAZING_ATK_STACK * (1 * 1 / 1),\n    3: ASHBLAZING_ATK_STACK * (2 * 1 / 1),\n    5: ASHBLAZING_ATK_STACK * (3 * 1 / 1)\n  };\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'techniqueBuff',\n    name: 'techniqueBuff',\n    text: 'Technique Buff',\n    title: 'Technique Buff',\n    content: `Increases ATK by ${precisionRound(0.40 * 100)}% for 3 turns.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'targetFrozen',\n    name: 'targetFrozen',\n    text: 'Target frozen',\n    title: 'Target frozen',\n    content: `When Ult is used, increases DMG by ${precisionRound(0.20 * 100)}% to Frozen enemies.`,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'e2TalentCritStacks',\n    name: 'e2TalentCritStacks',\n    text: 'E2 Talent CR Stacks',\n    title: 'E2 Talent CR Stacks',\n    content: `Increases CRIT Rate by 3% per stack. Stacks up to 5 times.`,\n    min: 0,\n    max: 5,\n    disabled: e < 2,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e6UltAtkBuff',\n    name: 'e6UltAtkBuff',\n    text: 'E6 Ult ATK Buff',\n    title: 'E6 Ult ATK Buff',\n    content: `After Ult, increases ATK by ${precisionRound(0.25 * 100)}% for 1 turn.`,\n    disabled: e < 6,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      techniqueBuff: true,\n      targetFrozen: true,\n      e2TalentCritStacks: 5,\n      e6UltAtkBuff: true,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n      x[Stats.ATK_P] += (r.techniqueBuff) ? 0.40 : 0\n      x[Stats.CR] += (e >= 2) ? r.e2TalentCritStacks * 0.03 : 0\n      x[Stats.ATK_P] += (e >= 6 && r.e6UltAtkBuff) ? 0.25 : 0\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.BASIC_SCALING += (e >= 1 && request.enemyHpPercent <= 0.50) ? 0.40 : 0\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n      x.FUA_SCALING += fuaScaling\n\n      x.SKILL_BOOST += (request.enemyHpPercent >= 0.50) ? 0.45 : 0\n\n      // Boost\n      x.ULT_BOOST += (r.targetFrozen) ? 0.20 : 0\n      x.FUA_BOOST += (e >= 4) ? 0.10 : 0\n\n      return x\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional, request: Form) => {\n      const x = c['x'];\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n\n      const hitMulti = hitMultiByTargets[request.enemyCount]\n      const { ashblazingMulti, ashblazingAtk } = calculateAshblazingSet(c, request, hitMulti)\n      x.FUA_DMG += x.FUA_SCALING * (x[Stats.ATK] - ashblazingAtk + ashblazingMulti)\n    }\n  }\n}\n","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { ASHBLAZING_ATK_STACK, baseComputedStatsObject } from 'lib/conditionals/constants';\nimport { basicRev, skillRev, ultRev } from 'lib/conditionals/utils';\nimport { calculateAshblazingSet, precisionRound } from 'lib/conditionals/utils';\n\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\n\nimport { Eidolon } from 'types/Character'\nimport { Form, PrecomputedCharacterConditional } from 'types/CharacterConditional';\n\n\nexport default (e: Eidolon) => {\n  const skillDmgBoostValue = skillRev(e, 0.66, 0.726);\n  const ultAtkBoostValue = ultRev(e, 0.55, 0.594);\n  const ultCdBoostValue = ultRev(e, 0.16, 0.168);\n  const ultCdBoostBaseValue = ultRev(e, 0.20, 0.216);\n\n  const basicScaling = basicRev(e, 1.0, 1.1);\n  const fuaScaling = basicScaling * 0.80\n\n  const hitMulti = ASHBLAZING_ATK_STACK * (1 * 1 / 1);\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'techniqueBuff',\n    name: 'techniqueBuff',\n    text: 'Technique Buff',\n    title: 'Technique Buff',\n    content: `Increases ATK by ${precisionRound(0.15 * 100)}%.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'battleStartDefBuff',\n    name: 'battleStartDefBuff',\n    text: 'Battle Start DEF Buff',\n    title: 'A4: Battle Start DEF Buff',\n    content: `A4: Increases DEF by ${precisionRound(0.20 * 100)}%.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'skillBuff',\n    name: 'skillBuff',\n    text: 'Skill Buff',\n    title: 'Skill Buff',\n    content: `Increases DMG by ${precisionRound(skillDmgBoostValue * 100)}% during Skill.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'ultBuff',\n    name: 'ultBuff',\n    text: 'Ult Buff',\n    title: 'Ult Buff',\n    content: `Increases ATK by ${precisionRound(ultAtkBoostValue * 100)}% and Crit DMG by ${precisionRound(ultCdBoostValue * 100)}%.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e2SkillSpdBuff',\n    name: 'e2SkillSpdBuff',\n    text: 'E2 Skill SPD Buff',\n    title: 'E2 Skill SPD Buff',\n    content: `Ally targeted by skill increases SPD by ${precisionRound(0.30 * 100)}%.`,\n    disabled: e < 2,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      techniqueBuff: true,\n      battleStartDefBuff: true,\n      skillBuff: true,\n      ultBuff: true,\n      e2SkillSpdBuff: false,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n      x[Stats.DEF_P] += (r.battleStartDefBuff) ? 0.20 : 0\n      x[Stats.SPD_P] += (r.e2SkillSpdBuff) ? 0.30 : 0\n      x[Stats.ATK_P] += (r.techniqueBuff) ? 0.15 : 0\n      x[Stats.ATK_P] += (r.ultBuff) ? ultAtkBoostValue : 0\n      x.BASIC_CR_BOOST += 1.00\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.FUA_SCALING += (e >= 4) ? fuaScaling : 0\n\n      // Boost\n      x.ELEMENTAL_DMG += 0.10\n      x.ELEMENTAL_DMG += (r.skillBuff) ? skillDmgBoostValue : 0\n\n      return x\n    },\n    calculateBaseMultis: (c:PrecomputedCharacterConditional, request:Form) => {\n      const r = request.characterConditionals\n      const x = c['x'];\n\n      // Order matters?\n      x[Stats.CD] += (r.ultBuff) ? ultCdBoostValue * x[Stats.CD] : 0\n      x[Stats.CD] += (r.ultBuff) ? ultCdBoostBaseValue : 0\n\n      const { ashblazingMulti, ashblazingAtk } = calculateAshblazingSet(c, request, hitMulti)\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.FUA_DMG += x.FUA_SCALING * (x[Stats.ATK] - ashblazingAtk + ashblazingMulti)\n    }\n  }\n}","import React from \"react\";\nimport { Stats } from \"lib/constants\";\nimport { baseComputedStatsObject } from \"lib/conditionals/constants\";\nimport { basicRev, precisionRound, skillRev, talentRev, ultRev } from \"lib/conditionals/utils\";\nimport DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\nimport { FormSwitchWithPopover } from \"components/optimizerForm/conditionals/FormSwitch\";\nimport { FormSliderWithPopover } from \"components/optimizerForm/conditionals/FormSlider\";\n\nimport { Eidolon } from \"types/Character\";\nimport { Form, PrecomputedCharacterConditional } from \"types/CharacterConditional\";\n\nconst Seele = (e: Eidolon) => {\n  const buffedStateDmgBuff = talentRev(e, 0.80, 0.88);\n  const speedBoostStacksMax = (e >= 2 ? 2 : 1);\n\n  const basicScaling = basicRev(e, 1.00, 1.10);\n  const skillScaling = skillRev(e, 2.20, 2.42);\n  const ultScaling = ultRev(e, 4.25, 4.59);\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'buffedState',\n    name: 'buffedState',\n    text: 'Buffed State',\n    title: 'Buffed State',\n    content: `\n      Enters the buffed state upon defeating an enemy with Basic ATK, Skill, or Ultimate, and receives an extra turn. \n      ::BR::\n      Increases Elemental DMG by ${precisionRound(buffedStateDmgBuff * 100)}% and reduces the target's RES by 20%.\n    `,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'speedBoostStacks',\n    name: 'speedBoostStacks',\n    text: 'Speed Boost Stacks',\n    title: 'Speed Boost Stacks',\n    content: `Increases SPD by 25% per stack. Stacks up to ${speedBoostStacksMax} times.`,\n    min: 0,\n    max: speedBoostStacksMax,\n  \n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e6UltTargetDebuff',\n    name: 'e6UltTargetDebuff',\n    text: 'E6 Ult Debuff',\n    title: 'E6: Shattering Shambles',\n    content: `Increases DMG by 15% against enemies affected by Seele's Ultimate.`,\n    disabled: e < 6,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      buffedState: true,\n      speedBoostStacks: speedBoostStacksMax,\n      e6UltTargetDebuff: true\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals;\n      const x = Object.assign({}, baseComputedStatsObject);\n\n      // Stats\n      x[Stats.CR] += (e >= 1 && request.enemyHpPercent <= 0.80) ? 0.15 : 0;\n      x[Stats.SPD_P] += 0.25 * r.speedBoostStacks;\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling;\n      x.SKILL_SCALING += skillScaling;\n      x.ULT_SCALING += ultScaling;\n\n      // Boost\n      x.ELEMENTAL_DMG += (r.buffedState) ? buffedStateDmgBuff : 0;\n      x.RES_PEN += (r.buffedState) ? 0.20 : 0;\n\n      return x;\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional, request: Form) => {\n      const r = request.characterConditionals;\n      const x = c['x'];\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK];\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK];\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK];\n\n      x.BASIC_DMG += (e >= 6 && r.e6UltTargetDebuff) ? 0.15 * x.ULT_DMG : 0;\n      x.SKILL_DMG += (e >= 6 && r.e6UltTargetDebuff) ? 0.15 * x.ULT_DMG : 0;\n      x.ULT_DMG += (e >= 6 && r.e6UltTargetDebuff) ? 0.15 * x.ULT_DMG : 0;\n    }\n  }\n};\nexport default Seele;","import React from \"react\";\nimport { Stats } from \"lib/constants\";\nimport { baseComputedStatsObject } from \"lib/conditionals/constants\";\nimport { basicRev, precisionRound, skillRev, talentRev, ultRev } from \"lib/conditionals/utils\";\nimport DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\nimport { FormSwitchWithPopover } from \"components/optimizerForm/conditionals/FormSwitch\";\n\nimport { Eidolon } from \"types/Character\";\nimport { Form, PrecomputedCharacterConditional } from \"types/CharacterConditional\";\n\nconst Serval = (e:Eidolon) => {\n  const talentExtraDmgScaling = talentRev(e, 0.72, 0.792);\n\n  const basicScaling = basicRev(e, 1.00, 1.10);\n  const skillScaling = skillRev(e, 1.40, 1.54);\n  const ultScaling = ultRev(e, 1.80, 1.944);\n  const dotScaling = skillRev(e, 1.04, 1.144);\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'targetShocked',\n    name: 'targetShocked',\n    text: 'Target Shocked',\n    title: 'Target Shocked',\n    content: `Increases DMG by ${precisionRound(talentExtraDmgScaling * 100)}% against enemies affected by Shock.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'enemyDefeatedBuff',\n    name: 'enemyDefeatedBuff',\n    text: 'Enemy Defeated Buff',\n    title: 'Enemy Defeated Buff',\n    content: `Increases ATK by 20% after defeating an enemy.`,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      targetShocked: true,\n      enemyDefeatedBuff: true,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals;\n      const x = Object.assign({}, baseComputedStatsObject);\n\n      // Stats\n      x[Stats.ATK_P] += (r.enemyDefeatedBuff) ? 0.20 : 0;\n\n      // Scaling;\n      x.BASIC_SCALING += basicScaling;\n      x.SKILL_SCALING += skillScaling;\n      x.ULT_SCALING += ultScaling;\n      x.DOT_SCALING += dotScaling;\n\n      x.BASIC_SCALING += (r.targetShocked) ? talentExtraDmgScaling : 0;\n      x.SKILL_SCALING += (r.targetShocked) ? talentExtraDmgScaling : 0;\n      x.ULT_SCALING += (r.targetShocked) ? talentExtraDmgScaling : 0;\n\n      // Boost\n      x.ELEMENTAL_DMG += (e >= 6 && r.targetShocked) ? 0.30 : 0;\n\n      return x\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional) => {\n      const x = c['x'];\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK];\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK];\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK];\n      x.DOT_DMG += x.DOT_SCALING * x[Stats.ATK];\n    }\n  }\n};\nexport default Serval;","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { baseComputedStatsObject } from 'lib/conditionals/constants';\nimport { basic, skill, ult } from 'lib/conditionals/utils';\nimport { Eidolon } from 'types/Character'\nimport { PrecomputedCharacterConditional } from 'types/CharacterConditional';\n\nexport default (e: Eidolon) => {\n  const basicScaling = basic(e, 1.00, 1.10)\n  const skillScaling = skill(e, 2.00, 2.20)\n  const ultScaling = ult(e, 0, 0)\n\n  return {\n    display: () => <br />,\n    defaults: () => ({\n    }),\n    precomputeEffects: () => {\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n      x[Stats.RES] += 0.20\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n\n      // Boost\n\n      return x\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional) => {\n      const x = c['x'];\n\n      x[Stats.ATK] += 0.35 * x[Stats.DEF]\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n    }\n  }\n}\n","import React from \"react\";\n// import { Flex } from \"antd\";\nimport { Stats } from \"lib/constants\";\nimport { baseComputedStatsObject } from \"lib/conditionals/constants\";\nimport { basic, skill, ult } from \"lib/conditionals/utils\";\n// import DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\n// import { FormSwitchWithPopover } from \"components/optimizerForm/conditionals/FormSwitch\";\n// import { FormSliderWithPopover } from \"components/optimizerForm/conditionals/FormSlider\";\n\n// import { Eidolon } from \"types/Character\";\n// import { Form, PrecomputedCharacterConditional } from \"types/CharacterConditional\";\n\nexport default (e) => {\n  const basicScaling = basic(e, 1.00, 1.10)\n  const skillScaling = skill(e, 0, 0)\n  const ultScaling = ult(e, 0, 0)\n\n  return {\n    display: () => (\n      <br />\n    ),\n    defaults: () => ({\n    }),\n    precomputeEffects: () => {\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n\n      // Boost\n\n      return x\n    },\n    calculateBaseMultis: (c) => {\n      const x = c.x\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.BASIC_DMG += (e >= 6) ? 0.40 * x[Stats.HP] : 0\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n    }\n  }\n}","import React from \"react\";\nimport { Stats } from \"lib/constants\";\nimport { baseComputedStatsObject } from \"lib/conditionals/constants\";\nimport { basic, precisionRound, skill, ult } from \"lib/conditionals/utils\";\nimport DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\nimport { FormSwitchWithPopover } from \"components/optimizerForm/conditionals/FormSwitch\";\n\nimport { Eidolon } from \"types/Character\";\n\nconst Pela = (e: Eidolon) => {\n  const ultDefPenValue = ult(e, 0.40, 0.42);\n\n  const basicScaling = basic(e, 1.00, 1.10);\n  const skillScaling = skill(e, 2.10, 2.31);\n  const ultScaling = ult(e, 1.00, 1.08);\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'enemyDebuffed',\n    name: 'enemyDebuffed',\n    text: 'Enemy debuffed',\n    title: 'Enemy debuffed',\n    content: `Increases DMG by 20% against enemies affected by debuffs.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'skillRemovedBuff',\n    name: 'skillRemovedBuff',\n    text: 'Skill removed buff',\n    title: 'Skill removed buff',\n    content: `Increases SPD by 10% for 2 turn(s) after using Skill.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'ultDefPenDebuff',\n    name: 'ultDefPenDebuff',\n    text: 'Ult def pen debuff',\n    title: 'Ult def pen debuff',\n    content: `Reduces target's DEF by ${precisionRound(ultDefPenValue * 100)}% for 2 turn(s) after using Ultimate.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e4SkillResShred',\n    name: 'e4SkillResShred',\n    text: 'E4 skill res shred',\n    title: 'E4 skill res shred',\n    content: `Increases RES PEN by 12% for 2 turn(s) after using Skill.`,\n    disabled: e < 4,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      enemyDebuffed: true,\n      skillRemovedBuff: true,\n      ultDefPenDebuff: true,\n      e4SkillResShred: true,\n    }),\n    precomputeEffects: (request) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject);\n\n      // Stats\n      x[Stats.EHR] += 0.10\n      x[Stats.SPD_P] += (e >= 2 && r.skillRemovedBuff) ? 0.10 : 0\n      x[Stats.SPD_P] += (e >= 2 && r.skillRemovedBuff) ? 0.10 : 0\n      x[Stats.SPD_P] += (e >= 2 && r.skillRemovedBuff) ? 0.10 : 0\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n\n      // Boost\n      x.BASIC_BOOST += (r.skillRemovedBuff) ? 0.20 : 0\n      x.SKILL_BOOST += (r.skillRemovedBuff) ? 0.20 : 0\n      x.ULT_BOOST += (r.skillRemovedBuff) ? 0.20 : 0\n\n      x.RES_PEN += (e >= 4 && r.e4SkillResShred) ? 0.12 : 0\n      x.DEF_SHRED += (r.ultDefPenDebuff) ? ultDefPenValue : 0\n\n      x.ELEMENTAL_DMG += (r.enemyDebuffed) ? 0.20 : 0\n\n      return x\n    },\n    calculateBaseMultis: (c) => {\n      const x = c.x\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n\n      x.BASIC_DMG += (e >= 6) ? 0.40 * x[Stats.ATK] : 0\n      x.SKILL_DMG += (e >= 6) ? 0.40 * x[Stats.ATK] : 0\n      x.ULT_DMG += (e >= 6) ? 0.40 * x[Stats.ATK] : 0\n    }\n  }\n};\nexport default Pela;","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { ASHBLAZING_ATK_STACK, baseComputedStatsObject } from 'lib/conditionals/constants';\nimport { basic, skill, talent, ult } from 'lib/conditionals/utils';\nimport { calculateAshblazingSet, precisionRound } from 'lib/conditionals/utils';\n\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\n\nimport { Eidolon } from 'types/Character'\nimport { Form, PrecomputedCharacterConditional } from 'types/CharacterConditional';\n\nexport default (e: Eidolon) => {\n  const ultDmgReductionValue = ult(e, 0.25, 0.27)\n  const ultFuaExtraScaling = ult(e, 1.60, 1.728)\n\n  const basicScaling = basic(e, 1.00, 1.10)\n  const skillScaling = skill(e, 1.20, 1.32)\n  const fuaScaling = talent(e, 1.60, 1.76)\n\n  const hitMultiByTargetsBlast = {\n    1: ASHBLAZING_ATK_STACK * (1 * 1 / 1),\n    3: ASHBLAZING_ATK_STACK * (2 * 1 / 1),\n    5: ASHBLAZING_ATK_STACK * (2 * 1 / 1) // Clara is 1 hit blast when enhanced\n  }\n\n  const hitMultiSingle = ASHBLAZING_ATK_STACK * (1 * 1 / 1);\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'ultBuff',\n    name: 'ultBuff',\n    text: 'Ult Buff',\n    title: 'Ult Buff',\n    content: `Increases Svarog Counter DMG by ${precisionRound(ultFuaExtraScaling * 100)}% during Ultimate.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'talentEnemyMarked',\n    name: 'talentEnemyMarked',\n    text: 'Enemy Marked',\n    title: 'Enemy Marked',\n    content: `Additionally deals Physical DMG equal to ${precisionRound(skillScaling * 100)}% of Clara's ATK to enemies marked by Svarog with a Mark of Counter.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e2UltAtkBuff',\n    name: 'e2UltAtkBuff',\n    text: 'E2 Ult ATK Buff',\n    title: 'E2 Ult ATK Buff',\n    content: `After Ult, increases ATK by ${precisionRound(0.30 * 100)}% for 2 turns.`,\n    disabled: e < 2,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e4DmgReductionBuff',\n    name: 'e4DmgReductionBuff',\n    text: 'E4 DMG Reduction Buff',\n    title: 'E4 DMG Reduction Buff',\n    content: `Decreases DMG taken by ${precisionRound(0.30 * 100)}%.`,\n    disabled: e < 4,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      ultBuff: true,\n      talentEnemyMarked: true,\n      e2UltAtkBuff: true,\n      e4DmgReductionBuff: true,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n      x[Stats.ATK_P] += (e >= 2 && r.e2UltAtkBuff) ? 0.30 : 0\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      // TODO: check if this is correct\n      x.SKILL_SCALING += skillScaling + skillScaling*r.talentEnemyMarked;\n      // x.SKILL_SCALING += skillScaling\n      // x.SKILL_SCALING += r.talentEnemyMarked ? skillScaling : 0\n\n      x.FUA_SCALING += fuaScaling\n      x.FUA_SCALING += r.ultBuff ? ultFuaExtraScaling : 0\n\n      // Boost\n      x.DMG_RED_MULTI *= (1 - 0.10)\n      x.DMG_RED_MULTI *= r.ultBuff ? (1 - ultDmgReductionValue) : 1\n      x.DMG_RED_MULTI *= (e >= 4 && r.e4DmgReductionBuff) ? (1 - 0.30) : 1\n      x.FUA_BOOST += 0.30\n\n      return x\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional, request: Form) => {\n      const r = request.characterConditionals\n      const x = c['x'];\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n\n      // Calc ashblazing: ult buff -> blast, unbuffed -> single\n      if (r.ultBuff) {\n        const { ashblazingMulti, ashblazingAtk } = calculateAshblazingSet(c, request, hitMultiByTargetsBlast[request.enemyCount])\n        x.FUA_DMG += x.FUA_SCALING * (x[Stats.ATK] - ashblazingAtk + ashblazingMulti)\n      } else {\n        const { ashblazingMulti, ashblazingAtk } = calculateAshblazingSet(c, request, hitMultiSingle)\n        x.FUA_DMG += x.FUA_SCALING * (x[Stats.ATK] - ashblazingAtk + ashblazingMulti)\n      }\n    }\n  }\n}\n","import React from \"react\";\nimport { Stats } from \"lib/constants\";\nimport { baseComputedStatsObject } from \"lib/conditionals/constants\";\nimport { basicRev, precisionRound, skillRev, talentRev, ultRev } from \"lib/conditionals/utils\";\nimport DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\nimport { FormSwitchWithPopover } from \"components/optimizerForm/conditionals/FormSwitch\";\nimport { FormSliderWithPopover } from \"components/optimizerForm/conditionals/FormSlider\";\n\nimport { Eidolon } from \"types/Character\";\nimport { Form, PrecomputedCharacterConditional } from \"types/CharacterConditional\";\n\nconst Sampo = (e:Eidolon) => {\n  const dotVulnerabilityValue = ultRev(e, 0.30, 0.32);\n\n  const basicScaling = basicRev(e, 1.00, 1.10);\n  const skillScaling = skillRev(e, 0.56, 0.616);\n  const ultScaling = ultRev(e, 1.60, 1.728);\n  const dotScaling = talentRev(e, 0.52, 0.572);\n\n  const maxExtraHits = e < 1 ? 5 : 6;\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'targetDotTakenDebuff',\n    name: 'targetDotTakenDebuff',\n    text: 'Ult dot taken debuff',\n    title: 'Ult: Target Dot Taken Debuff',\n    content: `Increases DMG by ${precisionRound(dotVulnerabilityValue * 100)}% against enemies affected by Sampo's Ultimate.`,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'skillExtraHits',\n    name: 'skillExtraHits',\n    text: 'Skill extra hits',\n    title: 'Skill: Extra Hits',\n    content: `\n      Number of hits from Skill.\n      ::BR::\n      E1: Increases the number of hits from Skill by 1.\n      `,\n    min: 1,\n    max: maxExtraHits,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'targetWindShear',\n    name: 'targetWindShear',\n    text: 'Target has wind shear',\n    title: 'Target has wind shear',\n    content: `Decreases DMG taken by 15% if the target has Wind Shear.`,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      targetDotTakenDebuff: true,\n      skillExtraHits: 4,\n      targetWindShear: true\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.SKILL_SCALING += (r.skillExtraHits) * skillScaling\n      x.ULT_SCALING += ultScaling\n      x.DOT_SCALING += dotScaling\n      x.DOT_SCALING += (e >= 6) ? 0.15 : 0\n\n      // Boost\n      x.DOT_VULNERABILITY += (r.targetDotTakenDebuff) ? dotVulnerabilityValue : 0\n      x.DMG_RED_MULTI *= (r.targetWindShear) ? (1 - 0.15) : 1\n\n      return x\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional) => {\n      const x = c['x'];\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n      x.DOT_DMG += x.DOT_SCALING * x[Stats.ATK]\n    }\n  }\n}\n\nexport default Sampo;","import React from \"react\";\nimport { Stats } from \"lib/constants\";\nimport { baseComputedStatsObject } from \"lib/conditionals/constants\";\nimport { basicRev, skillRev, ultRev, talentRev, precisionRound } from \"lib/conditionals/utils\";\nimport DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\nimport { FormSwitchWithPopover } from \"components/optimizerForm/conditionals/FormSwitch\";\n\nimport { Eidolon } from \"types/Character\";\nimport { Form, PrecomputedCharacterConditional } from \"types/CharacterConditional\";\n\nexport default (e: Eidolon) => {\n  const targetBurnedExtraScaling = talentRev(e, 1.00, 1.10);\n\n  const basicScaling = basicRev(e, 1.00, 1.10);\n  const skillScaling = skillRev(e, 2.40, 2.64);\n  const skillEnhancedScaling = skillRev(e, 2.80, 3.08);\n  const ultScaling = ultRev(e, 4.00, 4.32);\n  const dotScaling = skillRev(e, 0.65, 0.715);\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'enhancedSkill',\n    name: 'enhancedSkill',\n    text: 'Enhanced Skill',\n    title: 'Enhanced Skill',\n    content: `After Ult, Skill DMG increases by ${precisionRound(skillEnhancedScaling * 100)}%.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'targetBurned',\n    name: 'targetBurned',\n    text: 'Target Burned',\n    title: 'Target Burned',\n    content: `Increases DMG by ${precisionRound(targetBurnedExtraScaling * 100)}% against enemies affected by Burn.`,\n  }];\n\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      enhancedSkill: true,\n      targetBurned: true,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += (r.enhancedSkill) ? skillEnhancedScaling : skillScaling\n      x.ULT_SCALING += ultScaling\n      x.BASIC_SCALING += (r.targetBurned) ? targetBurnedExtraScaling : 0\n      x.SKILL_SCALING += (r.targetBurned) ? targetBurnedExtraScaling : 0\n      x.ULT_SCALING += (r.targetBurned) ? targetBurnedExtraScaling : 0\n      x.DOT_SCALING += dotScaling\n\n      // Boost\n      x.SKILL_BOOST += (e >= 1 && r.enhancedSkill) ? 0.20 : 0\n      x.ELEMENTAL_DMG += (e >= 6 && r.targetBurned) ? 0.20 : 0\n\n      return x\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional) => {\n      const x = c['x'];\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n      x.DOT_DMG += x.DOT_SCALING * x[Stats.ATK]\n    }\n  }\n}","import React from \"react\";\nimport { Stats } from \"lib/constants\";\nimport { baseComputedStatsObject } from \"lib/conditionals/constants\";\nimport { basicRev, precisionRound, skillRev, ultRev } from \"lib/conditionals/utils\";\nimport DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\nimport { FormSwitchWithPopover } from \"components/optimizerForm/conditionals/FormSwitch\";\n\nimport { Eidolon } from \"types/Character\";\n\nexport default (e: Eidolon) => {\n  const skillHpPercentBuff = skillRev(e, 0.075, 0.08);\n  const skillHpFlatBuff = skillRev(e, 200, 223);\n\n  const basicScaling = basicRev(e, 0.50, 0.55);\n  const skillScaling = skillRev(e, 0, 0);\n  const ultScaling = ultRev(e, 0, 0);\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'skillBuff',\n    name: 'skillBuff',\n    text: 'Skill buff',\n    title: 'Skill buff',\n    content: `\n      Increases HP by ${precisionRound(skillHpPercentBuff * 100)}% + ${skillHpFlatBuff}.\n      ::BR::\n      E4: Increases target ally's ATK by 3% of Lynx's Max HP for 1 turn(s)`,\n  }]\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      skillBuff: true,\n      e4TalentAtkBuff: true,\n    }),\n    precomputeEffects: (request) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n      x[Stats.HP_P] += (r.skillBuff) ? skillHpPercentBuff : 0\n      x[Stats.HP] += (r.skillBuff) ? skillHpFlatBuff : 0\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n\n      // Boost\n\n      return x\n    },\n    calculateBaseMultis: (c, request) => {\n      const r = request.characterConditionals\n      const x = c.x\n\n      x[Stats.HP] += (e >= 6 && r.skillBuff) ? 0.06 * x[Stats.HP] : 0\n      x[Stats.ATK] += (e >= 4 && r.skillBuff) ? 0.03 * x[Stats.HP] : 0\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.HP]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n      // x.FUA_DMG += 0\n    }\n  }\n}\n","import React from \"react\";\nimport { Stats } from \"lib/constants\";\nimport { baseComputedStatsObject } from \"lib/conditionals/constants\";\nimport { basicRev, skillRev, ultRev, precisionRound } from \"lib/conditionals/utils\";\nimport DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\nimport { FormSwitchWithPopover } from \"components/optimizerForm/conditionals/FormSwitch\";\n\nimport { Eidolon } from \"types/Character\";\nimport { FormSliderWithPopover } from \"components/optimizerForm/conditionals/FormSlider\";\n\nexport default function luka(e: Eidolon) {\n  const basicEnhancedHitValue = basicRev(e, 0.20, 0.22);\n  const targetUltDebuffDmgTakenValue = ultRev(e, 0.20, 0.216);\n\n  const basicScaling = basicRev(e, 1.00, 1.10);\n  const basicEnhancedScaling = basicRev(e, 0.20 * 3 + 0.80, 0.22 * 3 + 0.88);\n  const skillScaling = skillRev(e, 1.20, 1.32);\n  const ultScaling = ultRev(e, 3.30, 3.564);\n  const dotScaling = skillRev(e, 3.38, 3.718);\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'basicEnhanced',\n    name: 'basicEnhanced',\n    text: 'Basic Enhanced',\n    title: 'Basic Enhanced: Sky-Shatter Fist',\n    content: `Increases DMG by ${precisionRound(basicEnhancedHitValue * 100)}%.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'targetUltDebuffed',\n    name: 'targetUltDebuffed',\n    text: 'Target Ult Debuffed',\n    title: 'Target Ult Debuffed',\n    content: `Increases DMG taken by ${precisionRound(targetUltDebuffDmgTakenValue * 100)}% against enemies affected by Ultimate.`,\n  }, {\n    FormItem: FormSliderWithPopover,\n    id: 'basicEnhancedExtraHits',\n    name: 'basicEnhancedExtraHits',\n    text: 'Basic Enhanced Extra Hits',\n    title: 'Basic Enhanced Extra Hits',\n    content: `Increases the number of hits of Basic Enhanced.`,\n    min: 0,\n    max: 3,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e1TargetBleeding',\n    name: 'e1TargetBleeding',\n    text: 'E1 Target Bleeding',\n    title: 'E1 Target Bleeding',\n    content: `Increases Elemental DMG by 15% against enemies affected by Bleeding.`,\n    disabled: e < 1,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'e4TalentStacks',\n    name: 'e4TalentStacks',\n    text: 'E4 talent stacks',\n    title: 'E4 talent stacks',\n    content: `Increases ATK by 5% per stack.`,\n    min: 0,\n    max: 4,\n    disabled: e < 4,\n  }];\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      basicEnhanced: true,\n      targetUltDebuffed: true,\n      e1TargetBleeding: true,\n      basicEnhancedExtraHits: 3,\n      e4TalentStacks: 4,\n    }),\n    precomputeEffects: (request) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n      x[Stats.ATK_P] += (e >= 4) ? r.e4TalentStacks * 0.05 : 0\n\n      // Scaling\n      x.BASIC_SCALING += (r.basicEnhanced) ? basicEnhancedScaling : basicScaling\n      x.BASIC_SCALING += (r.basicEnhanced && r.basicEnhancedExtraHits) * basicEnhancedHitValue\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n      x.DOT_SCALING += dotScaling\n\n      // Boost\n      x.DMG_TAKEN_MULTI += (r.targetUltDebuffed) ? targetUltDebuffDmgTakenValue : 0\n      x.ELEMENTAL_DMG += (e >= 1 && r.e1TargetBleeding) ? 0.15 : 0\n\n      return x\n    },\n    calculateBaseMultis: (c) => {\n      const x = c.x\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n      x.DOT_DMG += x.DOT_SCALING * x[Stats.ATK]\n      // x.FUA_DMG += 0\n    }\n  }\n}","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { ASHBLAZING_ATK_STACK, baseComputedStatsObject } from 'lib/conditionals/constants';\nimport { basic, skill, talent, ult } from 'lib/conditionals/utils';\nimport { calculateAshblazingSet, precisionRound } from 'lib/conditionals/utils';\n\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\nimport { FormSliderWithPopover } from 'components/optimizerForm/conditionals/FormSlider';\n\nimport { Eidolon } from 'types/Character'\nimport { Form, PrecomputedCharacterConditional } from 'types/CharacterConditional';\n\nconst Topaz = (e: Eidolon) => {\n  const proofOfDebtFuaVulnerability = skill(e, 0.50, 0.55)\n  const enhancedStateFuaScalingBoost = ult(e, 1.50, 1.65)\n  const enhancedStateFuaCdBoost = ult(e, 0.25, 0.275)\n\n  const basicScaling = basic(e, 1.00, 1.10)\n  const skillScaling = skill(e, 1.50, 1.65)\n  const fuaScaling = talent(e, 1.50, 1.65)\n\n  const fuaEnhancedHitCount = ult(e, 2, 3);\n\n  // 0.06\n  const basicHitCountMulti = ASHBLAZING_ATK_STACK *\n    (1 * 1 / 1)\n\n  // 0.18\n  const fuaHitCountMulti = ASHBLAZING_ATK_STACK *\n    (1 * 1 / 7 + 2 * 1 / 7 + 3 * 1 / 7 + 4 * 1 / 7 + 5 * 1 / 7 + 6 * 1 / 7 + 7 * 1 / 7)\n\n  // 0.252\n  const fuaEnhancedHitCountMulti = ASHBLAZING_ATK_STACK *\n    (1 * 1 / 10 + 2 * 1 / 10 + 3 * 1 / 10 + 4 * 1 / 10 + 5 * 1 / 10 + 6 * 1 / 10 + 7 * 1 / 10 + 8 * 3 / 10)\n\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'enemyProofOfDebtDebuff',\n    name: 'enemyProofOfDebtDebuff',\n    text: 'Enemy proof of debt debuff',\n    title: 'Proof of Debt',\n    content: `Increases DMG by ${precisionRound(proofOfDebtFuaVulnerability * 100)}% against enemies affected by Proof of Debt.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'numbyEnhancedState',\n    name: 'numbyEnhancedState',\n    text: 'Numby enhanced state',\n    title: 'Turn a Profit!: Ult Enhanced State',\n    content: `Numby enters the Windfall Bonanza! state and its DMG multiplier increases by ${precisionRound(enhancedStateFuaScalingBoost * 100)}% and CRIT DMG increases by ${precisionRound(enhancedStateFuaCdBoost * 100)}%. Also, when enemies with Proof of Debt are hit by an ally's Basic ATK, Skill, or Ultimate, Numby's action is Advanced Forward by 50%. Numby exits the Windfall Bonanza! state after using ${fuaEnhancedHitCount} attacks.`,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'e1DebtorStacks',\n    name: 'e1DebtorStacks',\n    text: 'E1 Debtor stacks',\n    title: `Increases Crit DMG`,\n    content: `Increases Crit DMG by ${precisionRound(enhancedStateFuaCdBoost * 100)}%, stacks up to 2 times.`,\n    min: 0,\n    max: 2,\n    disabled: e < 1,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      enemyProofOfDebtDebuff: true,\n      numbyEnhancedState: true,\n      e1DebtorStacks: 2,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.SKILL_SCALING += (r.numbyEnhancedState) ? enhancedStateFuaScalingBoost : 0\n      x.FUA_SCALING += fuaScaling\n      x.FUA_SCALING += (r.numbyEnhancedState) ? enhancedStateFuaScalingBoost : 0\n\n      // Boost\n      x.FUA_VULNERABILITY += (r.enemyProofOfDebtDebuff) ? proofOfDebtFuaVulnerability : 0\n      x.ELEMENTAL_DMG += (request.enemyElementalWeak) ? 0.15 : 0\n      x.FUA_CD_BOOST += (e >= 1) ? 0.25 * r.e1DebtorStacks : 0\n\n      return x\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional, request: Form) => {\n      const r = request.characterConditionals\n      const x = c['x'];\n\n      const hitMulti = (r.numbyEnhancedState) ? fuaEnhancedHitCountMulti : fuaHitCountMulti\n      const ashblazingFuaData = calculateAshblazingSet(c, request, hitMulti)\n      const ashblazingBasicData = calculateAshblazingSet(c, request, basicHitCountMulti)\n\n\n      x.BASIC_DMG += x.BASIC_SCALING * (x[Stats.ATK] - ashblazingBasicData.ashblazingAtk + ashblazingBasicData.ashblazingMulti)\n      x.FUA_DMG += x.FUA_SCALING * (x[Stats.ATK] - ashblazingFuaData.ashblazingAtk + ashblazingFuaData.ashblazingMulti)\n      x.SKILL_DMG = x.FUA_DMG\n\n      // Copy fua boosts to skill/basic\n      // BOOSTS get added, while vulnerability / def pen gets replaced (?)\n      x.SKILL_BOOST += x.FUA_BOOST\n      x.SKILL_CD_BOOST += x.FUA_CD_BOOST\n      x.SKILL_CR_BOOST += x.FUA_CR_BOOST\n      x.SKILL_VULNERABILITY = x.FUA_VULNERABILITY\n      x.SKILL_DEF_PEN = x.FUA_DEF_PEN\n      x.SKILL_RES_PEN = x.FUA_RES_PEN\n\n      x.BASIC_BOOST += x.FUA_BOOST\n      x.BASIC_CD_BOOST += x.FUA_CD_BOOST\n      x.BASIC_CR_BOOST += x.FUA_CR_BOOST\n      x.BASIC_VULNERABILITY = x.FUA_VULNERABILITY\n      x.BASIC_DEF_PEN = x.FUA_DEF_PEN\n      x.BASIC_RES_PEN = x.FUA_RES_PEN\n\n      // Her ult buff only applies to the skill/fua not basic\n      x.FUA_CD_BOOST += (r.numbyEnhancedState) ? enhancedStateFuaCdBoost : 0\n      x.SKILL_CD_BOOST += (r.numbyEnhancedState) ? enhancedStateFuaCdBoost : 0\n\n      // Her e6 only applies to skill/fua not basic\n      x.SKILL_RES_PEN += (e >= 6) ? 0.10 : 0\n      x.FUA_RES_PEN += (e >= 6) ? 0.10 : 0\n    }\n  }\n}\nexport default Topaz;","import React from \"react\";\nimport { Stats } from \"lib/constants\";\nimport { ASHBLAZING_ATK_STACK, baseComputedStatsObject } from \"lib/conditionals/constants\";\nimport { basic, calculateAshblazingSet, precisionRound, skill, talent, ult } from \"lib/conditionals/utils\";\nimport DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\nimport { FormSwitchWithPopover } from \"components/optimizerForm/conditionals/FormSwitch\";\nimport { FormSliderWithPopover } from \"components/optimizerForm/conditionals/FormSlider\";\n\nimport { Eidolon } from \"types/Character\";\nimport { Form, PrecomputedCharacterConditional } from \"types/CharacterConditional\";\n\nconst Qingque = (e: Eidolon) => {\n  const skillStackDmg = skill(e, 0.38, 0.408);\n  const talentAtkBuff = talent(e, 0.72, 0.792);\n\n  const basicScaling = basic(e, 1.00, 1.10);\n  const basicEnhancedScaling = basic(e, 2.40, 2.64);\n  const skillScaling = skill(e, 0, 0);\n  const ultScaling = ult(e, 2.00, 2.16);\n\n  const hitMultiByTargetsBlast = {\n    1: ASHBLAZING_ATK_STACK * (1 * 1 / 1), // 0.06\n    3: ASHBLAZING_ATK_STACK * (2 * 1 / 1), // 0.12\n    5: ASHBLAZING_ATK_STACK * (2 * 1 / 1)  // 0.12\n  };\n\n  const hitMultiSingle = ASHBLAZING_ATK_STACK * (1 * 1 / 1);\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'basicEnhanced',\n    name: 'basicEnhanced',\n    text: 'Basic enhanced',\n    title: 'Basic enhanced',\n    content: `Increases ATK by ${precisionRound(talentAtkBuff * 100)}% and SPD by 10%.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'basicEnhancedSpdBuff',\n    name: 'basicEnhancedSpdBuff',\n    text: 'Basic enhanced SPD buff',\n    title: 'Basic enhanced SPD buff',\n    content: `Increases SPD by 10%.`,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'skillDmgIncreaseStacks',\n    name: 'skillDmgIncreaseStacks',\n    text: 'Skill DMG stacks',\n    title: 'Skill DMG stacks',\n    content: `Increases DMG by ${precisionRound(skillStackDmg * 100)}% per stack. Stacks up to 4 times.`,\n    min: 0,\n    max: 4,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      basicEnhanced: true,\n      basicEnhancedSpdBuff: true,\n      skillDmgIncreaseStacks: 4,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject);\n\n      // Stats\n      x[Stats.ATK_P] += (r.basicEnhanced) ? talentAtkBuff : 0\n      x[Stats.SPD_P] += (r.basicEnhancedSpdBuff) ? 0.10 : 0\n\n      // Scaling\n      x.BASIC_SCALING += (r.basicEnhanced) ? basicEnhancedScaling : basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n      x.FUA_SCALING += (e >= 4) ? x.BASIC_SCALING : 0\n\n      // Boost\n      x.ELEMENTAL_DMG += r.skillDmgIncreaseStacks * skillStackDmg\n      x.ULT_BOOST += (e >= 1) ? 0.10 : 0\n\n      return x\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional, request: Form) => {\n      const r = request.characterConditionals;\n      const x = c['x'];\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK];\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK];\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK];\n\n      if (r.basicEnhanced) {\n        const hitMulti = hitMultiByTargetsBlast[request.enemyCount];\n        const { ashblazingMulti, ashblazingAtk } = calculateAshblazingSet(c, request, hitMulti);\n        x.FUA_DMG += x.FUA_SCALING * (x[Stats.ATK] - ashblazingAtk + ashblazingMulti);\n      } else {\n        const { ashblazingMulti, ashblazingAtk } = calculateAshblazingSet(c, request, hitMultiSingle);\n        x.FUA_DMG += x.FUA_SCALING * (x[Stats.ATK] - ashblazingAtk + ashblazingMulti);\n      }\n    }\n  }\n};\nexport default Qingque;","import React from \"react\";\nimport { Stats } from \"lib/constants\";\nimport { baseComputedStatsObject } from \"lib/conditionals/constants\";\nimport { basic, precisionRound, skill, ult } from \"lib/conditionals/utils\";\nimport { Eidolon } from \"types/Character\";\n\nimport DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\nimport { FormSwitchWithPopover } from \"components/optimizerForm/conditionals/FormSwitch\";\nimport { Form } from \"types/CharacterConditional\";\n\n\nconst Tingyun = (e: Eidolon) => {\n  const skillAtkBoostMax = skill(e, 0.25, 0.27);\n  const ultDmgBoost = ult(e, 0.50, 0.56);\n  const skillAtkBoostScaling = skill(e, 0.50, 0.55) + ((e >= 4) ? 0.20 : 0);\n  // const talentScaling = talent(e, 0.60, 0.66) + ((e >= 4) ? 0.20 : 0);\n\n  const basicScaling = basic(e, 1.00, 1.10);\n  const skillScaling = skill(e, 0, 0);\n  const ultScaling = ult(e, 0, 0);\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'benedictionBuff',\n    name: 'benedictionBuff',\n    text: 'Benediction Buff',\n    title: 'Benediction Buff',\n    content: `Grants a single ally with Benediction to increase their ATK by ${precisionRound(skillAtkBoostScaling * 100)}%, up to ${precisionRound(skillAtkBoostMax * 100)}% of Tingyun's current ATK.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'skillSpdBuff',\n    name: 'skillSpdBuff',\n    text: 'Skill SPD Buff',\n    title: 'Skill SPD Buff',\n    content: `Tingyun's SPD increases by 20% for 1 turn after using Skill.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'ultSpdBuff',\n    name: 'ultSpdBuff',\n    text: 'Ult SPD Buff',\n    title: 'Ult SPD Buff',\n    content: `After using their Ultimate, the ally with Benediction gains a 20% increase in SPD for 1 turn.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'ultDmgBuff',\n    name: 'ultDmgBuff',\n    text: 'Ult DMG Buff',\n    title: 'Ult DMG Buff',\n    content: `Regenerates 50 Energy for a single ally and increases the target's DMG by ${precisionRound(ultDmgBoost)}% for 2 turn(s).`,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      benedictionBuff: false,\n      skillSpdBuff: false,\n      ultSpdBuff: false,\n      ultDmgBuff: false,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals;\n      const x = Object.assign({}, baseComputedStatsObject);\n\n      // Stats\n      x[Stats.SPD_P] += (e >= 1 && r.ultSpdBuff) ? 0.20 : 0\n      x[Stats.SPD_P] += (r.skillSpdBuff) ? 0.20 : 0\n      x[Stats.ATK_P] += (r.benedictionBuff) ? skillAtkBoostMax : 0\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n\n      // Boost\n      x.BASIC_BOOST += 0.40\n      x.ELEMENTAL_DMG += (r.ultDmgBuff) ? ultDmgBoost : 0\n\n      return x;\n    },\n    calculateBaseMultis: (c) => {\n      const x = c.x\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n    }\n  }\n}\nexport default Tingyun;","import React from \"react\";\nimport { Stats } from \"lib/constants\";\nimport { baseComputedStatsObject } from \"lib/conditionals/constants\";\nimport { basic, calculateAshblazingSet, skill, talent, ult } from \"lib/conditionals/utils\";\nimport DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\nimport { FormSwitchWithPopover } from \"components/optimizerForm/conditionals/FormSwitch\";\nimport { FormSliderWithPopover } from \"components/optimizerForm/conditionals/FormSlider\";\n\nimport { Eidolon } from \"types/Character\";\n\nexport default (e: Eidolon) => {\n  const basicScaling = basic(e, 1.00, 1.10)\n  const skillScaling = skill(e, 1.00, 1.10)\n  const ultScaling = ult(e, 2.00, 2.16)\n  const fuaScaling = talent(e, 0.66, 0.726)\n\n  let hitMulti = 0\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'skillCritBuff',\n    name: 'skillCritBuff',\n    text: 'Skill CR Buff',\n    title: 'Skill CR Buff',\n    content: `Increases CR by 10%.`,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'talentHitsPerAction',\n    name: 'talentHitsPerAction',\n    text: 'Lightning Lord Stacks',\n    title: 'Lightning Lord Stacks',\n    content: `Lightning Lord hits-per-action stack up to 10 times.`,\n    min: 3,\n    max: 10,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'talentAttacks',\n    name: 'talentAttacks',\n    text: 'Lightning Lord Hits on Target',\n    title: 'Lightning Lord Hits on Target',\n    content: `Count of hits on target. Should usually be set to the same value as Lightning Lord Stacks.`,\n    min: 0,\n    max: 10,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e2DmgBuff',\n    name: 'e2DmgBuff',\n    text: 'E2 dmg buff',\n    title: 'E2 dmg buff',\n    content: `Increases DMG by 20% for 2 turn(s) after using Ultimate.`,\n    disabled: e < 2,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'e6FuaVulnerabilityStacks',\n    name: 'e6FuaVulnerabilityStacks',\n    text: 'E6 vulnerable stacks (applies to all hits)',\n    title: 'E6 vulnerable stacks (applies to all hits)',\n    content: `Increases DMG taken by 12% per stack. Stacks up to 3 times.`,\n    min: 0,\n    max: 3,\n    disabled: e < 6,\n  }];\n\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      skillCritBuff: true,\n      talentHitsPerAction: 10,\n      talentAttacks: 10,\n      e2DmgBuff: true,\n      e6FuaVulnerabilityStacks: 3\n    }),\n    precomputeEffects: (request) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      r.talentHitsPerAction = Math.max(r.talentHitsPerAction, r.talentAttacks)\n\n      // Stats\n      x[Stats.CR] += (r.skillCritBuff) ? 0.10 : 0\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n      x.FUA_SCALING += fuaScaling\n\n      // Boost\n      x.FUA_CD_BOOST += (r.talentHitsPerAction >= 6) ? 0.25 : 0\n      x.BASIC_BOOST += (e >= 2 && r.e2DmgBuff) ? 0.20 : 0\n      x.SKILL_BOOST += (e >= 2 && r.e2DmgBuff) ? 0.20 : 0\n      x.ULT_BOOST += (e >= 2 && r.e2DmgBuff) ? 0.20 : 0\n\n      x.FUA_VULNERABILITY += (e >= 6) ? r.e6FuaVulnerabilityStacks * 0.12 : 0\n\n      // Lightning lord calcs\n      const stacks = r.talentHitsPerAction\n      const hits = r.talentAttacks\n      const stacksPerMiss = (request.enemyCount >= 3) ? 2 : 0\n      const stacksPerHit = (request.enemyCount >= 3) ? 3 : 1\n      const stacksPreHit = (request.enemyCount >= 3) ? 2 : 1\n\n      // Calc stacks on miss\n      let ashblazingStacks = stacksPerMiss * (stacks - hits)\n\n      // Calc stacks on hit\n      ashblazingStacks += stacksPreHit\n      let atkBoostSum = 0\n      for (let i = 0; i < hits; i++) {\n        atkBoostSum += Math.min(8, ashblazingStacks) * (1 / hits)\n        ashblazingStacks += stacksPerHit\n      }\n\n      hitMulti = atkBoostSum * 0.06\n\n      return x\n    },\n    calculateBaseMultis: (c, request) => {\n      const r = request.characterConditionals\n      const x = c.x\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n\n      const { ashblazingMulti, ashblazingAtk } = calculateAshblazingSet(c, request, hitMulti)\n      x.FUA_DMG += x.FUA_SCALING * r.talentAttacks * (x[Stats.ATK] - ashblazingAtk + ashblazingMulti)\n    }\n  }\n}","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { ASHBLAZING_ATK_STACK, baseComputedStatsObject } from 'lib/conditionals/constants';\nimport { basicRev, skillRev, talentRev, ultRev } from 'lib/conditionals/utils';\nimport { calculateAshblazingSet, precisionRound } from 'lib/conditionals/utils';\n\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\nimport { FormSliderWithPopover } from 'components/optimizerForm/conditionals/FormSlider';\n\nimport { Eidolon } from 'types/Character'\nimport { Form, PrecomputedCharacterConditional } from 'types/CharacterConditional';\n\n\nexport default (e: Eidolon) => {\n  const enhancedStateDmgBoost = skillRev(e, 0.40, 0.456)\n  const hpPercentLostTotalMax = 0.90\n\n  const basicScaling = basicRev(e, 1.0, 1.1)\n  const basicEnhancedAtkScaling = skillRev(e, 0.40, 0.44)\n  const basicEnhancedHpScaling = skillRev(e, 1.00, 1.10)\n  const ultAtkScaling = ultRev(e, 0.40, 0.432)\n  const ultHpScaling = ultRev(e, 1.00, 1.08)\n  const ultLostHpScaling = ultRev(e, 1.00, 1.08)\n  const fuaAtkScaling = talentRev(e, 0.44, 0.484)\n  const fuaHpScaling = talentRev(e, 1.10, 1.21)\n\n  const hitMultiByTargets = {\n    1: ASHBLAZING_ATK_STACK * (1 * 0.33 + 2 * 0.33 + 3 * 0.34),\n    3: ASHBLAZING_ATK_STACK * (2 * 0.33 + 5 * 0.33 + 8 * 0.34),\n    5: ASHBLAZING_ATK_STACK * (3 * 0.33 + 8 * 0.33 + 8 * 0.34),\n  };\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'enhancedStateActive',\n    name: 'enhancedStateActive',\n    text: 'Enhanced State',\n    title: 'Enhanced State',\n    content: `\n      Increases DMG by ${precisionRound(enhancedStateDmgBoost * 100)}%.\n      ${e >= 2 ? `::BR::Also increases CRIT Rate by ${precisionRound(0.15 * 100)}%.` : ''}\n    `,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'hpPercentLostTotal',\n    name: 'hpPercentLostTotal',\n    text: 'HP% Lost Total',\n    title: 'HP% Lost Total',\n    content: `Increases DMG by ${precisionRound(0.10 * 100)}% for every ${precisionRound(hpPercentLostTotalMax * 100)}% HP lost.`,\n    min: 0,\n    max: hpPercentLostTotalMax,\n    percent: true,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'e4MaxHpIncreaseStacks',\n    name: 'e4MaxHpIncreaseStacks',\n    text: 'E4 Max HP Stacks',\n    title: 'E4 Max HP Stacks',\n    content: `Increases HP by ${precisionRound(0.20 * 100)}%, stacks 2 times.`,\n    min: 0,\n    max: 2,\n    disabled: e < 4,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      enhancedStateActive: true,\n      hpPercentLostTotal: hpPercentLostTotalMax,\n      e4MaxHpIncreaseStacks: 2,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n      x[Stats.CR] += (e >= 2 && r.enhancedStateActive) ? 0.15 : 0\n      x[Stats.HP_P] += (e >= 4) ? r.e4MaxHpIncreaseStacks * 0.20 : 0\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      // Rest of the scalings are calculated dynamically\n\n      // Boost\n      x.ELEMENTAL_DMG += r.enhancedStateActive ? enhancedStateDmgBoost : 0\n      x.FUA_BOOST += 0.20\n\n      return x\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional, request: Form) => {\n      const r = request.characterConditionals\n      const x = c['x'];\n\n      if (r.enhancedStateActive) {\n        x.BASIC_DMG += basicEnhancedAtkScaling * x[Stats.ATK]\n        x.BASIC_DMG += basicEnhancedHpScaling * x[Stats.HP]\n      } else {\n        x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      }\n\n      x.ULT_DMG += ultAtkScaling * x[Stats.ATK]\n      x.ULT_DMG += ultHpScaling * x[Stats.HP]\n      x.ULT_DMG += ultLostHpScaling * r.hpPercentLostTotal * x[Stats.HP]\n      x.ULT_DMG += (e >= 1 && request.enemyCount == 1) ? 1.50 * r.hpPercentLostTotal * x[Stats.HP] : 0\n\n      const hitMulti = hitMultiByTargets[request.enemyCount]\n      const { ashblazingMulti, ashblazingAtk } = calculateAshblazingSet(c, request, hitMulti)\n      x.FUA_DMG += fuaAtkScaling * (x[Stats.ATK] - ashblazingAtk + ashblazingMulti)\n\n      x.FUA_DMG += fuaHpScaling * x[Stats.HP]\n      x.FUA_DMG += (e >= 6) ? 0.50 * x[Stats.HP] : 0\n    }\n  }\n}\n","import React from \"react\";\nimport { Stats } from \"lib/constants\";\nimport { baseComputedStatsObject } from \"lib/conditionals/constants\";\nimport { basic, precisionRound, skill, talent, ult } from \"lib/conditionals/utils\";\nimport DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\nimport { FormSwitchWithPopover } from \"components/optimizerForm/conditionals/FormSwitch\";\nimport { FormSliderWithPopover } from \"components/optimizerForm/conditionals/FormSlider\";\n\nimport { Eidolon } from \"types/Character\";\n\nconst Sushang = (e: Eidolon) => {\n  const talentSpdBuffValue = talent(e, 0.20, 0.21);\n  const ultBuffedAtk = ult(e, 0.30, 0.324);\n  const talentSpdBuffStacksMax = (e >= 6) ? 2 : 1\n\n  const basicScaling = basic(e, 1.00, 1.10);\n  const skillScaling = skill(e, 2.10, 2.31);\n  const skillExtraHitScaling = skill(e, 1.00, 1.10);\n  const ultScaling = ult(e, 3.20, 3.456);\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'ultBuffedState',\n    name: 'ultBuffedState',\n    text: 'Ult Buffed state',\n    title: 'Ult Buffed state',\n    content: `Increases ATK by ${precisionRound(ultBuffedAtk * 100)}% for 2 turn(s) after using Ultimate.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e2DmgReductionBuff',\n    name: 'e2DmgReductionBuff',\n    text: 'E2 Dmg Reduction Buff',\n    title: 'E2 Dmg Reduction Buff',\n    content: `Reduces DMG taken by 20% for 2 turn(s) after using Ultimate.`,\n    disabled: e < 2,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'skillExtraHits',\n    name: 'skillExtraHits',\n    text: 'Skill Extra Hits',\n    title: 'Skill Extra Hits',\n    content: `Increases the number of hits of the Skill by ${skillExtraHitScaling} times.`,\n    min: 0,\n    max: 3,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'skillTriggerStacks',\n    name: 'skillTriggerStacks',\n    text: 'Skill Trigger Stacks',\n    title: 'Riposte: A4 Trace',\n    content: `Increases DMG by 2.5% per stack. Stacks up to 10 times.`,\n    min: 0,\n    max: 10,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'talentSpdBuffStacks',\n    name: 'talentSpdBuffStacks',\n    text: 'Talent SPD Buff Stacks',\n    title: 'Talent SPD Buff Stacks',\n    content: `Increases SPD by ${precisionRound(talentSpdBuffValue * 100)}% per stack. Stacks up to ${talentSpdBuffStacksMax} times.`,\n    min: 0,\n    max: talentSpdBuffStacksMax,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      ultBuffedState: true,\n      e2DmgReductionBuff: true,\n      skillExtraHits: 3,\n      skillTriggerStacks: 10,\n      talentSpdBuffStacks: talentSpdBuffStacksMax,\n    }),\n    precomputeEffects: (request) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject);\n\n      // Stats\n      x[Stats.BE] += (e >= 4) ? 0.40 : 0\n      x[Stats.ATK_P] += (r.ultBuffedState) ? ultBuffedAtk : 0\n      x[Stats.SPD_P] += (r.talentSpdBuffStacks) * talentSpdBuffValue\n\n      // Scaling\n      // Trace only affects stance damage not skill damage - boost this based on proportion of stance : total skill dmg\n      const originalSkillScaling = skillScaling\n      let stanceSkillScaling = 0\n      stanceSkillScaling += (r.skillExtraHits >= 1) ? skillExtraHitScaling : 0\n      stanceSkillScaling += (r.ultBuffedState && r.skillExtraHits >= 2) ? skillExtraHitScaling * 0.5 : 0\n      stanceSkillScaling += (r.ultBuffedState && r.skillExtraHits >= 3) ? skillExtraHitScaling * 0.5 : 0\n      const stanceScalingProportion = stanceSkillScaling / (stanceSkillScaling + originalSkillScaling);\n\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += originalSkillScaling\n      x.SKILL_SCALING += stanceSkillScaling\n      x.ULT_SCALING += ultScaling\n\n      // Boost\n      x.SKILL_BOOST += r.skillTriggerStacks * 0.025 * stanceScalingProportion\n      x.DMG_RED_MULTI *= (e >= 2 && r.e2DmgReductionBuff) ? (1 - 0.20) : 1\n\n      return x\n    },\n    calculateBaseMultis: (c) => {\n      const x = c.x\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n      // x.FUA_DMG += 0\n    }\n  }\n}\n\nexport default Sushang;","import React from 'react';\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\nimport { baseComputedStatsObject } from 'lib/conditionals/constants';\nimport { basicRev, precisionRound, skillRev, talentRev, ultRev } from 'lib/conditionals/utils';\nimport { Stats } from 'lib/constants';\nimport { Eidolon } from 'types/Character';\n\nconst Yukong = (e: Eidolon) => {\n  const skillAtkBuffValue = skillRev(e, 0.80, 0.88)\n  const ultCdBuffValue = skillRev(e, 0.65, 0.702)\n  const ultCrBuffValue = skillRev(e, 0.28, 0.294)\n  const talentAtkScaling = talentRev(e, 0.80, 0.88)\n\n  const basicScaling = basicRev(e, 1.00, 1.10)\n  const skillScaling = skillRev(e, 0, 0)\n  const ultScaling = ultRev(e, 3.80, 4.104)\n\n  // const skillRank = [[2, 0.4],[2, 0.44],[2, 0.48],[2, 0.52],[2, 0.56],[2, 0.6],[2, 0.65],[2, 0.7],[2, 0.75],[2, 0.8],[2, 0.84],[2, 0.88],[2, 0.92],[2, 0.96],[2, 1]];\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'roaringBowstrings',\n    name: 'roaringBowstrings',\n    text: 'Roaring bowstrings',\n    title: `Roaring Bowstrings: Increases ATK by ${skillAtkBuffValue * 100}%`,\n    content: `Obtains 2 stack(s) of \"Roaring Bowstrings\" (to a maximum of 2 stacks). When \"Roaring Bowstrings\" is active, the ATK of all allies increases by ${precisionRound(skillAtkBuffValue * 100)}%, and every time an ally's turn (including Yukong's) ends, Yukong loses 1 stack of \"Roaring Bowstrings.\"\\nWhen it's the turn where Yukong gains \"Roaring Bowstrings\" by using Skill, \"Roaring Bowstrings\" will not be removed.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'ultBuff',\n    name: 'ultBuff',\n    text: 'Ult buff',\n    title: `Increases CRIT DMG by ${precisionRound(ultCrBuffValue * 100)}% and CRIT Rate by ${ultCdBuffValue * 100}%`,\n    content: `If \"Roaring Bowstrings\" is active on Yukong when her Ultimate is used, additionally increases all allies' CRIT Rate by ${precisionRound(ultCrBuffValue * 100)}% and CRIT DMG by ${precisionRound(ultCdBuffValue * 100)}%. At the same time, deals Imaginary DMG equal to ${precisionRound(ultScaling * 100)}% of Yukong's ATK to a single enemy.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'initialSpeedBuff',\n    name: 'initialSpeedBuff',\n    text: 'Initial speed buff',\n    title: 'Increases SPD by 10%',\n    content: `At the start of battle, increases the SPD of all allies by 10% for 2 turn(s).`,\n  }];\n\n  return {\n\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      roaringBowstringsActive: true,\n      ultBuff: true,\n      initialSpeedBuff: true,\n    }),\n    precomputeEffects: (request) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n      x[Stats.ATK_P] += (r.roaringBowstrings) ? skillAtkBuffValue : 0\n      x[Stats.CR] += (r.ultBuff && r.roaringBowstrings) ? ultCrBuffValue : 0\n      x[Stats.CD] += (r.ultBuff && r.roaringBowstrings) ? ultCdBuffValue : 0\n      x[Stats.SPD_P] += (r.initialSpeedBuff) ? 0.10 : 0\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.BASIC_SCALING += talentAtkScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n\n      // Boost\n      x.ELEMENTAL_DMG += 0.12\n      x.ELEMENTAL_DMG += (e >= 4 && r.roaringBowstrings) ? 0.30 : 0\n\n      return x\n    },\n    calculateBaseMultis: (c) => {\n      const x = c.x\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n    }\n  }\n}\n\nexport default Yukong;","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { baseComputedStatsObject } from 'lib/conditionals/constants';\nimport { basicRev, skillRev, talentRev, ultRev } from 'lib/conditionals/utils';\nimport { precisionRound } from 'lib/conditionals/utils';\n\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\nimport { FormSliderWithPopover } from 'components/optimizerForm/conditionals/FormSlider';\n\nimport { Eidolon } from 'types/Character'\nimport { Form, PrecomputedCharacterConditional } from 'types/CharacterConditional';\n\nexport default (e: Eidolon) => {\n  const skillCrBuffValue = skillRev(e, 0.12, 0.132);\n  const skillHpBuffValue = skillRev(e, 0.06, 0.066);\n  const talentDmgReductionValue = talentRev(e, 0.18, 0.196);\n\n  const basicScaling = basicRev(e, 0.50, 0.55);\n  const skillScaling = skillRev(e, 0, 0);\n  const ultScaling = ultRev(e, 1.00, 1.08);\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'skillActive',\n    name: 'skillActive',\n    text: 'Skill Active',\n    title: 'Skill Active',\n    content: `Increases CRIT Rate by ${precisionRound(skillCrBuffValue * 100)}%.`,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'e6TeamHpLostPercent',\n    name: 'e6TeamHpLostPercent',\n    text: 'E6 Team HP Lost',\n    title: 'E6 Team HP Lost',\n    content: `Increases DMG by 2% per 1% HP lost by the team. Max 120%.`,\n    min: 0,\n    max: 1.2,\n    percent: true,\n    disabled: e < 6,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      skillActive: true,\n      e6TeamHpLostPercent: 1.2,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n      x[Stats.CD] += (e >= 1) ? 0.30 : 0\n      x[Stats.CR] += (r.skillActive) ? skillCrBuffValue : 0\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n\n      // Boost\n      x.DMG_RED_MULTI *= (1 - talentDmgReductionValue)\n\n      return x\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional, request: Form) => {\n      const r = request.characterConditionals\n      const x = c['x'];\n\n      x[Stats.HP] += (r.skillActive) ? skillHpBuffValue * x[Stats.HP] : 0\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.HP]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.HP]\n      x.ULT_DMG += (e >= 6) ? 2.00 * r.e6TeamHpLostPercent * x[Stats.HP] : 0\n    }\n  }\n}","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\nimport { ASHBLAZING_ATK_STACK, baseComputedStatsObject } from '../constants';\nimport { calculateAshblazingSet, ultRev, basicRev, skillRev, talentRev } from '../utils';\nimport { Eidolon } from 'types/Character';\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\n\nconst Yanqing = (e: Eidolon) => {\n  const ultCdBuffValue = ultRev(e, 0.50, 0.54);\n  const talentCdBuffValue = ultRev(e, 0.30, 0.33);\n  const talentCrBuffValue = ultRev(e, 0.20, 0.21);\n\n  const basicScaling = basicRev(e, 1.00, 1.10);\n  const skillScaling = skillRev(e, 2.20, 2.42);\n  const ultScaling = ultRev(e, 3.50, 3.78);\n  const fuaScaling = talentRev(e, 0.50, 0.55);\n\n  const hitMulti = ASHBLAZING_ATK_STACK * (1 * 1 / 1);\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'ultBuffActive',\n    name: 'ultBuffActive',\n    text: 'Ult buff active',\n    title: 'Ult buff active',\n    content: `Increases CRIT Rate by ${Math.round(ultCdBuffValue * 100)}%`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'soulsteelBuffActive',\n    name: 'soulsteelBuffActive',\n    text: 'Soulsteel buff active',\n    title: 'Soulsteel buff active',\n    content: `Increases CRIT DMG by ${Math.round(talentCrBuffValue * 100)}% and CRIT Rate by ${Math.round(talentCdBuffValue * 100)}%`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'critSpdBuff',\n    name: 'critSpdBuff',\n    text: 'Crit spd buff',\n    title: 'Crit spd buff',\n    content: 'Increases SPD by 10%',\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e1TargetFrozen',\n    name: 'e1TargetFrozen',\n    text: 'E1 target frozen',\n    title: 'E1 target frozen',\n    content: 'Increases ATK by 60%',\n    disabled: (e < 1)\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e4CurrentHp80',\n    name: 'e4CurrentHp80',\n    text: 'E4 self HP >= 80%',\n    title: 'E4 self HP >= 80%',\n    content: 'Increases RES Pen by 12%',\n    disabled: (e < 4)\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      ultBuffActive: true,\n      soulsteelBuffActive: true,\n      critSpdBuff: true,\n      e1TargetFrozen: true,\n      e4CurrentHp80: true,\n    }),\n    precomputeEffects: (request) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject);\n\n      // Stats\n      x[Stats.CR] += (r.ultBuffActive) ? 0.60 : 0\n      x[Stats.CD] += (r.ultBuffActive && r.soulsteelBuffActive) ? ultCdBuffValue : 0\n      x[Stats.CR] += (r.soulsteelBuffActive) ? talentCrBuffValue : 0\n      x[Stats.CD] += (r.soulsteelBuffActive) ? talentCdBuffValue : 0\n      x[Stats.RES] += (r.soulsteelBuffActive) ? 0.20 : 0\n      x[Stats.SPD_P] += (r.critSpdBuff) ? 0.10 : 0\n      x[Stats.ERR] += (e >= 2 && r.soulsteelBuffActive) ? 0.10 : 0\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n      x.FUA_SCALING += fuaScaling\n\n      x.BASIC_SCALING += (request.enemyElementalWeak) ? 0.30 : 0\n      x.SKILL_SCALING += (request.enemyElementalWeak) ? 0.30 : 0\n      x.ULT_SCALING += (request.enemyElementalWeak) ? 0.30 : 0\n      x.FUA_SCALING += (request.enemyElementalWeak) ? 0.30 : 0\n\n      x.BASIC_SCALING += (e >= 1 && r.e1TargetFrozen) ? 0.60 : 0\n      x.SKILL_SCALING += (e >= 1 && r.e1TargetFrozen) ? 0.60 : 0\n      x.ULT_SCALING += (e >= 1 && r.e1TargetFrozen) ? 0.60 : 0\n      x.FUA_SCALING += (e >= 1 && r.e1TargetFrozen) ? 0.60 : 0\n\n      // Boost\n      x.RES_PEN += (e >= 4 && r.e4CurrentHp80) ? 0.12 : 0\n\n      return x\n    },\n    calculateBaseMultis: (c, request) => {\n      const x = c.x\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n\n      const { ashblazingMulti, ashblazingAtk } = calculateAshblazingSet(c, request, hitMulti);\n      x.FUA_DMG += x.FUA_SCALING * (x[Stats.ATK] - ashblazingAtk + ashblazingMulti);\n    }\n  }\n}\n\nexport default Yanqing;","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { baseComputedStatsObject } from 'lib/conditionals/constants';\nimport { basicRev, skillRev, talentRev, ultRev } from 'lib/conditionals/utils';\nimport { precisionRound } from 'lib/conditionals/utils';\n\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\nimport { FormSliderWithPopover } from 'components/optimizerForm/conditionals/FormSlider';\n\nimport { Eidolon } from 'types/Character'\nimport { Form, PrecomputedCharacterConditional } from 'types/CharacterConditional';\n\nexport default (e: Eidolon) => {\n  const talentDebuffDmgIncreaseValue = talentRev(e, 0.07, 0.076);\n  const talentDebuffMax = (e >= 6) ? 4 : 3\n\n  const basicScaling = basicRev(e, 1.00, 1.10);\n  const skillScaling = skillRev(e, 1.20, 1.32);\n  const ultScaling = ultRev(e, 1.20, 1.296);\n  const dotScaling = skillRev(e, 2.182, 2.40);\n\n  const content = [{\n    formItem: FormSliderWithPopover,\n    id: 'talentDebuffStacks',\n    name: 'talentDebuffStacks',\n    text: 'Talent Debuff Stacks',\n    title: 'Talent Debuff Stacks',\n    content: `Increases DMG by ${precisionRound(talentDebuffDmgIncreaseValue * 100)}% per stack. Stacks up to ${talentDebuffMax} times.`,\n    min: 0,\n    max: talentDebuffMax,\n  },{\n    formItem: FormSwitchWithPopover,\n    id: 'enemyBurned',\n    name: 'enemyBurned',\n    text: 'Enemy Burned',\n    title: 'Enemy Burned',\n    content: `Increases DMG by ${precisionRound(0.20 * 100)}% against enemies affected by Burn.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e2BurnMultiBoost',\n    name: 'e2BurnMultiBoost',\n    text: 'E2 Burn Multi Boost',\n    title: 'E2 Burn Multi Boost',\n    content: `Increases Burn DMG by ${precisionRound(0.40 * 100)}%.`,\n    disabled: e < 2,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      talentDebuffStacks: talentDebuffMax,\n      enemyBurned: true,\n      e2BurnMultiBoost: true,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n      x.DOT_SCALING += dotScaling\n      x.DOT_SCALING += (e >= 2 && r.e2BurnMultiBoost) ? 0.40 : 0\n\n\n      // Boost\n      x.ELEMENTAL_DMG += (r.enemyBurned) ? 0.20 : 0\n      x.DMG_TAKEN_MULTI += r.talentDebuffStacks * talentDebuffDmgIncreaseValue\n\n      return x\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional) => {\n      const x = c['x'];\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n      x.DOT_DMG += x.DOT_SCALING * x[Stats.ATK]\n    }\n  }\n}","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { baseComputedStatsObject } from 'lib/conditionals/constants';\nimport { basic, skill, ult } from 'lib/conditionals/utils';\nimport { precisionRound } from 'lib/conditionals/utils';\n\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\nimport { FormSliderWithPopover } from 'components/optimizerForm/conditionals/FormSlider';\n\nimport { Eidolon } from 'types/Character'\nimport { Form, PrecomputedCharacterConditional } from 'types/CharacterConditional';\n\nexport default (e: Eidolon) => {\n  const basicScaling = basic(e, 1.0, 1.1)\n  const skillScaling = skill(e, 0, 0)\n  const ultScaling = ult(e, 0, 0)\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'healingMaxHpBuff',\n    name: 'healingMaxHpBuff',\n    text: 'Healing Max HP Buff',\n    title: 'Healing Max HP Buff',\n    content: `A2: When Bailu heals a target ally above their normal Max HP, the target's Max HP increases by ${precisionRound(0.10 * 100)}% for 2 turns.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'talentDmgReductionBuff',\n    name: 'talentDmgReductionBuff',\n    text: 'Talent DMG Reduction Buff',\n    title: 'Talent DMG Reduction Buff',\n    content: `A6: Characters with Invigoration take ${precisionRound(0.10 * 100)}% less DMG.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e2UltHealingBuff',\n    name: 'e2UltHealingBuff',\n    text: 'E2 Ult Healing Buff',\n    title: 'E2 Ult Healing Buff',\n    content: `E2: Increases healing by ${precisionRound(0.15 * 100)}% during Ultimate.`,\n    disabled: e < 2,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'e4SkillHealingDmgBuffStacks',\n    name: 'e4SkillHealingDmgBuffStacks',\n    text: 'E4 Skill Healing DMG Buff Stacks',\n    title: 'E4 Skill Healing DMG Buff Stacks',\n    content: `E4: Increases DMG by ${precisionRound(0.10 * 100)}% for every stack of Healing DMG Buff, stacks 3 times.`,\n    min: 0,\n    max: 3,\n    disabled: e < 4,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      healingMaxHpBuff: true,\n      talentDmgReductionBuff: true,\n      e2UltHealingBuff: true,\n      e4SkillHealingDmgBuffStacks: 0,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n      x[Stats.HP_P] += (r.healingMaxHpBuff) ? 0.10 : 0\n      x[Stats.OHB] += (e >= 2 && r.e2UltHealingBuff) ? 0.15 : 0\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n\n      // Boost\n      x.DMG_RED_MULTI *= (r.talentDmgReductionBuff) ? (1 - 0.10) : 1\n      x.ALL_DMG_MULTI += (e >= 4) ? r.e4SkillHealingDmgBuffStacks * 0.10 : 0\n\n      return x\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional) => {\n      const x = c['x'];\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += 0\n      x.ULT_DMG += 0\n      x.FUA_DMG += 0\n    }\n  }\n}","import React from \"react\";\nimport { Stats } from \"lib/constants\";\nimport { baseComputedStatsObject } from \"lib/conditionals/constants\";\nimport { basicRev, skillRev, ultRev, talentRev, precisionRound } from \"lib/conditionals/utils\";\nimport DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\nimport { FormSliderWithPopover } from \"components/optimizerForm/conditionals/FormSlider\";\n\nimport { Eidolon } from \"types/Character\";\nimport { Form, PrecomputedCharacterConditional } from \"types/CharacterConditional\";\n\n\nexport default(e: Eidolon) => {\n  const righteousHeartStackMax = (e >= 1) ? 10 : 6\n  const outroarStackCdValue = skillRev(e, 0.12, 0.132)\n  const righteousHeartDmgValue = talentRev(e, 0.10, 0.11)\n\n  const basicScaling = basicRev(e, 1.00, 1.10)\n  const basicEnhanced1Scaling = basicRev(e, 2.60, 2.86)\n  const basicEnhanced2Scaling = basicRev(e, 3.80, 4.18)\n  const basicEnhanced3Scaling = basicRev(e, 5.00, 5.50)\n  const skillScaling = skillRev(e, 0, 0)\n  const ultScaling = ultRev(e, 3.00, 3.24)\n\n  const content = [{\n    formItem: FormSliderWithPopover,\n    id: 'basicEnhanced',\n    name: 'basicEnhanced',\n    text: 'Basic enhanced',\n    title: 'Basic enhanced',\n    content: `\n      Increases DMG by ${precisionRound(basicEnhanced1Scaling * 100)}% at 1 stack, ${precisionRound(basicEnhanced2Scaling * 100)}% at 2 stacks, and ${precisionRound(basicEnhanced3Scaling * 100)}% at 3 stacks.`,\n    min: 0,\n    max: 3,\n  },{\n    formItem: FormSliderWithPopover,\n    id: 'skillOutroarStacks',\n    name: 'skillOutroarStacks',\n    text: 'Outroar Stacks',\n    title: 'Outroar Stacks',\n    content: `Increases DMG by ${precisionRound(outroarStackCdValue * 100)}% per stack.`,\n    min: 0,\n    max: 4,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'talentRighteousHeartStacks',\n    name: 'talentRighteousHeartStacks',\n    text: 'Righteous Heart Stacks',\n    title: 'Righteous Heart Stacks',\n    content: `Increases Elemental DMG by ${precisionRound(righteousHeartDmgValue * 100)}% per stack.`,\n    disabled: e < 1,\n    min: 0,\n    max: righteousHeartStackMax,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'e6ResPenStacks',\n    name: 'e6ResPenStacks',\n    text: 'E6 RES PEN Stacks',\n    title: 'E6 RES PEN Stacks',\n    content: `Decreases target's RES by 20% per stack.`,\n    min: 0,\n    max: 3,\n    disabled: e < 6,\n  }];\n\n\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      basicEnhancements: 3,\n      skillOutroarStacks: 4,\n      talentRighteousHeartStacks: righteousHeartStackMax,\n      e6ResPenStacks: 3,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n      x[Stats.CD] += (request.enemyElementalWeak) ? 0.24 : 0\n      x[Stats.CD] += r.skillOutroarStacks * outroarStackCdValue\n\n      // Scaling\n      x.BASIC_SCALING += {\n        0: basicScaling,\n        1: basicEnhanced1Scaling,\n        2: basicEnhanced2Scaling,\n        3: basicEnhanced3Scaling,\n      }[r.basicEnhancements]\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n\n      // Boost\n      x.ELEMENTAL_DMG += r.talentRighteousHeartStacks * righteousHeartDmgValue\n      x.BASIC_RES_PEN += (e >= 6 && r.basicEnhancements == 3) ? 0.20 * r.e6ResPenStacks : 0\n\n      return x\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional) => {\n      const x = c['x'];\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n    }\n  }\n}","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { calculateAshblazingSet, basic, skill, talent, ult } from \"lib/conditionals/utils\";\nimport { ASHBLAZING_ATK_STACK, ComputedStatsObject, baseComputedStatsObject } from 'lib/conditionals/constants';\nimport { FormSliderWithPopover } from 'components/optimizerForm/conditionals/FormSlider';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\n\nimport { CharacterConditional, ConditionalMap, ContentItem, Form } from 'types/CharacterConditional';\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { Eidolon } from 'types/Character';\nimport { Unknown } from 'types/Common';\n\n\n\nconst Xueyi = (eidolon: Eidolon): CharacterConditional => {\n  const ultBoostMax = ult(eidolon, 0.60, 0.648)\n  const basicScaling = basic(eidolon, 1.00, 1.10)\n  const skillScaling = skill(eidolon, 1.40, 1.54)\n  const ultScaling = ult(eidolon, 2.50, 2.70)\n  const fuaScaling = talent(eidolon, 0.90, 0.99)\n\n  const hitMultiByFuaHits = {\n    0: 0,\n    1: ASHBLAZING_ATK_STACK * (1 * 1 / 1), // 0.06\n    2: ASHBLAZING_ATK_STACK * (1 * 1 / 2 + 2 * 1 / 2), // 0.09\n    3: ASHBLAZING_ATK_STACK * (1 * 1 / 3 + 2 * 1 / 3 + 3 * 1 / 3) // 0.12\n  };\n\n  const content: ContentItem[] = [\n    {\n      id: 'enemyToughness50',\n      text: 'Intrepid Rollerbearings',\n      formItem: FormSwitchWithPopover,\n      title: 'Intrepid Rollerbearings',\n      content: \"If the enemy target's Toughness is equal to or higher than 50% of their Max Toughness, deals 10% more DMG when using Ultimate.\",\n    },\n    {\n      id: 'toughnessReductionDmgBoost',\n      text: 'Ultimate DMG Boost',\n      formItem: FormSliderWithPopover,\n      title: 'Ultimate: Divine Castigation',\n      content: \"Deals Quantum DMG equal to 250% of Xueyi's ATK to a single target enemy. This attack ignores Weakness Types and reduces the enemy's Toughness. When the enemy's Weakness is Broken, the Quantum Weakness Break effect is triggered. In this attack, the more Toughness is reduced, the higher the DMG will be dealt, up to a max of 60% increase.\",\n      min: 0,\n      max: ultBoostMax,\n      percent: true,\n    },\n    {\n      id: 'fuaHits',\n      text: 'FUA Hits',\n      formItem: FormSliderWithPopover,\n      title: 'Talent: Karmic Perpetuation',\n      content: \"When Karma reaches the max number of stacks, consumes all current Karma stacks and immediately launches a follow-up attack against an enemy target, dealing DMG up to 3 times, with each time dealing Quantum DMG to a single random enemy.\",\n      min: 0,\n      max: 3,\n    },\n    {\n      id: 'e4BeBuff',\n      text: 'E4: Karma, Severed',\n      formItem: FormSwitchWithPopover,\n      title: 'E4: Karma, Severed',\n      content: \"When using Ultimate, increases Break Effect by 40% for 2 turn(s).\",\n      disabled: (eidolon < 4),\n    }\n  ];\n\n  return {\n    display: () => <DisplayFormControl ultBoostMax={ultBoostMax} eidolon={eidolon} content={content} />,\n    defaults: () => ({\n      enemyToughness50: true,\n      toughnessReductionDmgBoost: ultBoostMax,\n      fuaHits: 3,\n      e4BeBuff: true,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r: ConditionalMap = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n      x[Stats.BE] += (eidolon >= 4 && r.e4BeBuff) ? 0.40 : 0\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n      x.FUA_SCALING += fuaScaling * (r.fuaHits as number);\n\n      // Boost\n      x.ULT_BOOST += (r.enemyToughness50) ? 0.10 : 0\n      x.ULT_BOOST += r.toughnessReductionDmgBoost as number;\n      x.FUA_BOOST += (eidolon >= 1) ? 0.40 : 0\n\n      return x;\n    },\n    calculateBaseMultis: (c: Unknown, request: Form) => {\n      const r = request.characterConditionals as { [key: string]: number }\n      const x: ComputedStatsObject = c['x'];\n\n      x.ELEMENTAL_DMG += Math.min(2.40, x[Stats.BE])\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n\n      const hitMulti = hitMultiByFuaHits[r.fuaHits]\n      const { ashblazingMulti, ashblazingAtk } = calculateAshblazingSet(c, request, hitMulti)\n      x.FUA_DMG += x.FUA_SCALING * (x[Stats.ATK] - ashblazingAtk + ashblazingMulti)\n    }\n  }\n}\n\nexport default Xueyi;","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { baseComputedStatsObject } from 'lib/conditionals/constants';\nimport { basicRev, skillRev, talentRev, ultRev } from 'lib/conditionals/utils';\nimport { precisionRound } from 'lib/conditionals/utils';\n\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\n\nimport { Eidolon } from 'types/Character'\nimport { Form, PrecomputedCharacterConditional } from 'types/CharacterConditional';\n\nexport default (e: Eidolon) => {\n  const ultSpdBuffValue = ultRev(e, 0.20, 0.21)\n  const ultAtkBuffValue = ultRev(e, 0.60, 0.648)\n  let talentDmgBoostValue = talentRev(e, 0.30, 0.33)\n\n  talentDmgBoostValue += (e >= 6) ? 0.10 : 0\n\n  const basicScaling = basicRev(e, 1.00, 1.10)\n  const skillScaling = skillRev(e, 2.40, 2.64)\n  const ultScaling = ultRev(e, 0, 0)\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'ultBuff',\n    name: 'ultBuff',\n    text: 'Ult Buff Active',\n    title: 'Ult Buff Active',\n    content: `Ult increases SPD by ${precisionRound(ultSpdBuffValue * 100)}% and increase ATK by ${precisionRound(ultAtkBuffValue * 100)}% for 1 turn.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'targetBurdenActive',\n    name: 'targetBurdenActive',\n    text: 'Target Burden Active',\n    title: 'Target Burden Active',\n    content: `Increases DMG by ${precisionRound(talentDmgBoostValue * 100)}% to Burdened enemies for 2 turns.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'burdenAtkBuff',\n    name: 'burdenAtkBuff',\n    text: 'Burden ATK Buff',\n    title: 'Burden ATK Buff',\n    content: `A2: Allies triggering Burden's Skill Point recovery effect have their ATK increased by ${precisionRound(0.10 * 100)}% for 1 turn.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e2SkillSpdBuff',\n    name: 'e2SkillSpdBuff',\n    text: 'E2 Skill SPD Buff',\n    title: 'E2 Skill SPD Buff',\n    content: `E2: After Skill, increases SPD by ${precisionRound(0.20 * 100)}% for 2 turns.`,\n    disabled: e < 2,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      ultBuff: true,\n      targetBurdenActive: true,\n      burdenAtkBuff: true,\n      skillSpdBuff: true,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n\n      x[Stats.ATK_P] += (r.ultBuff) ? ultAtkBuffValue : 0\n      x[Stats.ATK_P] += (r.burdenAtkBuff) ? 0.10 : 0\n      x[Stats.SPD_P] += (e >= 2 && r.e2SkillSpdBuff) ? 0.20 : 0\n\n      // Boost\n      x.ALL_DMG_MULTI = (r.targetBurdenActive) ? talentDmgBoostValue : 0\n\n      return x\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional, request: Form) => {\n      const r = request.characterConditionals\n      const x = c['x'];\n\n      x[Stats.SPD] += (r.ultBuff) ? ultSpdBuffValue * x[Stats.SPD] : 0\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n    }\n  }\n}\n","import React from \"react\";\nimport { Stats } from \"lib/constants\";\nimport { baseComputedStatsObject } from \"lib/conditionals/constants\";\nimport { basic, ult } from \"lib/conditionals/utils\";\nimport DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\nimport { FormSwitchWithPopover } from \"components/optimizerForm/conditionals/FormSwitch\";\n\nimport { Eidolon } from \"types/Character\";\n\nexport default(e: Eidolon) => {\n  const ultBuffValue = ult(e, 0.40, 0.432)\n  const basicScaling = basic(e, 0.50, 0.55)\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'ultBuff',\n    name: 'ultBuff',\n    text: 'Ult Buff',\n    title: 'Ult Buff',\n    content: `Increases ATK by ${ultBuffValue * 100}% for 2 turn(s) after using Ultimate.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'skillBuff',\n    name: 'skillBuff',\n    text: 'Skill Buff',\n    title: 'Skill Buff',\n    content: `E1: Increases SPD by 12% for 2 turn(s) after using Skill.`,\n    disabled: e < 1,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e6DmgBuff',\n    name: 'e6DmgBuff',\n    text: 'E6 DMG Buff',\n    title: 'E6 DMG Buff',\n    content: `Increases DMG by 50% for 2 turn(s) after using Ultimate.`,\n    disabled: e < 6,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      ultBuff: true,\n      skillBuff: true,\n      e6DmgBuff: true,\n    }),\n    precomputeEffects: (request) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n      x[Stats.SPD_P] += (e >= 1 && r.skillBuff) ? 0.12 : 0\n      x[Stats.ATK_P] += (r.ultBuff) ? ultBuffValue : 0\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n\n      // Boost\n      x.ELEMENTAL_DMG += (e >= 6 && r.skillBuff) ? 0.50 : 0\n\n      return x\n    },\n    calculateBaseMultis: (c) => {\n      const x = c.x\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.HP]\n    }\n  }\n}","import React from \"react\";\nimport { Stats } from \"lib/constants\";\nimport { Eidolon } from \"types/Character\";\nimport { Form } from \"types/CharacterConditional\";\n\nimport { ult, basic, skill, precisionRound } from \"../utils\";\nimport DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\nimport { FormSwitchWithPopover } from \"components/optimizerForm/conditionals/FormSwitch\";\nimport { baseComputedStatsObject } from \"../constants\";\nimport { Unknown } from \"types/Common\";\n\nconst RuanMei = (e: Eidolon) => {\n  const fieldResPenValue = ult(e, 0.25, 0.27)\n  const basicScaling = basic(e, 1.00, 1.10)\n  const skillScaling = skill(e, 0, 0)\n  const ultScaling = ult(e, 0, 0)\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'ultFieldActive',\n    name:'ultFieldActive',\n    text: 'Ult field active',\n    title: 'Ult field active',\n    content: `Increases resistance penetration by ${fieldResPenValue * 100}% and defense shred by 20%`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e4BeBuff',\n    name:'e4BeBuff',\n    text: 'E4 break effect buff',\n    title: 'E4 break effect buff',\n    content: 'Increases break effect by 100%',\n    disabled: (e < 4),\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      ultFieldActive: true,\n      e4BeBuff: true,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      // Stats\n      x[Stats.BE] += 0.20\n      x[Stats.BE] += (e >= 4 && r.e4BeBuff) ? 1.00 : 0\n\n      // Scaling\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n\n      // Boost\n      x.RES_PEN += (r.ultFieldActive) ? fieldResPenValue : 0\n      x.DEF_SHRED += (e >= 1 && r.ultFieldActive) ? 0.20 : 0\n      x[Stats.ATK_P] += (e >= 2 && request.enemyWeaknessBroken) ? 0.40 : 0\n\n      return x\n    },\n    calculateBaseMultis: (c: Unknown) => {\n      const x = c['x'];\n\n      const beOver = precisionRound((x[Stats.BE] * 100 - 120) / 10)\n      x.ELEMENTAL_DMG += Math.floor(Math.max(0, beOver)) * 0.06\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n    }\n  }\n}\n\nexport default RuanMei;","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { baseComputedStatsObject } from 'lib/conditionals/constants';\nimport { basic, skill, ult } from 'lib/conditionals/utils';\nimport { precisionRound } from 'lib/conditionals/utils';\n\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\nimport { FormSliderWithPopover } from 'components/optimizerForm/conditionals/FormSlider';\n\nimport { Eidolon } from 'types/Character'\nimport { Form, PrecomputedCharacterConditional } from 'types/CharacterConditional';\n\n\nexport default (e:Eidolon) => {\n  const skillCdBuffScaling = skill(e, 0.24, 0.264);\n  const skillCdBuffBase = skill(e, 0.45, 0.486);\n  const cipherTalentStackBoost = ult(e, 0.10, 0.108);\n  const talentBaseStackBoost = ult(e, 0.06, 0.066);\n\n  const basicScaling = basic(e, 1.00, 1.10);\n  const skillScaling = skill(e, 0, 0);\n  const ultScaling = ult(e, 0, 0);\n\n  const atkBoostByQuantumAllies = {\n    0: 0,\n    1: 0.05,\n    2: 0.15,\n    3: 0.30,\n  };\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'skillCdBuff',\n    name: 'skillCdBuff',\n    text: 'Skill CD Buff',\n    title: 'Skill CD Buff',\n    content: `Increases Skill Crit DMG of an ally by ${precisionRound(skillCdBuffScaling * 100)}% + ${precisionRound(skillCdBuffBase * 100)}%.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'cipherBuff',\n    name: 'cipherBuff',\n    text: 'Cipher Buff',\n    title: 'Cipher Buff',\n    content: `When allies with Cipher trigger the DMG Boost effect provided by Sparkle's Talent, each stack increases DMG by ${precisionRound(cipherTalentStackBoost * 100)}% per stack.`,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'talentStacks',\n    name: 'talentStacks',\n    text: 'Talent DMG Stacks',\n    title: 'Talent DMG Stacks',\n    content: `Whenever an ally consumes 1 Skill Point, all allies' DMG increases by ${precisionRound(talentBaseStackBoost * 100)}% per stack.  Can stack 3 times.`,\n    min: 0,\n    max: 3,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'quantumAllies',\n    name: 'quantumAllies',\n    text: 'Quantum Allies',\n    title: 'Quantum Allies',\n    content: `A6: Increases allies' ATK by ${precisionRound(atkBoostByQuantumAllies[3] * 100)}% by number of Quantum allies.`,\n    min: 0,\n    max: 3,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      skillCdBuff: true,\n      cipherBuff: true,\n      talentStacks: 3,\n      quantumAllies: 3,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      x[Stats.ATK_P] += 0.15 + (atkBoostByQuantumAllies[r.quantumAllies] || 0)\n      x[Stats.ATK_P] += (e >= 1 && r.cipherBuff) ? 0.40 : 0\n\n      x.ELEMENTAL_DMG += (r.cipherBuff) ? r.talentStacks * (talentBaseStackBoost + cipherTalentStackBoost) : r.talentStacks * talentBaseStackBoost\n      x.DEF_SHRED += (e >= 2) ? 0.08 * r.talentStacks : 0\n\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n\n      return x\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional, request: Form) => {\n      const r = request.characterConditionals\n      const x = c['x'];\n\n      x[Stats.CD] += (r.skillCdBuff) ? skillCdBuffBase + skillCdBuffScaling * x[Stats.CD] : 0\n      x[Stats.CD] += (e >= 6 && r.skillCdBuff) ? 0.30 * x[Stats.CD] : 0\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n    }\n  }\n}\n","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { baseComputedStatsObject } from 'lib/conditionals/constants';\nimport { basic, skill, talent, ult } from 'lib/conditionals/utils';\nimport { precisionRound } from 'lib/conditionals/utils';\n\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\nimport { FormSliderWithPopover } from 'components/optimizerForm/conditionals/FormSlider';\n\nimport { Eidolon } from 'types/Character'\nimport { Form, PrecomputedCharacterConditional } from 'types/CharacterConditional';\n\n\nexport default (e: Eidolon) => {\n  const arcanaStackMultiplier = talent(e, 0.12, 0.132)\n  const stack3ArcanaBlastDmg = talent(e, 1.80, 1.98)\n  const epiphanyDmgTakenBoost = ult(e, 0.25, 0.27)\n  const defShredValue = skill(e, 0.208, 0.22)\n\n  const basicScaling = basic(e, 0.60, 0.66)\n  const skillScaling = skill(e, 0.90, 0.99)\n  const ultScaling = ult(e, 1.20, 1.30)\n  const dotScaling = talent(e, 2.40, 2.64)\n\n  const content = [{\n    formItem: FormSwitchWithPopover,\n    id: 'epiphanyDebuff',\n    name: 'epiphanyDebuff',\n    text: 'Epiphany Debuff',\n    title: 'Epiphany Debuff',\n    content: `Enemies take ${precisionRound(epiphanyDmgTakenBoost * 100)}% more DMG.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'defDecreaseDebuff',\n    name: 'defDecreaseDebuff',\n    text: 'Def Decrease Debuff',\n    title: 'Def Decrease Debuff',\n    content: `Enemies DEF is decreased by ${precisionRound(defShredValue * 100)}%.`,\n  }, {\n    formItem: FormSliderWithPopover,\n    id: 'arcanaStacks',\n    name: 'arcanaStacks',\n    text: 'Arcana Stacks',\n    title: 'Arcana Stacks',\n    content: `Increases DMG by ${precisionRound(arcanaStackMultiplier * 100)}% per stack.`,\n    min: 0,\n    max: 50,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e1ResReduction',\n    name: 'e1ResReduction',\n    text: 'E1 RES Reduction',\n    title: 'E1 RES Reduction',\n    content: `Decreases enemies' RES by 25%.`,\n    disabled: e < 1,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      epiphanyDebuff: true,\n      defDecreaseDebuff: true,\n      arcanaStacks: 7,\n      e1ResReduction: true\n    }),\n    precomputeEffects: (request: Form) => {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject)\n\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultScaling\n      x.DOT_SCALING += dotScaling + arcanaStackMultiplier * r.arcanaStacks\n      x.DOT_SCALING += (r.arcanaStacks >= 3) ? stack3ArcanaBlastDmg : 0\n\n      x.DOT_DEF_PEN += (r.arcanaStacks >= 7) ? 0.20 : 0\n      x.DEF_SHRED += (r.defDecreaseDebuff) ? defShredValue : 0\n      x.DOT_VULNERABILITY += (r.epiphanyDebuff) ? epiphanyDmgTakenBoost : 0\n\n      x.RES_PEN += (e >= 1 && r.e1ResReduction) ? 0.25 : 0\n\n      return x\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional) => {\n      const x = c['x'];\n\n      x.ELEMENTAL_DMG += Math.min(0.72, 0.60 * x[Stats.EHR])\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n      x.DOT_DMG += x.DOT_SCALING * x[Stats.ATK]\n    }\n  }\n}\n","import React from 'react';\nimport { Stats } from 'lib/constants';\nimport { baseComputedStatsObject } from 'lib/conditionals/constants';\nimport { basicRev, skillRev, ultRev } from 'lib/conditionals/utils';\nimport { precisionRound } from 'lib/conditionals/utils';\n\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\nimport { FormSliderWithPopover } from 'components/optimizerForm/conditionals/FormSlider';\n\nimport { Eidolon } from 'types/Character'\nimport { Form, PrecomputedCharacterConditional } from 'types/CharacterConditional';\n\nexport default (e: Eidolon) => {\n  const basicScaling = basicRev(e, 1.00, 1.10);\n  const skillScaling = skillRev(e, 2.00, 2.20);\n  let ultStackScaling = ultRev(e, 0.60, 0.65);\n  ultStackScaling += (e >= 4 ? 0.06 : 0);\n\n  const content = [{\n    formItem: FormSliderWithPopover,\n    id: 'ultHitsOnTarget',\n    name: 'ultHitsOnTarget',\n    text: 'Ult Hits on Target',\n    title: 'Ult Hits on Target',\n    content: `Increases DMG by ${precisionRound(ultStackScaling * 100)}% per hit.`,\n    min: 1,\n    max: 10,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'enemyFrozen',\n    name: 'enemyFrozen',\n    text: 'Enemy Frozen',\n    title: 'Enemy Frozen',\n    content: `A6: Frozen enemies take 30% more Crit DMG.`,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e2DefReduction',\n    name: 'e2DefReduction',\n    text: 'E2 DEF Reduction',\n    title: 'E2 DEF Reduction',\n    content: `E2: Decreases enemies' DEF by 16% for 3 turns.`,\n    disabled: e < 2,\n  }, {\n    formItem: FormSwitchWithPopover,\n    id: 'e6UltDmgBoost',\n    name: 'e6UltDmgBoost',\n    text: 'E6 Ult DMG Boost',\n    title: 'E6 Ult DMG Boost',\n    content: `Increases DMG by 30% when using Ultimate until end of turn.`,\n    disabled: e < 6,\n  }];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      ultHitsOnTarget: 10,\n      enemyFrozen: true,\n      e2DefReduction: true,\n      e6UltDmgBoost: true,\n    }),\n    precomputeEffects: (request: Form) => {\n      const r = request.characterConditionals\n      const x = Object.assign({}, baseComputedStatsObject);\n\n      x[Stats.CD] += (r.enemyFrozen) ? 0.30 : 0\n\n      x.DEF_SHRED += (e >= 2 && r.e2DefReduction) ? 0.16 : 0\n      x.ELEMENTAL_DMG += (e >= 6 && r.e6UltDmgBoost) ? 0.30 : 0\n\n      x.BASIC_SCALING += basicScaling\n      x.SKILL_SCALING += skillScaling\n      x.ULT_SCALING += ultStackScaling * (r.ultHitsOnTarget);\n\n      return x\n    },\n    calculateBaseMultis: (c: PrecomputedCharacterConditional) => {\n      const x = c['x'];\n\n      x.BASIC_DMG += x.BASIC_SCALING * x[Stats.ATK]\n      x.SKILL_DMG += x.SKILL_SCALING * x[Stats.ATK]\n      x.ULT_DMG += x.ULT_SCALING * x[Stats.ATK]\n    }\n  }\n}\n\n\n","import { Flex, Form, InputNumber, Slider, Switch, Typography } from \"antd\";\nimport { CheckOutlined, CloseOutlined } from \"@ant-design/icons\";\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\nimport WithPopover from \"components/common/WithPopover\";\n\nconst justify = 'flex-start'\nconst align = 'center'\nconst inputWidth = 75\nconst numberWidth = 65\nconst sliderWidth = 145\n\nconst Text = styled(Typography)`\n  white-space: pre-line;\n`\nfunction precisionRound(number, precision = 8) {\n  const factor = Math.pow(10, precision);\n  return Math.round(number * factor) / factor;\n}\n\nexport function FormSwitch(props) {\n  return (\n\n    <Flex justify={justify} align={align}>\n      <Form.Item name={[conditionalType(props), props.name]} valuePropName='checked'>\n        <Switch\n          checkedChildren={<CheckOutlined />}\n          unCheckedChildren={<CloseOutlined />}\n          disabled={props.disabled}\n          defaultChecked={!props.disabled}\n          style={{ width: 45, marginRight: 10 }}\n        />\n      </Form.Item>\n      <Text>{props.text}</Text>\n    </Flex>\n\n  )\n}\nFormSwitch.propTypes = {\n  disabled: PropTypes.bool,\n  name: PropTypes.string,\n  text: PropTypes.string,\n}\nexport const FormSwitchWithPopover = WithPopover(FormSwitch);\nFormSwitchWithPopover.propTypes = Object.assign({}, FormSwitch.propTypes, WithPopover.propTypes);\n\n// export type FormSwitchWithPopover = \n\n\nexport function FormSlider(props) {\n  const [inputValue, setInputValue] = useState(1);\n  const onChange = (newValue) => {\n    setInputValue(newValue);\n  };\n\n  const multiplier = (props.percent ? 100 : 1)\n  const step = props.percent ? 0.01 : 1\n  const symbol = props.percent ? '%' : ''\n\n  return (\n    <Flex vertical gap={5} style={{ marginBottom: 0 }}>\n      <Flex justify={justify} align={align}>\n        <div style={{ minWidth: inputWidth, display: 'block' }}>\n          <Form.Item name={[conditionalType(props), props.name]}>\n            <InputNumber\n              min={props.min}\n              max={props.max}\n              controls={false}\n              size='small'\n              style={{\n                width: numberWidth,\n              }}\n              parser={(value) => value == null || value == '' ? 0 : precisionRound(value / multiplier)}\n              formatter={(value) => `${precisionRound(value * multiplier)}`}\n              addonAfter={symbol}\n              onChange={onChange}\n              disabled={props.disabled}\n            />\n          </Form.Item>\n        </div>\n        <Text>{props.text}</Text>\n      </Flex>\n      <Flex align='center' justify='flex-start' gap={10} style={{ height: 14 }}>\n        <Form.Item name={[conditionalType(props), props.name]}>\n          <Slider\n            min={props.min}\n            max={props.max}\n            step={step}\n            value={typeof inputValue === 'number' ? inputValue : 0}\n            style={{\n              minWidth: sliderWidth,\n              marginTop: 0,\n              marginBottom: 0,\n              marginLeft: 1\n            }}\n            tooltip={{\n              formatter: (value) => `${precisionRound(value * multiplier)}${symbol}`\n            }}\n            onChange={onChange}\n            disabled={props.disabled}\n          />\n        </Form.Item>\n        <Text style={{ minWidth: 20, marginBottom: 2, textAlign: 'center' }}>{`${precisionRound(props.max * multiplier)}${symbol}`}</Text>\n      </Flex>\n    </Flex>\n  )\n}\nFormSlider.propTypes = {\n  disabled: PropTypes.bool,\n  min: PropTypes.number,\n  max: PropTypes.number,\n  text: PropTypes.string,\n  name: PropTypes.string,\n  percent: PropTypes.bool,\n}\n\nexport const FormSliderWithPopover = WithPopover(FormSlider);\nFormSliderWithPopover.propTypes = {\n  ...FormSlider.propTypes,\n  ...WithPopover.propTypes\n}\n\nfunction conditionalType(props) {\n  if (props.lc) {\n    return 'lightConeConditionals'\n  }\n  return 'characterConditionals'\n}","import { LightConeRawRank } from 'types/LightConeConditionals';\nimport { SuperImpositionLevel } from 'types/LightCone';\n\n/**\n * Takss a SuperImpositionLevel and a LightConeRawRank and returns a string\n * String will contain tokens in the shape of \"#1[i]\" where (#x - 1) is the index of the param.\n * SuperImpositionLevel indicates rank values to use.\n * \n * Ranks are copied/stored in src/data/en/light_cone_ranks.json; imported from Mar-7th repo.\n * \n * Exmaple rank:\n\nconst lcRank = {\n  \"id\": \"23014\",\n  \"skill\": \"With This Evening Jade\",\n  \"desc\": \"Increases the wearer's CRIT DMG by #1[i]%. When an ally (excluding the wearer) gets attacked or loses HP, the wearer gains 1 stack of Eclipse, up to a max of #2[i] stack(s). Each stack of Eclipse increases the DMG of the wearer's next attack by #3[f1]%. When #2[i] stack(s) are reached, additionally enables that attack to ignore #4[i]% of the enemy's DEF. This effect will be removed after the wearer uses an attack.\",\n  \"params\": [[\n        0.2, 3, 0.14, 0.12\n    ],[\n        0.23, 3, 0.165, 0.14\n    ],[\n        0.26, 3, 0.19, 0.16\n    ],[\n        0.29, 3, 0.215, 0.18\n    ],[\n        0.32, 3, 0.24, 0.2\n    ]\n  ],\n  \"properties\": [[{\n      \"type\": \"CriticalDamageBase\", \"value\": 0.2\n    }],[{\n      \"type\": \"CriticalDamageBase\", \"value\": 0.23\n    }],[{\n      \"type\": \"CriticalDamageBase\", \"value\": 0.26\n    }],[{\n      \"type\": \"CriticalDamageBase\", \"value\": 0.29\n    }],[{\n      \"type\": \"CriticalDamageBase\", \"value\": 0.32\n    }]]\n};\n\n * @param s \n * @param lcRank \n * @returns \n */\nconst getContentFromLCRanks = (s: SuperImpositionLevel, lcRank: LightConeRawRank): string => {\n  const params = lcRank.params[s];\n  let ret = lcRank.desc;\n\n  // on render, \n  if (params) {\n    // const properties = lcRank.properties[s];\n    lcRank.desc.match(/#(\\d+)\\[\\w+\\]/g).forEach((token) => {\n      // get params value\n      token.match(/#(\\d+)/).forEach((tokenPieces, i) => {\n        if (i > 0) {\n          // [\"#4[i]\", \"4\"]\n          let value = params[parseInt(tokenPieces) - 1];\n          // change to percent\n          if (value < 1) {\n            value = Math.round(value * 100);\n          }\n          ret = ret.replace(token, value.toString());\n        }\n      });\n    });\n  }\n\n  return ret;\n}\n\nexport default getContentFromLCRanks","import React from 'react';\nimport { ContentItem, Form, LightConeConditional, PrecomputedCharacterConditional } from 'types/CharacterConditional';\nimport { FormSwitchWithPopover } from 'components/optimizerForm/conditionals/FormSwitch';\nimport { FormSliderWithPopover } from 'components/optimizerForm/conditionals/FormSlider';\nimport DisplayFormControl from 'components/optimizerForm/conditionals/DisplayFormControl';\nimport getContentFromLCRanks from './getContentFromLCRank';\nimport { SuperImpositionLevel } from 'types/LightCone';\nimport { ConditionalLightConeMap, LightConeRawRank } from 'types/LightConeConditionals';\n\n\n\nconst lcRank: LightConeRawRank = {\n  \"id\": \"23014\",\n  \"skill\": \"With This Evening Jade\",\n  \"desc\": \"Increases the wearer's CRIT DMG by #1[i]%. When an ally (excluding the wearer) gets attacked or loses HP, the wearer gains 1 stack of Eclipse, up to a max of #2[i] stack(s). Each stack of Eclipse increases the DMG of the wearer's next attack by #3[f1]%. When #2[i] stack(s) are reached, additionally enables that attack to ignore #4[i]% of the enemy's DEF. This effect will be removed after the wearer uses an attack.\",\n  \"params\": [[\n        0.2, 3, 0.14, 0.12\n    ],[\n        0.23, 3, 0.165, 0.14\n    ],[\n        0.26, 3, 0.19, 0.16\n    ],[\n        0.29, 3, 0.215, 0.18\n    ],[\n        0.32, 3, 0.24, 0.2\n    ]\n  ],\n  \"properties\": [[{\n      \"type\": \"CriticalDamageBase\", \"value\": 0.2\n    }],[{\n      \"type\": \"CriticalDamageBase\", \"value\": 0.23\n    }],[{\n      \"type\": \"CriticalDamageBase\", \"value\": 0.26\n    }],[{\n      \"type\": \"CriticalDamageBase\", \"value\": 0.29\n    }],[{\n      \"type\": \"CriticalDamageBase\", \"value\": 0.32\n    }]]\n};\n\n\n\nconst IShallBeMyOwnSword = (s: SuperImpositionLevel): LightConeConditional => {\n  const sValuesStackDmg = [0.14, 0.165, 0.19, 0.215, 0.24];\n  const sValuesDefPen = [0.12, 0.14, 0.16, 0.18, 0.20];\n\n  const content: ContentItem[] = [\n    {\n      lc: true,\n      id: 'eclipseStacks',\n      name: 'eclipseStacks',\n      formItem: FormSliderWithPopover,\n      text: 'Eclipse stacks',\n      title: 'Eclipse stacks',\n      content: getContentFromLCRanks(s, lcRank),\n      min: 0,\n      max: 3,\n    },\n    {\n      lc: true,\n      id: 'maxStackDefPen',\n      name: 'maxStackDefPen',\n      formItem: FormSwitchWithPopover,\n      text: 'Max stack def pen',\n      title: 'Max stack def pen',\n      content: 'Whether the enemy has 3 stacks of Eclipse.',\n    }\n  ];\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      eclipseStacks: 3,\n      maxStackDefPen: true,\n    }),\n    precomputeEffects: (x: PrecomputedCharacterConditional, request: Form) => {\n      const r = request.lightConeConditionals as ConditionalLightConeMap;\n      x['ELEMENTAL_DMG'] += r.eclipseStacks * sValuesStackDmg[s];\n      x['DEF_SHRED'] += (r.maxStackDefPen && r.eclipseStacks == 3) ? sValuesDefPen[s] : 0;\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  };\n};\n\nIShallBeMyOwnSword.displayName = 'I Shall Be My Own Sword';\n\nexport default IShallBeMyOwnSword;","import React from \"react\";\nimport { Stats } from \"lib/constants\";\nimport DisplayFormControl from \"components/optimizerForm/conditionals/DisplayFormControl\";\nimport { FormSliderWithPopover } from \"components/optimizerForm/conditionals/FormSlider\";\nimport { FormSwitchWithPopover } from \"components/optimizerForm/conditionals/FormSwitch\";\n\nimport { SuperImpositionLevel } from \"types/LightCone\";\nimport { Form, PrecomputedCharacterConditional } from \"types/CharacterConditional\";\nimport { ConditionalLightConeMap } from \"types/LightConeConditionals\";\nimport getContentFromLCRanks from \"./getContentFromLCRank\";\n\n\nconst lcRank = {\n  \"id\": \"23020\",\n  \"skill\": \"Mental Training\",\n  \"desc\": \"Increases the wearer's CRIT DMG by #1[i]%. For every debuff on the enemy target, the wearer's CRIT DMG dealt against this target increases by #2[i]%, stacking up to #3[i] times. When using Ultimate to attack the enemy target, the wearer receives the Disputation effect, which increases DMG dealt by #4[i]% and enables their follow-up attacks to ignore #5[i]% of the target's DEF. This effect lasts for #6[i] turns.\",\n  \"params\": [\n      [\n          0.2,\n          0.08,\n          3,\n          0.36,\n          0.24,\n          2\n      ],\n      [\n          0.23,\n          0.09,\n          3,\n          0.42,\n          0.28,\n          2\n      ],\n      [\n          0.26,\n          0.1,\n          3,\n          0.48,\n          0.32,\n          2\n      ],\n      [\n          0.29,\n          0.11,\n          3,\n          0.54,\n          0.36,\n          2\n      ],\n      [\n          0.32,\n          0.12,\n          3,\n          0.6,\n          0.4,\n          2\n      ]\n  ],\n  \"properties\": [\n      [\n          {\n              \"type\": \"CriticalDamageBase\",\n              \"value\": 0.2\n          }\n      ],\n      [\n          {\n              \"type\": \"CriticalDamageBase\",\n              \"value\": 0.23\n          }\n      ],\n      [\n          {\n              \"type\": \"CriticalDamageBase\",\n              \"value\": 0.26\n          }\n      ],\n      [\n          {\n              \"type\": \"CriticalDamageBase\",\n              \"value\": 0.29\n          }\n      ],\n      [\n          {\n              \"type\": \"CriticalDamageBase\",\n              \"value\": 0.32\n          }\n      ]\n  ]\n}\n\nconst BaptismOfPureThought = (s: SuperImpositionLevel) => {\n  const sValuesCd = [0.08, 0.09, 0.10, 0.11, 0.12]\n  const sValuesDmg = [0.36, 0.42, 0.48, 0.54, 0.60]\n  const sValuesFuaPen = [0.24, 0.28, 0.32, 0.36, 0.40]\n\n  const content = [{\n    lc: true,\n    formItem: FormSliderWithPopover,\n    id: 'debuffCdStacks',\n    name: 'debuffCdStacks',\n    text: 'Debuff cd stacks',\n    title: lcRank.skill,\n    content: getContentFromLCRanks(s, lcRank),\n    min: 0,\n    max: 3,\n  }, {\n    lc: true,\n    formItem: FormSwitchWithPopover,\n    id: 'postUltBuff',\n    name: 'postUltBuff',\n    text: 'Disputation ult cd / fua def pen buff',\n    title: lcRank.skill,\n    content: getContentFromLCRanks(s, lcRank),\n  }]\n\n  return {\n    display: () => <DisplayFormControl content={content} />,\n    defaults: () => ({\n      debuffCdStacks: 3,\n      postUltBuff: true,\n    }),\n    precomputeEffects: (x: PrecomputedCharacterConditional, request: Form) => {\n      const r = request.lightConeConditionals as ConditionalLightConeMap;\n\n      x[Stats.CD] += r.debuffCdStacks * sValuesCd[s]\n      x.ELEMENTAL_DMG += r.postUltBuff ? sValuesDmg[s] : 0\n      x.FUA_DEF_PEN += r.postUltBuff ? sValuesFuaPen[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n};\n\nexport default BaptismOfPureThought;","/* eslint-disable no-unused-vars  */\n\nimport React from \"react\";\nimport { Flex, Typography } from \"antd\";\nimport { HeaderText } from \"components/HeaderText\";\nimport { FormSlider, FormSwitch } from \"components/optimizerTab/FormConditionalInputs\";\nimport { TooltipImage } from \"components/TooltipImage\";\nimport { Constants } from 'lib/constants.ts'\nimport { Hint } from \"lib/hint\";\n\nimport IShallBeMyOwnSword  from 'lib/conditionals/lightcone/iShallBeMyOwnSword'\nimport BaptismOfPureThought from 'lib/conditionals/lightcone/baptismOfPureThought'\n\nlet Stats = Constants.Stats\n\nlet defaultGap = 5\n\nconst lightConeOptionMapping = {\n  20000: Arrows,\n  20001: Cornucopia,\n  20002: CollapsingSky,\n  20003: Amber,\n  20004: Void,\n  20005: Chorus,\n  20006: DataBank,\n  20007: DartingArrow,\n  20008: FineFruit,\n  20009: ShatteredHome,\n  20010: Defense,\n  20011: Loop,\n  20012: MeshingCogs,\n  20013: Passkey,\n  20014: Adversarial,\n  20015: Multiplication,\n  20016: MutualDemise,\n  20017: Pioneering,\n  20018: HiddenShadow,\n  20019: Mediation,\n  20020: Sagacity,\n  21000: PostOpConversation,\n  21001: GoodNightAndSleepWell,\n  21002: DayOneOfMyNewLife,\n  21003: OnlySilenceRemains,\n  21004: MemoriesOfThePast,\n  21005: TheMolesWelcomeYou,\n  21006: TheBirthOfTheSelf,\n  21007: SharedFeeling,\n  21008: EyesOfThePrey,\n  21009: LandausChoice,\n  21010: Swordplay,\n  21011: PlanetaryRendezvous,\n  21012: ASecretVow,\n  21013: MakeTheWorldClamor,\n  21014: PerfectTiming, // Does the ohb apply after passives?\n  21015: ResolutionShinesAsPearlsOfSweat,\n  21016: TrendOfTheUniversalMarket, // Revisit dot\n  21017: SubscribeForMore,\n  21018: DanceDanceDance,\n  21019: UnderTheBlueSky,\n  21020: GeniusesRepose,\n  21021: QuidProQuo,\n  21022: Fermata,\n  21023: WeAreWildfire,\n  21024: RiverFlowsInSpring,\n  21025: PastAndFuture,\n  21026: WoofWalkTime,\n  21027: TheSeriousnessOfBreakfast,\n  21028: WarmthShortensColdNights,\n  21029: WeWillMeetAgain, // Does this get affected by crit / dmg boosts?\n  21030: ThisIsMe, // Def scaling dmg not implemented\n  21031: ReturnToDarkness,\n  21032: CarveTheMoonWeaveTheClouds,\n  21033: NowhereToRun,\n  21034: TodayIsAnotherPeacefulDay,\n  22000: BeforeTheTutorialMissionStarts,\n  22001: HeyOverHere,\n  23000: NightOnTheMilkyWay,\n  23001: InTheNight,\n  23002: SomethingIrreplaceable,\n  23003: ButTheBattleIsntOver,\n  23004: InTheNameOfTheWorld, // Skill atk buff not implemented\n  23005: MomentOfVictory,\n  23006: PatienceIsAllYouNeed, // Revisit dot\n  23007: IncessantRain,\n  23008: EchoesOfTheCoffin,\n  23009: TheUnreachableSide,\n  23010: BeforeDawn,\n  23011: SheAlreadyShutHerEyes,\n  23012: SleepLikeTheDead,\n  23013: TimeWaitsForNoOne,\n  23014: IShallBeMyOwnSword,\n  23015: BrighterThanTheSun,\n  23016: WorrisomeBlissful,\n  23017: NightOfFright,\n  23018: AnInstantBeforeAGaze,\n  23019: PastSelfInMirror,\n  23020: BaptismOfPureThought,\n  24000: OnTheFallOfAnAeon,\n  24001: CruisingInTheStellarSea,\n  24002: TextureOfMemories,\n  24003: SolitaryHealing,\n  23021: EarthlyEscapade,\n  23022: ReforgedRemembrance,\n}\n\n\nfunction PastSelfInMirror(s) {\n  const sValues = [0.24, 0.28, 0.32, 0.36, 0.40]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='postUltDmgBuff' text='Post ult dmg buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      postUltDmgBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.ELEMENTAL_DMG += (r.postUltDmgBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction SolitaryHealing(s) {\n  const sValues = [0.24, 0.30, 0.36, 0.42, 0.48]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='postUltDotDmgBuff' text='Post ult dot dmg buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      postUltDotDmgBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.DOT_BOOST += r.postUltDotDmgBuff ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction TextureOfMemories(s) {\n  const sValues = [0.12, 0.15, 0.18, 0.21, 0.24]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='activeShieldDmgDecrease' text='Active shield dmg decrease' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      activeShieldDmgDecrease: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.DMG_RED_MULTI += (r.activeShieldDmgDecrease) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction CruisingInTheStellarSea(s) {\n  let sValuesCr = [0.08, 0.10, 0.12, 0.14, 0.16]\n  let sValuesAtk = [0.20, 0.25, 0.30, 0.35, 0.40]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='enemyHp50CrBoost' text='Enemy HP <= 50% cr boost' lc />\n        <FormSwitch name='enemyDefeatedAtkBuff' text='Enemy defeated atk buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      enemyHp50CrBoost: true,\n      enemyDefeatedAtkBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.CR] += (r.enemyHp50CrBoost && request.enemyHpPercent <= 0.50) ? sValuesCr[s] : 0\n      x[Stats.ATK_P] += (r.enemyDefeatedAtkBuff) ? sValuesAtk[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction OnTheFallOfAnAeon(s) {\n  let sValuesAtkStacks = [0.08, 0.10, 0.12, 0.14, 0.16]\n  let sValuesDmgBuff = [0.12, 0.15, 0.18, 0.21, 0.24]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSlider name='atkBoostStacks' text='Atk boost stacks' min={0} max={4} lc />\n        <FormSwitch name='weaknessBreakDmgBuff' text='Weakness break dmg buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      atkBoostStacks: 4,\n      weaknessBreakDmgBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.ATK_P] += r.atkBoostStacks * sValuesAtkStacks[s]\n      x.ELEMENTAL_DMG += (r.weaknessBreakDmgBuff) ? sValuesDmgBuff[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction AnInstantBeforeAGaze(s) {\n  const sValues = [0.0036, 0.0042, 0.0048, 0.0054, 0.006]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSlider name='maxEnergyUltDmgStacks' text='Max energy' min={0} max={180} lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      maxEnergyUltDmgStacks: 180,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.ULT_BOOST += r.maxEnergyUltDmgStacks * sValues[s]\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction NightOfFright(s) {\n  const sValues = [0.024, 0.028, 0.032, 0.036, 0.04]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSlider name='atkBuffStacks' text=\"Atk buff stacks\" min={0} max={5} lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      atkBuffStacks: 5,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.ATK_P] += r.atkBuffStacks * sValues[s]\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction WorrisomeBlissful(s) {\n  let sValuesFuaDmg = [0.30, 0.35, 0.40, 0.45, 0.50]\n  let sValuesCd = [0.12, 0.14, 0.16, 0.18, 0.20]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='fuaDmgBoost' text='Fua dmg boost' lc />\n        <FormSlider name='targetTameStacks' text=\"Target tame stacks\" min={0} max={2} lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      fuaDmgBoost: true,\n      targetTameStacks: 2,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.CD] += r.targetTameStacks * sValuesCd[s]\n      x.FUA_BOOST += (r.fuaDmgBoost) ? sValuesFuaDmg[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction BrighterThanTheSun(s) {\n  let sValuesAtk = [0.18, 0.21, 0.24, 0.27, 0.30]\n  let sValuesErr = [0.06, 0.07, 0.08, 0.09, 0.10]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSlider name='dragonsCallStacks' text=\"Dragon's call stacks\" min={0} max={2} lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      dragonsCallStacks: 2,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.ATK_P] += r.dragonsCallStacks * sValuesAtk[s]\n      x[Stats.ERR] += r.dragonsCallStacks * sValuesErr[s]\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\n// function IShallBeMyOwnSword(s) {\n//   let sValuesStackDmg = [0.14, 0.165, 0.19, 0.215, 0.24]\n//   let sValuesDefPen = [0.12, 0.14, 0.16, 0.18, 0.20]\n\n//   return {\n//     display: () => (\n//       <Flex vertical gap={defaultGap} >\n//         <FormSlider name='eclipseStacks' text='Eclipse stacks' min={0} max={3} lc />\n//         <FormSwitch name='maxStackDefPen' text='Max stack def pen' lc />\n//       </Flex>\n//     ),\n//     defaults: () => ({\n//       eclipseStacks: 3,\n//       maxStackDefPen: true,\n//     }),\n//     precomputeEffects: (x, request) => {\n//       let r = request.lightConeConditionals\n\n//       x.ELEMENTAL_DMG += r.eclipseStacks * sValuesStackDmg[s]\n//       x.DEF_SHRED += (r.maxStackDefPen && r.eclipseStacks == 3) ? sValuesDefPen[s] : 0\n//     },\n//     calculatePassives: (/*c, request */) => { },\n//     calculateBaseMultis: (/* c, request */) => { }\n//   }\n// }\n\nfunction TimeWaitsForNoOne(/* s */) {\n  // const sValues = [0, 0, 0, 0, 0]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='healingBasedDmgProc' text='Healing based dmg proc (not implemented)' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      healingBasedDmgProc: false,\n    }),\n    precomputeEffects: (/* x, request */) => {\n      // let r = request.lightConeConditionals\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction SleepLikeTheDead(s) {\n  const sValues = [0.36, 0.42, 0.48, 0.54, 0.60]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='missedCritCrBuff' text='Missed crit cr buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      missedCritCrBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.CR] += (r.missedCritCrBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction SheAlreadyShutHerEyes(s) {\n  const sValues = [0.09, 0.105, 0.12, 0.135, 0.15]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='hpLostDmgBuff' text='Hp lost dmg buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      hpLostDmgBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.ELEMENTAL_DMG += (r.hpLostDmgBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction BeforeDawn(s) {\n  let sValuesSkillUltDmg = [0.18, 0.21, 0.24, 0.27, 0.30]\n  let sValuesFuaDmg = [0.48, 0.56, 0.64, 0.72, 0.80]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='skillUltDmgBoost' text='Skill/ult dmg boost' lc />\n        <FormSwitch name='fuaDmgBoost' text='Fua dmg boost' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      skillUltDmgBoost: true,\n      fuaDmgBoost: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.SKILL_BOOST += (r.skillUltDmgBoost) ? sValuesSkillUltDmg[s] : 0\n      x.ULT_BOOST += (r.skillUltDmgBoost) ? sValuesSkillUltDmg[s] : 0\n      x.FUA_BOOST += (r.fuaDmgBoost) ? sValuesFuaDmg[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction TheUnreachableSide(s) {\n  const sValues = [0.24, 0.28, 0.32, 0.36, 0.40]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='dmgBuff' text='Hp consumed or attacked dmg buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      dmgBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.ELEMENTAL_DMG += (r.dmgBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction EchoesOfTheCoffin(s) {\n  const sValues = [12, 14, 16, 18, 20]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='postUltSpdBuff' text='Post ult spd buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      postUltSpdBuff: false,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.SPD] += (r.postUltSpdBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction IncessantRain(s) {\n  let sValuesCr = [0.12, 0.14, 0.16, 0.18, 0.20]\n  let sValuesDmg = [0.12, 0.14, 0.16, 0.18, 0.20]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='enemy3DebuffsCrBoost' text='Enemy <= 3 debuffs cr boost' lc />\n        <FormSwitch name='targetCodeDebuff' text='Target code debuff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      enemy3DebuffsCrBoost: true,\n      targetCodeDebuff: true\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.CR] += (r.enemy3DebuffsCrBoost) ? sValuesCr[s] : 0\n      x.ELEMENTAL_DMG += (r.targetCodeDebuff) ? sValuesDmg[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction PatienceIsAllYouNeed(s) {\n  let sValuesDmg = [0.24, 0.28, 0.32, 0.36, 0.40]\n  let sValuesSpd = [0.048, 0.056, 0.064, 0.072, 0.08]\n\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='dmgBoost' text='Dmg boost' lc />\n        <FormSlider name='spdStacks' text='Spd stacks' min={0} max={3} lc />\n        <FormSwitch name='dotEffect' text='Dot effect (not implemented)' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      dmgBoost: true,\n      spdStacks: 0,\n      dotEffect: false\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.SPD_P] += r.spdStacks * sValuesSpd[s]\n      x.ELEMENTAL_DMG += (r.dmgBoost) ? sValuesDmg[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction MomentOfVictory(s) {\n  const sValues = [0.24, 0.28, 0.32, 0.36, 0.40]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='selfAttackedDefBuff' text='Self attacked def buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      selfAttackedDefBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.DEF_P] += (r.selfAttackedDefBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction InTheNameOfTheWorld(s) {\n  let sValuesDmg = [0.24, 0.28, 0.32, 0.36, 0.40]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='enemyDebuffedDmgBoost' text='Enemy debuffed dmg boost' lc />\n        <FormSwitch name='skillAtkBoost' text='Skill atk boost (not implemented)' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      enemyDebuffedDmgBoost: true,\n      skillAtkBoost: false,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.ELEMENTAL_DMG += (r.enemyDebuffedDmgBoost) ? sValuesDmg[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction ButTheBattleIsntOver(s) {\n  let sValuesErr = [0.10, 0.12, 0.14, 0.16, 0.18]\n  let sValuesDmg = [0.30, 0.35, 0.40, 0.45, 0.50]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='postSkillDmgBuff' text='Post skill dmg buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      postSkillDmgBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.ERR] += sValuesErr[s]\n      x.ELEMENTAL_DMG += (r.postSkillDmgBuff) ? sValuesDmg[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction SomethingIrreplaceable(s) {\n  const sValues = [0.24, 0.28, 0.32, 0.36, 0.40]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='dmgBuff' text='Enemy defeated or self hit dmg buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      dmgBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.ELEMENTAL_DMG += (r.dmgBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction InTheNight(s) {\n  let sValuesDmg = [0.06, 0.07, 0.08, 0.09, 0.10]\n  let sValuesCd = [0.12, 0.14, 0.16, 0.18, 0.20]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='spdScalingBuffs' text='Speed scaling buffs enabled' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      spdScalingBuffs: true,\n    }),\n    precomputeEffects: (/* x, request */) => {\n      // let r = request.lightConeConditionals\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (c, request) => {\n      let r = request.lightConeConditionals\n      let x = c.x\n\n      let stacks = Math.max(0, Math.min(6, Math.floor((x[Stats.SPD] - 100) / 10)))\n\n      x.BASIC_BOOST += (r.spdScalingBuffs) ? stacks * sValuesDmg[s] : 0\n      x.SKILL_BOOST += (r.spdScalingBuffs) ? stacks * sValuesDmg[s] : 0\n      x.ULT_CD_BOOST += (r.spdScalingBuffs) ? stacks * sValuesCd[s] : 0\n    }\n  }\n}\n\nfunction NightOnTheMilkyWay(s) {\n  let sValuesAtk = [0.09, 0.105, 0.12, 0.135, 0.15]\n  let sValuesDmg = [0.30, 0.35, 0.40, 0.45, 0.50]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='enemyCountAtkBuff' text='Enemy count atk buff' lc />\n        <FormSwitch name='enemyWeaknessBreakDmgBuff' text='Enemy weakness break dmg buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      enemyCountAtkBuff: true,\n      enemyWeaknessBreakDmgBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.ATK_P] += (r.enemyCountAtkBuff) ? request.enemyCount * sValuesAtk[s] : 0\n      x.ELEMENTAL_DMG += (r.enemyWeaknessBreakDmgBuff) ? sValuesDmg[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction HeyOverHere(s) {\n  const sValues = [0.16, 0.19, 0.22, 0.25, 0.28]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='postSkillHealBuff' text='Post skill heal buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      postSkillHealBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.OHB] += (r.postSkillHealBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction BeforeTheTutorialMissionStarts(/* s */) {\n  // const sValues = [0, 0, 0, 0, 0]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n      </Flex>\n    ),\n    defaults: () => ({\n    }),\n    precomputeEffects: (/* x, request */) => {\n      // let r = request.lightConeConditionals\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction TodayIsAnotherPeacefulDay(s) {\n  const sValues = [0.002, 0.0025, 0.003, 0.0035, 0.004]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSlider name='maxEnergyStacks' text='Max energy' min={0} max={160} lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      maxEnergyStacks: 160,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.ELEMENTAL_DMG += r.maxEnergyStacks * sValues[s]\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction NowhereToRun(/* s */) {\n  // const sValues = [0, 0, 0, 0, 0]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n      </Flex>\n    ),\n    defaults: () => ({\n    }),\n    precomputeEffects: (/* x, request */) => {\n      // let r = request.lightConeConditionals\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction CarveTheMoonWeaveTheClouds(s) {\n  let sValuesAtk = [0.10, 0.125, 0.15, 0.175, 0.20]\n  let sValuesCd = [0.12, 0.15, 0.18, 0.21, 0.24]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='atkBuffActive' text='Atk buff active' lc />\n        <FormSwitch name='cdBuffActive' text='Cd buff active' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      atkBuffActive: true,\n      cdBuffActive: false,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.ATK_P] += (r.atkBuffActive) ? sValuesAtk[s] : 0\n      x[Stats.CD] += (r.cdBuffActive) ? sValuesCd[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction ReturnToDarkness(/* s */) {\n  // const sValues = [0, 0, 0, 0, 0]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n      </Flex>\n    ),\n    defaults: () => ({\n    }),\n    precomputeEffects: (/* x, request */) => {\n      //  let r = request.lightConeConditionals\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction ThisIsMe(/* s */) {\n  // const sValues = [0.60, 0.75, 0.90, 1.05, 1.20]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='defScalingUltDmg' text='Def scaling ult dmg (not implemented)' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      defScalingUltDmg: false,\n    }),\n    precomputeEffects: (/* x, request */) => {\n      //  let r = request.lightConeConditionals\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (c, request) => {\n      console.warn('not implemented', c, request)\n      // let r = request.lightConeConditionals\n      // let x = c.x\n\n      // x.ULT_DEF_SCALING += (r.defScalingUltDmg) ? sValues[s] : 0\n    }\n  }\n}\n\nfunction WeWillMeetAgain(s) {\n  const sValues = [0.48, 0.60, 0.72, 0.84, 0.96]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='extraDmgProc' text='Additional dmg proc' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      extraDmgProc: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.BASIC_SCALING += (r.extraDmgProc) ? sValues[s] : 0\n      x.SKILL_SCALING += (r.extraDmgProc) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction WarmthShortensColdNights(/* s */) {\n  // const sValues = [0, 0, 0, 0, 0]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n      </Flex>\n    ),\n    defaults: () => ({\n    }),\n    precomputeEffects: (/* x, request */) => {\n      //  let r = request.lightConeConditionals\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction TheSeriousnessOfBreakfast(s) {\n  let sValuesDmgBoost = [0.12, 0.15, 0.18, 0.21, 0.24]\n  let sValuesStacks = [0.04, 0.05, 0.06, 0.07, 0.08]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='dmgBoost' text='Dmg boost' lc />\n        <FormSlider name='defeatedEnemyAtkStacks' text='Defeated enemy atk stacks' min={0} max={3} lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      dmgBoost: true,\n      defeatedEnemyAtkStacks: 3,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.ATK_P] += r.defeatedEnemyAtkStacks * sValuesStacks[s]\n      x.ELEMENTAL_DMG += (r.dmgBoost) ? sValuesDmgBoost[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction WoofWalkTime(s) {\n  const sValues = [0.16, 0.20, 0.24, 0.28, 0.32]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='enemyBurnedBleeding' text='Enemy burned / bleeding' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      enemyBurnedBleeding: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.ELEMENTAL_DMG += (r.enemyBurnedBleeding) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction PastAndFuture(/* s */) {\n  // const sValues = [0, 0, 0, 0, 0]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n      </Flex>\n    ),\n    defaults: () => ({\n    }),\n    precomputeEffects: (/* x, request */) => {\n      //  let r = request.lightConeConditionals\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction RiverFlowsInSpring(s) {\n  let sValuesSpd = [0.08, 0.09, 0.10, 0.11, 0.12]\n  let sValuesDmg = [0.12, 0.15, 0.18, 0.21, 0.24]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='spdDmgBuff' text='Spd / dmg buff active' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      spdDmgBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.SPD_P] += (r.spdDmgBuff) ? sValuesSpd[s] : 0\n      x.ELEMENTAL_DMG += (r.spdDmgBuff) ? sValuesDmg[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction WeAreWildfire(s) {\n  const sValues = [0.08, 0.10, 0.12, 0.14, 0.16]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='initialDmgReductionBuff' text='Initial dmg reduction buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      initialDmgReductionBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.DMG_RED_MULTI += (r.initialDmgReductionBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction Fermata(s) {\n  const sValues = [0.16, 0.20, 0.24, 0.28, 0.32];\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='enemyShockWindShear' text='Enemy shocked / wind sheared' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      enemyShockWindShear: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.ELEMENTAL_DMG += (r.enemyShockWindShear) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction QuidProQuo(/* s */) {\n  // const sValues = [0, 0, 0, 0, 0]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n      </Flex>\n    ),\n    defaults: () => ({\n    }),\n    precomputeEffects: (/* x, request */) => {\n      //  let r = request.lightConeConditionals\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction GeniusesRepose(s) {\n  const sValues = [0.24, 0.30, 0.36, 0.42, 0.48]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='defeatedEnemyCdBuff' text='Defeated enemy cd buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      defeatedEnemyCdBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.CD] += (r.defeatedEnemyCdBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction UnderTheBlueSky(s) {\n  const sValues = [0.12, 0.15, 0.18, 0.21, 0.24]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='defeatedEnemyCrBuff' text='Defeated enemy cr buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      defeatedEnemyCrBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.CR] += (r.defeatedEnemyCrBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction DanceDanceDance(/* s */) {\n  // const sValues = [0, 0, 0, 0, 0]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n      </Flex>\n    ),\n    defaults: () => ({\n    }),\n    precomputeEffects: (/* x, request */) => {\n      //  let r = request.lightConeConditionals\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction SubscribeForMore(s) {\n  const sValues = [0.24, 0.30, 0.36, 0.42, 0.48]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='maxEnergyDmgBoost' text='Max energy dmg boost' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      maxEnergyDmgBoost: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.BASIC_BOOST += sValues[s]\n      x.SKILL_BOOST += sValues[s]\n      x.BASIC_BOOST += (r.maxEnergyDmgBoost) ? sValues[s] : 0\n      x.SKILL_BOOST += (r.maxEnergyDmgBoost) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction TrendOfTheUniversalMarket(/* s */) {\n  // const sValues = [0, 0, 0, 0, 0]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n      </Flex>\n    ),\n    defaults: () => ({\n    }),\n    precomputeEffects: (/* x, request */) => {\n      //  let r = request.lightConeConditionals\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction ResolutionShinesAsPearlsOfSweat(s) {\n  const sValues = [0.12, 0.13, 0.14, 0.15, 0.16]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='targetEnsnared' text='Target ensnared' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      targetEnsnared: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.DEF_SHRED += (r.targetEnsnared) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction PerfectTiming(s) {\n  const sValues = [0.33, 0.36, 0.39, 0.42, 0.45]\n  let sMaxValues = [0.15, 0.18, 0.21, 0.24, 0.27]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='resToHealingBoost' text='Res to healing boost' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      resToHealingBoost: true,\n    }),\n    precomputeEffects: (/* x, request */) => {\n      //  let r = request.lightConeConditionals\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (c, request) => {\n      let r = request.lightConeConditionals\n      let x = c.x\n\n      let boost = Math.min(sMaxValues[s], sValues[s] * x[Stats.RES])\n      x[Stats.OHB] += (r.resToHealingBoost) ? boost : 0\n    }\n  }\n}\n\nfunction MakeTheWorldClamor(s) {\n  const sValues = [0.32, 0.40, 0.48, 0.56, 0.64]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='ultDmgBuff' text='Ult dmg buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      ultDmgBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.ULT_BOOST += (r.ultDmgBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction ASecretVow(s) {\n  const sValues = [0.20, 0.25, 0.30, 0.35, 0.40]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='enemyHpHigherDmgBoost' text='Enemy HP % higher dmg boost' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      enemyHpHigherDmgBoost: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.ELEMENTAL_DMG += sValues[s]\n      x.ELEMENTAL_DMG += (r.enemyHpHigherDmgBoost) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction PlanetaryRendezvous(s) {\n  const sValues = [0.12, 0.15, 0.18, 0.21, 0.24]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='alliesSameElement' text='Allies same element dmg boost' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      alliesSameElement: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.ELEMENTAL_DMG += (r.alliesSameElement) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction Swordplay(s) {\n  const sValues = [0.08, 0.10, 0.12, 0.14, 0.16]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSlider name='sameTargetHitStacks' text='Same target hit stacks' min={0} max={5} lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      sameTargetHitStacks: 5,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.ELEMENTAL_DMG += (r.sameTargetHitStacks) * sValues[s]\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction LandausChoice(s) {\n  const sValues = [0.16, 0.18, 0.20, 0.22, 0.24]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n      </Flex>\n    ),\n    defaults: () => ({\n    }),\n    precomputeEffects: (x, /* request */) => {\n      // let r = request.lightConeConditionals\n\n      x.DMG_RED_MULTI += sValues[s]\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction EyesOfThePrey(s) {\n  const sValues = [0.24, 0.30, 0.36, 0.42, 0.48]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n      </Flex>\n    ),\n    defaults: () => ({\n    }),\n    precomputeEffects: (x, /* request */) => {\n      // let r = request.lightConeConditionals\n\n      x.DOT_BOOST += sValues[s]\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction SharedFeeling(s) {\n  const sValues = [0.10, 0.125, 0.15, 0.175, 0.20]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n      </Flex>\n    ),\n    defaults: () => ({\n    }),\n    precomputeEffects: (x, /* request */) => {\n      // let r = request.lightConeConditionals\n\n      x[Stats.OHB] += sValues[s]\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction TheBirthOfTheSelf(s) {\n  const sValues = [0.24, 0.30, 0.36, 0.42, 0.48]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='enemyHp50FuaBuff' text='Enemy HP < 50% fua buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      enemyHp50FuaBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.xxxxxxxxxxxxxxxxxxxxx] += (r.name) ? sValues[s] : 0\n      x.FUA_BOOST += sValues[s]\n      x.FUA_BOOST += (r.enemyHp50FuaBuff && request.enemyHpPercent < 0.50) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction TheMolesWelcomeYou(s) {\n  const sValues = [0.12, 0.15, 0.18, 0.21, 0.24]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSlider name='atkBuffStacks' text='Atk buff stacks' min={0} max={3} lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      atkBuffStacks: 3,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.ATK_P] += (r.atkBuffStacks) * sValues[s]\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction MemoriesOfThePast() {\n  // const sValues = [0, 0, 0, 0, 0]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n      </Flex>\n    ),\n    defaults: () => ({\n    }),\n    precomputeEffects: (/* x, request */) => {\n      //  let r = request.lightConeConditionals\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction OnlySilenceRemains(s) {\n  let sValues = [0.12, 0.15, 0.18, 0.21, 0.24]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='enemies2CrBuff' text='<= 2 enemies cr buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      enemies2CrBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.CR] += (r.enemies2CrBuff && request.enemyCount <= 2) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction DayOneOfMyNewLife(s) {\n  const sValues = [0.16, 0.18, 0.20, 0.22, 0.24]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='dmgResBuff' text='Dmg RES buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      dmgResBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.DMG_RED_MULTI += (r.dmgResBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction GoodNightAndSleepWell(s) {\n  const sValues = [0.12, 0.15, 0.18, 0.21, 0.24]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSlider name='debuffStacksDmgIncrease' text='Debuff stacks dmg increase' min={0} max={3} lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      debuffStacksDmgIncrease: 3,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.ELEMENTAL_DMG += r.debuffStacksDmgIncrease * sValues[s]\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction PostOpConversation(s) {\n  const sValues = [0.12, 0.15, 0.18, 0.21, 0.24]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='postUltHealingBoost' text='Post ult healing boost' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      postUltHealingBoost: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.OHB] += (r.postUltHealingBoost) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction Sagacity(s) {\n  const sValues = [0.24, 0.30, 0.36, 0.42, 0.48]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='postUltAtkBuff' text='Post ult atk buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      postUltAtkBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.ATK_P] += (r.postUltAtkBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction Mediation(s) {\n  const sValues = [12, 14, 16, 18, 20]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='initialSpdBuff' text='Initial spd buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      initialSpdBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.SPD] += (r.initialSpdBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction HiddenShadow(s) {\n  const sValues = [0.60, 0.75, 0.90, 1.05, 1.20]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='basicAtkBuff' text='Basic atk buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      basicAtkBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.BASIC_BOOST += (r.basicAtkBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction Pioneering() {\n  // const sValues = [0, 0, 0, 0, 0]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n      </Flex>\n    ),\n    defaults: () => ({\n    }),\n    precomputeEffects: (/* x, request */) => {\n      //  let r = request.lightConeConditionals\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction MutualDemise(s) {\n  const sValues = [0.12, 0.15, 0.18, 0.21, 0.24]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='selfHp80CrBuff' text='Self HP <80% cr buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      selfHp80CrBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.CR] += (r.selfHp80CrBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction Multiplication() {\n  // const sValues = [0, 0, 0, 0, 0]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n      </Flex>\n    ),\n    defaults: () => ({\n    }),\n    precomputeEffects: (/* x, request */) => {\n      //  let r = request.lightConeConditionals\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction Adversarial(s) {\n  const sValues = [0.10, 0.12, 0.14, 0.16, 0.18]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='defeatedEnemySpdBuff' text='Defeated enemy spd buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      defeatedEnemySpdBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.SPD_P] += (r.defeatedEnemySpdBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction Passkey() {\n  // const sValues = [0, 0, 0, 0, 0]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n      </Flex>\n    ),\n    defaults: () => ({\n    }),\n    precomputeEffects: (/* x, request */) => {\n      //  let r = request.lightConeConditionals\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction MeshingCogs() {\n  // const sValues = [0, 0, 0, 0, 0]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n      </Flex>\n    ),\n    defaults: () => ({\n    }),\n    precomputeEffects: (/* x, request */) => {\n      //  let r = request.lightConeConditionals\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction Loop(s) {\n  const sValues = [0.24, 0.30, 0.36, 0.42, 0.48]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='enemySlowedDmgBuff' text='Enemy slowed dmg buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      enemySlowedDmgBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.ELEMENTAL_DMG += (r.enemySlowedDmgBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction Defense() {\n  // const sValues = [0, 0, 0, 0, 0]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n      </Flex>\n    ),\n    defaults: () => ({\n    }),\n    precomputeEffects: (/* x, request */) => {\n      // let r = request.lightConeConditionals\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction ShatteredHome(s) {\n  const sValues = [0.20, 0.25, 0.30, 0.35, 0.40]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='enemyHp50Buff' text='Enemy HP >50% dmg buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      enemyHp50Buff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.ELEMENTAL_DMG += (r.enemyHp50Buff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction FineFruit() {\n  // const sValues = [0, 0, 0, 0, 0]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n      </Flex>\n    ),\n    defaults: () => ({\n      name: true,\n    }),\n    precomputeEffects: (x, request) => { console.warn('not implemented', x, request) },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction DartingArrow(s) {\n  const sValues = [0.24, 0.30, 0.36, 0.42, 0.48]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='defeatedEnemyAtkBuff' text='Atk buff on kill' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      defeatedEnemyAtkBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.ATK_P] += (r.defeatedEnemyAtkBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction DataBank(s) {\n  const sValues = [0.28, 0.35, 0.42, 0.49, 0.56]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='ultDmgBuff' text='Ult dmg buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      ultDmgBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.ULT_BOOST += (r.ultDmgBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction Chorus(s) {\n  const sValues = [0.08, 0.09, 0.10, 0.11, 0.12]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='inBattleAtkBuff' text='In battle atk buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      inBattleAtkBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.ATK_P] += (r.inBattleAtkBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction Void(s) {\n  const sValues = [0.20, 0.25, 0, 30, 0.35, 0.40]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='initialEhrBuff' text='Initial EHR buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      initialEhrBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.EHR] += (r.initialEhrBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\n\nfunction Amber(s) {\n  const sValues = [0.16, 0.20, 0.24, 0.28, 0.32]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='hp50DefBuff' text='HP <50% def buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      hp50DefBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.DEF_P] += (r.hp50DefBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction CollapsingSky(s) {\n  const sValues = [0.20, 0.25, 0.30, 0.35, 0.40]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='basicSkillDmgBuff' text='Basic/Skill dmg buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      basicSkillDmgBuff: true\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x.BASIC_BOOST += (r.basicSkillDmgBuff) ? sValues[s] : 0\n      x.SKILL_BOOST += (r.basicSkillDmgBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction Cornucopia(s) {\n  const sValues = [0.12, 0.15, 0.18, 0.21, 0.24]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='healingBuff' text='Healing buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      healingBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.OHB] += (r.healingBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction Arrows(s) {\n  const sValues = [0.12, 0.15, 0.18, 0.21, 0.24]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='critBuff' text='Initial crit buff' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      critBuff: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.CR] += (r.critBuff) ? sValues[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction ReforgedRemembrance(s) {\n  let sValuesAtk = [0.05, 0.06, 0.07, 0.08, 0.09]\n  let sValuesDotPen = [0.072, 0.079, 0.086, 0.093, 0.10]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSlider name='prophetStacks' text='Prophet stacks' min={0} max={4} lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      prophetStacks: 4,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.ATK_P] += r.prophetStacks * sValuesAtk[s]\n      x.DOT_DEF_PEN += r.prophetStacks * sValuesDotPen[s]\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\nfunction EarthlyEscapade(s) {\n  const sValuesCr = [0.10, 0.11, 0.12, 0.13, 0.14]\n  const sValuesCd = [0.28, 0.35, 0.42, 0.49, 0.56]\n\n  return {\n    display: () => (\n      <Flex vertical gap={defaultGap} >\n        <FormSwitch name='maskActive' text='Mask active' lc />\n      </Flex>\n    ),\n    defaults: () => ({\n      maskActive: true,\n    }),\n    precomputeEffects: (x, request) => {\n      let r = request.lightConeConditionals\n\n      x[Stats.CR] += (r.maskActive) ? sValuesCr[s] : 0\n      x[Stats.CD] += (r.maskActive) ? sValuesCd[s] : 0\n    },\n    calculatePassives: (/*c, request */) => { },\n    calculateBaseMultis: (/* c, request */) => { }\n  }\n}\n\n\n\n\n\n\nexport const LightConeConditionals = {\n  get: (request) => {\n    let lcFn = lightConeOptionMapping[request.lightCone];\n    \n    if (!lcFn) {\n      return {\n        display: () => (\n          <Flex vertical gap={5}>\n            <HeaderText>Light cone passives</HeaderText>\n          </Flex>\n        ),\n        defaults: () => ({})\n      }\n    }\n    return lcFn(request.lightConeSuperimposition - 1)\n  },\n  getDisplayLightConePassives: (id, superimposition) => {\n    if (!id || !lightConeOptionMapping[id]) {\n      return (\n        <Flex vertical gap={5}>\n          <Flex justify='space-between' align='center'>\n            <HeaderText>Light cone passives</HeaderText>\n            <TooltipImage type={Hint.lightConePassives()} lc />\n          </Flex>\n          <Typography.Text italic>Select a Light cone to view passives</Typography.Text>\n        </Flex>\n      )\n    }\n\n    let lcFn = lightConeOptionMapping[id];\n    let display = lcFn(superimposition - 1).display();\n\n    return (\n      <Flex vertical gap={5}>\n        <Flex justify='space-between' align='center'>\n          <HeaderText>Light cone passives</HeaderText>\n          <TooltipImage type={Hint.lightConePassives()} lc />\n        </Flex>\n        {display}\n      </Flex>\n    )\n  },\n}","import { Constants } from '../constants.ts'\nimport { BufferPacker } from '../bufferPacker.js'\nimport { CharacterConditionals } from \"../characterConditionals.js\";\nimport { LightConeConditionals } from \"../lightConeConditionals\";\n\nfunction sumRelicStats(headRelics, handsRelics, bodyRelics, feetRelics, planarSphereRelics, linkRopeRelics, h, g, b, f, p, l, statValues) {\n  let summedStats = {}\n  for (let stat of statValues) {\n    summedStats[stat] =\n      headRelics[h].augmentedStats[stat] +\n      handsRelics[g].augmentedStats[stat] +\n      bodyRelics[b].augmentedStats[stat] +\n      feetRelics[f].augmentedStats[stat] +\n      planarSphereRelics[p].augmentedStats[stat] +\n      linkRopeRelics[l].augmentedStats[stat]\n  }\n  summedStats.WEIGHT =\n    headRelics[h].weightScore +\n    handsRelics[g].weightScore +\n    bodyRelics[b].weightScore +\n    feetRelics[f].weightScore +\n    planarSphereRelics[p].weightScore +\n    linkRopeRelics[l].weightScore\n\n  return summedStats\n}\n\nfunction calculateFlatStat(stat, statP, baseValue, lc, trace, relicSum, setEffects) {\n  return (baseValue) * (1 + setEffects + relicSum[statP] + trace[statP] + lc[statP]) + relicSum[stat] + trace[stat]\n}\n\nfunction calculateBaseStat(stat, base, lc) {\n  return base[stat] + lc[stat]\n}\n\nfunction calculatePercentStat(stat, base, lc, trace, relicSum, setEffects) {\n  return base[stat] + lc[stat] + relicSum[stat] + trace[stat] + setEffects\n}\n\nself.onmessage = function (e) {\n  // console.log(\"Message received from main script\", e.data);\n  // console.log(\"Request received from main script\", JSON.stringify(e.data.request.characterConditionals, null, 4));\n\n  let data = e.data;\n  let relics = data.relics;\n  let character = data.character;\n  let Stats = Constants.Stats;\n  let statValues = Object.values(Stats)\n  let arr = new Float64Array(data.buffer)\n\n  let headRelics = relics.Head;\n  let handsRelics = relics.Hands;\n  let bodyRelics = relics.Body;\n  let feetRelics = relics.Feet;\n  let planarSphereRelics = relics.PlanarSphere;\n  let linkRopeRelics = relics.LinkRope;\n\n  let relicSetCount = Object.values(Constants.SetsRelics).length\n  let ornamentSetCount = Object.values(Constants.SetsOrnaments).length\n\n  let topRow = data.topRow\n\n  let lSize = topRow ? 1 : relics.LinkRope.length\n  let pSize = topRow ? 1 : relics.PlanarSphere.length\n  let fSize = topRow ? 1 : relics.Feet.length\n  let bSize = topRow ? 1 : relics.Body.length\n  let gSize = topRow ? 1 : relics.Hands.length\n  let hSize = topRow ? 1 : relics.Head.length\n\n  let relicSetSolutions = data.relicSetSolutions\n  let ornamentSetSolutions = data.ornamentSetSolutions\n\n  let relicSetToIndex = data.relicSetToIndex\n  let ornamentSetToIndex = data.ornamentSetToIndex\n\n  let elementalMultipliers = data.elementalMultipliers\n\n  let trace = character.traces\n  let lc = character.lightCone\n  let base = character.base\n\n  let request = data.request\n  let setConditionals = request.setConditionals\n\n  let characterConditionals = CharacterConditionals.get(request)\n  let lightConeConditionals = LightConeConditionals.get(request)\n\n  let enabledHunterOfGlacialForest = setConditionals[Constants.Sets.HunterOfGlacialForest][1] == true ? 1 : 0\n  let enabledFiresmithOfLavaForging = setConditionals[Constants.Sets.FiresmithOfLavaForging][1] == true ? 1 : 0\n  let enabledGeniusOfBrilliantStars = setConditionals[Constants.Sets.GeniusOfBrilliantStars][1] == true ? 1 : 0\n  let enabledBandOfSizzlingThunder = setConditionals[Constants.Sets.BandOfSizzlingThunder][1] == true ? 1 : 0\n  let enabledMessengerTraversingHackerspace = setConditionals[Constants.Sets.MessengerTraversingHackerspace][1] == true ? 1 : 0\n  let enabledCelestialDifferentiator = setConditionals[Constants.Sets.CelestialDifferentiator][1] == true ? 1 : 0\n\n  let valueChampionOfStreetwiseBoxing = setConditionals[Constants.Sets.ChampionOfStreetwiseBoxing][1]\n  let valueWastelanderOfBanditryDesert = setConditionals[Constants.Sets.WastelanderOfBanditryDesert][1]\n  let valueLongevousDisciple = setConditionals[Constants.Sets.LongevousDisciple][1]\n  let valueTheAshblazingGrandDuke = setConditionals[Constants.Sets.TheAshblazingGrandDuke][1]\n  let valuePrisonerInDeepConfinement = setConditionals[Constants.Sets.PrisonerInDeepConfinement][1]\n\n  let brokenMultiplier = request.enemyWeaknessBroken ? 1 : 0.9\n  let resistance = request.enemyElementalWeak ? 0 : request.enemyResistance\n\n  let precomputedX = characterConditionals.precomputeEffects(request)\n  lightConeConditionals.precomputeEffects(precomputedX, request)\n\n  let combatDisplay = request.statDisplay == 'combat'\n  let baseDisplay = !combatDisplay\n\n  for (let col = 0; col < data.WIDTH; col++) {\n    let index = data.skip + col\n\n    if (index >= data.permutations) {\n      continue;\n    }\n\n    let l = (index % lSize);\n    let p = (((index - l) / lSize) % pSize);\n    let f = (((index - p * lSize - l) / (lSize * pSize)) % fSize);\n    let b = (((index - f * pSize * lSize - p * lSize - l) / (lSize * pSize * fSize)) % bSize);\n    let g = (((index - b * fSize * pSize * lSize - f * pSize * lSize - p * lSize - l) / (lSize * pSize * fSize * bSize)) % gSize);\n    let h = (((index - g * bSize * fSize * pSize * lSize - b * fSize * pSize * lSize - f * pSize * lSize - p * lSize - l) / (lSize * pSize * fSize * bSize * gSize)) % hSize);\n\n    let setH = relicSetToIndex[relics.Head[h].set]\n    let setG = relicSetToIndex[relics.Hands[g].set]\n    let setB = relicSetToIndex[relics.Body[b].set]\n    let setF = relicSetToIndex[relics.Feet[f].set]\n\n    let setP = ornamentSetToIndex[relics.PlanarSphere[p].set]\n    let setL = ornamentSetToIndex[relics.LinkRope[l].set]\n\n    let relicSetIndex = setH + setB * relicSetCount + setG * relicSetCount * relicSetCount + setF * relicSetCount * relicSetCount * relicSetCount\n    let ornamentSetIndex = setP + setL * ornamentSetCount;\n\n    // Exit early if sets dont match unless its a topRow search\n    if (relicSetSolutions[relicSetIndex] != 1 || ornamentSetSolutions[ornamentSetIndex] != 1) {\n      if (!topRow) {\n        continue\n      }\n    }\n\n    let c = sumRelicStats(headRelics, handsRelics, bodyRelics, feetRelics, planarSphereRelics, linkRopeRelics, h, g, b, f, p, l, statValues)\n\n    c.relicSetIndex = relicSetIndex\n    c.ornamentSetIndex = ornamentSetIndex\n\n    c.sets = {}\n    let sets = c.sets\n    sets.PasserbyOfWanderingCloud = (1 >> (setH ^ 0)) + (1 >> (setG ^ 0)) + (1 >> (setB ^ 0)) + (1 >> (setF ^ 0)) // * 4p -\n    sets.MusketeerOfWildWheat = (1 >> (setH ^ 1)) + (1 >> (setG ^ 1)) + (1 >> (setB ^ 1)) + (1 >> (setF ^ 1)) // * 4p SPD 6% + basic 10%\n    sets.KnightOfPurityPalace = (1 >> (setH ^ 2)) + (1 >> (setG ^ 2)) + (1 >> (setB ^ 2)) + (1 >> (setF ^ 2)) // * 4p SHIELD\n    sets.HunterOfGlacialForest = (1 >> (setH ^ 3)) + (1 >> (setG ^ 3)) + (1 >> (setB ^ 3)) + (1 >> (setF ^ 3)) // * 4p (25% CD)\n    sets.ChampionOfStreetwiseBoxing = (1 >> (setH ^ 4)) + (1 >> (setG ^ 4)) + (1 >> (setB ^ 4)) + (1 >> (setF ^ 4)) // * 4p (5x5% ATK)\n    sets.GuardOfWutheringSnow = (1 >> (setH ^ 5)) + (1 >> (setG ^ 5)) + (1 >> (setB ^ 5)) + (1 >> (setF ^ 5)) // * 4p -\n    sets.FiresmithOfLavaForging = (1 >> (setH ^ 6)) + (1 >> (setG ^ 6)) + (1 >> (setB ^ 6)) + (1 >> (setF ^ 6)) // * 4p 12% skill + (12% Fire)\n    sets.GeniusOfBrilliantStars = (1 >> (setH ^ 7)) + (1 >> (setG ^ 7)) + (1 >> (setB ^ 7)) + (1 >> (setF ^ 7)) //   4p done\n    sets.BandOfSizzlingThunder = (1 >> (setH ^ 8)) + (1 >> (setG ^ 8)) + (1 >> (setB ^ 8)) + (1 >> (setF ^ 8)) //   4p (20% ATK)\n    sets.EagleOfTwilightLine = (1 >> (setH ^ 9)) + (1 >> (setG ^ 9)) + (1 >> (setB ^ 9)) + (1 >> (setF ^ 9)) //   4p -\n    sets.ThiefOfShootingMeteor = (1 >> (setH ^ 10)) + (1 >> (setG ^ 10)) + (1 >> (setB ^ 10)) + (1 >> (setF ^ 10)) //  4p 16% BE\n    sets.WastelanderOfBanditryDesert = (1 >> (setH ^ 11)) + (1 >> (setG ^ 11)) + (1 >> (setB ^ 11)) + (1 >> (setF ^ 11)) //  4p (10% CD) + (20% CR)\n    sets.LongevousDisciple = (1 >> (setH ^ 12)) + (1 >> (setG ^ 12)) + (1 >> (setB ^ 12)) + (1 >> (setF ^ 12)) //  4p (2x8% CR)\n    sets.MessengerTraversingHackerspace = (1 >> (setH ^ 13)) + (1 >> (setG ^ 13)) + (1 >> (setB ^ 13)) + (1 >> (setF ^ 13)) //  4p (12% SPD)\n    sets.TheAshblazingGrandDuke = (1 >> (setH ^ 14)) + (1 >> (setG ^ 14)) + (1 >> (setB ^ 14)) + (1 >> (setF ^ 14)) //  4p (8*6% ATK)\n    sets.PrisonerInDeepConfinement = (1 >> (setH ^ 15)) + (1 >> (setG ^ 15)) + (1 >> (setB ^ 15)) + (1 >> (setF ^ 15)) //  4p done\n\n    sets.SpaceSealingStation = (1 >> (setP ^ 0)) + (1 >> (setL ^ 0)) // (12% ATK)\n    sets.FleetOfTheAgeless = (1 >> (setP ^ 1)) + (1 >> (setL ^ 1)) // (8% ATK)\n    sets.PanCosmicCommercialEnterprise = (1 >> (setP ^ 2)) + (1 >> (setL ^ 2)) // (25% ATK)\n    sets.BelobogOfTheArchitects = (1 >> (setP ^ 3)) + (1 >> (setL ^ 3)) // (15% DEF)\n    sets.CelestialDifferentiator = (1 >> (setP ^ 4)) + (1 >> (setL ^ 4)) // (60% CR)\n    sets.InertSalsotto = (1 >> (setP ^ 5)) + (1 >> (setL ^ 5)) // (15% ULT/FUA)\n    sets.TaliaKingdomOfBanditry = (1 >> (setP ^ 6)) + (1 >> (setL ^ 6)) // (20% BE)\n    sets.SprightlyVonwacq = (1 >> (setP ^ 7)) + (1 >> (setL ^ 7)) // -\n    sets.RutilantArena = (1 >> (setP ^ 8)) + (1 >> (setL ^ 8)) // (20% BASIC/SKILL)\n    sets.BrokenKeel = (1 >> (setP ^ 9)) + (1 >> (setL ^ 9)) // (10% CD)\n    sets.FirmamentFrontlineGlamoth = (1 >> (setP ^ 10)) + (1 >> (setL ^ 10)) // (12%/18% DMG)\n    sets.PenaconyLandOfTheDreams = (1 >> (setP ^ 11)) + (1 >> (setL ^ 11)) // -\n\n    // ************************************************************\n    // Old elemental dmg logic\n    // ************************************************************\n\n    c.ELEMENTAL_DMG = 0\n    if (elementalMultipliers[0]) c.ELEMENTAL_DMG = calculatePercentStat(Stats.Physical_DMG, base, lc, trace, c, 0.10 * p2(sets.ChampionOfStreetwiseBoxing))\n    if (elementalMultipliers[1]) c.ELEMENTAL_DMG = calculatePercentStat(Stats.Fire_DMG, base, lc, trace, c, 0.10 * p2(sets.FiresmithOfLavaForging) + 0.10 * enabledFiresmithOfLavaForging * p4(sets.FiresmithOfLavaForging))\n    if (elementalMultipliers[2]) c.ELEMENTAL_DMG = calculatePercentStat(Stats.Ice_DMG, base, lc, trace, c, 0.10 * p2(sets.HunterOfGlacialForest))\n    if (elementalMultipliers[3]) c.ELEMENTAL_DMG = calculatePercentStat(Stats.Lightning_DMG, base, lc, trace, c, 0.10 * p2(sets.BandOfSizzlingThunder))\n    if (elementalMultipliers[4]) c.ELEMENTAL_DMG = calculatePercentStat(Stats.Wind_DMG, base, lc, trace, c, 0.10 * p2(sets.EagleOfTwilightLine))\n    if (elementalMultipliers[5]) c.ELEMENTAL_DMG = calculatePercentStat(Stats.Quantum_DMG, base, lc, trace, c, 0.10 * p2(sets.GeniusOfBrilliantStars))\n    if (elementalMultipliers[6]) c.ELEMENTAL_DMG = calculatePercentStat(Stats.Imaginary_DMG, base, lc, trace, c, 0.10 * p2(sets.WastelanderOfBanditryDesert))\n\n    let crSum = c[Stats.CR]\n    let cdSum = c[Stats.CD]\n\n    // ************************************************************\n    // Calculate base stats\n    // ************************************************************\n\n    let baseHp = calculateBaseStat(Stats.HP, base, lc)\n    let baseAtk = calculateBaseStat(Stats.ATK, base, lc)\n    let baseDef = calculateBaseStat(Stats.DEF, base, lc)\n    let baseSpd = calculateBaseStat(Stats.SPD, base, lc)\n    c.baseAtk = baseAtk\n\n    // ************************************************************\n    // Calculate display stats with unconditional sets\n    // ************************************************************\n\n    c[Stats.HP] = calculateFlatStat(Stats.HP, Stats.HP_P, baseHp, lc, trace, c,\n      0.12 * p2(sets.FleetOfTheAgeless) +\n      0.12 * p2(sets.LongevousDisciple))\n\n    c[Stats.ATK] = calculateFlatStat(Stats.ATK, Stats.ATK_P, baseAtk, lc, trace, c,\n      0.12 * p2(sets.SpaceSealingStation) +\n      0.12 * p2(sets.FirmamentFrontlineGlamoth) +\n      0.12 * p2(sets.MusketeerOfWildWheat) +\n      0.12 * p2(sets.PrisonerInDeepConfinement))\n\n    c[Stats.DEF] = calculateFlatStat(Stats.DEF, Stats.DEF_P, baseDef, lc, trace, c,\n      0.15 * p2(sets.BelobogOfTheArchitects) +\n      0.15 * p2(sets.KnightOfPurityPalace))\n\n    c[Stats.SPD] = calculateFlatStat(Stats.SPD, Stats.SPD_P, baseSpd, lc, trace, c,\n      0.06 * p2(sets.MessengerTraversingHackerspace) +\n      0.06 * p4(sets.MusketeerOfWildWheat))\n\n    c[Stats.CR] = calculatePercentStat(Stats.CR, base, lc, trace, c,\n      0.08 * p2(sets.InertSalsotto) +\n      0.08 * p2(sets.RutilantArena))\n\n    c[Stats.CD] = calculatePercentStat(Stats.CD, base, lc, trace, c,\n      0.16 * p2(sets.CelestialDifferentiator))\n\n    c[Stats.EHR] = calculatePercentStat(Stats.EHR, base, lc, trace, c,\n      0.10 * p2(sets.PanCosmicCommercialEnterprise))\n\n    c[Stats.RES] = calculatePercentStat(Stats.RES, base, lc, trace, c,\n      0.10 * p2(sets.BrokenKeel))\n\n    c[Stats.BE] = calculatePercentStat(Stats.BE, base, lc, trace, c,\n      0.16 * p2(sets.TaliaKingdomOfBanditry) +\n      0.16 * p2(sets.ThiefOfShootingMeteor) +\n      0.16 * p4(sets.ThiefOfShootingMeteor))\n\n    c[Stats.ERR] = calculatePercentStat(Stats.ERR, base, lc, trace, c,\n      0.05 * p2(sets.SprightlyVonwacq) +\n      0.05 * p2(sets.PenaconyLandOfTheDreams))\n\n    c[Stats.OHB] = calculatePercentStat(Stats.OHB, base, lc, trace, c,\n      0.10 * p2(sets.PasserbyOfWanderingCloud))\n\n    // Exit early on base display filters failing unless its a topRow search\n    if (baseDisplay && !topRow) {\n      const pass =\n        c[Stats.HP] >= request.minHp && c[Stats.HP] <= request.maxHp &&\n        c[Stats.ATK] >= request.minAtk && c[Stats.ATK] <= request.maxAtk &&\n        c[Stats.DEF] >= request.minDef && c[Stats.DEF] <= request.maxDef &&\n        c[Stats.SPD] >= request.minSpd && c[Stats.SPD] <= request.maxSpd &&\n        c[Stats.CR] >= request.minCr && c[Stats.CR] <= request.maxCr &&\n        c[Stats.CD] >= request.minCd && c[Stats.CD] <= request.maxCd &&\n        c[Stats.EHR] >= request.minEhr && c[Stats.EHR] <= request.maxEhr &&\n        c[Stats.RES] >= request.minRes && c[Stats.RES] <= request.maxRes &&\n        c[Stats.BE] >= request.minBe && c[Stats.BE] <= request.maxBe &&\n        c.WEIGHT >= request.minWeight && c.WEIGHT <= request.maxWeight\n      if (!pass) {\n        continue\n      }\n    }\n\n    c.id = index\n\n    // ************************************************************\n    // Set up combat stats storage x\n    // ************************************************************\n\n    let x = Object.assign({}, precomputedX)\n    c.x = x\n\n    x[Stats.ATK] += c[Stats.ATK]\n    x[Stats.DEF] += c[Stats.DEF]\n    x[Stats.HP] += c[Stats.HP]\n    x[Stats.SPD] += c[Stats.SPD]\n    x[Stats.CD] += c[Stats.CD]\n    x[Stats.CR] += c[Stats.CR]\n    x[Stats.EHR] += c[Stats.EHR]\n    x[Stats.RES] += c[Stats.RES]\n    x[Stats.BE] += c[Stats.BE]\n    x[Stats.ERR] += c[Stats.ERR]\n    x[Stats.OHB] += c[Stats.OHB]\n    x.ELEMENTAL_DMG += c.ELEMENTAL_DMG\n\n    x[Stats.ATK] += request.buffAtk\n    x[Stats.ATK] += request.buffAtkP * baseAtk\n    x[Stats.CD] += request.buffCd\n    x[Stats.CR] += request.buffCr\n    x[Stats.SPD] += request.buffSpdP * baseSpd + request.buffSpd\n    x[Stats.BE] += request.buffBe\n    x.ELEMENTAL_DMG += request.buffDmgBoost\n\n    // ************************************************************\n    // Calculate passive effects & buffs. x stores the internally calculated character stats\n    // ************************************************************\n\n    // No longer needed\n    // characterConditionals.calculatePassives(c, request)\n    // lightConeConditionals.calculatePassives(c, request)\n\n    // ************************************************************\n    // Calculate conditional set effects\n    // ************************************************************\n\n    x[Stats.SPD_P] +=\n      0.12 * enabledMessengerTraversingHackerspace * p4(sets.MessengerTraversingHackerspace)\n    x[Stats.SPD] += x[Stats.SPD_P] * baseSpd\n\n    x[Stats.ATK_P] +=\n      0.05 * valueChampionOfStreetwiseBoxing * p4(sets.ChampionOfStreetwiseBoxing) +\n      0.20 * enabledBandOfSizzlingThunder * p4(sets.BandOfSizzlingThunder) +\n      0.06 * valueTheAshblazingGrandDuke * p4(sets.TheAshblazingGrandDuke) +\n      0.12 * (x[Stats.SPD] >= 120 ? 1 : 0) * p2(sets.SpaceSealingStation) +\n      0.08 * (x[Stats.SPD] >= 120 ? 1 : 0) * p2(sets.FleetOfTheAgeless) +\n      Math.min(0.25, 0.25 * c[Stats.EHR]) * p2(sets.PanCosmicCommercialEnterprise)\n    x[Stats.ATK] += x[Stats.ATK_P] * baseAtk\n\n    x[Stats.DEF_P] +=\n      0.15 * (c[Stats.EHR] >= 0.50 ? 1 : 0) * p2(sets.BelobogOfTheArchitects)\n    x[Stats.DEF] += x[Stats.DEF_P] * baseDef\n\n    x[Stats.HP] += x[Stats.HP_P] * baseHp\n\n    x[Stats.CR] +=\n      0.10 * (valueWastelanderOfBanditryDesert > 0 ? 1 : 0) * p4(sets.WastelanderOfBanditryDesert) +\n      0.08 * valueLongevousDisciple * p4(sets.LongevousDisciple) +\n      0.60 * enabledCelestialDifferentiator * (c[Stats.CD] >= 1.20 ? 1 : 0) * p2(sets.CelestialDifferentiator)\n\n    x[Stats.CD] +=\n      0.25 * enabledHunterOfGlacialForest * p4(sets.HunterOfGlacialForest) +\n      0.10 * (valueWastelanderOfBanditryDesert == 2 ? 1 : 0) * p4(sets.WastelanderOfBanditryDesert) +\n      0.10 * (c[Stats.RES] >= 0.30 ? 1 : 0) * p2(sets.BrokenKeel)\n\n    x[Stats.BE] +=\n      0.20 * (c[Stats.SPD] >= 145 ? 1 : 0) * p2(sets.TaliaKingdomOfBanditry)\n\n    x.BASIC_BOOST +=\n      0.10 * p4(sets.MusketeerOfWildWheat) +\n      0.20 * (x[Stats.CR] >= 0.70 ? 1 : 0) * p2(sets.RutilantArena)\n\n    x.SKILL_BOOST +=\n      0.12 * p4(sets.FiresmithOfLavaForging) +\n      0.20 * (x[Stats.CR] >= 0.70 ? 1 : 0) * p2(sets.RutilantArena)\n\n    x.ULT_BOOST +=\n      0.15 * (x[Stats.CR] >= 0.50 ? 1 : 0) * p2(c.sets.InertSalsotto)\n\n    x.FUA_BOOST +=\n      0.15 * (x[Stats.CR] >= 0.50 ? 1 : 0) * p2(c.sets.InertSalsotto)\n\n    x.FUA_BOOST +=\n      0.20 * p2(c.sets.TheAshblazingGrandDuke)\n\n    x.DEF_SHRED += p4(c.sets.GeniusOfBrilliantStars) ? (enabledGeniusOfBrilliantStars ? 0.20 : 0.10) : 0\n\n    x.DEF_SHRED += 0.06 * valuePrisonerInDeepConfinement * p4(c.sets.PrisonerInDeepConfinement)\n\n    x.ELEMENTAL_DMG +=\n      0.12 * (x[Stats.SPD] >= 135 ? 1 : 0) * p2(sets.FirmamentFrontlineGlamoth) +\n      0.06 * (x[Stats.SPD] >= 160 ? 1 : 0) * p2(sets.FirmamentFrontlineGlamoth)\n\n    // ************************************************************\n    // Calculate skill base damage\n    // ************************************************************\n\n    characterConditionals.calculateBaseMultis(c, request)\n    lightConeConditionals.calculateBaseMultis(c, request)\n\n    // ************************************************************\n    // Calculate overall multipliers\n    // ************************************************************\n\n    let cLevel = request.characterLevel\n    let eLevel = request.enemyLevel\n    let defReduction = x.DEF_SHRED + request.buffDefShred\n    let defIgnore = 0\n\n    let dmgBoostMultiplier = 1 + x.ALL_DMG_MULTI + x.ELEMENTAL_DMG\n    let dmgReductionMultiplier = 1\n\n    let ehp = x[Stats.HP] / (1 - x[Stats.DEF] / (x[Stats.DEF] + 200 + 10 * request.enemyLevel))\n    ehp *= 1 / ((1 - 0.08 * p2(sets.GuardOfWutheringSnow)) * x.DMG_RED_MULTI)\n    c.EHP = ehp\n    let cv = 100 * (crSum * 2 + cdSum)\n    c.CV = cv\n\n    let universalMulti = dmgReductionMultiplier * brokenMultiplier\n\n    x.BASIC_DMG *= universalMulti * (dmgBoostMultiplier + x.BASIC_BOOST) * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.BASIC_DEF_PEN) * (Math.min(1, x[Stats.CR] + x.BASIC_CR_BOOST) * (1 + x[Stats.CD] + x.BASIC_CD_BOOST) + (1 - Math.min(1, x[Stats.CR] + x.BASIC_CR_BOOST))) * (1 + x.DMG_TAKEN_MULTI + x.BASIC_VULNERABILITY) * (1 - (resistance - x.RES_PEN - request.buffResPen - x.BASIC_RES_PEN))\n    x.SKILL_DMG *= universalMulti * (dmgBoostMultiplier + x.SKILL_BOOST) * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.SKILL_DEF_PEN) * (Math.min(1, x[Stats.CR] + x.SKILL_CR_BOOST) * (1 + x[Stats.CD] + x.SKILL_CD_BOOST) + (1 - Math.min(1, x[Stats.CR] + x.SKILL_CR_BOOST))) * (1 + x.DMG_TAKEN_MULTI + x.SKILL_VULNERABILITY) * (1 - (resistance - x.RES_PEN - request.buffResPen - x.SKILL_RES_PEN))\n    x.ULT_DMG *= universalMulti * (dmgBoostMultiplier + x.ULT_BOOST) * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.ULT_DEF_PEN) * (Math.min(1, x[Stats.CR] + x.ULT_CR_BOOST) * (1 + x[Stats.CD] + x.ULT_CD_BOOST) + (1 - Math.min(1, x[Stats.CR] + x.ULT_CR_BOOST))) * (1 + x.DMG_TAKEN_MULTI + x.ULT_VULNERABILITY) * (1 - (resistance - x.RES_PEN - request.buffResPen - x.ULT_RES_PEN))\n    x.FUA_DMG *= universalMulti * (dmgBoostMultiplier + x.FUA_BOOST) * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.FUA_DEF_PEN) * (Math.min(1, x[Stats.CR] + x.FUA_CR_BOOST) * (1 + x[Stats.CD] + x.FUA_CD_BOOST) + (1 - Math.min(1, x[Stats.CR] + x.FUA_CR_BOOST))) * (1 + x.DMG_TAKEN_MULTI + x.FUA_VULNERABILITY) * (1 - (resistance - x.RES_PEN - request.buffResPen - x.FUA_RES_PEN))\n    x.DOT_DMG *= universalMulti * (dmgBoostMultiplier + x.DOT_BOOST) * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.DOT_DEF_PEN) * (1 + x.DMG_TAKEN_MULTI + x.DOT_VULNERABILITY) * (1 - (resistance - x.RES_PEN - request.buffResPen - x.DOT_RES_PEN))\n\n    // ************************************************************\n    // Filter results\n    // ************************************************************\n\n    // Since we exited early on the c comparisons, we only need to check against x stats here. Ignore if top row search\n    if (combatDisplay && !topRow) {\n      const pass =\n        x[Stats.HP] >= request.minHp && x[Stats.HP] <= request.maxHp &&\n        x[Stats.ATK] >= request.minAtk && x[Stats.ATK] <= request.maxAtk &&\n        x[Stats.DEF] >= request.minDef && x[Stats.DEF] <= request.maxDef &&\n        x[Stats.SPD] >= request.minSpd && x[Stats.SPD] <= request.maxSpd &&\n        x[Stats.CR] >= request.minCr && x[Stats.CR] <= request.maxCr &&\n        x[Stats.CD] >= request.minCd && x[Stats.CD] <= request.maxCd &&\n        x[Stats.EHR] >= request.minEhr && x[Stats.EHR] <= request.maxEhr &&\n        x[Stats.RES] >= request.minRes && x[Stats.RES] <= request.maxRes &&\n        x[Stats.BE] >= request.minBe && x[Stats.BE] <= request.maxBe\n      if (!pass) {\n        continue\n      }\n    }\n\n    let result = (\n      cv >= request.minCv && cv <= request.maxCv &&\n      ehp >= request.minEhp && ehp <= request.maxEhp &&\n      x.BASIC_DMG >= request.minBasic && x.BASIC_DMG <= request.maxBasic &&\n      x.SKILL_DMG >= request.minSkill && x.SKILL_DMG <= request.maxSkill &&\n      x.ULT_DMG >= request.minUlt && x.ULT_DMG <= request.maxUlt &&\n      x.FUA_DMG >= request.minFua && x.FUA_DMG <= request.maxFua &&\n      x.DOT_DMG >= request.minDot && x.DOT_DMG <= request.maxDot\n    )\n\n    // ************************************************************\n    // Pack the passing results into the ArrayBuffer to return\n    // ************************************************************\n\n    if (topRow || result) {\n      BufferPacker.packCharacter(arr, col, c);\n    }\n  }\n\n  self.postMessage({\n    rows: [],\n    buffer: data.buffer\n  }, [data.buffer]);\n}\n\nfunction calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, additionalPen) {\n  return (cLevel + 20) / ((eLevel + 20) * Math.max(0, 1 - defReduction - defIgnore - additionalPen) + cLevel + 20)\n}\n\nfunction p4(set) {\n  return set >> 2\n}\n\nfunction p2(set) {\n  return Math.min(1, set >> 1)\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = () => {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [843], () => (__webpack_require__(3679)))\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"17bf738c\" + \".chunk.js\";\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/dreary-quibbles/\";","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t679: 1\n};\n\n// importScripts chunk loading\nvar installChunk = (data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunkhsr_optimizer\"] = self[\"webpackChunkhsr_optimizer\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","__webpack_require__.nc = undefined;","var next = __webpack_require__.x;\n__webpack_require__.x = () => {\n\treturn __webpack_require__.e(843).then(next);\n};","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["Stats","ATK_P","ATK","BE","CD","CR","DEF_P","DEF","EHR","ERR","Fire_DMG","HP_P","HP","Ice_DMG","Imaginary_DMG","Lightning_DMG","OHB","Physical_DMG","Quantum_DMG","RES","SPD_P","SPD","Wind_DMG","StatsToIndex","i","Object","values","map","x","SetsRelics","SetsOrnaments","Sets","SetsRelicsNames","SetsOrnamentsNames","OrnamentSetToIndex","length","RelicSetToIndex","Constants","BufferPacker","levelStats","push","value","label","concat","extractCharacter","arr","offset","id","ED","CV","WEIGHT","EHP","BASIC","SKILL","ULT","FUA","DOT","xHP","xATK","xDEF","xSPD","xCR","xCD","xEHR","xRES","xBE","xERR","xOHB","xELEMENTAL_DMG","relicSetIndex","ornamentSetIndex","extractArrayToResults","results","packCharacter","character","ELEMENTAL_DMG","BASIC_DMG","SKILL_DMG","ULT_DMG","FUA_DMG","DOT_DMG","cleanFloatBuffer","buffer","Float64Array","fill","createFloatBuffer","Text","Typography","HeaderText","styled","_templateObject","_taggedTemplateLiteral","ASHBLAZING_ATK_STACK","baseComputedStatsObject","DEF_SHRED","DMG_TAKEN_MULTI","ALL_DMG_MULTI","RES_PEN","DMG_RED_MULTI","BASIC_CR_BOOST","SKILL_CR_BOOST","ULT_CR_BOOST","FUA_CR_BOOST","BASIC_CD_BOOST","SKILL_CD_BOOST","ULT_CD_BOOST","FUA_CD_BOOST","BASIC_SCALING","SKILL_SCALING","ULT_SCALING","FUA_SCALING","DOT_SCALING","BASIC_BOOST","SKILL_BOOST","ULT_BOOST","FUA_BOOST","DOT_BOOST","BASIC_VULNERABILITY","SKILL_VULNERABILITY","ULT_VULNERABILITY","FUA_VULNERABILITY","DOT_VULNERABILITY","BASIC_DEF_PEN","SKILL_DEF_PEN","ULT_DEF_PEN","FUA_DEF_PEN","DOT_DEF_PEN","BASIC_RES_PEN","SKILL_RES_PEN","ULT_RES_PEN","FUA_RES_PEN","DOT_RES_PEN","precisionRound","number","precision","arguments","undefined","factor","Math","pow","round","calculateAshblazingSet","c","request","hitMulti","enabled","p4","sets","TheAshblazingGrandDuke","ashblazingAtk","setConditionals","baseAtk","ashblazingMulti","set","skill","eidolon","value1","value2","talent","ultRev","basicRev","ult","basic","skillRev","talentRev","text","color","ret","num","isNum","split","forEach","item","_jsx","test","style","children","_Fragment","_ref","content","passive","Item","formItem","_createElement","name","title","ColorizeNumbers","key","Flex","vertical","gap","WithPopover","WrappedComponent","Wrapped","props","open","setOpen","React","_jsxs","width","display","Popover","trigger","placement","onOpenChange","newOpen","cursor","displayName","conditionalType","lc","FormSwitch","justify","align","Form","valuePropName","Switch","checkedChildren","CheckOutlined","unCheckedChildren","CloseOutlined","disabled","defaultChecked","marginRight","FormSwitchWithPopover","propTypes","FormSlider","inputValue","setInputValue","useState","onChange","newValue","multiplier","percent","step","symbol","marginBottom","minWidth","InputNumber","min","max","controls","size","parser","parseFloat","formatter","addonAfter","height","Slider","marginTop","marginLeft","tooltip","textAlign","FormSliderWithPopover","e","summationStacksMax","basicScaling","skillScaling","ultScaling","fuaScaling","e2FuaRatio","procs","fuaMultiByDebuffs","join","replace","DisplayFormControl","defaults","enemyDebuffStacks","summationStacks","precomputeEffects","r","characterConditionals","assign","calculateBaseMultis","skillDamageReductionValue","basicAtkScaling","basicDefScaling","basicEnhancedAtkScaling","basicEnhancedDefScaling","ultAtkScaling","ultDefScaling","enhancedBasic","skillActive","shieldActive","e6DefStacks","Jingliu","talentCrBuff","talentHpDrainAtkBuffMax","skillEnhancedScaling","talentEnhancedState","talentHpDrainAtkBuff","e1CdBuff","e2SkillDmgBuff","enemyCount","talentAtkScalingValue","ultEnhancedScaling","ultEnhancedScaling2","enhancedUlt","talentStacks","enemyWeaknessBroken","characterOptionMapping","extraPenValue","ultExtraScaling","talentPenBuff","enemySlowed","enemyHpPercent","hitMultiByTargets","targetBurned","selfCurrentHp80Percent","e1TalentSpdBuff","e6UltExtraHits","skillExtraHitsMax","skillScalingChance","talentScaling","enemyDmgTakenDebuff","skillExtraHits","e1EnhancedState","dotScaling","e1DotDmgReceivedDebuff","skillResShredValue","skillDefShredBufValue","ultDefShredValue","skillResShredDebuff","skillDefShredDebuff","ultDefShredDebuff","targetDebuffs","talentMissingHpDmgBoostMax","selfCurrentHpPercent","ultSpdBuffValue","talentStacksAtkBuff","skillExtraDmgHitsMax","talentBuffStacks","skillExtraDmgHits","ultSpdBuff","techniqueBuff","targetFrozen","e2TalentCritStacks","e6UltAtkBuff","skillDmgBoostValue","ultAtkBoostValue","ultCdBoostValue","ultCdBoostBaseValue","battleStartDefBuff","skillBuff","ultBuff","e2SkillSpdBuff","buffedStateDmgBuff","speedBoostStacksMax","buffedState","speedBoostStacks","e6UltTargetDebuff","talentExtraDmgScaling","targetShocked","enemyDefeatedBuff","ultDefPenValue","enemyDebuffed","skillRemovedBuff","ultDefPenDebuff","e4SkillResShred","ultDmgReductionValue","ultFuaExtraScaling","hitMultiByTargetsBlast","talentEnemyMarked","e2UltAtkBuff","e4DmgReductionBuff","dotVulnerabilityValue","maxExtraHits","targetDotTakenDebuff","targetWindShear","targetBurnedExtraScaling","enhancedSkill","skillHpPercentBuff","skillHpFlatBuff","e4TalentAtkBuff","basicEnhancedHitValue","targetUltDebuffDmgTakenValue","basicEnhancedScaling","FormItem","basicEnhanced","targetUltDebuffed","e1TargetBleeding","basicEnhancedExtraHits","e4TalentStacks","proofOfDebtFuaVulnerability","enhancedStateFuaScalingBoost","enhancedStateFuaCdBoost","fuaEnhancedHitCount","enemyProofOfDebtDebuff","numbyEnhancedState","e1DebtorStacks","enemyElementalWeak","ashblazingFuaData","ashblazingBasicData","skillStackDmg","talentAtkBuff","basicEnhancedSpdBuff","skillDmgIncreaseStacks","skillAtkBoostMax","ultDmgBoost","skillAtkBoostScaling","benedictionBuff","skillSpdBuff","ultDmgBuff","fieldActive","e6ResReduction","skillCritBuff","talentHitsPerAction","talentAttacks","e2DmgBuff","e6FuaVulnerabilityStacks","stacks","hits","stacksPerMiss","stacksPerHit","ashblazingStacks","atkBoostSum","enhancedStateDmgBoost","basicEnhancedHpScaling","ultHpScaling","ultLostHpScaling","fuaAtkScaling","fuaHpScaling","hpPercentLostTotalMax","enhancedStateActive","hpPercentLostTotal","e4MaxHpIncreaseStacks","talentSpdBuffValue","ultBuffedAtk","talentSpdBuffStacksMax","skillExtraHitScaling","ultBuffedState","e2DmgReductionBuff","skillTriggerStacks","talentSpdBuffStacks","originalSkillScaling","stanceSkillScaling","stanceScalingProportion","skillAtkBuffValue","ultCdBuffValue","ultCrBuffValue","talentAtkScaling","roaringBowstringsActive","initialSpeedBuff","roaringBowstrings","skillCrBuffValue","skillHpBuffValue","talentDmgReductionValue","e6TeamHpLostPercent","talentCdBuffValue","talentCrBuffValue","ultBuffActive","soulsteelBuffActive","critSpdBuff","e1TargetFrozen","e4CurrentHp80","talentDebuffDmgIncreaseValue","talentDebuffMax","talentDebuffStacks","enemyBurned","e2BurnMultiBoost","healingMaxHpBuff","talentDmgReductionBuff","e2UltHealingBuff","e4SkillHealingDmgBuffStacks","righteousHeartStackMax","outroarStackCdValue","righteousHeartDmgValue","basicEnhanced1Scaling","basicEnhanced2Scaling","basicEnhanced3Scaling","basicEnhancements","skillOutroarStacks","talentRighteousHeartStacks","e6ResPenStacks","ultBoostMax","hitMultiByFuaHits","enemyToughness50","toughnessReductionDmgBoost","fuaHits","e4BeBuff","ultAtkBuffValue","talentDmgBoostValue","targetBurdenActive","burdenAtkBuff","ultBuffValue","e6DmgBuff","talentMaxStacks","ultEnhancedExtraHitScaling","talentCrStackValue","ultEnhanced","ultEnhancedExtraHits","fieldResPenValue","ultFieldActive","beOver","floor","drratio","skillCdBuffScaling","skillCdBuffBase","cipherTalentStackBoost","talentBaseStackBoost","atkBoostByQuantumAllies","skillCdBuff","cipherBuff","quantumAllies","arcanaStackMultiplier","stack3ArcanaBlastDmg","epiphanyDmgTakenBoost","defShredValue","epiphanyDebuff","defDecreaseDebuff","arcanaStacks","e1ResReduction","ultStackScaling","ultHitsOnTarget","enemyFrozen","e2DefReduction","e6UltDmgBoost","physicaltrailblazer","firetrailblazer","CharacterConditionals","characterFn","characterId","characterEidolon","inputWidth","numberWidth","sliderWidth","getContentFromLCRanks","s","lcRank","params","desc","match","token","tokenPieces","parseInt","toString","IShallBeMyOwnSword","sValuesStackDmg","sValuesDefPen","eclipseStacks","maxStackDefPen","lightConeConditionals","calculatePassives","lightConeOptionMapping","sValues","critBuff","healingBuff","basicSkillDmgBuff","hp50DefBuff","initialEhrBuff","inBattleAtkBuff","defeatedEnemyAtkBuff","console","warn","enemyHp50Buff","enemySlowedDmgBuff","defeatedEnemySpdBuff","selfHp80CrBuff","basicAtkBuff","initialSpdBuff","postUltAtkBuff","postUltHealingBoost","debuffStacksDmgIncrease","dmgResBuff","enemies2CrBuff","atkBuffStacks","enemyHp50FuaBuff","xxxxxxxxxxxxxxxxxxxxx","sameTargetHitStacks","alliesSameElement","enemyHpHigherDmgBoost","sMaxValues","resToHealingBoost","boost","targetEnsnared","maxEnergyDmgBoost","defeatedEnemyCrBuff","defeatedEnemyCdBuff","enemyShockWindShear","initialDmgReductionBuff","sValuesSpd","sValuesDmg","spdDmgBuff","enemyBurnedBleeding","sValuesDmgBoost","sValuesStacks","dmgBoost","defeatedEnemyAtkStacks","extraDmgProc","defScalingUltDmg","sValuesAtk","sValuesCd","atkBuffActive","cdBuffActive","maxEnergyStacks","postSkillHealBuff","enemyCountAtkBuff","enemyWeaknessBreakDmgBuff","spdScalingBuffs","dmgBuff","sValuesErr","postSkillDmgBuff","enemyDebuffedDmgBoost","skillAtkBoost","selfAttackedDefBuff","spdStacks","dotEffect","sValuesCr","enemy3DebuffsCrBoost","targetCodeDebuff","postUltSpdBuff","sValuesSkillUltDmg","sValuesFuaDmg","skillUltDmgBoost","fuaDmgBoost","hpLostDmgBuff","missedCritCrBuff","healingBasedDmgProc","dragonsCallStacks","targetTameStacks","maxEnergyUltDmgStacks","postUltDmgBuff","sValuesFuaPen","debuffCdStacks","postUltBuff","sValuesAtkStacks","sValuesDmgBuff","atkBoostStacks","weaknessBreakDmgBuff","enemyHp50CrBoost","enemyDefeatedAtkBuff","activeShieldDmgDecrease","postUltDotDmgBuff","maskActive","sValuesDotPen","prophetStacks","LightConeConditionals","lcFn","lightCone","lightConeSuperimposition","sumRelicStats","headRelics","handsRelics","bodyRelics","feetRelics","planarSphereRelics","linkRopeRelics","h","g","b","f","p","l","statValues","summedStats","stat","augmentedStats","weightScore","calculateFlatStat","statP","baseValue","trace","relicSum","setEffects","calculateBaseStat","base","calculatePercentStat","calculateDefMultiplier","cLevel","eLevel","defReduction","defIgnore","additionalPen","p2","self","onmessage","data","relics","Head","Hands","Body","Feet","PlanarSphere","LinkRope","relicSetCount","ornamentSetCount","topRow","lSize","pSize","fSize","bSize","gSize","hSize","relicSetSolutions","ornamentSetSolutions","relicSetToIndex","ornamentSetToIndex","elementalMultipliers","traces","enabledHunterOfGlacialForest","HunterOfGlacialForest","enabledFiresmithOfLavaForging","FiresmithOfLavaForging","enabledGeniusOfBrilliantStars","GeniusOfBrilliantStars","enabledBandOfSizzlingThunder","BandOfSizzlingThunder","enabledMessengerTraversingHackerspace","MessengerTraversingHackerspace","enabledCelestialDifferentiator","CelestialDifferentiator","valueChampionOfStreetwiseBoxing","ChampionOfStreetwiseBoxing","valueWastelanderOfBanditryDesert","WastelanderOfBanditryDesert","valueLongevousDisciple","LongevousDisciple","valueTheAshblazingGrandDuke","valuePrisonerInDeepConfinement","PrisonerInDeepConfinement","brokenMultiplier","resistance","enemyResistance","precomputedX","combatDisplay","statDisplay","baseDisplay","col","WIDTH","index","skip","permutations","setH","setG","setB","setF","setP","setL","PasserbyOfWanderingCloud","MusketeerOfWildWheat","KnightOfPurityPalace","GuardOfWutheringSnow","EagleOfTwilightLine","ThiefOfShootingMeteor","SpaceSealingStation","FleetOfTheAgeless","PanCosmicCommercialEnterprise","BelobogOfTheArchitects","InertSalsotto","TaliaKingdomOfBanditry","SprightlyVonwacq","RutilantArena","BrokenKeel","FirmamentFrontlineGlamoth","PenaconyLandOfTheDreams","crSum","cdSum","baseHp","baseDef","baseSpd","minHp","maxHp","minAtk","maxAtk","minDef","maxDef","minSpd","maxSpd","minCr","maxCr","minCd","maxCd","minEhr","maxEhr","minRes","maxRes","minBe","maxBe","minWeight","maxWeight","buffAtk","buffAtkP","buffCd","buffCr","buffSpdP","buffSpd","buffBe","buffDmgBoost","characterLevel","enemyLevel","buffDefShred","dmgBoostMultiplier","dmgReductionMultiplier","ehp","cv","universalMulti","buffResPen","result","minCv","maxCv","minEhp","maxEhp","minBasic","maxBasic","minSkill","maxSkill","minUlt","maxUlt","minFua","maxFua","minDot","maxDot","postMessage","rows","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","__webpack_exports__","O","deferred","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","splice","n","getter","__esModule","d","a","leafPrototypes","getProto","getPrototypeOf","obj","t","mode","this","then","ns","create","def","current","indexOf","getOwnPropertyNames","definition","o","defineProperty","enumerable","get","chunkId","Promise","all","reduce","promises","u","miniCssF","globalThis","Function","window","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","installedChunks","importScripts","chunkLoadingGlobal","parentChunkLoadingFunction","bind","moreModules","runtime","pop","nc","next"],"sourceRoot":""}